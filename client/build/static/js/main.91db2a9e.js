/*! For license information please see main.91db2a9e.js.LICENSE.txt */
(()=>{var e={301:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>l});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class l{constructor(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},564:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5043),i=(n(1428),n(9786)),o=n(574),s=n(9002),a=(n(2886),n(9017),n(579));const c=function(){const[e,t]=(0,r.useState)(""),[n,c]=(0,r.useState)(""),[l,u]=(0,r.useState)("");let h=(0,s.Zp)();return(0,a.jsx)("div",{className:"page",id:"signin-page",children:(0,a.jsxs)("div",{className:"signin-container",children:[(0,a.jsxs)("div",{className:"form-heading",children:[(0,a.jsx)("h1",{className:"form-title",children:"Create an account"}),(0,a.jsxs)("p",{className:"form-description",children:["Just some basic stuff, ",(0,a.jsx)("br",{})," make sure not to share this information with anyone!"]})]}),(0,a.jsxs)("form",{id:"signin-form",onSubmit:async t=>{t.preventDefault();try{await(0,i.eJ)(o.j,e,n);u("Account Created Successfully"),console.log(l),h("/moreinfo")}catch(r){console.log(r)}},children:[(0,a.jsx)("input",{name:"email",type:"email",value:e,className:"email",placeholder:"Your Email",onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)("input",{name:"password",type:"password",value:n,className:"password",placeholder:"Password",onChange:e=>c(e.target.value)}),(0,a.jsx)("button",{type:"submit",className:"form-submit",children:"Submit"})]}),(0,a.jsxs)("p",{className:"form-description",children:["If you already have an account ",(0,a.jsx)("a",{href:"/signin",children:"Sign In"})]}),(0,a.jsx)("section",{})]})})}},574:(e,t,n)=>{"use strict";n.d(t,{j:()=>a,db:()=>c});var r=n(7150);(0,r.KO)("firebase","10.14.1","app");var i=n(9786),o=n(5472);const s=(0,r.Wp)({apiKey:"AIzaSyBK2Sg8j4EvdRsazXLJtuWD_z1aI5nQGog",authDomain:"expenser-2335.firebaseapp.com",projectId:"expenser-2335",storageBucket:"expenser-2335.firebasestorage.app",messagingSenderId:"829602228195",appId:"1:829602228195:web:851194b850a6be96ee62d6"}),a=(0,i.xI)(s),c=(0,o.aU)(s)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},703:()=>{},898:(e,t,n)=>{"use strict";var r=n(5960),i=n(5886),o=n(7813),s=n(4266),a=n(8135),c=n(301),l=n(4251),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(a[n])}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,c,l,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"===typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(d.output,d.next_out),l=d.next_out-c,h=o.buf2string(d.output,c),d.next_out=l,d.avail_out=f-l,l&&i.arraySet(d.output,d.output,c,l,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},1054:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(5043);const r=n.p+"static/media/dots.ed31cd660b03a6fc32058ba28a12afbb.svg"},1103:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/pdf.worker.9820fd186c48225225b3.mjs"},1105:(e,t,n)=>{"use strict";n.d(t,{PDFDocument:()=>ua});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(256),h=0;h<64;h++)u[l.charCodeAt(h)]=h;var d,f=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new Uint8Array(s);for(t=0;t<a;t+=4)n=u[e.charCodeAt(t)],r=u[e.charCodeAt(t+1)],i=u[e.charCodeAt(t+2)],o=u[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return l},p=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,g=function(e){return e.charCodeAt(0)},m=function(e,t){return b(e.toString(16),t,"0").toUpperCase()},v=function(e){return m(e,2)},y=function(e){return String.fromCharCode(e)},b=function(e,t,n){for(var r="",i=0,o=t-e.length;i<o;i++)r+=n;return r+e},w=function(e,t,n){for(var r=e.length,i=0;i<r;i++)t[n++]=e.charCodeAt(i);return r},A=function(e){return e.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},C=["\\n","\\f","\\r","\\u000B"],k=function(e){return/^[\n\f\r\u000B]$/.test(e)},S=function(e){return e.split(/[\n\f\r\u000B]/)},x=function(e){return e.replace(/[\n\f\r\u000B]/g," ")},T=function(e,t){var n,r=e.charCodeAt(t),i=t+1,o=1;return r>=55296&&r<=56319&&e.length>i&&(n=e.charCodeAt(i))>=56320&&n<=57343&&(o=2),[e.slice(t,t+o),o]},E=function(e,t,n,r){for(var i=function(e){for(var t=C.join("|"),n=["$"],r=0,i=e.length;r<i;r++){var o=e[r];if(k(o))throw new TypeError("`wordBreak` must not include "+t);n.push(""===o?".":o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}var s=n.join("|");return new RegExp("("+t+")|((.*?)("+s+"))","gm")}(t),o=A(e).match(i),s="",a=0,c=[],l=function(){""!==s&&c.push(s),s="",a=0},u=0,h=o.length;u<h;u++){var d=o[u];if(k(d))l();else{var f=r(d);a+f>n&&l(),s+=d,a+=f}}return l(),c},I=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,_=function(e){var t=e.match(I);if(t){var n=t[1],r=t[2],i=void 0===r?"01":r,o=t[3],s=void 0===o?"01":o,a=t[4],c=void 0===a?"00":a,l=t[5],u=void 0===l?"00":l,h=t[6],d=void 0===h?"00":h,f=t[7],p=void 0===f?"Z":f,g=t[8],m=void 0===g?"00":g,v=t[9];return new Date(n+"-"+i+"-"+s+"T"+c+":"+u+":"+d+("Z"===p?"Z":""+p+m+":"+(void 0===v?"00":v)))}},R=function(e,t){for(var n,r,i=0;i<e.length;){var o=e.substring(i).match(t);if(!o)return{match:r,pos:i};r=o,i+=(null!==(n=o.index)&&void 0!==n?n:0)+o[0].length}return{match:r,pos:i}},P=function(e){return e[e.length-1]},N=function(e){if(e instanceof Uint8Array)return e;for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},M=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,r=[],i=0;i<n;i++){var o=e[i];r[i]=o instanceof Uint8Array?o:N(o)}var s=0;for(i=0;i<n;i++)s+=e[i].length;for(var a=new Uint8Array(s),c=0,l=0;l<n;l++)for(var u=r[l],h=0,d=u.length;h<d;h++)a[c++]=u[h];return a},F=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=y(e[n]);return t},O=function(e,t){return e.id-t.id},D=function(e){for(var t=e.length,n=0,r=Math.floor(t/2);n<r;n++){var i=n,o=t-n-1,s=e[n];e[i]=e[o],e[o]=s}return e},L=function(e){if("string"===typeof e)return function(e){var t=e.trim(),n=t.substring(0,100).match(p);if(!n)return f(t);var r=n[0],i=t.substring(r.length);return f(i)}(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},j=function(){return new Promise((function(e){setTimeout((function(){return e()}),0)}))},U=function(e){return Math.floor((e-65536)/1024)+55296},B=function(e){return(e-65536)%1024+56320};!function(e){e.BigEndian="BigEndian",e.LittleEndian="LittleEndian"}(d||(d={}));for(var q="\ufffd".codePointAt(0),z=function(e,t){if(void 0===t&&(t=!0),e.length<=1)return String.fromCodePoint(q);for(var n=t?K(e):d.BigEndian,r=t?2:0,i=[];e.length-r>=2;){var o=W(e[r++],e[r++],n);if(V(o))if(e.length-r<2)i.push(q);else{var s=W(e[r++],e[r++],n);H(s)?i.push(o,s):i.push(q)}else H(o)?(r+=2,i.push(q)):i.push(o)}return r<e.length&&i.push(q),String.fromCodePoint.apply(String,i)},V=function(e){return e>=55296&&e<=56319},H=function(e){return e>=56320&&e<=57343},W=function(e,t,n){if(n===d.LittleEndian)return t<<8|e;if(n===d.BigEndian)return e<<8|t;throw new Error("Invalid byteOrder: "+n)},K=function(e){return G(e)?d.BigEndian:X(e)?d.LittleEndian:d.BigEndian},G=function(e){return 254===e[0]&&255===e[1]},X=function(e){return 255===e[0]&&254===e[1]},Y=function(e){return G(e)||X(e)},Q=function(e){return Math.ceil(e.toString(2).length/8)},J=function(e){for(var t=new Uint8Array(Q(e)),n=1;n<=t.length;n++)t[n-1]=e>>8*(t.length-n);return t},Z=function(e){throw new Error(e)},$=n(7717),ee=n.n($),te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne=new Uint8Array(256),re=0;re<64;re++)ne[te.charCodeAt(re)]=re;var ie=function(e){return function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(ee().inflate(function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new Uint8Array(s);for(t=0;t<a;t+=4)n=ne[e.charCodeAt(t)],r=ne[e.charCodeAt(t+1)],i=ne[e.charCodeAt(t+2)],o=ne[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return l}(e)))};var oe,se={Courier:"eJyFWdtSGzkQ/RXXPO1WmZSBEAJvjnESb8AmGENCKg+ypj3Wohk5ugAmlX9fzUCyW6s+ysuUfVqXvh61Zr4XI1PX1PjiuLg6C05U1Ns/Ojx42TsYHB4eFf3irWn8VNQUB4xMsIpsCwatU1DUSm8T+JpUtW7XP6NShToiEy+0ksOm0nHkIP53b9UDlefKy3Vx7G2gfjFaCyukJzundu74wVNTUnlhatE8a/XmjXkojr/s7O33d/YOBv3D3YP+68HB136xiEOtVg2dG6e8Mk1xvLM7GPxHcLlW8rYh54rjOLO4Iuu6YcVgsP9iMBjELabGK/lkymZrWxt6f8g/e7tHr4/68Xk06J673XOve+53z8PesDRL6s23zlPtepNGGrsxVngqX/R6Q617F+1qrndBjuxdRONu4ziqVE01l2vqHNgtMveiKYUtf0rjwJHYvH/26MGrvX7x6ee/l3uv+sXQydZPtjh+tXfUL07o1/+d3YPDfjH35fvrOHO3+3n1/LN19hl5q2T0x5fvxfWnOL/11zQq4jYiuuFH/38wPUgt6hT/Fkw0dKlTSRPqZevnqkllpdFa2BTfkJVtdiYCUUeRi94BGnQBY9YTlhpNKyQC04RrV3S3zCwdXIrKWFQihdfbzZoY66MpyjCWOC3cOoUfyZoUNQ0TJX/PjPRrS8zYVSxZBlV3zFinHhiQ7jjriPdpoziFpdGGWcNRrYBIt1WcbvotCCYHK0uxDhkzvwVyHVOksWd0H6bQmxQapdBJCo1T6G0KvUuh9yk0SaG/UuhDCp2m0FkKTVNolkLnKfQxhS5SaJ5Clym0SKGrFLpOoU8p9DmFblJoGU+iW/I8bSyjDNTp8zzIKVIpqawMDIuGlrRdPDiYEun4jVeG4ZwlU2MM/zIVxHABU1AMy6WQSqG/U4ihV6aEGW8xVcvQ3oZxZQox3MDQC+P7kEJ3KXSfQgyTbhnS5/MLJMKSO0y78bls9EqX8KgvzT3jZ/50bo9L3fYraQq1XR3Ls1vu7FhpYxV7HoBVZLDxGJeMA7uycarrOmHXwnuzCipKagMooBV3C/9GDFy/YqpjxSR+bORYmilFVXFH2hPOtmJPDUcbO7LE1H7shURlxYYjtdj6E2PFv+5dCpfxcF4KXPQrAEBOWquNU0yhRkv92gTUKT4d+nxqRwdwrY+QwXONS8fkK01MOYO6qoW0XA4vLXEbl8YLyddbGa9axNpv2SqU8SoWG26Gu0NTCRtqLQKzjalik8mwtBSsHVTzCTtkWh5jy1Xs8fim8BQcsDOE8xvUkeSCZncQvL/b3pKpTg32NQhnVo+lGa+yMeWZoE1wPAmknwBJE/IRJRC6z1iDUt0pLps/A82GucoQYNIiN2kLJrnu2oVqhHJLLvg6WWA3CFQMC6BdQBPGeJOTSBDc/SNrqPz5voLZClGOBHkgeL9MswpolKOAUS+zq43QaoBVxxmedMBMBwlRgd21eaSmYgQXYIt3WSNDtkhywiEKqQWKSGjrTcZzl2tjmcVmaPcL4Lc5wEug7QJtEPjM7N5tuNA1OExPNAMpOEQ4oNU6aK82mmkzAzDwEhgYWy2vhC7VirldbTE1TME+Kpcs42yaZU4dLJJAjwbRIAroFDhoAhZq37zFhoF7/ba05pYa9g5kqVIOdL3vQLAnOUYJsar5q8gY5JQFBhnkmRsw4QZ47PklF3gFNvZMhzKCpKCzvOVR6wdPRyQYovYhk5XAwY+oNNDeMxQRdPSgSDm0MzZilm1LgIUnpD0TK8+TtL83GUbEqtXMKw0FNDL5PnOMXF+CDqfj8ZjANiYyo9o8k698Rn7I5vEpCJy3oqRaWEZzyrDCBHhpghLnFGgdnbYWmjkZ2psJKHCTy6gGdE2L38QP+IeQQRXg0mjQc1S5oPJOmGdDN8trXkaW4L52GBCiEVAiQDYvleTCcAIWsllrpiA+BuAX+bTOSodgzSHkaL7nmoF1HjMVMkanPdr7NmsKaAQm2VIAKvj85cZUbbwbw70fwVwasCguhb5W5S+03EH+CIxqsktFl+MTQqEaH4f2O+TXfvGBbHMulG2/Hn/98Q/b2xEO","Courier-Bold":"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","Courier-Oblique":"eJyFWVtT2zgU/isZP+3OhE5Iy/UtDaHNFhI2IdDS4UGxFUeLbKW6AKHT/77Hhnbb1fnUFw98x9K5fzpyvmZDU1Wy9tlxdnUenChlZ3e//+awc7B32D/Kutmpqf1EVJJeGJpglbQ706VWX4JshEHrX4Wdn4SiUnr7q5jga6nKdaPvXBYqVISMvdAqH9Slpjd3dvuEuFP1KIsL5fN1duxtkN1suBZW5F7auWxWjx69rAtZzEwl6hc73741j9nx553+QXenv9frHr456h729m672YJetVrV8sI45ZWpG0W93k+Cy7XK72rpXHZMK7MraV37WtbrvX7V6/VIxcR4lT87s9naxovOH/mfnd2jw6MuPY967XO3ffbb5+v2edAZFGYpO/Ot87JynXGdG7sxVnhZvOp0Blp3Zs1urjOTTtp7QknbiN4qVF3O87VsQ9huMveiLoQtvkvpxaHYvH+J6d4+Be/j9//e9Pe72cDlTZxsdrzfP+pmJ/LH/zu7ewfdbO6L99e0crf98+rlzybY59JblVM8Pn/Nrj/S+iZeEzLEbQSF4Vv3f7B8zLWoYvxLMOToUseSOlTLJs5lHcsKo7WwMb6RNm/qNRKIikSOogMsaBPG7CesrLVcIRFYJlyzo7tjVungYjSnNhMxvN5u1pLxnlxRhvHEaeHWMfwkrYlRUzNZ8g/Mm35tJfPuipqWQdU9865Tjwwo7znvJB/TWnEG50YbZg8nKwVEuuniWOmXIJgaLK2kPmTcJBJzLVPEuWdsH8TQ2xgaxtBJDI1i6DSG3sXQ+xgax9BfMfQhhs5i6DyGJjE0jaGLGPo7hmYxNI+hyxhaxNBVDF3H0McY+hRDNzG0pJPoTnqeNpYkA336sg5ySq5UrmweGBYNDWk7OjiYFmn5jTeG4Zwl02MM/zIdxHAB01AMy8WQiqF/YoihV6aFmWgxXcvQ3oYJZQwx3MDQCxP7EEP3MfQQQwyTbhnS5+sLFMKSO0zb91PV6JUu4FFfmAcmzvzp3ByXuplX4hJqpjqWZ7fc2bHSxir2PAC75MHSMZ4zAWzbxql27oRTCx/NMiiSVAZQQCNuN/6NGIR+xXTHiil8GuRYmilEWXJH2jPOjmLPA0eTO2kl0/s0C4nSig1HanQJkIwX/4V3KVwiwmkpCNGPBAC51FptnGIalTz1axPQpPh86POlTQHgRh+RB88NLi2Tr7Rk2hn0VSVyy9Xw0kpOcWG8yPl+K+iyJVn/LduFOV3GaOBmuDvUpbCh0iIwakxJQybD0rlg/ZAVX7ADZuQxtljRjMcPhWfggJ0inFdQEckFzWoQfLyb2ZLpTg30GoQzu1Nr0lWWSp5J2hjnU4LyE6BoQjqjEqTuE7agUPeKq+ZPwLJBqjMEWLRILdqCRa69dqEekaktF3yfLHAYBGqGBbAuoAUjrOSECIK7fyQdzb9/r2BUIcrJQR0IPi6TpAEa1Shg1MvkbkO0G2DVUYInHXDTQUJUQLs2T7IuGcEMqHiXdDIkmyQlHKCUWmBIDn29SUTucm0ss9kUaZ+BuM0BXgBrF0hB4Cuz/bbhQjvgMDPRFJTgAOGAVqugvdpoZswMwMFL4CCNWl4JXagVc7vaYmqYAD0qVSyjZJklTh0syoEdNaJBlNAJCNAYbNR8eaOBgfv8trTmTtbsHcjKUjkw9b4DyR6nGCVQV/NXkRGoKQscMigyN2DBDYjYy0cu8Als5JkJZQhJQSd5y6PRD56OSDBA40OiKkGAn1BrIN1TlBF09KBMOaQZOzFNjiXAwxOpPZMrz5O0fzAJRsSmVcwnDQUsMuk5c4RCX4AJp+VxKmBLhcyYNk/UK1+RH5J1fAYS560oZCUsY7lMsMIYRGmMCucMWE1BWwvNnAzNzQQ0uElVVA2mpsVv8gfiI5FDJeBScuglq1xS+SDMk6mbpi0viCW4XzsMSNEQGBEgmxcq59JwAjaySW8mID8G4LN0WSelA7DnAHI0P3NNwT5PiQ4ZodMe6b5LugIGgXGyFYAJPn25MWWT79pw30cwlwYsoq3Qr1XpCy13kD8Bp+rkVhRyfEIo1OOj0PwOedvNPkhbXwhlm1+Pb7/9C/NFF2U=","Courier-BoldOblique":"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",Helvetica:"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","Helvetica-Bold":"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","Helvetica-Oblique":"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","Helvetica-BoldOblique":"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","Times-Roman":"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","Times-Bold":"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","Times-Italic":"eJyNnV1320aWtf+KF6/mXcvpsWTJsnPnTtLdsdNx7ESGMb36gpZgmSNKcEhRCjNr/vsLgqhz9tlnFz03XsaziwDqVNWuDxSg/5l919/cdLd3s29n7/+5Wc+vukcnZ2fHZ49On5+dHs8ez/7W3979PL/phgS/LW669Tc/3s2Xi4udslkuUXnkyvxmsdyiNsCmW1x93l3nn93lYnMzkH36l7dXyyHdN0enfzkd2Ppviz+6y18WdxefZ9/erTbd49l3n+er+cVdt/q12/3+hz/uutvL7vJdfzO/ne7wr3/t/5h9+69vjp69ePzN8dHZ46MnR08eP3/+9N+PZ+dD4tVycdv90q8Xd4v+dnexJ09A+O3z4uL6tluvZ9+eDvx9t1qPyWZPnhz/5cmTJ8NFfu7vFhe77HzXf9mudjl59B8X/+/R0Yvnp493/56N/77Y/fviyfjv0/Hfs0cvL/uP3aNft+u77maI0e1Fv/rSr+Z33eVfHj16uVw+erc72/rRu27dre4Hug/mYv1o/uhuNb/sbuar60f9p0c/LW77u+2X7pt/dMOvXv790fz28j/71aPF8OP15uN6cbmYrxbd+i/D7f4wXOZycXv168XnbiyF8S5+vRt+Ml9dFnVI+N38yz+mgnl2+vTx7EM5Ojk5ejx7ub7YhXo1iM8H8fvOjscgz369u/xHM/v26fH43/fDf8+e7cvrn93danExBPRf/zNrPsy+Pd4F9ufhRtZf5kMc//fxHj99+nSPuz8ulvMb4yfHU/LfN/0QqY9LU06fTMrt5ubjrqCubrN22S+X85Xx5+UqX7rVxa6yF+Hs7PlemN8M0nqITr6z8Q7GEs/al/mqu112n2pS/Jnd3ny9O+P62pRnZ6fTr5abtVGL2cXQRuf5Ep+3Xz53tzn5kJVF7zk5LplcL+frz/lu/uxWfab9bZfh3YNIefd51Ym0n/rNStDFvUi7XvwhYHffibLtdExvF7eiWl30y/4243V3s4iSlcByZwOJdr9v5suMr1bd0JBFNn/fdOvRaoryolToud/7s6OjPXuZ0V8dPTvbo++82h4f79H3+Yc/ZPS3/MO/Z/SPHKYfvT2enOzRq3xfrz37p8/26Kfc9P6Zf/hzvok3+e5/yane5lTvchn8mu/rt3yu83yu9/num5zqQz59m9F/eVSH3mFEH4fO7Lq7C7ZhbfTjoMV2yr+LnnJS8jFfXywWF4vVxeYmh2KzM+310POIJjL6W7gZ96mMPuYqcSH8N6fqcl4/5R9eZfQ5/3CR0X/nK17nVMtc/iJawnSE7X0RrT4X2iqjdb4vEftNztB9bkIPOdUfGW3zTfzpqaxoh/rVUa08LbVyVUlPPdzJEdTGu8XyssuX3nf1l/2DiHPonb0nuBvHaV45jkr+P+0Ghuiz9put6js+LfvVQvB1VznLxWY1dOMXHsDjoxNoNuvFOHhNrb6MWnSzutosBuWmv9Mjh508nvgrcmVw8Wmh8i360WEoqIYDl/OrK9Wl7TkOxWjAsSu7btV52z899rHQ/Go1/wKmVn76cZhEdCKXHt6P8/WBCB9WKyGyAoj6c6uhy+Xiy3rhDXWYLnhW7z73mzBUTL1+qNtecKv5vfDf+cXmTo1cRiv/tOz+yBo1rIJv5hcrNdr5uOrUhS/7u/lFaHAuLYaCxACYssJm6Dc7TOmGEbcYom5ur+arzc1yvhGX6a+GUea1ON0c8+HFchNqrPGXPuY5PptqQL+6/DQM8sKo0IcnsYf10UfkL4p/vvELPD16Yhe4GVxus8QrmC/PRXd3uWvw67XovJaVkXkfuZ29F0PooW0O0+GhzotC+zGVp3fLsfp51x8rjXdLskT9dLHofGSU7sDG0JeL+8WlKKQ23pkPlkXL8NuOP/JRnviRd4/UBK2jHudd1EYgq/mUfr3QThynMPidU2Pw31RKaEM/8BlAuojPFwaDgAlInGBSRs+emTiteIhLkeX4mJDqgeUyxMVnAuoGvHnU6mh0VB/lq7P5NKp2tuiqEM7sk15DQjaBkyH60DVe/eRsusqy/7O7vRKXfxcv4TM4lUmvHAcbiRC9eXEvYiPZeCNQ1JRXn/vkyNllfvvcr0Su3tDVPQyVUvuVeLmry0rYzukCHrHYs4XFjfVmHOGsxP3GKuhRrPFoq2aCN5vl3eLLcivuizLolTwWR+n4hrHW3WK+vFx8+pTLaptt2JpgvI5X2EOV5YeD1exAr1OXLioFfVuzQa4x7ilzORr6kfoVXHobBgy4/mbTn1V/3d3iJMjMcdVdLdZx2OtNtDLw+lG0C5uJbIZWHeYiHmwaQFrDrESm56pu7bJSpf6LTPvkRRm4jqtccQ3McvnDnRihfFc1wKXyLW9uFZPpqr1jrRd8WRs+HKiVlQD/WWsatZt6UyuRWtdT89x17cr1Lv7NwWEJ21IZF3TLO7HYcxdM2gvpoT/giPUhzs1G5IT6cAuVHGd6W6DQ+yw1jnDOTtHHhwq8GiqyuLVf0wymKMtYI33VU/a/NsOIBffiebmN8kBHeWJ9PvZjZe74Y627/Im6vxKGIWif50tYeCttfDcziQ3ci+KQyd/GUZPXtK+UHw2DLAi17vkqeilmaCpVVah6EPqrHO5aBdYzHKtgg0uoxx09NS13Qn0Tm5j+5LRMsIdu80L57PeVsebq4Gj351g+fruV0e67w9VaXsustXLOl1WP1rOkN5WFwz8PjCd/qPX2dG1fHZZZsfFYGAj42Q42hXgLvrh78ErL/mpX3re9GMX3dS/dZKk05eFUlZZ8dXDO0N2Jhw5/Vqrv7cFufAh56iHc8mtt/IfN7kHkvx/PXner21/mi9Xu8fG/Zi93j6lnj795+uTfj6ejvXsEtL/PiCZPR/j33dGpHe1dJSDMGApvhqMTO8+bcguAoHIEbkUV6L79BxScJyhTyALbLw4FtG84iN6Go992OTqzI4sZoJh7E86Ho1M7z3nJPaCQe+CQe6Al94Ao96BY7oFN7Tqw0U6QvB+Ojp5YETbD4Qs7andJ/ciy5Ahv3SjsB8AAbYajY7vwppwNUAgQcLgK0BIgQBQgUCxAwCxAwKYAObkPWXsIR9t4lOOzzfGZEmF7NUSN1ji1XOfcfIsCbdgQNWTjsjUXFZq0IWrXxlXjNjG3cJOomRvXbd1kbvAmUKs3Tk2/8LcZgQkYIidwruygqOAJhsgYjCt3MDFbhEnkE8a1WZjMjmEC24YJ0TsKRgMpDFykoDa3APYT4/VGo5ylaGAvhshjjCujMTG7jUlkOca175jM5mMCO5AJ0YYKvs8RechoK1Al1MKfJptAfzJE/mSc/Mk5+1NRwJ8MkT8Zl/5UVPAnQ+RPxpU/mZj9ySTyJ+Pan0xmfzKB/Mk4+VPhbzMCfzJE/uRc+VNRwZ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxWM/lQY+FNBbW4B7E/G641G+VPRwJ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxV8nyPykNFWoEqohT9haNCkIieniiLZFYnsWUEG44qc3CuK0sJCEvCxyMnMoqgcLabIthZ18rYoaoOLadjlokpWF0XyuyC+rXBwvsjJ/khUHhiSgBFGTm4YRWWJMUX2xaiTOUZRO2RMwzYZVfbKqEbDDBq6ZhDAOgNvKy2UTTSKX2neyk5DAvDUyMlYo6jcNabIFht18tkoarONadhxo8q2G9XovUG7rwTyocK3NX6o1IQpO0FLRkqGjBLZcZDYjEEEK0ZKRoyStGFIACaMlCwYJWXAqGf7RZXMFyVtvZiCjRc1sl2UyHRBeispGC5SstsgKbOFBGC1SMloUVI2i3o2WVTJYlHSBosp2F5RY3NFLVorKGisgMFWgbayhbGlonSwaSo7BRnMFClZKUrKSFHPNooqmShK2kIxBRsoamyfqEXzBOVehuxB0q2m9XIRljnlHv3SEJmlcXJK52yTRQGPNEQGaVy6Y1HBGg2RLxpXpmhidkSTyA6Nay80mY3QBHJB42SBhb/NCMzPEDmfc2V7RQXPM0SGZ1y5nYnZ6kwinzOuTc5kdjgT2N5MiN5WMBpbYeBqBbW5BbCfGa83GuVkRQMbM0QeZlwZmInZvUwi6zKufctkNi0T2LFMiHZV8H2OyENGW4EqoRb+VO4VDcoZOZQLZFEgsEeZBCbljFzKBWlTJoNPOSOjckE5lavZqlwjr3JBm5Xr7FaukF25QH5lwlvBwLGckWWBoDzLZDAtZ+RaLijbcjX7lmtkXC5o53KdrcsV9i5XonkZR/cyCPZlrBUthA3MhQPNSlmYieBhzsjEXFAu5mq2MdfIx1zQRuY6O5krbGWuRC8zfi+C8yDYVrFa5IWhlRtDQ3NGhuYCGRoIbGgmgaE5I0NzQRqayWBozsjQXFCG5mo2NNfI0FzQhuY6G5orZGgukKGZ8FYwMDRnZGggKEMzGQzNGRmaC8rQXM2G5hoZmgva0FxnQ3OFDc2VaGjG0dAMgqEZa0ULYUNz4UCzUoZmIhiaMzI0F5ShuZoNzTUyNBe0obnOhuYKG5or0dCM34vgPAi2VawWeWFoq+n7JO5AhZCZFUxWZpiNbBLAxgohEytYWtgkgoEVQvZVsDKvomXrKgoZV8HatorKplU4WVbBZFgTfpsImFUhZFWGlVFNIthUIWRSBSuLKlo2qKKQPRWszamobE2FszEVHm1pomhKEwJLmkibajjbUcHVJqGsaJLAiAohGypYmVDRsgUVhQyoYG0/RWXzKZytp/BoPBO9T2F4SGSbiY6tsJupEaDfGCLDMU6O45wtpyjgOYbIdIxL1ykq2I4h8h3jynhMzM5jElmPce09JrP5mEDuY5zsp/C3GYEBGSIHcq4sqKjgQYbIhIwrFzIx25BJ5EPGtRGZzE5kAluRCdGLCkYzKgzcqKA2twD2I+P1RqMcqWhgSYbIk4wrUzIxu5JJZEvGtS+ZzMZkAjuTCdGaCr7PEXnIaCtQJdTZn/460Je7K/uRBdFR8RJAMaTOMZpOLZCOPEjOPD7OSmiclIbt6HyslHZUcgAo3C5wuF2g5XYBUZGDYhkBZhkBNmVkT76f4r733+8x7oCih3+f4g4cMgK0ZASQ3S4wu11g0+0CKXF39N689PvJBvyojUexF/me2v1EJ9PFyBii8BinGBlXgTIxR8skCplxjpsJHDwTYgQNUxgLf5/D0GTUCkShNS7iO77DGONbEMe3cI5v4TK+RRTxLRLHt/AU3yKk+BaB4lswx3fi73MYmoxagTi+haf4/m0K7dHRqR2aFwErIUUWDQoEdCjAZlHA3IkAuhUBLF4EqIQN2G6keeZHJSuASk4AhYwAh3wALdkAZLkAZpkANuUBSMmCo/0HLodMPTUUE3Q5U10Z+iHSmepkpuCF24BzXjuR107kdbGrYn5kFdJRHIw7xzrq1Ibgjnx47czuxFnvw7/x0LtaZ9TXuhA6W8fe2zpL3a1L0N86LJMAZFajnU1fMA0VYmWDofEoDp1GVCoEojAN2Auvpua/N4NX2PoBlSYDSMykXlHTBxrnT69CwwfmhedsajJA4iTp1dTon1p+5rFbeIWNHpDoDF5Rowcau4BXodEDI+N/BY0eSLT7V9Doj4108SiOcF9hm0eUR7ivqM0jhTYPOA58X4U2D4wGvq+mlgZH+Z77yg328gb7fCfcyEAR92hNDFAcib/CBuZoEwpnkyvUplJ7NrL2bHLt4fkYKKJebUS92oR69Xq2XwnZT33HoziLH5GYwI88zd1HGqftI5Iz9lGhyfrISvgBlfA76kIeuhjr11jREeXwv6aKjhQqOuBYKq9DRQdGsX89VfQTy0EfLfN1qujAkz++xooOSC4tvQ4VHVhcUHqNFd3RJh7lu95U7noj73qT75prNSjirjfk96+hVjvZxqN819t8d6Grw3ZBAjURUlVroSS54VACakOk6uZEibhlkUyNjFRqb1GFyk8CtUJSqUGyKtomJcnNlBPkFkspqPGSyu2YZG7SUe5rFYkbOqmq9VCSr1VVdgJSdfOiRNzSSCarIJVcI6qbqnAwMNJWKMnXAsNmQ+r/JTDJgkhmNyI5GlMUt1XhYGCyc/002y/tH/uRDfMAhZG8C7v1gv24fnfUhKM2pGzjsvOI0qLyjorl7J+mDD+1RJZLQNjE9xTfuT8mRJmsvHNPKmQX30cn1OYfcu7V++gkqTjga9iUR46Ieg17kmKVgOCQQCFiVQUqpoFwRaGpCW3tVBxAUnMYYwIVzNygZHw4sPUGNSWY7A4Da4hC6lwFs6gQxoKajNr8Qw6a8RyuIqlAFW2b88jBMZ7C8vNseoZyZkd2d47sGYqjOIFzjnlwahM4Rz5Nc+ZTSWflGYoTm7ntUWlSLwWivBinDBlXuTIxZ80kyp9xzqQJnFMTYnYNU57xYQMjynN62MBc5Vk9bGCJ8pwfNrDAeeaHDYw5z6GFv6wKnP+ochSiKmMRk4iIxAQcl6im6EQ5xSjKFKkoUrzKg9OXAlGMjFN0jKu4mJgjYhLFwjhHwQTOvwkx54Zjnt9M2d178BvMKaCSSUBxhuc8PXN+g7kC5HMzZ747wVnZmODEJmaGfrNR4BvsnBCFfsmFsUuyoyYcfQgp26D59gZHaUb7Bo12uttktMwp1tpoWcxRT0bLnOOfjZaFWBLJaIlDmaSxauKqdMJYNaImow/5h21OxcWmhq+TFF7nhgKMnEoxilSUUVTlGVPkQo06lWwUuXijymUc1VjQUaPSTh+eOBHR43I/9OEJleR9pVSaCv9QOU9bSc+1ov79hb0OL61CxUBK1QIlqhQoqSqBeq4QqFJ1QIkrA2pcFVCLFQEVqgb0MvxJihNXgfrL8DnBexn5RtIP8gytTMvFXntHfK+W1wChxA1RcRunsjauCtrEXMomUREb5/I1gQvXhFiyhqlY8R3fkxgGLtDKO76kvs/xbDL6kH/Y5lRcfPKV2L0U17iwCFmhkmSZCpRlVa6cJhcvp6BSZpkLm3Uuc9Zj0bNKNYBkqAisUH1IsqoWlOh9tcSaqvKhera2+huuOSznCmTvzEHVcUaVxgWqLi6oiuJqriKuUeVwgauFK1whXIlVwTlVgvDm7AlFhAu+9uYsy+9FdBvBPojftiIdF6p+wXSvldUdKE1DVJjGqSyNq6I0MZekSVSQxrkcTeBiNCGWomEqRFzNO4lh4CKsrOaR+j7Hs8noQ/5hm1Nx4akFvknCSfqUtTRJZ05lpyfpLOayS5N05lx2eZLOQiy7NEknDmWXXl1IXJUd7uuneDYZfcg/bHMqLju503+UfpmK7YUfld8CKoUFKJQTcLgC0FI6gKxggFmZAJuKA0gpCUe7zUbP/ajkAFDJAaCQA+CQA6AlB4AsB8AsB8CmHAApOXBE+yR3KCbocqbsyTUinalOZio8mAac89qJvHYir308yvfcV26wlzfY5zvhp8agiHu058OAcvB5U+LbGb7RMB7FNxpGJN5oGHl6o2Gk8Y2GEck3GkaF3mgYGb3RMLLwRsO7Gb4+Nh7F57UjEk+vR54e3o40PqcekXw4PSr0RHpk8fn8iOJD+XdTrOEo3/V55a7P5V2f57vmWIMi7vqcHp6/g1g7GV/Eel6OmnDUxiOrPY6wluxpWfiCMjREITGu4mJiDo5JFCHjOkwmc6xMoGI2TmVd+LlAlSzKojexnkWuBMYPZzFVBxO4TpgQKwYukVLBNhm1AlFlUeuhk1QeMkGNMUThNK7CaWIOp0kUTuM6nCZzOE2gGmOcakzh5wJVsihrjIn1LHKNMX44i6nGmMA1xoRYY/D9IyrYJqNWIKox6v2jIqWthOUm9FZCrcoAV7cS6gQc7INbCXWiFHi9lVCrXM+Cel4VDgZG17yY5GuBSbUwqv+XwOQaGeVUL6NMtTPtupFVqakJbVXgWlvddbNPMEy09hPMJ3YUZzkjsmmlI7HxdeRpLjTSuMV1RLRldWT00vbIwvvaI4n7VX+bmpzn502MwW+pcQGXAbFmBIiHla74sNKZvbfjyF7bMbSbmbw4tiObITqyGaKjOEN0jjNEpzZDdOQzRGc+Q3RWZohObIZo6KJfwirAnuxnXGcnhcRfdDmXNuFCFGqXc6xdQGHCBSexSufIK50zkfnP2y+fu9uQjUXIpr2rBoiWPnasD2ftc977SnH2sjj7XJw8cQNFFLRN3ADlUrWJm+d+FbK1yrmnl8n2SLxMthPW3c2i1JxnRjchzSZfYiMWsUae1q9GGpeuRsRb6V2h9ayRifLchFWsHXkIYdrGo5IHQLjLbk9xv9bkaGm/FnPyY71fi8XszGm/FnP26Lxfi4Xo1mm/FnHw7TTEZq4cXA2xWSIvrw2xWWZXT0Ns5uTvhYPJGyIfME52b1yZhInZKUwiuzDOzmACW6EJsTMwTN5ROHULjkPfULA4AfcSxqmrcC76CxNzp+FS7jlMo+7DOPchJtSix71J4YscIu5XjLMZFaHPl+NuxvihaiQ6HJMq1ajS9Zhcq2XcCRmv1Cbujgpf5Whwx2SceifnqosqquinirTJqbnHMq66LRNz32USdWDGdS9mMndlJtSqEHVqBT/kiG8Foj7OuOjo0ibd0hvoTbpa5a7vwCZdnUR0g3qTrlZTl1jZpKtl6h71Jl2pYlepVxW0KrvN6qqCTsBd6MFVBZ0odad6VUGr3LUGFTvYKLAPRpU726hKr4xJhGPGBOybUU32GOXUmUSZOuQospEGlTtnEmMXnV4FladM3bV+FbSiqq67+ipoJYHoxvWroPr3qUuvvAoqz52696AuaqFOXX1Uk1vHdzBrN5M6/6h+vVqrgUBMcLBa1wYFMdHhup8GCFE9WLvTYCGoq1o808Ahqjx8IFUOIkIaNZSIr47WfpmGFVGVg4uYRAwxYgIeaES1MtyIidKgI8qHKzMPQIL4UCvLbVXgIUn99b8xwfk0GtkvzZ7jEARQ/L7NeRpsAE+L0ec4rABEK8rnYQABLKwdn+NQwVFx7v0HSs5n6ZslZZEd85re0WBOudbvaLCY85/e0WDOkcjvaLAQY5Le0SBO0SmYQ5RehZhOo1+FkCJF7MCrEDJFjp1+FUKKHMXKqxBSjfHUr0IokSIbNA4vvU4wnU69TiAkCmz1dQKh56Cq1wmExAGVrxMILQZTvU6QJQokKBxG3KA/nSdt0GdO0dMb9FnMcUsb9JlzxPIGfRZirNIGfeIUpYI5RGIf/HSi2j74ikxxO7gPvpImR7G2D74ic0yr++AreoxwbR+8linepHLYw+7x6YR593gSKMiV3eNJzYHNu8eTwMEUu8eTEgOYd4+zQEEzzuGyv+cA4XJG4XKBwuWCCperOVyuUbhc4HC5wuFyJYbLOYXLBAqXcQ7X9DV6CFYhFKqCKVAFqzAVLQepKBSigjlAhXN4Co/BKZRCM2EKzEQpLO+nkDx7YkclHIBKKACFMACHEAAt2QdkWQdm2QY2ZRlIya6j3fLWUz8qOQAUPxnlPH23YqT26SdH/DU9V/xLUM7KHBSQfZLR0Li3+OjIDm0pDph/FdcZfRXXBVyKA+xfxXUGX8V1CF/FdWhfxXXkX8U1Fqen76H6HR2/KIh+04kM23JPYJUMhy/NAoX1HExtn5p15J+adaaiYKs0p5a/3dLMfo44HsVp44hinXOe5pAjtTrnyGuWM/8QrrE+3msvwtrXQtjrOtOLOpM+PwuSqk7++Vlgour4Tm+vKbji4RndxKMc8rigARwrilOrEI4oj6B4VXEmCqMsR+xJE+y1yfbaZHttKvbaSHttsr02wl4bYa9Nstcm22sz2eu+u2jQXgGJr642ZK9A41dXG2GvoNBXVxu0V0Dxq6vNDJf2m1laz29maRG/Sd4KPK1rNrO0Rt/M8sJ8M8ur8c2Ml+CbWVp3b5KpNmCqnib+osu5pAX0Jhkq8LRU3rCfQuK4KN7M8kp4M8vL3w266f6DU80MF7qbWVrdbmZ5SbuZ4Tp2M0uL102yPeCyOPtcnHpBupnlVehmlpaem1lab27Q7xzlBd5mhqu6zSwt5TbJ7oCnRdtmllZqG2F3oNCabDPLC7HNjFdfd2RcWTXr8OVUR2jGI21n+ES3RZcEFJ/dtsklgaentC26JCB6HtsGlwQWnry26JKOxmesp3ZkvbCj2Ak7xz7YqXXBjrgHdsU7YGfW/zqy7teQu0mbXbLNLtlWXLKVLtlml2yFS7bCJdvkkm12yTa5ZJtcsg0u2WaXbLNLthWXbKVLttol2+ySrXDJVrhkO0tPBtsZjjnbWRpzjkiMOUeexpwjjWPOEdGYs53lMWcbrLfN1ttWrLeV1ttm622r1tsK622z9bbZettsva203nayXk+zydnbVLK3kdnb5Oyx9YIisrcR9WMTGwc+oJlMKT2gYU6Wqh/QsJjNNT2gYc42mx/QsBANNz2gIQ7Wm17PY65MWL2exxLZce31PJbZmNPreczJoguf55JmszZOjm1c1VkTc8U1iWqvca6oJnBtNUFXWTZ1f+4W2iU/jqPU4gRs9MbJ7Z0fiJDwfZey+ZtGPYBx7gZMqEWPO4TCFwJR12Bc9Q8m5k7CJOopjHN3YQL3GUXoc7649zB+qDREP2JSpb5WehSTa9WZ+xbjlWrLvUzhoqsp0ian5k7H+KGoiO7HpEpUKh2RybWopC7JhNjI+StwTxKl3kl+BS5Lqo+qfQUuq9RT6a/AZY37K/UVuKxQrwUSdFxIqe9CSXVfqOceDFXqxFDS/Rim4K4MNerNUKIODaS5rCXcraFEPRtKqlmgnlsGqtQ4UOIGgBq3AdSqzYC7u/AYP9iDeMCff6PPxF0fStT7BelwFEUfGNTcDaJMPSFK3BmidiDI3CWCtNCUOkaUVN+Ieu4eUaUeEiXuJFHjfhK0XmaZe0uUvlJ6os9Etd4GKj0npjjQSrj/RKneFLgXBUl0pKBu5G+4O0XpK2ETnSqq9bBVulZMcSBsqYNFLZjL4Asz/+bMeGTPDR3FjaaTUDrtK4HoHMbliabEeCJDdCLj8kRhD9hVjdMpoyjPC9G70pTOiZI8Y9k+dCUQncu4PJFt8bhSjE7lgjyX7X+4UozO5YI817Rl4CoTOk/B8izlQ2dXAtF5jKsTfURTODHkf/L8IzZzQPHhlHN8OOXUHk45kn/Z/GNovsDo75l/hOa6Jxe7jssGRLuj66Bdx9xPgs0C/ZcFXedU+hz2TqGfo6DrnKpyjmEMsFzO6SwGr1VKfab9iGb/J0guPy7LXyE5OskyabgKcGTEd8aEugUo3oYL/gj6tKD7cPQQjrwe7Y78z6SMR3HzyYjSJpMyOONMoBufEKLsVNyYVM5Y4fcZPWQE+Sxom/PAOTaes83v8h5FDNk2RNk2LrOdXvqcMlT4fUYPGUG28d1FygNnW767OElqy/OR0DAAsruTog6F3EpdcorifYU/VDiGB/m2kuEUqCDmaIlJz1FSIFKqCxeSjJIab055Bule0gdJITpAtzJ7HBmURFx8cpUCAxJGBjGHBjUdG0iRggPavcYPGmN8AG91PlOEUMsh4n3eRxFDaNJAjbkMSdowPmWw8PuMHjKCEBS0zXngrBvP2U5bh4+IQ8bzuDIJMut5G/KUKxPuBXsQDLJvbCsywwFwIUcg7QY+Ig4RyKPhJMgI5J3FU85MuBfsQTCIgLGtyAxHwIUUgU8p7zsyNJdlt17vlkKeGfw0K+9C744Wdi/jEQ1eP+XsfqIx2X4KepWuvyNdPLJlTUe23RNQ/obryHFlEyhu9nQcP+06IvqA68joA65xtiNmOtVZzlUOVPkpx6XgTiCKkHEKk3MRKxNzwFzKUTONQmec42cCBzEvBVxVlgKuDi4FmMqB1W+dTz/Kb51rgUJdeeu8ooqw1986ryTIRVB561yrXBy1t86lfFUVqIBIlcVUeYd6X1jXoRCuc+Svc7ivKzG+loG91tG8ziG8FnG7FsHasT4e5XvuKzfYyxvs852k/dSuiHv03dSO7MmKoW08yne9zXdXazAs0MkONpikilh9rcGkBLmIDzYYVjmohxsMyX1VOBgWWUnqn0zQCQ5mq1KLap9M0DLVrconE6S6rQoHA5PrYRlC7kdbt7hSMSGcxRcUTgpCWUl01Afb67PX9TWD68vQbn+Ul8z7tEjDXJ42LMbsUWXxuz+0+N1/ffG7zxP+PZeL4r2aUQtJXomnzXual8r7ylJ5f3CpvA8zrT2it0qv6gpdiWV5QUoE1xWr9n1t1b4/vGrfx0nUnpU/7nIlEJ3duDx5UeHceU2+r6zJ9wfX5HtsZ3tU+v/aum7USRzZsvt0V/T9/8vrQviTmb/EGPEQyfmd1uIlxTlX+nf2gRellZ5PanHdO6dYmz9FXC6otHJBqZU1d62KeW1M8WV+0VVis/vJ0/yTu3hSkcLrxhDe/VuPp3YUt7qMyCqgI7HrZeRpt8tI4y6XEdHelZF5j++svO3oJG5f2aGLWXlzZTyySbqjUkKIrGAAlpnLPtqrqVJ7AqvLjuKVunzxLl88Dr+A4zICUBhoAbYNDo58Y4Mzi6qzq3hUyhcQ1SETbH/HsdWf3UjsxMrChl+A4hvaziG3QO3NbEf8QXdX/H1tZ/ZNe0f2QrYhnxV5Wf8esuojoRUaAKA4xF7F5o5QGHVxMGx+aR8xc2qIeh8xi7lJpn3EzLlx5n3ELMRmmvYRE4cGa4gajnFqPc65/aZHeFPBFn6Zk3Jzxp3LjCr3x61b71xmMbdzuXOZNWrxeecyC9z2cajMiFygMlQmlf0AdxWfxEJnZ9C7ilnMHpF2FTPXbpF3FbNAvpF2FRNPDlKE33OYwEsMkaEYJ1dxztbiivIX/GL11PzSF6uZk7/oL1azmP0lfbGaOftL/mI1C9Ff0heriYO/GKL2a5zar3P2l/SsfCr2wi9zUvYX/EY2o8r9sb/ob2SzmP1FfiObNfKX/I1sFthfcOMAI/KXysYBUtlf8EPZJ7HQ2V/0h7JZzP6SPpTNXPtL/lA2C+Qv6UPZxJO/FOH3HCbwF0PkL8bJX5yzv7gi/SWs9KDLRIG9JqrsOFGVvhOTCPeJCdiDopqcKMrJj6JMrhRF9qb4jATKMArsA1FlNyA1eZZ+MFMqVFAvaz9LLpbWp7VwMCfJ1w6sT+skwuPq69M6BftdZX1ay8n70gMdLbAPHnqgI9MkT0wL4yeqyiV/PLAwrpMIr9QL41qt+GZlYVzL7KF6YVyq2U+D/Hst3OitUWCHjSr7LKnJbUkXnjstBo2vbe03DBixW4nY7DVi8RV509BQoxK/G2+YvgVv3L0z8mKakcaPwhf8WyYWVsIxXkHc/UG2/R+tLWT3l9hOQkx3f4LtLKSxv71GGAK0V+7BWvcvjdxjddujh5ToISfaQqL9Bzy2mGhCPNElzMnF9r2s4I/+/b//H63X5Vs=","Times-BoldItalic":"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",Symbol:"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",ZapfDingbats:"eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w=="};!function(e){e.Courier="Courier",e.CourierBold="Courier-Bold",e.CourierOblique="Courier-Oblique",e.CourierBoldOblique="Courier-BoldOblique",e.Helvetica="Helvetica",e.HelveticaBold="Helvetica-Bold",e.HelveticaOblique="Helvetica-Oblique",e.HelveticaBoldOblique="Helvetica-BoldOblique",e.TimesRoman="Times-Roman",e.TimesRomanBold="Times-Bold",e.TimesRomanItalic="Times-Italic",e.TimesRomanBoldItalic="Times-BoldItalic",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats"}(oe||(oe={}));var ae={},ce=function(){function e(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,n){return(e.KernPairXAmounts[t]||{})[n]}}return e.load=function(t){var n=ae[t];if(n)return n;var r=ie(se[t]),i=Object.assign(new e,JSON.parse(r));return i.CharWidths=i.CharMetrics.reduce((function(e,t){return e[t.N]=t.WX,e}),{}),i.KernPairXAmounts=i.KernPairs.reduce((function(e,t){var n=t[0],r=t[1],i=t[2];return e[n]||(e[n]={}),e[n][r]=i,e}),{}),ae[t]=i,i},e}();for(var le=ie("eJztWsuy48iN/Ret74KZfHtX47meqfGjPHaXx4/wgpJ4JbooUU1JVXXb0f9u4JwESF13R7TD29koIpFi8gCJBHDA/Pvm+nraTuPmZ3/f5HHzs7/k8WlzvXS7fvPXp02eqyR/2vRfd2N3gqhUUfm0Od9P236+DoczxLWK66fNpZ93/fkGWaOy5mnTnUR67c57lRaZSItM/tnN/XnsX/DfIqg0JOk8HI4UK4BCAFzG+xWCQgXF02Y3nU4dJJVKKrx5mPgKBVMImOvYXY+QKJRCoHzXzxMErQrap810hqaloioF1e0L5kvFUwqe23Hu+Q+1TinWeZnuMwSKrRRsL8Nn/kOxlYLtOnzFWE1Viqmu/eceVioVaylYe1OwVKilQD0PCYgiLRtVcJz4kEItW13mNLi0UsCVAB77KyxTKeJKEPff3rsREkVcCeLD3He3HqArBV0J6G/v/fU2cK1WH23l0e3c7T71N9uUVv/c5i73bWlVs1Y0u5/3srO7aQb2EPUB+eUTva0TYgG5mGbbzZSUkJTpn75ygF4PThhq1SMGMds4HYZdN54n/rdWc8rv02bfH9I2hbqGsKbPnIYzHSc0qmTIxI6nuwpiAIQmU8F4Gy7jK8RwntAI1v3wedj39FmFECp508s4zUOyGmwpKrwbL8eOIlVU//Yf/S1J9C212Pa/uuSwbVDYlWzxf/aj/UtfWgm258t1GG1X1BVawfdnX0xdoRbjPCdBVGs1svo3R/tPVD1r2YL3k0kUfC04f9ldLkmk0NVwv+pO232SKXa126/vHAO5wPxNGivsRsZ/HDhWzLVg/iBuOSfMUTGrTX+b/qSIG0H8u+NEl1J4jcD7/XBI9kDcUYN/0/FNCDuNAP64skYOeLrykUsjElWC9+cmAEAB9NtrEijCplaE/YHvKuC5Iup8zxBAWtFrayakC2QC8uCbhggSskx9zXYNQSRkeuZWQBFKQowabNIfS/qeqOgSOFTINcC4DKcnE70H2zqElJAJ3k++dwgrIRPA47J5iCwr724RWELINFBTAAWiCL7SOogrIQj6abWBOH8hCPoL/4a4EoJgn9MWIq40lcY52cJAGbCHMgkpA3g9t7e0sRWgB1HnvjJYRez6yrSTlYJvRZmdCQhe80Pa24roNYL75uLo10WyKYHVeFLjYnImilM0qPDOJOKWNGlFCJsIrw/qsNv7OPY3SnNYSQ9DP46DLHylvGCcEFU08Nz6JIVx9Chd+93ENNhEWroSuC8SAi0WNznNpqH9+c5k1RQ0nIbi9/LnTzdmoKZAaAwaib/0g0Ti29wxG8gUgLey/O8eHmmqt4eiKTNYo416LPrLkcIWa2u06eZ5+mLBXCaoTp4m7pckBm41P8Qe0mUG6DUCYWY/fTmnCQbwkCa2043vrhA2gqakncwM3aGfe9GAj1Vw9qiuzPW2o4Or4PcxhmUu4atwAGKMy8wCscJhiDFfJh1lhY2K6mo250DrTJXOC82EUgVIkTMmOd0moqC5Dd24H15e0hRKJS0Cvg7Xm9RKgz9ErdWrTpfb6zV5Wx2ytwlDZLplUQ/8Ye72Qyq5RI5kqY4t6fe0iHOItdCYbo8zKOi0vLjvjrdjZ2IYRAPUZZ72910SI7vEiL9LaHSvrZFkipKOf02y8gc9vEbmKHQjRP95uH6ShZI9c9pao41otTPLICMETXSC5jLNupbP8bxo2Dy/DOfh9prk8BKNk935MPIo1jiKUSNQqiVSVSozBWYan5nmNMGz1+r6AleO8KJJwXdk2H8XwgVVP31AticBhdvqIZPwNPcvqWhqah74iIB6GsYuvbdGeYFS93yY775hPNh6giUlzNNXr/eaJmNYKrnLKznOt4ZsEQ6f5ZCfWVvJFK2Xs5BcP8ND23r5uJqDyaPmM90Oscl9a87aIC3HLCxz+uOzNFgOhA+P4XRq8hPTjP3Xhzn4oiYIm1svybSpOX03zDuJX4kqyAx3rrKZdZ3XNMggGh9lsUt/Fm+7m+1bGCxqOttPN/fOFiExKh+xnb1d0gz8qiiXmS0r5YxLaaULN/TaOsu4WEgTS3Fd1TCvlsvj9F1/PvQpPzHAZqiN9yZEntcyaDfet0mGOKLl5LGX6EMhU5ZGkf3QnVIWqvJA5FoG7KbLK1BcBcyLTfNYZGr7g8ar+WEWm63VgmSefX/q5k+r6Rplrdo/Heb+q00gKzcWUiVy3pY5RkGL7kept7/zSRS8Uc+Kw+nOV5ukqeu1KqtZ2Ds2a6yrWZghX/NS7q3OwQZ5WM0tgGCBPK7muPM6B2fP8wditayKMKG5YzW7rIvzkJcPs8vKOBGaRJxo+boMocrFfe407G0SJlJS7pO+KOrwqKkAcw4lp28Xi28vU7AM2Lfz9gUITKM8fJlcnoRtlJIvkwsSRtD2kXkuC8M2ytbX08vSME4ZHqd9cTQgojL5hXr60uhDxDJfTy7WQ3kXy2I9q+t+L7V+d3nZD+fDtrtdf7iZ8gPUNhVNSLOdFKmrqgg5UGR5ktUWkERW4ETnYSnQpK5PsqU2k3I5yZbCTGhJki0lmbJ2ypxOd8rYKXM23Slnp6yxclZkVZK1li1EVlMWmY0yyJokC5bIRdYm6sDCW/9X54knZEYnurpKJCEzNtHVdYqTmdGJrm6SiJRMsdWJmTS1MYWuSZwAHg3D5dSJO6tnpqPiNXIHapSQHkL9WNCyDwEZymTtQzyGcfx/rQVukWUP4RgGS29oG5RieEMSVKm67GISoHZUs0g6TKImlZMdbde2cDMFUCZBSBWevKlNIlRrBNQkEVpt0CXUSYTWGvzG1q5TldeFIklgFfiMvQ6tNXgMtk5IM+qSAjbJSpOh4wdUtYnQYgOqxkRosgFVayK02SJsYCJ02tRw9HkVodUG00UTodcG4+UmQrdN0dPhVYR2m8KPBhX1t/bkumgaofzWplwXDT2Oo9K2Lhp6dogUvT+HBpGC98fQxlDs/lSVCr/OVGZ7CGY3lXEIKyD3fylyrQS63P4VjTl0uRkGJxB+l5th2CBS5LkZhg0iRZ6bYdgPUqC5aYMEh8CSmzrsCinU3PRBKkNYyQ0qTgSiSmFQcSAQVAqDimSFmFIYVPaKFGphUNktUqiFQUVaUvLVFbaHSEZK47vC0LNfpOgLQ8+OkaIvDD2SjZbOXWHokWBQgJeGHkmlwaEz9EglKHFKQ48og8qmNPQgJEp0u9LQg4mAjJeGnm0rRV8aeratFH1p6EE8tBnQlYYebSutwLrS0KNrhRZYZegRbpV3dpWhR8tKSU9XGXr2rJTsdJXBTz0ruLjhT00rVaAyBVLTSjWoTIPUs1IVKlOBbSulAV1lOrBzpZS2q0wJNq8yhH7TovIOb1cb5tSXUny14Ut9KUYQUyS1phRgbaDZmEIiFrKThCnpIMMYGrZh0JBo7M01e+H65sZeUpPp6ZsbX4+dcH1xa1YgxYsIAWYF9rXBI1p/L9tiiL6ZmYGtrYpZybaz8caUCA1iA4iIPcEN0ZAQIuq70g2ZPCOQ7R+yE5riIjTojfMRESbsge1zHMhgsSlk5PR4u0WnQDraMOdEE7JTj7dbhAqpw4K3W4wKGZv3eHtempBkA+nHQldgrwXHM1jwCgj0pB7BwlcIbI7BnhbAAmsvHNJgISyw+MIxDRbEAqsvHNRgYSyw/GqZSE0j1l84rMFCWWABhuMaLJgFVmA4sMHCWUi8CRpZQAvkSzizwUJaIE/CoQ0W1ALpEU5tsLDGDzqg6yI0jaKzfxGaRuRBOLjBglsgAcpYHZhG5D04usECXCDdQd0WLMQFshwc6GBBLqQOETSyMBdIa3DMgwW6QD6Dcx4s1AXyDpSRYmoTsrpmzWKQyDJw0GWjTci2GCBZIAtkFDj+wSJZIJPA+Q8WygIJRCQkw8meFCJAsGAWCu8BiNAsjzTAXkKwEBfYg2IQqM3y7EFFauT/ZAcUGlk0DAU7nyzETPeSHBIa1aZmSe4IjWpTsyRphEa1qVmSTFMjU7Mki4ZGreEsSZ+hUWO6s7+bc4/8cdJlaNSYQdjTRbEbM3+c5BgaWTgOSA7stkSLiqFiCwbgLUiHinQX4C1Kh4pEl+BN94oEl+DNdBWJLcH74yS0AG8RPeCjRmRZ3JiR0ZWKrItbW7MmZWVlbG+vSVWxHY2tyW+lJTUy0yEVgdTKmmYlNplKagSDCMFlTIaH8GmVMWkpIj6sMsQv+Ae3UmUIX3AP6q0yRC94x/IOBC84B4+VyhC7yHTIELQRhGgM32hchmAM14hMRCpEMIZrNC6DJvAMWkxl0ASOQYOpDJqACrX+EmgCX9EQ8f3T5stwlggXf/otCfss8O19uvX7LfqmP3Z1AiRPP2JPY2pA/vTbFIhHqhFedB2s0/2v3bIAG1z14yH8CVcvwJFFoePr5cgbDv9/G+Pfvo2BUIP6ix0r8EO9ZYARuKFeMMAIvFA/gWMESqifiTACG9QrBTpCBFGK9wuMQKz0UgJGoH+C7L8xAvPTL40Y4au7gPkfjEAB9SYBRmB/eokAIxA/vT6AETifXh7ACHRPrwroqAFX0i/5GIEmCZb/xQj8Tu8LYARqp5cFMAKr03sCGIHQ6SUBjMDlBMsfMLIP//+HERicXlzACORNsPxJR2iW4I4FRj92EQa8TTuGInY3/vHrMSBwuoPX3TDot4c7osKPXJtBm0XLvsPc0XfRZkHNhxE4nLZsMQJ902/jDOQIkriXkAL7JhEyNh1ZemtZ98IxCZvebeCYZE3AHjkmUdMPGRyTpAm6v3FMgqY3EjgmOdPPZhyTmOlFBIwZxHEPgWNeJ9BbBxyz+af9c45J2PRMcEyyph8EOSZP03PMMTmaXjLgmN0+vWLAMfBpFfeZY7838AVjNilxLYJj4NOy7ZVjUju9zcHxv3/FiVcKULCpf9yGcb9qEOPL/6pp7GyO2cU+S7N2AaOzDMHKBXxO4/goyYBiZ3S7+yxxf0fNKud0r31a0gnddp4+9WfTpHJOt/r4yfIlfVDq5z7dgWABg8amf4SBnLxZQ9A0718keFqMZSGDNurhPoxjf5r84LGeQY/77d0vb3QvyYc1DTrd9nWo56movd196uyqy792faz2prfkJHyAHPiBONTe+kZ2ephrlhb4Ll0HSRfRNOLxqk5onB1LWu4kCPAGRmicIDOZ6j67Ro0T5V2/F6t1lDpTlkz6iMTpspj/JI53H83+jZNmt/+ybY2TZ1lRctmcUldonEDLxLEbGV5aZ9AwRnqAJmydSFu6c2dunU6/8yDIL5Og0+8W67VOp98xsL6kr1H8FglO/W45Uq1z6ncPXto6rX432zlpnVW/e6bAGfXPV0aOmXPqZwcbM+fUzw42Zs6pnx/BxsyJ9fMaV8ycW79fre3c+v1qbefW79+u7QT7/ePazrGf+UE7Zk6wf+Mmi8EJ9ocFQnCC/WGBEJxgf3gDgddNNIp/WC3Mb12i24cHXIEfkcs3FzGDM/UPnnJjcKb+cQXOmfrHFThn6h/fgItO1z8+4IjO2P+0LBOdsX9znHgBKUYn7Id+Pkklvh3TCgtpX9DFhbSvll1I+1t0C3NfTBcX5v4IeSHv5sYxX7g7H86dt+/Wbpw7c+8XsLkz934Bmztz79+AzZ2+9w+4cmfww2ptZ/DDam1n8MPbtZ3GDw9rs9ui3KZPblw4tz8vJiuc208LhMK5/bRAKJzbT28gFE7wp9XCTvCnR1zO8ZeLw7Fwjj8tTlw4x78v0Ern+PcFWukc//4GWulE//6AonSu/7paxrn+zZ2YnRclRK/rBXJsCAjxh2cKEAWVJ02ku/wOoFv2+12XkmnODwHgW4uQGVbZ0uM7mAJ1b/68/JlpUMnWdy5MF6/Vd5eL19YYSPd6FqPwBkNQo/h2NQxdQQ3bn/dpCxrGrqCW7U8rKZl/mfi0Xytk3Am66ZhYbg4y+KAVslDwbXdNL2d5qU5hnYBlTZaa6hs2t1qWdaeeTptcLco+hl5R7w4H5uOGcQbtEkpT18GusOI2xT9dYcVJf7zCSjmbD+Iud2s1NPRb9E+0UICmizb8ZK/+5JOLOulSqwaw5VJr2vB8dSFn89fvv/8H0oq1dA=="),ue=JSON.parse(le),he=function(e,t){var n=this;this.canEncodeUnicodeCodePoint=function(e){return e in n.unicodeMappings},this.encodeUnicodeCodePoint=function(e){var t=n.unicodeMappings[e];if(!t){var r=String.fromCharCode(e),i="0x"+function(e,t,n){for(var r="",i=0,o=t-e.length;i<o;i++)r+=n;return r+e}(e.toString(16),4,"0"),o=n.name+' cannot encode "'+r+'" ('+i+")";throw new Error(o)}return{code:t[0],name:t[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort((function(e,t){return e-t})),this.unicodeMappings=t},de={Symbol:new he("Symbol",ue.symbol),ZapfDingbats:new he("ZapfDingbats",ue.zapfdingbats),WinAnsi:new he("WinAnsi",ue.win1252)},fe=function(e){return Object.keys(e).map((function(t){return e[t]}))},pe=fe(oe),ge=function(e){return pe.includes(e)},me=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},ve=function(e){return"`"+e+"`"},ye=function(e){var t=typeof e;return"string"===t?"'"+e+"'":"undefined"===t?ve(e):e},be=function(e,t,n){Array.isArray(n)||(n=fe(n));for(var r=0,i=n.length;r<i;r++)if(e===n[r])return;throw new TypeError(function(e,t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var s=n[i];r[i]=ye(s)}var a=r.join(" or ");return ve(t)+" must be one of "+a+", but was actually "+ye(e)}(e,t,n))},we=function(e,t,n){Array.isArray(n)||(n=fe(n)),be(e,t,n.concat(void 0))},Ae=function(e,t){return"null"===t?null===e:"undefined"===t?void 0===e:"string"===t?"string"===typeof e:"number"===t?"number"===typeof e&&!isNaN(e):"boolean"===t?"boolean"===typeof e:"symbol"===t?"symbol"===typeof e:"bigint"===t?"bigint"===typeof e:t===Date?e instanceof Date:t===Array?e instanceof Array:t===Uint8Array?e instanceof Uint8Array:t===ArrayBuffer?e instanceof ArrayBuffer:t===Function?e instanceof Function:e instanceof t[0]},Ce=function(e,t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var s=n[i];"null"===s&&(r[i]=ve("null")),"undefined"===s&&(r[i]=ve("undefined")),"string"===s?r[i]=ve("string"):"number"===s?r[i]=ve("number"):"boolean"===s?r[i]=ve("boolean"):"symbol"===s?r[i]=ve("symbol"):"bigint"===s?r[i]=ve("bigint"):s===Array?r[i]=ve("Array"):s===Uint8Array?r[i]=ve("Uint8Array"):s===ArrayBuffer?r[i]=ve("ArrayBuffer"):r[i]=ve(s[1])}var a,c=r.join(" or ");return ve(t)+" must be of type "+c+", but was actually of type "+ve(null===(a=e)?"null":void 0===a?"undefined":"string"===typeof a?"string":isNaN(a)?"NaN":"number"===typeof a?"number":"boolean"===typeof a?"boolean":"symbol"===typeof a?"symbol":"bigint"===typeof a?"bigint":a.constructor&&a.constructor.name?a.constructor.name:a.name?a.name:a.constructor?String(a.constructor):String(a))},ke=function(e,t,n){for(var r=0,i=n.length;r<i;r++)if(Ae(e,n[r]))return;throw new TypeError(Ce(e,t,n))},Se=function(e,t,n){ke(e,t,n.concat("undefined"))},xe=function(e,t,n){for(var r=0,i=e.length;r<i;r++)ke(e[r],t,n)},Te=function(e,t,n,r){if(ke(e,t,["number"]),ke(n,"min",["number"]),ke(r,"max",["number"]),r=Math.max(n,r),e<n||e>r)throw new Error(ve(t)+" must be at least "+n+" and at most "+r+", but was actually "+e)},Ee=function(e,t,n,r){ke(e,t,["number","undefined"]),"number"===typeof e&&Te(e,t,n,r)},Ie=function(e,t,n){if(ke(e,t,["number"]),e%n!==0)throw new Error(ve(t)+" must be a multiple of "+n+", but was actually "+e)},_e=function(e,t){if(![1,0].includes(Math.sign(e)))throw new Error(ve(t)+" must be a positive number or 0, but was actually "+e)},Re=new Uint16Array(256),Pe=0;Pe<256;Pe++)Re[Pe]=Pe;Re[22]=g("\x17"),Re[24]=g("\u02d8"),Re[25]=g("\u02c7"),Re[26]=g("\u02c6"),Re[27]=g("\u02d9"),Re[28]=g("\u02dd"),Re[29]=g("\u02db"),Re[30]=g("\u02da"),Re[31]=g("\u02dc"),Re[127]=g("\ufffd"),Re[128]=g("\u2022"),Re[129]=g("\u2020"),Re[130]=g("\u2021"),Re[131]=g("\u2026"),Re[132]=g("\u2014"),Re[133]=g("\u2013"),Re[134]=g("\u0192"),Re[135]=g("\u2044"),Re[136]=g("\u2039"),Re[137]=g("\u203a"),Re[138]=g("\u2212"),Re[139]=g("\u2030"),Re[140]=g("\u201e"),Re[141]=g("\u201c"),Re[142]=g("\u201d"),Re[143]=g("\u2018"),Re[144]=g("\u2019"),Re[145]=g("\u201a"),Re[146]=g("\u2122"),Re[147]=g("\ufb01"),Re[148]=g("\ufb02"),Re[149]=g("\u0141"),Re[150]=g("\u0152"),Re[151]=g("\u0160"),Re[152]=g("\u0178"),Re[153]=g("\u017d"),Re[154]=g("\u0131"),Re[155]=g("\u0142"),Re[156]=g("\u0153"),Re[157]=g("\u0161"),Re[158]=g("\u017e"),Re[159]=g("\ufffd"),Re[160]=g("\u20ac"),Re[173]=g("\ufffd");var Ne=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=Re[e[n]];return String.fromCodePoint.apply(String,t)};const Me=function(){function e(e){this.populate=e,this.value=void 0}return e.prototype.getValue=function(){return this.value},e.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},e.prototype.invalidate=function(){this.value=void 0},e.populatedBy=function(t){return new e(t)},e}();var Fe,Oe=function(e){function t(t,n){var r="Method "+t+"."+n+"() not implemented";return e.call(this,r)||this}return i(t,e),t}(Error),De=function(e){function t(t){var n="Cannot construct "+t+" - it has a private constructor";return e.call(this,n)||this}return i(t,e),t}(Error),Le=function(e){function t(t,n){var r=function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:null===(n=null===e||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name},i="Expected instance of "+(Array.isArray(t)?t.map(r):[r(t)]).join(" or ")+", but got instance of "+(n?r(n):n);return e.call(this,i)||this}return i(t,e),t}(Error),je=function(e){function t(t){var n=t+" stream encoding not supported";return e.call(this,n)||this}return i(t,e),t}(Error),Ue=function(e){function t(t,n){var r="Cannot call "+t+"."+n+"() more than once";return e.call(this,r)||this}return i(t,e),t}(Error),Be=(function(e){function t(t){var n="Missing catalog (ref="+t+")";return e.call(this,n)||this}i(t,e)}(Error),function(e){function t(){return e.call(this,"Can't embed page with missing Contents")||this}return i(t,e),t}(Error)),qe=function(e){function t(t){var n,r,i,o="Unrecognized stream type: "+(null!==(i=null!==(r=null===(n=null===t||void 0===t?void 0:t.contructor)||void 0===n?void 0:n.name)&&void 0!==r?r:null===t||void 0===t?void 0:t.name)&&void 0!==i?i:t);return e.call(this,o)||this}return i(t,e),t}(Error),ze=function(e){function t(){return e.call(this,"Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.")||this}return i(t,e),t}(Error),Ve=function(e){function t(t){var n="Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.";return e.call(this,n)||this}return i(t,e),t}(Error),He=function(e){function t(t){var n='Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.';return e.call(this,n)||this}return i(t,e),t}(Error),We=function(e){function t(t,n){var r="Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+n;return e.call(this,r)||this}return i(t,e),t}(Error),Ke=function(e){function t(t,n){var r="Failed to "+n+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return e.call(this,r)||this}return i(t,e),t}(Error),Ge=function(e){function t(t,n,r){var i="index should be at least "+n+" and at most "+r+", but was actually "+t;return e.call(this,i)||this}return i(t,e),t}(Error),Xe=function(e){function t(){return e.call(this,"Attempted to set invalid field value")||this}return i(t,e),t}(Error),Ye=function(e){function t(){return e.call(this,"Attempted to select multiple values for single-select field")||this}return i(t,e),t}(Error),Qe=function(e){function t(t){var n="No /DA (default appearance) entry found for field: "+t;return e.call(this,n)||this}return i(t,e),t}(Error),Je=function(e){function t(t){var n="No Tf operator found for DA of field: "+t;return e.call(this,n)||this}return i(t,e),t}(Error),Ze=function(e){function t(t,n){var r="Failed to parse number (line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "'+n+'"';return e.call(this,r)||this}return i(t,e),t}(Error),$e=function(e){function t(t,n){var r="Failed to parse PDF document (line:"+t.line+" col:"+t.column+" offset="+t.offset+"): "+n;return e.call(this,r)||this}return i(t,e),t}(Error),et=function(e){function t(t,n,r){var i="Expected next byte to be "+n+" but it was actually "+r;return e.call(this,t,i)||this}return i(t,e),t}($e),tt=function(e){function t(t,n){var r="Failed to parse PDF object starting with the following byte: "+n;return e.call(this,t,r)||this}return i(t,e),t}($e),nt=function(e){function t(t){return e.call(this,t,"Failed to parse invalid PDF object")||this}return i(t,e),t}($e),rt=function(e){function t(t){return e.call(this,t,"Failed to parse PDF stream")||this}return i(t,e),t}($e),it=function(e){function t(t){return e.call(this,t,"Failed to parse PDF literal string due to unbalanced parenthesis")||this}return i(t,e),t}($e),ot=function(e){function t(t){return e.call(this,t,"Parser stalled")||this}return i(t,e),t}($e),st=function(e){function t(t){return e.call(this,t,"No PDF header found")||this}return i(t,e),t}($e),at=function(e){function t(t,n){var r="Did not find expected keyword '"+F(n)+"'";return e.call(this,t,r)||this}return i(t,e),t}($e);!function(e){e[e.Null=0]="Null",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Newline=10]="Newline",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationPoint=33]="ExclamationPoint",e[e.Hash=35]="Hash",e[e.Percent=37]="Percent",e[e.LeftParen=40]="LeftParen",e[e.RightParen=41]="RightParen",e[e.Plus=43]="Plus",e[e.Minus=45]="Minus",e[e.Dash=45]="Dash",e[e.Period=46]="Period",e[e.ForwardSlash=47]="ForwardSlash",e[e.Zero=48]="Zero",e[e.One=49]="One",e[e.Two=50]="Two",e[e.Three=51]="Three",e[e.Four=52]="Four",e[e.Five=53]="Five",e[e.Six=54]="Six",e[e.Seven=55]="Seven",e[e.Eight=56]="Eight",e[e.Nine=57]="Nine",e[e.LessThan=60]="LessThan",e[e.GreaterThan=62]="GreaterThan",e[e.A=65]="A",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.O=79]="O",e[e.P=80]="P",e[e.R=82]="R",e[e.LeftSquareBracket=91]="LeftSquareBracket",e[e.BackSlash=92]="BackSlash",e[e.RightSquareBracket=93]="RightSquareBracket",e[e.a=97]="a",e[e.b=98]="b",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.i=105]="i",e[e.j=106]="j",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.x=120]="x",e[e.LeftCurly=123]="LeftCurly",e[e.RightCurly=125]="RightCurly",e[e.Tilde=126]="Tilde"}(Fe||(Fe={}));const ct=Fe;const lt=function(){function e(e,t){this.major=String(e),this.minor=String(t)}return e.prototype.toString=function(){var e=y(129);return"%PDF-"+this.major+"."+this.minor+"\n%"+e+e+e+e},e.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=ct.Percent,e[t++]=ct.P,e[t++]=ct.D,e[t++]=ct.F,e[t++]=ct.Dash,t+=w(this.major,e,t),e[t++]=ct.Period,t+=w(this.minor,e,t),e[t++]=ct.Newline,e[t++]=ct.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-n},e.forVersion=function(t,n){return new e(t,n)},e}();const ut=function(){function e(){}return e.prototype.clone=function(e){throw new Oe(this.constructor.name,"clone")},e.prototype.toString=function(){throw new Oe(this.constructor.name,"toString")},e.prototype.sizeInBytes=function(){throw new Oe(this.constructor.name,"sizeInBytes")},e.prototype.copyBytesInto=function(e,t){throw new Oe(this.constructor.name,"copyBytesInto")},e}();const ht=function(e){function t(t){var n=e.call(this)||this;return n.numberValue=t,n.stringValue=function(e){var t,n=String(e);if(Math.abs(e)<1){if(t=parseInt(e.toString().split("e-")[1])){var r=e<0;r&&(e*=-1),e*=Math.pow(10,t-1),n="0."+new Array(t).join("0")+e.toString().substring(2),r&&(n="-"+n)}}else(t=parseInt(e.toString().split("+")[1]))>20&&(t-=20,n=(e/=Math.pow(10,t)).toString()+new Array(t+1).join("0"));return n}(t),n}return i(t,e),t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(e,t){return t+=w(this.stringValue,e,t),this.stringValue.length},t.of=function(e){return new t(e)},t}(ut);var dt=function(e){function t(t){var n=e.call(this)||this;return n.array=[],n.context=t,n}return i(t,e),t.prototype.size=function(){return this.array.length},t.prototype.push=function(e){this.array.push(e)},t.prototype.insert=function(e,t){this.array.splice(e,0,t)},t.prototype.indexOf=function(e){var t=this.array.indexOf(e);return-1===t?void 0:t},t.prototype.remove=function(e){this.array.splice(e,1)},t.prototype.set=function(e,t){this.array[e]=t},t.prototype.get=function(e){return this.array[e]},t.prototype.lookupMaybe=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=this.context).lookupMaybe.apply(t,c([this.get(e)],n))},t.prototype.lookup=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=this.context).lookup.apply(t,c([this.get(e)],n))},t.prototype.asRectangle=function(){if(4!==this.size())throw new Ve(this.size());var e=this.lookup(0,ht).asNumber(),t=this.lookup(1,ht).asNumber();return{x:e,y:t,width:this.lookup(2,ht).asNumber()-e,height:this.lookup(3,ht).asNumber()-t}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),r=0,i=this.size();r<i;r++)n.push(this.array[r]);return n},t.prototype.toString=function(){for(var e="[ ",t=0,n=this.size();t<n;t++)e+=this.get(t).toString(),e+=" ";return e+="]"},t.prototype.sizeInBytes=function(){for(var e=3,t=0,n=this.size();t<n;t++)e+=this.get(t).sizeInBytes()+1;return e},t.prototype.copyBytesInto=function(e,t){var n=t;e[t++]=ct.LeftSquareBracket,e[t++]=ct.Space;for(var r=0,i=this.size();r<i;r++)t+=this.get(r).copyBytesInto(e,t),e[t++]=ct.Space;return e[t++]=ct.RightSquareBracket,t-n},t.prototype.scalePDFNumbers=function(e,t){for(var n=0,r=this.size();n<r;n++){var i=this.lookup(n);if(i instanceof ht){var o=n%2===0?e:t;this.set(n,ht.of(i.asNumber()*o))}}},t.withContext=function(e){return new t(e)},t}(ut);const ft=dt;var pt={};const gt=function(e){function t(t,n){var r=this;if(t!==pt)throw new De("PDFBool");return(r=e.call(this)||this).value=n,r}return i(t,e),t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(e,t){return this.value?(e[t++]=ct.t,e[t++]=ct.r,e[t++]=ct.u,e[t++]=ct.e,4):(e[t++]=ct.f,e[t++]=ct.a,e[t++]=ct.l,e[t++]=ct.s,e[t++]=ct.e,5)},t.True=new t(pt,!0),t.False=new t(pt,!1),t}(ut);var mt=new Uint8Array(256);mt[ct.LeftParen]=1,mt[ct.RightParen]=1,mt[ct.LessThan]=1,mt[ct.GreaterThan]=1,mt[ct.LeftSquareBracket]=1,mt[ct.RightSquareBracket]=1,mt[ct.LeftCurly]=1,mt[ct.RightCurly]=1,mt[ct.ForwardSlash]=1,mt[ct.Percent]=1;var vt=new Uint8Array(256);vt[ct.Null]=1,vt[ct.Tab]=1,vt[ct.Newline]=1,vt[ct.FormFeed]=1,vt[ct.CarriageReturn]=1,vt[ct.Space]=1;for(var yt=new Uint8Array(256),bt=0;bt<256;bt++)yt[bt]=vt[bt]||mt[bt]?1:0;yt[ct.Hash]=1;var wt=function(e){return e.replace(/#([\dABCDEF]{2})/g,(function(e,t){return function(e){return y(parseInt(e,16))}(t)}))},At={},Ct=new Map,kt=function(e){function t(t,n){var r=this;if(t!==At)throw new De("PDFName");r=e.call(this)||this;for(var i,o="/",s=0,a=n.length;s<a;s++){var c=n[s],l=g(c);o+=(i=l)>=ct.ExclamationPoint&&i<=ct.Tilde&&!yt[i]?c:"#"+v(l)}return r.encodedName=o,r}return i(t,e),t.prototype.asBytes=function(){for(var e=[],t="",n=!1,r=function(t){void 0!==t&&e.push(t),n=!1},i=1,o=this.encodedName.length;i<o;i++){var s=this.encodedName[i],a=g(s),c=this.encodedName[i+1];n?a>=ct.Zero&&a<=ct.Nine||a>=ct.a&&a<=ct.f||a>=ct.A&&a<=ct.F?2!==(t+=s).length&&(c>="0"&&c<="9"||c>="a"&&c<="f"||c>="A"&&c<="F")||(r(parseInt(t,16)),t=""):r(a):a===ct.Hash?n=!0:r(a)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return String.fromCharCode.apply(String,Array.from(e))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(e,t){return t+=w(this.encodedName,e,t),this.encodedName.length},t.of=function(e){var n=wt(e),r=Ct.get(n);return r||(r=new t(At,n),Ct.set(n,r)),r},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(ut);const St=kt;const xt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(e,t){return e[t++]=ct.n,e[t++]=ct.u,e[t++]=ct.l,e[t++]=ct.l,4},t}(ut));var Tt=function(e){function t(t,n){var r=e.call(this)||this;return r.dict=t,r.context=n,r}return i(t,e),t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(e,t){this.dict.set(e,t)},t.prototype.get=function(e,t){void 0===t&&(t=!1);var n=this.dict.get(e);if(n!==xt||t)return n},t.prototype.has=function(e){var t=this.dict.get(e);return void 0!==t&&t!==xt},t.prototype.lookupMaybe=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n.includes(xt),o=(t=this.context).lookupMaybe.apply(t,c([this.get(e,i)],n));if(o!==xt||i)return o},t.prototype.lookup=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n.includes(xt),o=(t=this.context).lookup.apply(t,c([this.get(e,i)],n));if(o!==xt||i)return o},t.prototype.delete=function(e){return this.dict.delete(e)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(e){void 0===e&&(e="");for(var t=this.keys(),n=St.of(this.context.addRandomSuffix(e,10));t.includes(n);)n=St.of(this.context.addRandomSuffix(e,10));return n},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),r=this.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];n.set(a,c)}return n},t.prototype.toString=function(){for(var e="<<\n",t=this.entries(),n=0,r=t.length;n<r;n++){var i=t[n],o=i[0],s=i[1];e+=o.toString()+" "+s.toString()+"\n"}return e+=">>"},t.prototype.sizeInBytes=function(){for(var e=5,t=this.entries(),n=0,r=t.length;n<r;n++){var i=t[n],o=i[0],s=i[1];e+=o.sizeInBytes()+s.sizeInBytes()+2}return e},t.prototype.copyBytesInto=function(e,t){var n=t;e[t++]=ct.LessThan,e[t++]=ct.LessThan,e[t++]=ct.Newline;for(var r=this.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];t+=a.copyBytesInto(e,t),e[t++]=ct.Space,t+=c.copyBytesInto(e,t),e[t++]=ct.Newline}return e[t++]=ct.GreaterThan,e[t++]=ct.GreaterThan,t-n},t.withContext=function(e){return new t(new Map,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(ut);const Et=Tt;var It=function(e){function t(t){var n=e.call(this)||this;return n.dict=t,n}return i(t,e),t.prototype.clone=function(e){throw new Oe(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new Oe(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new Oe(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new Oe(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var e=this.getContentsSize();this.dict.set(St.Length,ht.of(e))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var e=this.dict.toString();return e+="\nstream\n",e+=this.getContentsString(),e+="\nendstream"},t.prototype.copyBytesInto=function(e,t){this.updateDict();var n=t;t+=this.dict.copyBytesInto(e,t),e[t++]=ct.Newline,e[t++]=ct.s,e[t++]=ct.t,e[t++]=ct.r,e[t++]=ct.e,e[t++]=ct.a,e[t++]=ct.m,e[t++]=ct.Newline;for(var r=this.getContents(),i=0,o=r.length;i<o;i++)e[t++]=r[i];return e[t++]=ct.Newline,e[t++]=ct.e,e[t++]=ct.n,e[t++]=ct.d,e[t++]=ct.s,e[t++]=ct.t,e[t++]=ct.r,e[t++]=ct.e,e[t++]=ct.a,e[t++]=ct.m,t-n},t}(ut);const _t=It;const Rt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.contents=n,r}return i(t,e),t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(e){return t.of(this.dict.clone(e),this.contents.slice())},t.prototype.getContentsString=function(){return F(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(e,n){return new t(e,n)},t}(_t);var Pt={},Nt=new Map;const Mt=function(e){function t(t,n,r){var i=this;if(t!==Pt)throw new De("PDFRef");return(i=e.call(this)||this).objectNumber=n,i.generationNumber=r,i.tag=n+" "+r+" R",i}return i(t,e),t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(e,t){return t+=w(this.tag,e,t),this.tag.length},t.of=function(e,n){void 0===n&&(n=0);var r=e+" "+n+" R",i=Nt.get(r);return i||(i=new t(Pt,e,n),Nt.set(r,i)),i},t}(ut);var Ft=function(){function e(e,t){this.name=e,this.args=t||[]}return e.prototype.clone=function(t){for(var n=new Array(this.args.length),r=0,i=n.length;r<i;r++){var o=this.args[r];n[r]=o instanceof ut?o.clone(t):o}return e.of(this.name,n)},e.prototype.toString=function(){for(var e="",t=0,n=this.args.length;t<n;t++)e+=String(this.args[t])+" ";return e+=this.name},e.prototype.sizeInBytes=function(){for(var e=0,t=0,n=this.args.length;t<n;t++){var r=this.args[t];e+=(r instanceof ut?r.sizeInBytes():r.length)+1}return e+=this.name.length},e.prototype.copyBytesInto=function(e,t){for(var n=t,r=0,i=this.args.length;r<i;r++){var o=this.args[r];t+=o instanceof ut?o.copyBytesInto(e,t):w(o,e,t),e[t++]=ct.Space}return(t+=w(this.name,e,t))-n},e.of=function(t,n){return new e(t,n)},e}();const Ot=Ft;var Dt;!function(e){e.NonStrokingColor="sc",e.NonStrokingColorN="scn",e.NonStrokingColorRgb="rg",e.NonStrokingColorGray="g",e.NonStrokingColorCmyk="k",e.NonStrokingColorspace="cs",e.StrokingColor="SC",e.StrokingColorN="SCN",e.StrokingColorRgb="RG",e.StrokingColorGray="G",e.StrokingColorCmyk="K",e.StrokingColorspace="CS",e.BeginMarkedContentSequence="BDC",e.BeginMarkedContent="BMC",e.EndMarkedContent="EMC",e.MarkedContentPointWithProps="DP",e.MarkedContentPoint="MP",e.DrawObject="Do",e.ConcatTransformationMatrix="cm",e.PopGraphicsState="Q",e.PushGraphicsState="q",e.SetFlatness="i",e.SetGraphicsStateParams="gs",e.SetLineCapStyle="J",e.SetLineDashPattern="d",e.SetLineJoinStyle="j",e.SetLineMiterLimit="M",e.SetLineWidth="w",e.SetTextMatrix="Tm",e.SetRenderingIntent="ri",e.AppendRectangle="re",e.BeginInlineImage="BI",e.BeginInlineImageData="ID",e.EndInlineImage="EI",e.ClipEvenOdd="W*",e.ClipNonZero="W",e.CloseAndStroke="s",e.CloseFillEvenOddAndStroke="b*",e.CloseFillNonZeroAndStroke="b",e.ClosePath="h",e.AppendBezierCurve="c",e.CurveToReplicateFinalPoint="y",e.CurveToReplicateInitialPoint="v",e.EndPath="n",e.FillEvenOddAndStroke="B*",e.FillEvenOdd="f*",e.FillNonZeroAndStroke="B",e.FillNonZero="f",e.LegacyFillNonZero="F",e.LineTo="l",e.MoveTo="m",e.ShadingFill="sh",e.StrokePath="S",e.BeginText="BT",e.EndText="ET",e.MoveText="Td",e.MoveTextSetLeading="TD",e.NextLine="T*",e.SetCharacterSpacing="Tc",e.SetFontAndSize="Tf",e.SetTextHorizontalScaling="Tz",e.SetTextLineHeight="TL",e.SetTextRenderingMode="Tr",e.SetTextRise="Ts",e.SetWordSpacing="Tw",e.ShowText="Tj",e.ShowTextAdjusted="TJ",e.ShowTextLine="'",e.ShowTextLineAndSpace='"',e.Type3D0="d0",e.Type3D1="d1",e.BeginCompatibilitySection="BX",e.EndCompatibilitySection="EX"}(Dt||(Dt={}));const Lt=Dt;const jt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.computeContents=function(){var e=r.getUnencodedContents();return r.encode?ee().deflate(e):e},r.encode=n,n&&t.set(St.of("Filter"),St.of("FlateDecode")),r.contentsCache=Me.populatedBy(r.computeContents),r}return i(t,e),t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new Oe(this.constructor.name,"getUnencodedContents")},t}(_t);var Ut=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this,t,r)||this;return i.operators=n,i}return i(t,e),t.prototype.push=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.operators).push.apply(e,t)},t.prototype.clone=function(e){for(var n=new Array(this.operators.length),r=0,i=this.operators.length;r<i;r++)n[r]=this.operators[r].clone(e);var o=this.dict,s=this.encode;return t.of(o.clone(e),n,s)},t.prototype.getContentsString=function(){for(var e="",t=0,n=this.operators.length;t<n;t++)e+=this.operators[t]+"\n";return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=0,n=0,r=this.operators.length;n<r;n++)t+=this.operators[n].copyBytesInto(e,t),e[t++]=ct.Newline;return e},t.prototype.getUnencodedContentsSize=function(){for(var e=0,t=0,n=this.operators.length;t<n;t++)e+=this.operators[t].sizeInBytes()+1;return e},t.of=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(jt);const Bt=Ut;var qt=function(){function e(e){this.seed=e}return e.prototype.nextInt=function(){var e=1e4*Math.sin(this.seed++);return e-Math.floor(e)},e.withSeed=function(t){return new e(t)},e}(),zt=function(e,t){var n=e[0],r=t[0];return n.objectNumber-r.objectNumber},Vt=function(){function e(){this.largestObjectNumber=0,this.header=lt.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=qt.withSeed(1)}return e.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},e.prototype.nextRef=function(){return this.largestObjectNumber+=1,Mt.of(this.largestObjectNumber)},e.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},e.prototype.delete=function(e){return this.indirectObjects.delete(e)},e.prototype.lookupMaybe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.includes(xt),i=e instanceof Mt?this.indirectObjects.get(e):e;if(i&&(i!==xt||r)){for(var o=0,s=t.length;o<s;o++){var a=t[o];if(a===xt){if(i===xt)return i}else if(i instanceof a)return i}throw new Le(t,i)}},e.prototype.lookup=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e instanceof Mt?this.indirectObjects.get(e):e;if(0===t.length)return r;for(var i=0,o=t.length;i<o;i++){var s=t[i];if(s===xt){if(r===xt)return r}else if(r instanceof s)return r}throw new Le(t,r)},e.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),n=0,r=t.length;n<r;n++){var i=t[n],o=i[0];if(i[1]===e)return o}},e.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(zt)},e.prototype.obj=function(e){if(e instanceof ut)return e;if(null===e||void 0===e)return xt;if("string"===typeof e)return St.of(e);if("number"===typeof e)return ht.of(e);if("boolean"===typeof e)return e?gt.True:gt.False;if(Array.isArray(e)){for(var t=ft.withContext(this),n=0,r=e.length;n<r;n++)t.push(this.obj(e[n]));return t}var i=Et.withContext(this),o=Object.keys(e);for(n=0,r=o.length;n<r;n++){var s=o[n],a=e[s];void 0!==a&&i.set(St.of(s),this.obj(a))}return i},e.prototype.stream=function(e,t){return void 0===t&&(t={}),Rt.of(this.obj(t),N(e))},e.prototype.flateStream=function(e,t){return void 0===t&&(t={}),this.stream(ee().deflate(N(e)),o(o({},t),{Filter:"FlateDecode"}))},e.prototype.contentStream=function(e,t){return void 0===t&&(t={}),Bt.of(this.obj(t),e)},e.prototype.formXObject=function(e,t){return void 0===t&&(t={}),this.contentStream(e,o(o({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},e.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=Ot.of(Lt.PushGraphicsState),n=Bt.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},e.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=Ot.of(Lt.PopGraphicsState),n=Bt.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},e.prototype.addRandomSuffix=function(e,t){return void 0===t&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},e.create=function(){return new e},e}();const Ht=Vt;var Wt=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this,t,n)||this;return i.normalized=!1,i.autoNormalizeCTM=r,i}return i(t,e),t.prototype.clone=function(e){for(var n=t.fromMapWithContext(new Map,e||this.context,this.autoNormalizeCTM),r=this.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];n.set(a,c)}return n},t.prototype.Parent=function(){return this.lookupMaybe(St.Parent,Et)},t.prototype.Contents=function(){return this.lookup(St.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(St.Annots,ft)},t.prototype.BleedBox=function(){return this.lookupMaybe(St.BleedBox,ft)},t.prototype.TrimBox=function(){return this.lookupMaybe(St.TrimBox,ft)},t.prototype.ArtBox=function(){return this.lookupMaybe(St.ArtBox,ft)},t.prototype.Resources=function(){var e=this.getInheritableAttribute(St.Resources);return this.context.lookupMaybe(e,Et)},t.prototype.MediaBox=function(){var e=this.getInheritableAttribute(St.MediaBox);return this.context.lookup(e,ft)},t.prototype.CropBox=function(){var e=this.getInheritableAttribute(St.CropBox);return this.context.lookupMaybe(e,ft)},t.prototype.Rotate=function(){var e=this.getInheritableAttribute(St.Rotate);return this.context.lookupMaybe(e,ht)},t.prototype.getInheritableAttribute=function(e){var t;return this.ascend((function(n){t||(t=n.get(e))})),t},t.prototype.setParent=function(e){this.set(St.Parent,e)},t.prototype.addContentStream=function(e){var t=this.normalizedEntries().Contents||this.context.obj([]);this.set(St.Contents,t),t.push(e)},t.prototype.wrapContentStreams=function(e,t){var n=this.Contents();return n instanceof ft&&(n.insert(0,e),n.push(t),!0)},t.prototype.addAnnot=function(e){this.normalizedEntries().Annots.push(e)},t.prototype.removeAnnot=function(e){var t=this.normalizedEntries().Annots,n=t.indexOf(e);void 0!==n&&t.remove(n)},t.prototype.setFontDictionary=function(e,t){this.normalizedEntries().Font.set(e,t)},t.prototype.newFontDictionaryKey=function(e){return this.normalizedEntries().Font.uniqueKey(e)},t.prototype.newFontDictionary=function(e,t){var n=this.newFontDictionaryKey(e);return this.setFontDictionary(n,t),n},t.prototype.setXObject=function(e,t){this.normalizedEntries().XObject.set(e,t)},t.prototype.newXObjectKey=function(e){return this.normalizedEntries().XObject.uniqueKey(e)},t.prototype.newXObject=function(e,t){var n=this.newXObjectKey(e);return this.setXObject(n,t),n},t.prototype.setExtGState=function(e,t){this.normalizedEntries().ExtGState.set(e,t)},t.prototype.newExtGStateKey=function(e){return this.normalizedEntries().ExtGState.uniqueKey(e)},t.prototype.newExtGState=function(e,t){var n=this.newExtGStateKey(e);return this.setExtGState(n,t),n},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.normalize=function(){if(!this.normalized){var e=this.context,t=this.get(St.Contents);this.context.lookup(t)instanceof _t&&this.set(St.Contents,e.obj([t])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var n=this.getInheritableAttribute(St.Resources),r=e.lookupMaybe(n,Et)||e.obj({});this.set(St.Resources,r);var i=r.lookupMaybe(St.Font,Et)||e.obj({});r.set(St.Font,i);var o=r.lookupMaybe(St.XObject,Et)||e.obj({});r.set(St.XObject,o);var s=r.lookupMaybe(St.ExtGState,Et)||e.obj({});r.set(St.ExtGState,s);var a=this.Annots()||e.obj([]);this.set(St.Annots,a),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var e=this.Annots(),t=this.Resources();return{Annots:e,Resources:t,Contents:this.Contents(),Font:t.lookup(St.Font,Et),XObject:t.lookup(St.XObject,Et),ExtGState:t.lookup(St.ExtGState,Et)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(e,n){var r=new Map;return r.set(St.Type,St.Page),r.set(St.Parent,n),r.set(St.Resources,e.obj({})),r.set(St.MediaBox,e.obj([0,0,612,792])),new t(r,e,!1)},t.fromMapWithContext=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(Et);const Kt=Wt;var Gt=function(){function e(e,t){var n=this;this.traversedObjects=new Map,this.copy=function(e){return e instanceof Kt?n.copyPDFPage(e):e instanceof Et?n.copyPDFDict(e):e instanceof ft?n.copyPDFArray(e):e instanceof _t?n.copyPDFStream(e):e instanceof Mt?n.copyPDFIndirectObject(e):e.clone()},this.copyPDFPage=function(e){for(var t=e.clone(),r=Kt.InheritableEntries,i=0,o=r.length;i<o;i++){var s=St.of(r[i]),a=t.getInheritableAttribute(s);!t.get(s)&&a&&t.set(s,a)}return t.delete(St.of("Parent")),n.copyPDFDict(t)},this.copyPDFDict=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=e.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];t.set(a,n.copy(c))}return t},this.copyPDFArray=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=0,i=e.size();r<i;r++){var o=e.get(r);t.set(r,n.copy(o))}return t},this.copyPDFStream=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=e.dict.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];t.dict.set(a,n.copy(c))}return t},this.copyPDFIndirectObject=function(e){if(!n.traversedObjects.has(e)){var t=n.dest.nextRef();n.traversedObjects.set(e,t);var r=n.src.lookup(e);if(r){var i=n.copy(r);n.dest.assign(t,i)}}return n.traversedObjects.get(e)},this.src=e,this.dest=t}return e.for=function(t,n){return new e(t,n)},e}();const Xt=Gt;var Yt=function(){function e(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return e.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},e.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},e.prototype.toString=function(){for(var e="xref\n",t=0,n=this.subsections.length;t<n;t++){var r=this.subsections[t];e+=r[0].ref.objectNumber+" "+r.length+"\n";for(var i=0,o=r.length;i<o;i++){var s=r[i];e+=b(String(s.offset),10,"0"),e+=" ",e+=b(String(s.ref.generationNumber),5,"0"),e+=" ",e+=s.deleted?"f":"n",e+=" \n"}}return e},e.prototype.sizeInBytes=function(){for(var e=5,t=0,n=this.subsections.length;t<n;t++){var r=this.subsections[t],i=r.length,o=r[0];e+=2,e+=String(o.ref.objectNumber).length,e+=String(i).length,e+=20*i}return e},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=ct.x,e[t++]=ct.r,e[t++]=ct.e,e[t++]=ct.f,e[t++]=ct.Newline,(t+=this.copySubsectionsIntoBuffer(this.subsections,e,t))-n},e.prototype.copySubsectionsIntoBuffer=function(e,t,n){for(var r=n,i=e.length,o=0;o<i;o++){var s=this.subsections[o],a=String(s[0].ref.objectNumber);n+=w(a,t,n),t[n++]=ct.Space;var c=String(s.length);n+=w(c,t,n),t[n++]=ct.Newline,n+=this.copyEntriesIntoBuffer(s,t,n)}return n-r},e.prototype.copyEntriesIntoBuffer=function(e,t,n){for(var r=e.length,i=0;i<r;i++){var o=e[i],s=b(String(o.offset),10,"0");n+=w(s,t,n),t[n++]=ct.Space;var a=b(String(o.ref.generationNumber),5,"0");n+=w(a,t,n),t[n++]=ct.Space,t[n++]=o.deleted?ct.f:ct.n,t[n++]=ct.Space,t[n++]=ct.Newline}return 20*r},e.prototype.append=function(e){if(0===this.chunkLength)return this.subsections.push([e]),this.chunkIdx=0,void(this.chunkLength=1);var t=this.subsections[this.chunkIdx],n=t[this.chunkLength-1];e.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},e.create=function(){return new e({ref:Mt.of(0,65535),offset:0,deleted:!0})},e.createEmpty=function(){return new e},e}();const Qt=Yt;const Jt=function(){function e(e){this.lastXRefOffset=String(e)}return e.prototype.toString=function(){return"startxref\n"+this.lastXRefOffset+"\n%%EOF"},e.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=ct.s,e[t++]=ct.t,e[t++]=ct.a,e[t++]=ct.r,e[t++]=ct.t,e[t++]=ct.x,e[t++]=ct.r,e[t++]=ct.e,e[t++]=ct.f,e[t++]=ct.Newline,t+=w(this.lastXRefOffset,e,t),e[t++]=ct.Newline,e[t++]=ct.Percent,e[t++]=ct.Percent,e[t++]=ct.E,e[t++]=ct.O,e[t++]=ct.F,t-n},e.forLastCrossRefSectionOffset=function(t){return new e(t)},e}();const Zt=function(){function e(e){this.dict=e}return e.prototype.toString=function(){return"trailer\n"+this.dict.toString()},e.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=ct.t,e[t++]=ct.r,e[t++]=ct.a,e[t++]=ct.i,e[t++]=ct.l,e[t++]=ct.e,e[t++]=ct.r,e[t++]=ct.Newline,(t+=this.dict.copyBytesInto(e,t))-n},e.of=function(t){return new e(t)},e}();var $t=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this,t.obj({}),r)||this;return i.objects=n,i.offsets=i.computeObjectOffsets(),i.offsetsString=i.computeOffsetsString(),i.dict.set(St.of("Type"),St.of("ObjStm")),i.dict.set(St.of("N"),ht.of(i.objects.length)),i.dict.set(St.of("First"),ht.of(i.offsetsString.length)),i}return i(t,e),t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(e){return t.withContextAndObjects(e||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var e=this.offsetsString,t=0,n=this.objects.length;t<n;t++){e+=this.objects[t][1]+"\n"}return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=w(this.offsetsString,e,0),n=0,r=this.objects.length;n<r;n++){t+=this.objects[n][1].copyBytesInto(e,t),e[t++]=ct.Newline}return e},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+P(this.offsets)[1]+P(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var e="",t=0,n=this.offsets.length;t<n;t++){var r=this.offsets[t];e+=r[0]+" "+r[1]+" "}return e},t.prototype.computeObjectOffsets=function(){for(var e=0,t=new Array(this.objects.length),n=0,r=this.objects.length;n<r;n++){var i=this.objects[n],o=i[0],s=i[1];t[n]=[o.objectNumber,e],e+=s.sizeInBytes()+1}return t},t.withContextAndObjects=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(jt);const en=$t;var tn=function(){function e(e,t){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(e){return n.parsedObjects+=e,n.parsedObjects%n.objectsPerTick===0},this.context=e,this.objectsPerTick=t}return e.prototype.serializeToBuffer=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,c,l,u,h,d,f,p,g,m,v;return a(this,(function(a){switch(a.label){case 0:return[4,this.computeBufferSize()];case 1:e=a.sent(),t=e.size,n=e.header,r=e.indirectObjects,i=e.xref,o=e.trailerDict,s=e.trailer,c=0,l=new Uint8Array(t),c+=n.copyBytesInto(l,c),l[c++]=ct.Newline,l[c++]=ct.Newline,u=0,h=r.length,a.label=2;case 2:return u<h?(d=r[u],f=d[0],p=d[1],g=String(f.objectNumber),c+=w(g,l,c),l[c++]=ct.Space,m=String(f.generationNumber),c+=w(m,l,c),l[c++]=ct.Space,l[c++]=ct.o,l[c++]=ct.b,l[c++]=ct.j,l[c++]=ct.Newline,c+=p.copyBytesInto(l,c),l[c++]=ct.Newline,l[c++]=ct.e,l[c++]=ct.n,l[c++]=ct.d,l[c++]=ct.o,l[c++]=ct.b,l[c++]=ct.j,l[c++]=ct.Newline,l[c++]=ct.Newline,v=p instanceof en?p.getObjectsCount():1,this.shouldWaitForTick(v)?[4,j()]:[3,4]):[3,5];case 3:a.sent(),a.label=4;case 4:return u++,[3,2];case 5:return i&&(c+=i.copyBytesInto(l,c),l[c++]=ct.Newline),o&&(c+=o.copyBytesInto(l,c),l[c++]=ct.Newline,l[c++]=ct.Newline),c+=s.copyBytesInto(l,c),[2,l]}}))}))},e.prototype.computeIndirectObjectSize=function(e){var t=e[0],n=e[1];return t.sizeInBytes()+3+(n.sizeInBytes()+9)},e.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},e.prototype.computeBufferSize=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,c,l,u,h;return a(this,(function(a){switch(a.label){case 0:e=lt.forVersion(1,7),t=e.sizeInBytes()+2,n=Qt.create(),r=this.context.enumerateIndirectObjects(),i=0,o=r.length,a.label=1;case 1:return i<o?(s=r[i],c=s[0],n.addEntry(c,t),t+=this.computeIndirectObjectSize(s),this.shouldWaitForTick(1)?[4,j()]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return l=t,t+=n.sizeInBytes()+1,u=Zt.of(this.createTrailerDict()),t+=u.sizeInBytes()+2,h=Jt.forLastCrossRefSectionOffset(l),[2,{size:t+=h.sizeInBytes(),header:e,indirectObjects:r,xref:n,trailerDict:u,trailer:h}]}}))}))},e.forContext=function(t,n){return new e(t,n)},e}();const nn=tn;var rn=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(e,t){for(var n=this.data.length,r=0;r<n;r++)e[t++]=this.data[r];return n},t.of=function(e){return new t(e)},t}(ut);const on=rn;var sn;!function(e){e[e.Deleted=0]="Deleted",e[e.Uncompressed=1]="Uncompressed",e[e.Compressed=2]="Compressed"}(sn||(sn={}));var an=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this,t,r)||this;return i.computeIndex=function(){for(var e=[],t=0,n=0,r=i.entries.length;n<r;n++){var o=i.entries[n],s=i.entries[n-1];0===n?e.push(o.ref.objectNumber):o.ref.objectNumber-s.ref.objectNumber>1&&(e.push(t),e.push(o.ref.objectNumber),t=0),t+=1}return e.push(t),e},i.computeEntryTuples=function(){for(var e=new Array(i.entries.length),t=0,n=i.entries.length;t<n;t++){var r=i.entries[t];if(r.type===sn.Deleted){var o=r.type,s=r.nextFreeObjectNumber,a=r.ref;e[t]=[o,s,a.generationNumber]}if(r.type===sn.Uncompressed){o=r.type;var c=r.offset;a=r.ref;e[t]=[o,c,a.generationNumber]}if(r.type===sn.Compressed){o=r.type;var l=r.objectStreamRef,u=r.index;e[t]=[o,l.objectNumber,u]}}return e},i.computeMaxEntryByteWidths=function(){for(var e=i.entryTuplesCache.access(),t=[0,0,0],n=0,r=e.length;n<r;n++){var o=e[n],s=o[0],a=o[1],c=o[2],l=Q(s),u=Q(a),h=Q(c);l>t[0]&&(t[0]=l),u>t[1]&&(t[1]=u),h>t[2]&&(t[2]=h)}return t},i.entries=n||[],i.entryTuplesCache=Me.populatedBy(i.computeEntryTuples),i.maxByteWidthsCache=Me.populatedBy(i.computeMaxEntryByteWidths),i.indexCache=Me.populatedBy(i.computeIndex),t.set(St.of("Type"),St.of("XRef")),i}return i(t,e),t.prototype.addDeletedEntry=function(e,t){var n=sn.Deleted;this.entries.push({type:n,ref:e,nextFreeObjectNumber:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(e,t){var n=sn.Uncompressed;this.entries.push({type:n,ref:e,offset:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(e,t,n){var r=sn.Compressed;this.entries.push({type:r,ref:e,objectStreamRef:t,index:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(e){var n=this,r=n.dict,i=n.entries,o=n.encode;return t.of(r.clone(e),i.slice(),o)},t.prototype.getContentsString=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),n="",r=0,i=e.length;r<i;r++){for(var o=e[r],s=o[0],a=o[1],c=o[2],l=D(J(s)),u=D(J(a)),h=D(J(c)),d=t[0]-1;d>=0;d--)n+=(l[d]||0).toString(2);for(d=t[1]-1;d>=0;d--)n+=(u[d]||0).toString(2);for(d=t[2]-1;d>=0;d--)n+=(h[d]||0).toString(2)}return n},t.prototype.getUnencodedContents=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),n=new Uint8Array(this.getUnencodedContentsSize()),r=0,i=0,o=e.length;i<o;i++){for(var s=e[i],a=s[0],c=s[1],l=s[2],u=D(J(a)),h=D(J(c)),d=D(J(l)),f=t[0]-1;f>=0;f--)n[r++]=u[f]||0;for(f=t[1]-1;f>=0;f--)n[r++]=h[f]||0;for(f=t[2]-1;f>=0;f--)n[r++]=d[f]||0}return n},t.prototype.getUnencodedContentsSize=function(){var e=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n];return t}(this.maxByteWidthsCache.access());return e*this.entries.length},t.prototype.updateDict=function(){e.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),n=this.indexCache.access(),r=this.dict.context;this.dict.set(St.of("W"),r.obj(t)),this.dict.set(St.of("Index"),r.obj(n))},t.create=function(e,n){void 0===n&&(n=!0);var r=new t(e,[],n);return r.addDeletedEntry(Mt.of(0,65535),0),r},t.of=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(jt);const cn=an;var ln=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.encodeStreams=r,o.objectsPerStream=i,o}return i(t,e),t.prototype.computeBufferSize=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,c,l,u,h,d,f,p,g,m,v,y,b;return a(this,(function(a){switch(a.label){case 0:e=this.context.largestObjectNumber+1,t=lt.forVersion(1,7),n=t.sizeInBytes()+2,r=cn.create(this.createTrailerDict(),this.encodeStreams),i=[],o=[],s=[],c=this.context.enumerateIndirectObjects(),d=0,f=c.length,a.label=1;case 1:return d<f?(l=c[d],g=l[0],u=l[1],g===this.context.trailerInfo.Encrypt||u instanceof _t||u instanceof on||0!==g.generationNumber?(i.push(l),r.addUncompressedEntry(g,n),n+=this.computeIndirectObjectSize(l),this.shouldWaitForTick(1)?[4,j()]:[3,3]):[3,4]):[3,6];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:p=P(o),h=P(s),p&&p.length%this.objectsPerStream!==0||(p=[],o.push(p),h=Mt.of(e++),s.push(h)),r.addCompressedEntry(g,h,p.length),p.push(l),a.label=5;case 5:return d++,[3,1];case 6:d=0,f=o.length,a.label=7;case 7:return d<f?(p=o[d],g=s[d],m=en.withContextAndObjects(this.context,p,this.encodeStreams),r.addUncompressedEntry(g,n),n+=this.computeIndirectObjectSize([g,m]),i.push([g,m]),this.shouldWaitForTick(p.length)?[4,j()]:[3,9]):[3,10];case 8:a.sent(),a.label=9;case 9:return d++,[3,7];case 10:return v=Mt.of(e++),r.dict.set(St.of("Size"),ht.of(e)),r.addUncompressedEntry(v,n),y=n,n+=this.computeIndirectObjectSize([v,r]),i.push([v,r]),b=Jt.forLastCrossRefSectionOffset(y),[2,{size:n+=b.sizeInBytes(),header:t,indirectObjects:i,trailer:b}]}}))}))},t.forContext=function(e,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=50),new t(e,n,r,i)},t}(nn);const un=ln;var hn=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return i(t,e),t.prototype.asBytes=function(){for(var e=this.value+(this.value.length%2===1?"0":""),t=e.length,n=new Uint8Array(e.length/2),r=0,i=0;r<t;){var o=parseInt(e.substring(r,r+2),16);n[i]=o,r+=2,i+=1}return n},t.prototype.decodeText=function(){var e=this.asBytes();return Y(e)?z(e):Ne(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=_(e);if(!t)throw new He(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=ct.LessThan,t+=w(this.value,e,t),e[t++]=ct.GreaterThan,this.value.length+2},t.of=function(e){return new t(e)},t.fromText=function(e){for(var n=function(e,t){void 0===t&&(t=!0);var n=[];t&&n.push(65279);for(var r=0,i=e.length;r<i;){var o=e.codePointAt(r);if(o<65536)n.push(o),r+=1;else{if(!(o<1114112))throw new Error("Invalid code point: 0x"+v(o));n.push(U(o),B(o)),r+=2}}return new Uint16Array(n)}(e),r="",i=0,o=n.length;i<o;i++)r+=m(n[i],4);return new t(r)},t}(ut);const dn=hn;var fn=function(){function e(e,t){this.encoding=e===oe.ZapfDingbats?de.ZapfDingbats:e===oe.Symbol?de.Symbol:de.WinAnsi,this.font=ce.load(e),this.fontName=this.font.FontName,this.customName=t}return e.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=v(t[r].code);return dn.of(n.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var n=this.encodeTextAsGlyphs(e),r=0,i=0,o=n.length;i<o;i++){var s=n[i].name,a=(n[i+1]||{}).name,c=this.font.getXAxisKerningForPair(s,a)||0;r+=this.widthOfGlyph(s)+c}return r*(t/1e3)},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var n=t.descender,r=void 0===n||n,i=this.font,o=i.Ascender,s=i.Descender,a=i.FontBBox,c=(o||a[3])-(s||a[1]);return r||(c+=s||0),c/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,n=t.Ascender,r=t.Descender,i=t.FontBBox;return 1e3*e/((n||i[3])-(r||i[1]))},e.prototype.embedIntoContext=function(e,t){var n=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===de.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,n),t):e.register(n)},e.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},e.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),n=new Array(t.length),r=0,i=t.length;r<i;r++){var o=t[r].codePointAt(0);n[r]=this.encoding.encodeUnicodeCodePoint(o)}return n},e.for=function(t,n){return new e(t,n)},e}();const pn=fn;var gn=function(e){return"/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n"+e.length+" beginbfchar\n"+e.map((function(e){return e[0]+" "+e[1]})).join("\n")+"\nendbfchar\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},mn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"<"+e.join("")+">"},vn=function(e){return m(e,4)},yn=function(e){if(function(e){return e>=0&&e<=65535}(e))return vn(e);if(function(e){return e>=65536&&e<=1114111}(e)){var t=U(e),n=B(e);return""+vn(t)+vn(n)}var r=v(e);throw new Error("0x"+r+" is not a valid UTF-8 or UTF-16 codepoint.")},bn=function(e){var t=e["OS/2"]?e["OS/2"].sFamilyClass:0;return function(e){var t=0,n=function(e){t|=1<<e-1};return e.fixedPitch&&n(1),e.serif&&n(2),e.symbolic&&n(3),e.script&&n(4),e.nonsymbolic&&n(6),e.italic&&n(7),e.allCap&&n(17),e.smallCap&&n(18),e.forceBold&&n(19),t}({fixedPitch:e.post.isFixedPitch,serif:1<=t&&t<=7,symbolic:!0,script:10===t,italic:e.head.macStyle.italic})},wn=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return i(t,e),t.prototype.asBytes=function(){for(var e=[],t="",n=!1,r=function(t){void 0!==t&&e.push(t),n=!1},i=0,o=this.value.length;i<o;i++){var s=this.value[i],a=g(s),c=this.value[i+1];n?a===ct.Newline||a===ct.CarriageReturn?r():a===ct.n?r(ct.Newline):a===ct.r?r(ct.CarriageReturn):a===ct.t?r(ct.Tab):a===ct.b?r(ct.Backspace):a===ct.f?r(ct.FormFeed):a===ct.LeftParen?r(ct.LeftParen):a===ct.RightParen?r(ct.RightParen):a===ct.Backspace?r(ct.BackSlash):a>=ct.Zero&&a<=ct.Seven?3!==(t+=s).length&&c>="0"&&c<="7"||(r(parseInt(t,8)),t=""):r(a):a===ct.BackSlash?n=!0:r(a)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return Y(e)?z(e):Ne(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=_(e);if(!t)throw new He(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=ct.LeftParen,t+=w(this.value,e,t),e[t++]=ct.RightParen,this.value.length+2},t.of=function(e){return new t(e)},t.fromDate=function(e){return new t("D:"+b(String(e.getUTCFullYear()),4,"0")+b(String(e.getUTCMonth()+1),2,"0")+b(String(e.getUTCDate()),2,"0")+b(String(e.getUTCHours()),2,"0")+b(String(e.getUTCMinutes()),2,"0")+b(String(e.getUTCSeconds()),2,"0")+"Z")},t}(ut);const An=wn;var Cn=function(){function e(e,t,n,r){var i=this;this.allGlyphsInFontSortedById=function(){for(var e=new Array(i.font.characterSet.length),t=0,n=e.length;t<n;t++){var r=i.font.characterSet[t];e[t]=i.font.glyphForCodePoint(r)}return function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],s=e[r-1];0!==r&&t(o)===t(s)||n.push(o)}return n}(e.sort(O),(function(e){return e.id}))},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=r,this.baseFontName="",this.glyphCache=Me.populatedBy(this.allGlyphsInFontSortedById)}return e.for=function(t,n,r,i){return s(this,void 0,void 0,(function(){return a(this,(function(o){switch(o.label){case 0:return[4,t.create(n)];case 1:return[2,new e(o.sent(),n,r,i)]}}))}))},e.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=m(t[r].id,4);return dn.of(n.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var n=this.font.layout(e,this.fontFeatures).glyphs,r=0,i=0,o=n.length;i<o;i++)r+=n[i].advanceWidth*this.scale;return r*(t/1e3)},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var n=t.descender,r=void 0===n||n,i=this.font,o=i.ascent,s=i.descent,a=i.bbox,c=(o||a.maxY)*this.scale-(s||a.minY)*this.scale;return r||(c-=Math.abs(s)||0),c/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,n=t.ascent,r=t.descent,i=t.bbox;return 1e3*e/((n||i.maxY)*this.scale-(r||i.minY)*this.scale)},e.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},e.prototype.embedFontDict=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(o){switch(o.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return n=o.sent(),r=this.embedUnicodeCmap(e),i=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:r}),t?(e.assign(t,i),[2,t]):[2,e.register(i)]}}))}))},e.prototype.isCFF=function(){return this.font.cff},e.prototype.embedCIDFontDict=function(e){return s(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=r.sent(),n=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:An.of("Adobe"),Ordering:An.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(n)]}}))}))},e.prototype.embedFontDescriptor=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i,o,s,c,l,u,h,d,f,p,g,m;return a(this,(function(a){switch(a.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=a.sent(),n=this.scale,r=this.font,i=r.italicAngle,o=r.ascent,s=r.descent,c=r.capHeight,l=r.xHeight,u=this.font.bbox,h=u.minX,d=u.minY,f=u.maxX,p=u.maxY,g=e.obj(((m={Type:"FontDescriptor",FontName:this.baseFontName,Flags:bn(this.font),FontBBox:[h*n,d*n,f*n,p*n],ItalicAngle:i,Ascent:o*n,Descent:s*n,CapHeight:(c||o)*n,XHeight:(l||0)*n,StemV:0})[this.isCFF()?"FontFile3":"FontFile2"]=t,m)),[2,e.register(g)]}}))}))},e.prototype.serializeFont=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.fontData]}))}))},e.prototype.embedFontStream=function(e){return s(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(i){switch(i.label){case 0:return r=(n=e).flateStream,[4,this.serializeFont()];case 1:return t=r.apply(n,[i.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}}))}))},e.prototype.embedUnicodeCmap=function(e){var t=function(e,t){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=e[r],s=mn(vn(t(o))),a=mn.apply(void 0,o.codePoints.map(yn));n[r]=[s,a]}return gn(n)}(this.glyphCache.access(),this.glyphId.bind(this)),n=e.flateStream(t);return e.register(n)},e.prototype.glyphId=function(e){return e?e.id:-1},e.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],n=[],r=0,i=e.length;r<i;r++){var o=e[r],s=e[r-1],a=this.glyphId(o),c=this.glyphId(s);0===r?t.push(a):a-c!==1&&(t.push(n),t.push(a),n=[]),n.push(o.advanceWidth*this.scale)}return t.push(n),t},e}();const kn=Cn;var Sn=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.subset=o.font.createSubset(),o.glyphs=[],o.glyphCache=Me.populatedBy((function(){return o.glyphs})),o.glyphIdMap=new Map,o}return i(t,e),t.for=function(e,n,r,i){return s(this,void 0,void 0,(function(){return a(this,(function(o){switch(o.label){case 0:return[4,e.create(n)];case 1:return[2,new t(o.sent(),n,r,i)]}}))}))},t.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(t.length),r=0,i=t.length;r<i;r++){var o=t[r],s=this.subset.includeGlyph(o);this.glyphs[s-1]=o,this.glyphIdMap.set(o.id,s),n[r]=m(s,4)}return this.glyphCache.invalidate(),dn.of(n.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(e){return e?this.glyphIdMap.get(e.id):-1},t.prototype.serializeFont=function(){var e=this;return new Promise((function(t,n){var r=[];e.subset.encodeStream().on("data",(function(e){return r.push(e)})).on("end",(function(){return t(function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;var i=new Uint8Array(t),o=0;for(n=0,r=e.length;n<r;n++){var s=e[n];i.set(s,o),o+=s.length}return i}(r))})).on("error",(function(e){return n(e)}))}))},t}(kn);const xn=Sn;var Tn;!function(e){e.Source="Source",e.Data="Data",e.Alternative="Alternative",e.Supplement="Supplement",e.EncryptedPayload="EncryptedPayload",e.FormData="EncryptedPayload",e.Schema="Schema",e.Unspecified="Unspecified"}(Tn||(Tn={}));const En=function(){function e(e,t,n){void 0===n&&(n={}),this.fileData=e,this.fileName=t,this.options=n}return e.for=function(t,n,r){return void 0===r&&(r={}),new e(t,n,r)},e.prototype.embedIntoContext=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,s,c,l,u,h;return a(this,(function(a){return n=this.options,r=n.mimeType,i=n.description,o=n.creationDate,s=n.modificationDate,c=n.afRelationship,l=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:null!==r&&void 0!==r?r:void 0,Params:{Size:this.fileData.length,CreationDate:o?An.fromDate(o):void 0,ModDate:s?An.fromDate(s):void 0}}),u=e.register(l),h=e.obj({Type:"Filespec",F:An.of(this.fileName),UF:dn.fromText(this.fileName),EF:{F:u},Desc:i?dn.fromText(i):void 0,AFRelationship:null!==c&&void 0!==c?c:void 0}),t?(e.assign(t,h),[2,t]):[2,e.register(h)]}))}))},e}();var In,_n=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487];!function(e){e.DeviceGray="DeviceGray",e.DeviceRGB="DeviceRGB",e.DeviceCMYK="DeviceCMYK"}(In||(In={}));var Rn={1:In.DeviceGray,3:In.DeviceRGB,4:In.DeviceCMYK};const Pn=function(){function e(e,t,n,r,i){this.imageData=e,this.bitsPerComponent=t,this.width=n,this.height=r,this.colorSpace=i}return e.for=function(t){return s(this,void 0,void 0,(function(){var n,r,i,o,s,c,l,u;return a(this,(function(a){if(n=new DataView(t.buffer),65496!==n.getUint16(0))throw new Error("SOI not found in JPEG");for(r=2;r<n.byteLength&&(i=n.getUint16(r),r+=2,!_n.includes(i));)r+=n.getUint16(r);if(!_n.includes(i))throw new Error("Invalid JPEG");if(r+=2,o=n.getUint8(r++),s=n.getUint16(r),r+=2,c=n.getUint16(r),r+=2,l=n.getUint8(r++),!(u=Rn[l]))throw new Error("Unknown JPEG channel.");return[2,new e(t,o,c,s,u)]}))}))},e.prototype.embedIntoContext=function(e,t){return s(this,void 0,void 0,(function(){var n;return a(this,(function(r){return n=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===In.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]}))}))},e}();var Nn={toRGBA8:function(e){var t=e.width,n=e.height;if(null==e.tabs.acTL)return[Nn.toRGBA8.decodeImage(e.data,t,n,e).buffer];var r=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var i=t*n*4,o=new Uint8Array(i),s=new Uint8Array(i),a=new Uint8Array(i),c=0;c<e.frames.length;c++){var l=e.frames[c],u=l.rect.x,h=l.rect.y,d=l.rect.width,f=l.rect.height,p=Nn.toRGBA8.decodeImage(l.data,d,f,e);if(0!=c)for(var g=0;g<i;g++)a[g]=o[g];if(0==l.blend?Nn._copyTile(p,d,f,o,t,n,u,h,0):1==l.blend&&Nn._copyTile(p,d,f,o,t,n,u,h,1),r.push(o.buffer.slice(0)),0==l.dispose);else if(1==l.dispose)Nn._copyTile(s,d,f,o,t,n,u,h,0);else if(2==l.dispose)for(g=0;g<i;g++)o[g]=a[g]}return r}};Nn.toRGBA8.decodeImage=function(e,t,n,r){var i=t*n,o=Nn.decode._getBPP(r),s=Math.ceil(t*o/8),a=new Uint8Array(4*i),c=new Uint32Array(a.buffer),l=r.ctype,u=r.depth,h=Nn._bin.readUshort;Date.now();if(6==l){var d=i<<2;if(8==u)for(var f=0;f<d;f+=4)a[f]=e[f],a[f+1]=e[f+1],a[f+2]=e[f+2],a[f+3]=e[f+3];if(16==u)for(f=0;f<d;f++)a[f]=e[f<<1]}else if(2==l){var p=r.tabs.tRNS;if(null==p){if(8==u)for(f=0;f<i;f++){var g=3*f;c[f]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g]}if(16==u)for(f=0;f<i;f++){g=6*f;c[f]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g]}}else{var m=p[0],v=p[1],y=p[2];if(8==u)for(f=0;f<i;f++){var b=f<<2;g=3*f;c[f]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==m&&e[g+1]==v&&e[g+2]==y&&(a[b+3]=0)}if(16==u)for(f=0;f<i;f++){b=f<<2,g=6*f;c[f]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g],h(e,g)==m&&h(e,g+2)==v&&h(e,g+4)==y&&(a[b+3]=0)}}}else if(3==l){var w=r.tabs.PLTE,A=r.tabs.tRNS,C=A?A.length:0;if(1==u)for(var k=0;k<n;k++){var S=k*s,x=k*t;for(f=0;f<t;f++){b=x+f<<2;var T=3*(E=e[S+(f>>3)]>>7-(7&f)&1);a[b]=w[T],a[b+1]=w[T+1],a[b+2]=w[T+2],a[b+3]=E<C?A[E]:255}}if(2==u)for(k=0;k<n;k++)for(S=k*s,x=k*t,f=0;f<t;f++){b=x+f<<2,T=3*(E=e[S+(f>>2)]>>6-((3&f)<<1)&3);a[b]=w[T],a[b+1]=w[T+1],a[b+2]=w[T+2],a[b+3]=E<C?A[E]:255}if(4==u)for(k=0;k<n;k++)for(S=k*s,x=k*t,f=0;f<t;f++){b=x+f<<2,T=3*(E=e[S+(f>>1)]>>4-((1&f)<<2)&15);a[b]=w[T],a[b+1]=w[T+1],a[b+2]=w[T+2],a[b+3]=E<C?A[E]:255}if(8==u)for(f=0;f<i;f++){var E;b=f<<2,T=3*(E=e[f]);a[b]=w[T],a[b+1]=w[T+1],a[b+2]=w[T+2],a[b+3]=E<C?A[E]:255}}else if(4==l){if(8==u)for(f=0;f<i;f++){b=f<<2;var I=e[_=f<<1];a[b]=I,a[b+1]=I,a[b+2]=I,a[b+3]=e[_+1]}if(16==u)for(f=0;f<i;f++){var _;b=f<<2,I=e[_=f<<2];a[b]=I,a[b+1]=I,a[b+2]=I,a[b+3]=e[_+2]}}else if(0==l)for(m=r.tabs.tRNS?r.tabs.tRNS:-1,k=0;k<n;k++){var R=k*s,P=k*t;if(1==u)for(var N=0;N<t;N++){var M=(I=255*(e[R+(N>>>3)]>>>7-(7&N)&1))==255*m?0:255;c[P+N]=M<<24|I<<16|I<<8|I}else if(2==u)for(N=0;N<t;N++){M=(I=85*(e[R+(N>>>2)]>>>6-((3&N)<<1)&3))==85*m?0:255;c[P+N]=M<<24|I<<16|I<<8|I}else if(4==u)for(N=0;N<t;N++){M=(I=17*(e[R+(N>>>1)]>>>4-((1&N)<<2)&15))==17*m?0:255;c[P+N]=M<<24|I<<16|I<<8|I}else if(8==u)for(N=0;N<t;N++){M=(I=e[R+N])==m?0:255;c[P+N]=M<<24|I<<16|I<<8|I}else if(16==u)for(N=0;N<t;N++){I=e[R+(N<<1)],M=h(e,R+(N<<f))==m?0:255;c[P+N]=M<<24|I<<16|I<<8|I}}return a},Nn.decode=function(e){for(var t,n=new Uint8Array(e),r=8,i=Nn._bin,o=i.readUshort,s=i.readUint,a={tabs:{},frames:[]},c=new Uint8Array(n.length),l=0,u=0,h=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(n[d]!=h[d])throw"The input is not a PNG file!";for(;r<n.length;){var f=i.readUint(n,r);r+=4;var p=i.readASCII(n,r,4);if(r+=4,"IHDR"==p)Nn.decode._IHDR(n,r,a);else if("IDAT"==p){for(d=0;d<f;d++)c[l+d]=n[r+d];l+=f}else if("acTL"==p)a.tabs[p]={num_frames:s(n,r),num_plays:s(n,r+4)},t=new Uint8Array(n.length);else if("fcTL"==p){var g;if(0!=u)(g=a.frames[a.frames.length-1]).data=Nn.decode._decompress(a,t.slice(0,u),g.rect.width,g.rect.height),u=0;var m={x:s(n,r+12),y:s(n,r+16),width:s(n,r+4),height:s(n,r+8)},v=o(n,r+22);v=o(n,r+20)/(0==v?100:v);var y={rect:m,delay:Math.round(1e3*v),dispose:n[r+24],blend:n[r+25]};a.frames.push(y)}else if("fdAT"==p){for(d=0;d<f-4;d++)t[u+d]=n[r+d+4];u+=f-4}else if("pHYs"==p)a.tabs[p]=[i.readUint(n,r),i.readUint(n,r+4),n[r+8]];else if("cHRM"==p){a.tabs[p]=[];for(d=0;d<8;d++)a.tabs[p].push(i.readUint(n,r+4*d))}else if("tEXt"==p){null==a.tabs[p]&&(a.tabs[p]={});var b=i.nextZero(n,r),w=i.readASCII(n,r,b-r),A=i.readASCII(n,b+1,r+f-b-1);a.tabs[p][w]=A}else if("iTXt"==p){null==a.tabs[p]&&(a.tabs[p]={});b=0;var C=r;b=i.nextZero(n,C);w=i.readASCII(n,C,b-C),n[C=b+1],n[C+1];C+=2,b=i.nextZero(n,C);i.readASCII(n,C,b-C);C=b+1,b=i.nextZero(n,C);i.readUTF8(n,C,b-C);C=b+1;A=i.readUTF8(n,C,f-(C-r));a.tabs[p][w]=A}else if("PLTE"==p)a.tabs[p]=i.readBytes(n,r,f);else if("hIST"==p){var k=a.tabs.PLTE.length/3;a.tabs[p]=[];for(d=0;d<k;d++)a.tabs[p].push(o(n,r+2*d))}else if("tRNS"==p)3==a.ctype?a.tabs[p]=i.readBytes(n,r,f):0==a.ctype?a.tabs[p]=o(n,r):2==a.ctype&&(a.tabs[p]=[o(n,r),o(n,r+2),o(n,r+4)]);else if("gAMA"==p)a.tabs[p]=i.readUint(n,r)/1e5;else if("sRGB"==p)a.tabs[p]=n[r];else if("bKGD"==p)0==a.ctype||4==a.ctype?a.tabs[p]=[o(n,r)]:2==a.ctype||6==a.ctype?a.tabs[p]=[o(n,r),o(n,r+2),o(n,r+4)]:3==a.ctype&&(a.tabs[p]=n[r]);else if("IEND"==p)break;r+=f;i.readUint(n,r);r+=4}0!=u&&((g=a.frames[a.frames.length-1]).data=Nn.decode._decompress(a,t.slice(0,u),g.rect.width,g.rect.height),u=0);return a.data=Nn.decode._decompress(a,c,a.width,a.height),delete a.compress,delete a.interlace,delete a.filter,a},Nn.decode._decompress=function(e,t,n,r){Date.now();var i=Nn.decode._getBPP(e),o=Math.ceil(n*i/8),s=new Uint8Array((o+1+e.interlace)*r);t=Nn.decode._inflate(t,s);Date.now();return 0==e.interlace?t=Nn.decode._filterZero(t,e,0,n,r):1==e.interlace&&(t=Nn.decode._readInterlace(t,e)),t},Nn.decode._inflate=function(e,t){return Nn.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},Nn.inflateRaw=function(){var e={H:{}};return e.H.N=function(t,n){var r,i,o=Uint8Array,s=0,a=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0;if(3==t[0]&&0==t[1])return n||new o(0);var g=e.H,m=g.b,v=g.e,y=g.R,b=g.n,w=g.A,A=g.Z,C=g.m,k=null==n;for(k&&(n=new o(t.length>>>2<<3));0==s;)if(s=m(t,p,1),a=m(t,p+1,2),p+=3,0!=a){if(k&&(n=e.H.W(n,f+(1<<17))),1==a&&(r=C.J,i=C.h,h=511,d=31),2==a){c=v(t,p,5)+257,l=v(t,p+5,5)+1,u=v(t,p+10,4)+4;p+=14;for(var S=1,x=0;x<38;x+=2)C.Q[x]=0,C.Q[x+1]=0;for(x=0;x<u;x++){var T=v(t,p+3*x,3);C.Q[1+(C.X[x]<<1)]=T,T>S&&(S=T)}p+=3*u,b(C.Q,S),w(C.Q,S,C.u),r=C.w,i=C.d,p=y(C.u,(1<<S)-1,c+l,t,p,C.v);var E=g.V(C.v,0,c,C.C);h=(1<<E)-1;var I=g.V(C.v,c,l,C.D);d=(1<<I)-1,b(C.C,E),w(C.C,E,r),b(C.D,I),w(C.D,I,i)}for(;;){var _=r[A(t,p)&h];p+=15&_;var R=_>>>4;if(R>>>8==0)n[f++]=R;else{if(256==R)break;var P=f+R-254;if(R>264){var N=C.q[R-257];P=f+(N>>>3)+v(t,p,7&N),p+=7&N}var M=i[A(t,p)&d];p+=15&M;var F=M>>>4,O=C.c[F],D=(O>>>4)+m(t,p,15&O);for(p+=15&O;f<P;)n[f]=n[f++-D],n[f]=n[f++-D],n[f]=n[f++-D],n[f]=n[f++-D];f=P}}}else{0!=(7&p)&&(p+=8-(7&p));var L=(p>>>3)+4,j=t[L-4]|t[L-3]<<8;k&&(n=e.H.W(n,f+j)),n.set(new o(t.buffer,t.byteOffset+L,j),f),p=L+j<<3,f+=j}return n.length==f?n:n.slice(0,f)},e.H.W=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(n<<1);return r.set(e,0),r},e.H.R=function(t,n,r,i,o,s){for(var a=e.H.e,c=e.H.Z,l=0;l<r;){var u=t[c(i,o)&n];o+=15&u;var h=u>>>4;if(h<=15)s[l]=h,l++;else{var d=0,f=0;16==h?(f=3+a(i,o,2),o+=2,d=s[l-1]):17==h?(f=3+a(i,o,3),o+=3):18==h&&(f=11+a(i,o,7),o+=7);for(var p=l+f;l<p;)s[l]=d,l++}}return o},e.H.V=function(e,t,n,r){for(var i=0,o=0,s=r.length>>>1;o<n;){var a=e[o+t];r[o<<1]=0,r[1+(o<<1)]=a,a>i&&(i=a),o++}for(;o<s;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},e.H.n=function(t,n){for(var r,i,o,s,a=e.H.m,c=t.length,l=a.j,u=0;u<=n;u++)l[u]=0;for(u=1;u<c;u+=2)l[t[u]]++;var h=a.K;for(r=0,l[0]=0,i=1;i<=n;i++)r=r+l[i-1]<<1,h[i]=r;for(o=0;o<c;o+=2)0!=(s=t[o+1])&&(t[o]=h[s],h[s]++)},e.H.A=function(t,n,r){for(var i=t.length,o=e.H.m.r,s=0;s<i;s+=2)if(0!=t[s+1])for(var a=s>>1,c=t[s+1],l=a<<4|c,u=n-c,h=t[s]<<u,d=h+(1<<u);h!=d;){r[o[h]>>>15-n]=l,h++}},e.H.l=function(t,n){for(var r=e.H.m.r,i=15-n,o=0;o<t.length;o+=2){var s=t[o]<<n-t[o+1];t[o]=r[s]>>>i}},e.H.M=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16|e[(t>>>3)+3]<<24)>>>(7&t)},e.H.m=function(){var e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var t=e.H.m,n=0;n<32768;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.r[n]=(r>>>16|r<<16)>>>17}function i(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];i(t._,144,8),i(t._,112,9),i(t._,24,7),i(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),i(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),i(t.Q,19,0),i(t.C,286,0),i(t.D,30,0),i(t.v,320,0)}(),e.H.N}(),Nn.decode._readInterlace=function(e,t){for(var n=t.width,r=t.height,i=Nn.decode._getBPP(t),o=i>>3,s=Math.ceil(n*i/8),a=new Uint8Array(r*s),c=0,l=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],f=0;f<7;){for(var p=h[f],g=d[f],m=0,v=0,y=l[f];y<r;)y+=p,v++;for(var b=u[f];b<n;)b+=g,m++;var w=Math.ceil(m*i/8);Nn.decode._filterZero(e,t,c,m,v);for(var A=0,C=l[f];C<r;){for(var k=u[f],S=c+A*w<<3;k<n;){var x;if(1==i)x=(x=e[S>>3])>>7-(7&S)&1,a[C*s+(k>>3)]|=x<<7-(7&k);if(2==i)x=(x=e[S>>3])>>6-(7&S)&3,a[C*s+(k>>2)]|=x<<6-((3&k)<<1);if(4==i)x=(x=e[S>>3])>>4-(7&S)&15,a[C*s+(k>>1)]|=x<<4-((1&k)<<2);if(i>=8)for(var T=C*s+k*o,E=0;E<o;E++)a[T+E]=e[(S>>3)+E];S+=i,k+=g}A++,C+=p}m*v!=0&&(c+=v*(1+w)),f+=1}return a},Nn.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},Nn.decode._filterZero=function(e,t,n,r,i){var o=Nn.decode._getBPP(t),s=Math.ceil(r*o/8),a=Nn.decode._paeth;o=Math.ceil(o/8);var c=0,l=1,u=e[n],h=0;if(u>1&&(e[n]=[0,0,1][u-2]),3==u)for(h=o;h<s;h++)e[h+1]=e[h+1]+(e[h+1-o]>>>1)&255;for(var d=0;d<i;d++)if(h=0,0==(u=e[(l=(c=n+d*s)+d+1)-1]))for(;h<s;h++)e[c+h]=e[l+h];else if(1==u){for(;h<o;h++)e[c+h]=e[l+h];for(;h<s;h++)e[c+h]=e[l+h]+e[c+h-o]}else if(2==u)for(;h<s;h++)e[c+h]=e[l+h]+e[c+h-s];else if(3==u){for(;h<o;h++)e[c+h]=e[l+h]+(e[c+h-s]>>>1);for(;h<s;h++)e[c+h]=e[l+h]+(e[c+h-s]+e[c+h-o]>>>1)}else{for(;h<o;h++)e[c+h]=e[l+h]+a(0,e[c+h-s],0);for(;h<s;h++)e[c+h]=e[l+h]+a(e[c+h-o],e[c+h-s],e[c+h-o-s])}return e},Nn.decode._paeth=function(e,t,n){var r=e+t-n,i=r-e,o=r-t,s=r-n;return i*i<=o*o&&i*i<=s*s?e:o*o<=s*s?t:n},Nn.decode._IHDR=function(e,t,n){var r=Nn._bin;n.width=r.readUint(e,t),t+=4,n.height=r.readUint(e,t),t+=4,n.depth=e[t],t++,n.ctype=e[t],t++,n.compress=e[t],t++,n.filter=e[t],t++,n.interlace=e[t],t++},Nn._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var r,i="",o=0;o<n;o++)i+="%"+Nn._bin.pad(e[t+o].toString(16));try{r=decodeURIComponent(i)}catch(s){return Nn._bin.readASCII(e,t,n)}return r}},Nn._copyTile=function(e,t,n,r,i,o,s,a,c){for(var l=Math.min(t,i),u=Math.min(n,o),h=0,d=0,f=0;f<u;f++)for(var p=0;p<l;p++)if(s>=0&&a>=0?(h=f*t+p<<2,d=(a+f)*i+s+p<<2):(h=(-a+f)*t-s+p<<2,d=f*i+p<<2),0==c)r[d]=e[h],r[d+1]=e[h+1],r[d+2]=e[h+2],r[d+3]=e[h+3];else if(1==c){var g=e[h+3]*(1/255),m=e[h]*g,v=e[h+1]*g,y=e[h+2]*g,b=r[d+3]*(1/255),w=r[d]*b,A=r[d+1]*b,C=r[d+2]*b,k=1-g,S=g+b*k,x=0==S?0:1/S;r[d+3]=255*S,r[d+0]=(m+w*k)*x,r[d+1]=(v+A*k)*x,r[d+2]=(y+C*k)*x}else if(2==c){g=e[h+3],m=e[h],v=e[h+1],y=e[h+2],b=r[d+3],w=r[d],A=r[d+1],C=r[d+2];g==b&&m==w&&v==A&&y==C?(r[d]=0,r[d+1]=0,r[d+2]=0,r[d+3]=0):(r[d]=m,r[d+1]=v,r[d+2]=y,r[d+3]=g)}else if(3==c){g=e[h+3],m=e[h],v=e[h+1],y=e[h+2],b=r[d+3],w=r[d],A=r[d+1],C=r[d+2];if(g==b&&m==w&&v==A&&y==C)continue;if(g<220&&b>20)return!1}return!0},Nn.encode=function(e,t,n,r,i,o,s){null==r&&(r=0),null==s&&(s=!1);var a=Nn.encode.compress(e,t,n,r,[!1,!1,!1,0,s]);return Nn.encode.compressPNG(a,-1),Nn.encode._main(a,t,n,i,o)},Nn.encodeLL=function(e,t,n,r,i,o,s,a){for(var c={ctype:0+(1==r?0:2)+(0==i?0:4),depth:o,frames:[]},l=(Date.now(),(r+i)*o),u=l*t,h=0;h<e.length;h++)c.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[h]),blend:0,dispose:1,bpp:Math.ceil(l/8),bpl:Math.ceil(u/8)});return Nn.encode.compressPNG(c,0,!0),Nn.encode._main(c,t,n,s,a)},Nn.encode._main=function(e,t,n,r,i){null==i&&(i={});var o=Nn.crc.crc,s=Nn._bin.writeUint,a=Nn._bin.writeUshort,c=Nn._bin.writeASCII,l=8,u=e.frames.length>1,h=!1,d=33+(u?20:0);if(null!=i.sRGB&&(d+=13),null!=i.pHYs&&(d+=21),3==e.ctype){for(var f=e.plte.length,p=0;p<f;p++)e.plte[p]>>>24!=255&&(h=!0);d+=8+3*f+4+(h?8+1*f+4:0)}for(var g=0;g<e.frames.length;g++){u&&(d+=38),d+=(S=e.frames[g]).cimg.length+12,0!=g&&(d+=4)}d+=12;var m=new Uint8Array(d),v=[137,80,78,71,13,10,26,10];for(p=0;p<8;p++)m[p]=v[p];if(s(m,l,13),c(m,l+=4,"IHDR"),s(m,l+=4,t),s(m,l+=4,n),m[l+=4]=e.depth,m[++l]=e.ctype,m[++l]=0,m[++l]=0,m[++l]=0,s(m,++l,o(m,l-17,17)),l+=4,null!=i.sRGB&&(s(m,l,1),c(m,l+=4,"sRGB"),m[l+=4]=i.sRGB,s(m,++l,o(m,l-5,5)),l+=4),null!=i.pHYs&&(s(m,l,9),c(m,l+=4,"pHYs"),s(m,l+=4,i.pHYs[0]),s(m,l+=4,i.pHYs[1]),m[l+=4]=i.pHYs[2],s(m,++l,o(m,l-13,13)),l+=4),u&&(s(m,l,8),c(m,l+=4,"acTL"),s(m,l+=4,e.frames.length),s(m,l+=4,null!=i.loop?i.loop:0),s(m,l+=4,o(m,l-12,12)),l+=4),3==e.ctype){s(m,l,3*(f=e.plte.length)),c(m,l+=4,"PLTE"),l+=4;for(p=0;p<f;p++){var y=3*p,b=e.plte[p],w=255&b,A=b>>>8&255,C=b>>>16&255;m[l+y+0]=w,m[l+y+1]=A,m[l+y+2]=C}if(s(m,l+=3*f,o(m,l-3*f-4,3*f+4)),l+=4,h){s(m,l,f),c(m,l+=4,"tRNS"),l+=4;for(p=0;p<f;p++)m[l+p]=e.plte[p]>>>24&255;s(m,l+=f,o(m,l-f-4,f+4)),l+=4}}var k=0;for(g=0;g<e.frames.length;g++){var S=e.frames[g];u&&(s(m,l,26),c(m,l+=4,"fcTL"),s(m,l+=4,k++),s(m,l+=4,S.rect.width),s(m,l+=4,S.rect.height),s(m,l+=4,S.rect.x),s(m,l+=4,S.rect.y),a(m,l+=4,r[g]),a(m,l+=2,1e3),m[l+=2]=S.dispose,m[++l]=S.blend,s(m,++l,o(m,l-30,30)),l+=4);var x=S.cimg;s(m,l,(f=x.length)+(0==g?0:4));var T=l+=4;c(m,l,0==g?"IDAT":"fdAT"),l+=4,0!=g&&(s(m,l,k++),l+=4),m.set(x,l),s(m,l+=f,o(m,T,l-T)),l+=4}return s(m,l,0),c(m,l+=4,"IEND"),s(m,l+=4,o(m,l-4,4)),l+=4,m.buffer},Nn.encode.compressPNG=function(e,t,n){for(var r=0;r<e.frames.length;r++){var i=e.frames[r],o=(i.rect.width,i.rect.height),s=new Uint8Array(o*i.bpl+o);i.cimg=Nn.encode._filterZero(i.img,o,i.bpp,i.bpl,s,t,n)}},Nn.encode.compress=function(e,t,n,r,i){for(var o=i[0],s=i[1],a=i[2],c=i[3],l=i[4],u=6,h=8,d=255,f=0;f<e.length;f++)for(var p=new Uint8Array(e[f]),g=p.length,m=0;m<g;m+=4)d&=p[m+3];var v=255!=d,y=Nn.encode.framize(e,t,n,o,s,a),b={},w=[],A=[];if(0!=r){var C=[];for(m=0;m<y.length;m++)C.push(y[m].img.buffer);var k=Nn.encode.concatRGBA(C),S=Nn.quantize(k,r),x=0,T=new Uint8Array(S.abuf);for(m=0;m<y.length;m++){var E=(W=y[m].img).length;A.push(new Uint8Array(S.inds.buffer,x>>2,E>>2));for(f=0;f<E;f+=4)W[f]=T[x+f],W[f+1]=T[x+f+1],W[f+2]=T[x+f+2],W[f+3]=T[x+f+3];x+=E}for(m=0;m<S.plte.length;m++)w.push(S.plte[m].est.rgba)}else for(f=0;f<y.length;f++){var I=y[f],_=new Uint32Array(I.img.buffer),R=I.rect.width,P=(g=_.length,new Uint8Array(g));A.push(P);for(m=0;m<g;m++){var N=_[m];if(0!=m&&N==_[m-1])P[m]=P[m-1];else if(m>R&&N==_[m-R])P[m]=P[m-R];else{var M=b[N];if(null==M&&(b[N]=M=w.length,w.push(N),w.length>=300))break;P[m]=M}}}var F=w.length;F<=256&&0==l&&(h=F<=2?1:F<=4?2:F<=16?4:8,h=Math.max(h,c));for(f=0;f<y.length;f++){(I=y[f]).rect.x,I.rect.y,R=I.rect.width;var O=I.rect.height,D=I.img,L=(new Uint32Array(D.buffer),4*R),j=4;if(F<=256&&0==l){L=Math.ceil(h*R/8);for(var U=new Uint8Array(L*O),B=A[f],q=0;q<O;q++){m=q*L;var z=q*R;if(8==h)for(var V=0;V<R;V++)U[m+V]=B[z+V];else if(4==h)for(V=0;V<R;V++)U[m+(V>>1)]|=B[z+V]<<4-4*(1&V);else if(2==h)for(V=0;V<R;V++)U[m+(V>>2)]|=B[z+V]<<6-2*(3&V);else if(1==h)for(V=0;V<R;V++)U[m+(V>>3)]|=B[z+V]<<7-1*(7&V)}D=U,u=3,j=1}else if(0==v&&1==y.length){U=new Uint8Array(R*O*3);var H=R*O;for(m=0;m<H;m++){var W,K=4*m;U[W=3*m]=D[K],U[W+1]=D[K+1],U[W+2]=D[K+2]}D=U,u=2,j=3,L=3*R}I.img=D,I.bpl=L,I.bpp=j}return{ctype:u,depth:h,plte:w,frames:y}},Nn.encode.framize=function(e,t,n,r,i,o){for(var s=[],a=0;a<e.length;a++){var c,l=new Uint8Array(e[a]),u=new Uint32Array(l.buffer),h=0,d=0,f=t,p=n,g=r?1:0;if(0!=a){for(var m=o||r||1==a||0!=s[a-2].dispose?1:2,v=0,y=1e9,b=0;b<m;b++){for(var w=new Uint8Array(e[a-1-b]),A=new Uint32Array(e[a-1-b]),C=t,k=n,S=-1,x=-1,T=0;T<n;T++)for(var E=0;E<t;E++){u[F=T*t+E]!=A[F]&&(E<C&&(C=E),E>S&&(S=E),T<k&&(k=T),T>x&&(x=T))}-1==S&&(C=k=S=x=0),i&&(1==(1&C)&&C--,1==(1&k)&&k--);var I=(S-C+1)*(x-k+1);I<y&&(y=I,v=b,h=C,d=k,f=S-C+1,p=x-k+1)}w=new Uint8Array(e[a-1-v]);1==v&&(s[a-1].dispose=2),c=new Uint8Array(f*p*4),Nn._copyTile(w,t,n,c,f,p,-h,-d,0),1==(g=Nn._copyTile(l,t,n,c,f,p,-h,-d,3)?1:0)?Nn.encode._prepareDiff(l,t,n,c,{x:h,y:d,width:f,height:p}):Nn._copyTile(l,t,n,c,f,p,-h,-d,0)}else c=l.slice(0);s.push({rect:{x:h,y:d,width:f,height:p},img:c,blend:g,dispose:0})}if(r)for(a=0;a<s.length;a++){if(1!=(O=s[a]).blend){var _=O.rect,R=s[a-1].rect,P=Math.min(_.x,R.x),N=Math.min(_.y,R.y),M={x:P,y:N,width:Math.max(_.x+_.width,R.x+R.width)-P,height:Math.max(_.y+_.height,R.y+R.height)-N};s[a-1].dispose=1,a-1!=0&&Nn.encode._updateFrame(e,t,n,s,a-1,M,i),Nn.encode._updateFrame(e,t,n,s,a,M,i)}}if(1!=e.length)for(var F=0;F<s.length;F++){var O;(O=s[F]).rect.width*O.rect.height}return s},Nn.encode._updateFrame=function(e,t,n,r,i,o,s){for(var a=Uint8Array,c=Uint32Array,l=new a(e[i-1]),u=new c(e[i-1]),h=i+1<e.length?new a(e[i+1]):null,d=new a(e[i]),f=new c(d.buffer),p=t,g=n,m=-1,v=-1,y=0;y<o.height;y++)for(var b=0;b<o.width;b++){var w=o.x+b,A=o.y+y,C=A*t+w,k=f[C];0==k||0==r[i-1].dispose&&u[C]==k&&(null==h||0!=h[4*C+3])||(w<p&&(p=w),w>m&&(m=w),A<g&&(g=A),A>v&&(v=A))}-1==m&&(p=g=m=v=0),s&&(1==(1&p)&&p--,1==(1&g)&&g--),o={x:p,y:g,width:m-p+1,height:v-g+1};var S=r[i];S.rect=o,S.blend=1,S.img=new Uint8Array(o.width*o.height*4),0==r[i-1].dispose?(Nn._copyTile(l,t,n,S.img,o.width,o.height,-o.x,-o.y,0),Nn.encode._prepareDiff(d,t,n,S.img,o)):Nn._copyTile(d,t,n,S.img,o.width,o.height,-o.x,-o.y,0)},Nn.encode._prepareDiff=function(e,t,n,r,i){Nn._copyTile(e,t,n,r,i.width,i.height,-i.x,-i.y,2)},Nn.encode._filterZero=function(e,t,n,r,i,o,s){var a,c=[],l=[0,1,2,3,4];-1!=o?l=[o]:(t*r>5e5||1==n)&&(l=[0]),s&&(a={level:0});for(var u=s&&null!=UZIP?UZIP:ee(),h=0;h<l.length;h++){for(var d=0;d<t;d++)Nn.encode._filterLine(i,e,d,r,n,l[h]);c.push(u.deflate(i,a))}var f,p=1e9;for(h=0;h<c.length;h++)c[h].length<p&&(f=h,p=c[h].length);return c[f]},Nn.encode._filterLine=function(e,t,n,r,i,o){var s=n*r,a=s+n,c=Nn.decode._paeth;if(e[a]=o,a++,0==o)if(r<500)for(var l=0;l<r;l++)e[a+l]=t[s+l];else e.set(new Uint8Array(t.buffer,s,r),a);else if(1==o){for(l=0;l<i;l++)e[a+l]=t[s+l];for(l=i;l<r;l++)e[a+l]=t[s+l]-t[s+l-i]+256&255}else if(0==n){for(l=0;l<i;l++)e[a+l]=t[s+l];if(2==o)for(l=i;l<r;l++)e[a+l]=t[s+l];if(3==o)for(l=i;l<r;l++)e[a+l]=t[s+l]-(t[s+l-i]>>1)+256&255;if(4==o)for(l=i;l<r;l++)e[a+l]=t[s+l]-c(t[s+l-i],0,0)+256&255}else{if(2==o)for(l=0;l<r;l++)e[a+l]=t[s+l]+256-t[s+l-r]&255;if(3==o){for(l=0;l<i;l++)e[a+l]=t[s+l]+256-(t[s+l-r]>>1)&255;for(l=i;l<r;l++)e[a+l]=t[s+l]+256-(t[s+l-r]+t[s+l-i]>>1)&255}if(4==o){for(l=0;l<i;l++)e[a+l]=t[s+l]+256-c(0,t[s+l-r],0)&255;for(l=i;l<r;l++)e[a+l]=t[s+l]+256-c(t[s+l-i],t[s+l-r],t[s+l-i-r])&255}}},Nn.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=Nn.crc.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^Nn.crc.update(4294967295,e,t,n)}},Nn.quantize=function(e,t){for(var n=new Uint8Array(e),r=n.slice(0),i=new Uint32Array(r.buffer),o=Nn.quantize.getKDtree(r,t),s=o[0],a=o[1],c=(Nn.quantize.planeDst,n),l=i,u=c.length,h=new Uint8Array(n.length>>2),d=0;d<u;d+=4){var f=c[d]*(1/255),p=c[d+1]*(1/255),g=c[d+2]*(1/255),m=c[d+3]*(1/255),v=Nn.quantize.getNearest(s,f,p,g,m);h[d>>2]=v.ind,l[d>>2]=v.est.rgba}return{abuf:r.buffer,inds:h,plte:a}},Nn.quantize.getKDtree=function(e,t,n){null==n&&(n=1e-4);var r=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=Nn.quantize.stats(e,i.i0,i.i1),i.est=Nn.quantize.estats(i.bst);for(var o=[i];o.length<t;){for(var s=0,a=0,c=0;c<o.length;c++)o[c].est.L>s&&(s=o[c].est.L,a=c);if(s<n)break;var l=o[a],u=Nn.quantize.splitPixels(e,r,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=u||l.i1<=u)l.est.L=0;else{var h={i0:l.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};h.bst=Nn.quantize.stats(e,h.i0,h.i1),h.est=Nn.quantize.estats(h.bst);var d={i0:u,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};d.bst={R:[],m:[],N:l.bst.N-h.bst.N};for(c=0;c<16;c++)d.bst.R[c]=l.bst.R[c]-h.bst.R[c];for(c=0;c<4;c++)d.bst.m[c]=l.bst.m[c]-h.bst.m[c];d.est=Nn.quantize.estats(d.bst),l.left=h,l.right=d,o[a]=h,o.push(d)}}o.sort((function(e,t){return t.bst.N-e.bst.N}));for(c=0;c<o.length;c++)o[c].ind=c;return[i,o]},Nn.quantize.getNearest=function(e,t,n,r,i){if(null==e.left)return e.tdst=Nn.quantize.dist(e.est.q,t,n,r,i),e;var o=Nn.quantize.planeDst(e.est,t,n,r,i),s=e.left,a=e.right;o>0&&(s=e.right,a=e.left);var c=Nn.quantize.getNearest(s,t,n,r,i);if(c.tdst<=o*o)return c;var l=Nn.quantize.getNearest(a,t,n,r,i);return l.tdst<c.tdst?l:c},Nn.quantize.planeDst=function(e,t,n,r,i){var o=e.e;return o[0]*t+o[1]*n+o[2]*r+o[3]*i-e.eMq},Nn.quantize.dist=function(e,t,n,r,i){var o=t-e[0],s=n-e[1],a=r-e[2],c=i-e[3];return o*o+s*s+a*a+c*c},Nn.quantize.splitPixels=function(e,t,n,r,i,o){var s=Nn.quantize.vecDot;r-=4;for(;n<r;){for(;s(e,n,i)<=o;)n+=4;for(;s(e,r,i)>o;)r-=4;if(n>=r)break;var a=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=a,n+=4,r-=4}for(;s(e,n,i)>o;)n-=4;return n+4},Nn.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},Nn.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=n-t>>2,s=t;s<n;s+=4){var a=e[s]*(1/255),c=e[s+1]*(1/255),l=e[s+2]*(1/255),u=e[s+3]*(1/255);i[0]+=a,i[1]+=c,i[2]+=l,i[3]+=u,r[0]+=a*a,r[1]+=a*c,r[2]+=a*l,r[3]+=a*u,r[5]+=c*c,r[6]+=c*l,r[7]+=c*u,r[10]+=l*l,r[11]+=l*u,r[15]+=u*u}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:o}},Nn.quantize.estats=function(e){var t=e.R,n=e.m,r=e.N,i=n[0],o=n[1],s=n[2],a=n[3],c=0==r?0:1/r,l=[t[0]-i*i*c,t[1]-i*o*c,t[2]-i*s*c,t[3]-i*a*c,t[4]-o*i*c,t[5]-o*o*c,t[6]-o*s*c,t[7]-o*a*c,t[8]-s*i*c,t[9]-s*o*c,t[10]-s*s*c,t[11]-s*a*c,t[12]-a*i*c,t[13]-a*o*c,t[14]-a*s*c,t[15]-a*a*c],u=l,h=Nn.M4,d=[.5,.5,.5,.5],f=0,p=0;if(0!=r)for(var g=0;g<10&&(d=h.multVec(u,d),p=Math.sqrt(h.dot(d,d)),d=h.sml(1/p,d),!(Math.abs(p-f)<1e-9));g++)f=p;var m=[i*c,o*c,s*c,a*c];return{Cov:l,q:m,e:d,L:f,eMq255:h.dot(h.sml(255,m),d),eMq:h.dot(d,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0]))>>>0}},Nn.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},Nn.encode.concatRGBA=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].byteLength;var r=new Uint8Array(t),i=0;for(n=0;n<e.length;n++){for(var o=new Uint8Array(e[n]),s=o.length,a=0;a<s;a+=4){var c=o[a],l=o[a+1],u=o[a+2],h=o[a+3];0==h&&(c=l=u=0),r[i+a]=c,r[i+a+1]=l,r[i+a+2]=u,r[i+a+3]=h}i+=s}return r.buffer};const Mn=Nn;var Fn;!function(e){e.Greyscale="Greyscale",e.Truecolour="Truecolour",e.IndexedColour="IndexedColour",e.GreyscaleWithAlpha="GreyscaleWithAlpha",e.TruecolourWithAlpha="TruecolourWithAlpha"}(Fn||(Fn={}));var On=function(){function e(e){var t=Mn.decode(e),n=Mn.toRGBA8(t);if(n.length>1)throw new Error("Animated PNGs are not supported");var r=function(e){for(var t=Math.floor(e.length/4),n=new Uint8Array(3*t),r=new Uint8Array(1*t),i=0,o=0,s=0;i<e.length;)n[o++]=e[i++],n[o++]=e[i++],n[o++]=e[i++],r[s++]=e[i++];return{rgbChannel:n,alphaChannel:r}}(new Uint8Array(n[0])),i=r.rgbChannel,o=r.alphaChannel;this.rgbChannel=i,o.some((function(e){return e<255}))&&(this.alphaChannel=o),this.type=function(e){if(0===e)return Fn.Greyscale;if(2===e)return Fn.Truecolour;if(3===e)return Fn.IndexedColour;if(4===e)return Fn.GreyscaleWithAlpha;if(6===e)return Fn.TruecolourWithAlpha;throw new Error("Unknown color type: "+e)}(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return e.load=function(t){return new e(t)},e}();const Dn=function(){function e(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return e.for=function(t){return s(this,void 0,void 0,(function(){return a(this,(function(n){return[2,new e(On.load(t))]}))}))},e.prototype.embedIntoContext=function(e,t){return s(this,void 0,void 0,(function(){var n,r;return a(this,(function(i){return n=this.embedAlphaChannel(e),r=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),t?(e.assign(t,r),[2,t]):[2,e.register(r)]}))}))},e.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},e}();const Ln=function(){function e(e,t,n){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&n?t+n:this.bytes.length}return Object.defineProperty(e.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){void 0===t&&(t=!1);var n=this.bytes,r=this.pos,i=this.end;if(e){var o=r+e;o>i&&(o=i),this.pos=o;s=n.subarray(r,o);return t?new Uint8ClampedArray(s):s}var s=n.subarray(r,i);return t?new Uint8ClampedArray(s):s},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var n=this.getBytes(e,t);return this.pos-=n.length,n},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=this.start},e.prototype.moveStart=function(){this.start=this.pos},e.prototype.makeSubStream=function(t,n){return new e(this.bytes,t,n)},e.prototype.decode=function(){return this.bytes},e}();var jn=new Uint8Array(0);const Un=function(){function e(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=jn,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){var n;void 0===t&&(t=!1);var r=this.pos;if(e){for(this.ensureBuffer(r+e),n=r+e;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;n>i&&(n=i)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var o=this.buffer.subarray(r,n);return!t||o instanceof Uint8ClampedArray?o:new Uint8ClampedArray(o)},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var n=this.getBytes(e,t);return this.pos-=n.length,n},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=0},e.prototype.makeSubStream=function(e,t){for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Ln(this.buffer,e,t)},e.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},e.prototype.readBlock=function(){throw new Oe(this.constructor.name,"readBlock")},e.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var n=this.minBufferLength;n<e;)n*=2;var r=new Uint8Array(n);return r.set(t),this.buffer=r},e}();var Bn=function(e){return 32===e||9===e||13===e||10===e},qn=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r.input=new Uint8Array(5),n&&(n*=.8),r}return i(t,e),t.prototype.readBlock=function(){for(var e=this.stream,t=e.getByte();Bn(t);)t=e.getByte();if(-1!==t&&126!==t){var n,r,i=this.bufferLength;if(122===t){for(n=this.ensureBuffer(i+4),r=0;r<4;++r)n[i+r]=0;this.bufferLength+=4}else{var o=this.input;for(o[0]=t,r=1;r<5;++r){for(t=e.getByte();Bn(t);)t=e.getByte();if(o[r]=t,-1===t||126===t)break}if(n=this.ensureBuffer(i+r-1),this.bufferLength+=r-1,r<5){for(;r<5;++r)o[r]=117;this.eof=!0}var s=0;for(r=0;r<5;++r)s=85*s+(o[r]-33);for(r=3;r>=0;--r)n[i+r]=255&s,s>>=8}}else this.eof=!0},t}(Un);const zn=qn;var Vn=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r.firstDigit=-1,n&&(n*=.5),r}return i(t,e),t.prototype.readBlock=function(){var e=this.stream.getBytes(8e3);if(e.length){for(var t=e.length+1>>1,n=this.ensureBuffer(this.bufferLength+t),r=this.bufferLength,i=this.firstDigit,o=0,s=e.length;o<s;o++){var a=e[o],c=void 0;if(a>=48&&a<=57)c=15&a;else{if(!(a>=65&&a<=70||a>=97&&a<=102)){if(62===a){this.eof=!0;break}continue}c=9+(15&a)}i<0?i=c:(n[r++]=i<<4|c,i=-1)}i>=0&&this.eof&&(n[r++]=i<<4,i=-1),this.firstDigit=i,this.bufferLength=r}else this.eof=!0},t}(Un);const Hn=Vn;var Wn=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kn=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),Gn=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Xn=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Yn=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],Qn=function(e){function t(t,n){var r=e.call(this,n)||this;r.stream=t;var i=t.getByte(),o=t.getByte();if(-1===i||-1===o)throw new Error("Invalid header in flate stream: "+i+", "+o);if(8!==(15&i))throw new Error("Unknown compression method in flate stream: "+i+", "+o);if(((i<<8)+o)%31!==0)throw new Error("Bad FCHECK in flate stream: "+i+", "+o);if(32&o)throw new Error("FDICT bit set in flate stream: "+i+", "+o);return r.codeSize=0,r.codeBuf=0,r}return i(t,e),t.prototype.readBlock=function(){var e,t,n=this.stream,r=this.getBits(3);if(1&r&&(this.eof=!0),0!==(r>>=1)){var i,o;if(1===r)i=Xn,o=Yn;else{if(2!==r)throw new Error("Unknown block type in flate stream");var s=this.getBits(5)+257,a=this.getBits(5)+1,c=this.getBits(4)+4,l=new Uint8Array(Wn.length),u=void 0;for(u=0;u<c;++u)l[Wn[u]]=this.getBits(3);var h=this.generateHuffmanTable(l);t=0,u=0;for(var d=s+a,f=new Uint8Array(d),p=void 0,g=void 0,m=void 0;u<d;){var v=this.getCode(h);if(16===v)p=2,g=3,m=t;else if(17===v)p=3,g=3,m=t=0;else{if(18!==v){f[u++]=t=v;continue}p=7,g=11,m=t=0}for(var y=this.getBits(p)+g;y-- >0;)f[u++]=m}i=this.generateHuffmanTable(f.subarray(0,s)),o=this.generateHuffmanTable(f.subarray(s,d))}for(var b=(e=this.buffer)?e.length:0,w=this.bufferLength;;){var A=this.getCode(i);if(A<256)w+1>=b&&(b=(e=this.ensureBuffer(w+1)).length),e[w++]=A;else{if(256===A)return void(this.bufferLength=w);var C=(A=Kn[A-=257])>>16;C>0&&(C=this.getBits(C)),t=(65535&A)+C,A=this.getCode(o),(C=(A=Gn[A])>>16)>0&&(C=this.getBits(C));var k=(65535&A)+C;w+t>=b&&(b=(e=this.ensureBuffer(w+t)).length);for(var S=0;S<t;++S,++w)e[w]=e[w-k]}}}else{var x=void 0;if(-1===(x=n.getByte()))throw new Error("Bad block header in flate stream");var T=x;if(-1===(x=n.getByte()))throw new Error("Bad block header in flate stream");if(T|=x<<8,-1===(x=n.getByte()))throw new Error("Bad block header in flate stream");var E=x;if(-1===(x=n.getByte()))throw new Error("Bad block header in flate stream");if((E|=x<<8)!==(65535&~T)&&(0!==T||0!==E))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var I=this.bufferLength;e=this.ensureBuffer(I+T);var _=I+T;if(this.bufferLength=_,0===T)-1===n.peekByte()&&(this.eof=!0);else for(var R=I;R<_;++R){if(-1===(x=n.getByte())){this.eof=!0;break}e[R]=x}}},t.prototype.getBits=function(e){for(var t,n=this.stream,r=this.codeSize,i=this.codeBuf;r<e;){if(-1===(t=n.getByte()))throw new Error("Bad encoding in flate stream");i|=t<<r,r+=8}return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=r-=e,t},t.prototype.getCode=function(e){for(var t,n=this.stream,r=e[0],i=e[1],o=this.codeSize,s=this.codeBuf;o<i&&-1!==(t=n.getByte());)s|=t<<o,o+=8;var a=r[s&(1<<i)-1];"number"===typeof r&&console.log("FLATE:",a);var c=a>>16,l=65535&a;if(c<1||o<c)throw new Error("Bad encoding in flate stream");return this.codeBuf=s>>c,this.codeSize=o-c,l},t.prototype.generateHuffmanTable=function(e){var t,n=e.length,r=0;for(t=0;t<n;++t)e[t]>r&&(r=e[t]);for(var i=1<<r,o=new Int32Array(i),s=1,a=0,c=2;s<=r;++s,a<<=1,c<<=1)for(var l=0;l<n;++l)if(e[l]===s){var u=0,h=a;for(t=0;t<s;++t)u=u<<1|1&h,h>>=1;for(t=u;t<i;t+=c)o[t]=s<<16|l;++a}return[o,r]},t}(Un);const Jn=Qn;var Zn=function(e){function t(t,n,r){var i=e.call(this,n)||this;i.stream=t,i.cachedData=0,i.bitsCached=0;for(var o=4096,s={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(o),dictionaryLengths:new Uint16Array(o),dictionaryPrevCodes:new Uint16Array(o),currentSequence:new Uint8Array(o),currentSequenceLength:0},a=0;a<256;++a)s.dictionaryValues[a]=a,s.dictionaryLengths[a]=1;return i.lzwState=s,i}return i(t,e),t.prototype.readBlock=function(){var e,t,n,r=1024,i=this.lzwState;if(i){var o=i.earlyChange,s=i.nextCode,a=i.dictionaryValues,c=i.dictionaryLengths,l=i.dictionaryPrevCodes,u=i.codeLength,h=i.prevCode,d=i.currentSequence,f=i.currentSequenceLength,p=0,g=this.bufferLength,m=this.ensureBuffer(this.bufferLength+r);for(e=0;e<512;e++){var v=this.readBits(u),y=f>0;if(!v||v<256)d[0]=v,f=1;else{if(!(v>=258)){if(256===v){u=9,s=258,f=0;continue}this.eof=!0,delete this.lzwState;break}if(v<s)for(t=(f=c[v])-1,n=v;t>=0;t--)d[t]=a[n],n=l[n];else d[f++]=d[0]}if(y&&(l[s]=h,c[s]=c[h]+1,a[s]=d[0],u=++s+o&s+o-1?u:0|Math.min(Math.log(s+o)/.6931471805599453+1,12)),h=v,r<(p+=f)){do{r+=512}while(r<p);m=this.ensureBuffer(this.bufferLength+r)}for(t=0;t<f;t++)m[g++]=d[t]}i.nextCode=s,i.codeLength=u,i.prevCode=h,i.currentSequenceLength=f,this.bufferLength=g}},t.prototype.readBits=function(e){for(var t=this.bitsCached,n=this.cachedData;t<e;){var r=this.stream.getByte();if(-1===r)return this.eof=!0,null;n=n<<8|r,t+=8}return this.bitsCached=t-=e,this.cachedData=n,n>>>t&(1<<e)-1},t}(Un);const $n=Zn;var er=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r}return i(t,e),t.prototype.readBlock=function(){var e=this.stream.getBytes(2);if(!e||e.length<2||128===e[0])this.eof=!0;else{var t,n=this.bufferLength,r=e[0];if(r<128){if((t=this.ensureBuffer(n+r+1))[n++]=e[1],r>0){var i=this.stream.getBytes(r);t.set(i,n),n+=r}}else{r=257-r;var o=e[1];t=this.ensureBuffer(n+r+1);for(var s=0;s<r;s++)t[n++]=o}this.bufferLength=n}},t}(Un);const tr=er;var nr=function(e,t,n){if(t===St.of("FlateDecode"))return new Jn(e);if(t===St.of("LZWDecode")){var r=1;if(n instanceof Et){var i=n.lookup(St.of("EarlyChange"));i instanceof ht&&(r=i.asNumber())}return new $n(e,void 0,r)}if(t===St.of("ASCII85Decode"))return new zn(e);if(t===St.of("ASCIIHexDecode"))return new Hn(e);if(t===St.of("RunLengthDecode"))return new tr(e);throw new je(t.asString())},rr=function(e){var t=e.dict,n=e.contents,r=new Ln(n),i=t.lookup(St.of("Filter")),o=t.lookup(St.of("DecodeParms"));if(i instanceof St)r=nr(r,i,o);else if(i instanceof ft)for(var s=0,a=i.size();s<a;s++)r=nr(r,i.lookup(s,St),o&&o.lookupMaybe(s,Et));else if(i)throw new Le([St,ft],i);return r},ir=function(){function e(e,t,n){this.page=e;var r=null!==t&&void 0!==t?t:function(e){var t=e.MediaBox();return{left:0,bottom:0,right:t.lookup(2,ht).asNumber()-t.lookup(0,ht).asNumber(),top:t.lookup(3,ht).asNumber()-t.lookup(1,ht).asNumber()}}(e);this.width=r.right-r.left,this.height=r.top-r.bottom,this.boundingBox=r,this.transformationMatrix=null!==n&&void 0!==n?n:function(e){return[1,0,0,1,-e.left,-e.bottom]}(r)}return e.for=function(t,n,r){return s(this,void 0,void 0,(function(){return a(this,(function(i){return[2,new e(t,n,r)]}))}))},e.prototype.embedIntoContext=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,s,c,l,u,h,d;return a(this,(function(a){if(n=this.page.normalizedEntries(),r=n.Contents,i=n.Resources,!r)throw new Be;return o=this.decodeContents(r),s=this.boundingBox,c=s.left,l=s.bottom,u=s.right,h=s.top,d=e.flateStream(o,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[c,l,u,h],Matrix:this.transformationMatrix,Resources:i}),t?(e.assign(t,d),[2,t]):[2,e.register(d)]}))}))},e.prototype.decodeContents=function(e){for(var t=Uint8Array.of(ct.Newline),n=[],r=0,i=e.size();r<i;r++){var o=e.lookup(r,_t),s=void 0;if(o instanceof Rt)s=rr(o).decode();else{if(!(o instanceof Bt))throw new qe(o);s=o.getUnencodedContents()}n.push(s,t)}return M.apply(void 0,n)},e}();const or=ir;var sr,ar,cr,lr,ur=function(e,t){if(void 0!==e)return t[e]};!function(e){e.UseNone="UseNone",e.UseOutlines="UseOutlines",e.UseThumbs="UseThumbs",e.UseOC="UseOC"}(sr||(sr={})),function(e){e.L2R="L2R",e.R2L="R2L"}(ar||(ar={})),function(e){e.None="None",e.AppDefault="AppDefault"}(cr||(cr={})),function(e){e.Simplex="Simplex",e.DuplexFlipShortEdge="DuplexFlipShortEdge",e.DuplexFlipLongEdge="DuplexFlipLongEdge"}(lr||(lr={}));var hr=function(){function e(e){this.dict=e}return e.prototype.lookupBool=function(e){var t=this.dict.lookup(St.of(e));if(t instanceof gt)return t},e.prototype.lookupName=function(e){var t=this.dict.lookup(St.of(e));if(t instanceof St)return t},e.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},e.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},e.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},e.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},e.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},e.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},e.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},e.prototype.Direction=function(){return this.lookupName("Direction")},e.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},e.prototype.Duplex=function(){return this.lookupName("Duplex")},e.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},e.prototype.PrintPageRange=function(){var e=this.dict.lookup(St.of("PrintPageRange"));if(e instanceof ft)return e},e.prototype.NumCopies=function(){var e=this.dict.lookup(St.of("NumCopies"));if(e instanceof ht)return e},e.prototype.getHideToolbar=function(){var e,t;return null!==(t=null===(e=this.HideToolbar())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getHideMenubar=function(){var e,t;return null!==(t=null===(e=this.HideMenubar())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getHideWindowUI=function(){var e,t;return null!==(t=null===(e=this.HideWindowUI())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getFitWindow=function(){var e,t;return null!==(t=null===(e=this.FitWindow())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getCenterWindow=function(){var e,t;return null!==(t=null===(e=this.CenterWindow())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getDisplayDocTitle=function(){var e,t;return null!==(t=null===(e=this.DisplayDocTitle())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getNonFullScreenPageMode=function(){var e,t,n=null===(e=this.NonFullScreenPageMode())||void 0===e?void 0:e.decodeText();return null!==(t=ur(n,sr))&&void 0!==t?t:sr.UseNone},e.prototype.getReadingDirection=function(){var e,t,n=null===(e=this.Direction())||void 0===e?void 0:e.decodeText();return null!==(t=ur(n,ar))&&void 0!==t?t:ar.L2R},e.prototype.getPrintScaling=function(){var e,t,n=null===(e=this.PrintScaling())||void 0===e?void 0:e.decodeText();return null!==(t=ur(n,cr))&&void 0!==t?t:cr.AppDefault},e.prototype.getDuplex=function(){var e,t=null===(e=this.Duplex())||void 0===e?void 0:e.decodeText();return ur(t,lr)},e.prototype.getPickTrayByPDFSize=function(){var e;return null===(e=this.PickTrayByPDFSize())||void 0===e?void 0:e.asBoolean()},e.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],n=0;n<e.size();n+=2){var r=e.lookup(n,ht).asNumber(),i=e.lookup(n+1,ht).asNumber();t.push({start:r,end:i})}return t},e.prototype.getNumCopies=function(){var e,t;return null!==(t=null===(e=this.NumCopies())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:1},e.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("HideToolbar"),t)},e.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("HideMenubar"),t)},e.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("HideWindowUI"),t)},e.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("FitWindow"),t)},e.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("CenterWindow"),t)},e.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("DisplayDocTitle"),t)},e.prototype.setNonFullScreenPageMode=function(e){be(e,"nonFullScreenPageMode",sr);var t=St.of(e);this.dict.set(St.of("NonFullScreenPageMode"),t)},e.prototype.setReadingDirection=function(e){be(e,"readingDirection",ar);var t=St.of(e);this.dict.set(St.of("Direction"),t)},e.prototype.setPrintScaling=function(e){be(e,"printScaling",cr);var t=St.of(e);this.dict.set(St.of("PrintScaling"),t)},e.prototype.setDuplex=function(e){be(e,"duplex",lr);var t=St.of(e);this.dict.set(St.of("Duplex"),t)},e.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("PickTrayByPDFSize"),t)},e.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].start),t.push(e[n].end);xe(t,"printPageRange",["number"]);var i=this.dict.context.obj(t);this.dict.set(St.of("PrintPageRange"),i)},e.prototype.setNumCopies=function(e){Te(e,"numCopies",1,Number.MAX_VALUE),function(e,t){if(!Number.isInteger(e))throw new Error(ve(t)+" must be an integer, but was actually "+e)}(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(St.of("NumCopies"),t)},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({}))},e}();const dr=hr;var fr=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,pr=function(){function e(e,t){this.dict=e,this.ref=t}return e.prototype.T=function(){return this.dict.lookupMaybe(St.of("T"),An,dn)},e.prototype.Ff=function(){var e=this.getInheritableAttribute(St.of("Ff"));return this.dict.context.lookupMaybe(e,ht)},e.prototype.V=function(){var e=this.getInheritableAttribute(St.of("V"));return this.dict.context.lookup(e)},e.prototype.Kids=function(){return this.dict.lookupMaybe(St.of("Kids"),ft)},e.prototype.DA=function(){var e=this.dict.lookup(St.of("DA"));if(e instanceof An||e instanceof dn)return e},e.prototype.setKids=function(e){this.dict.set(St.of("Kids"),this.dict.context.obj(e))},e.prototype.getParent=function(){var t=this.dict.get(St.of("Parent"));if(t instanceof Mt)return new e(this.dict.lookup(St.of("Parent"),Et),t)},e.prototype.setParent=function(e){e?this.dict.set(St.of("Parent"),e):this.dict.delete(St.of("Parent"))},e.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},e.prototype.getPartialName=function(){var e;return null===(e=this.T())||void 0===e?void 0:e.decodeText()},e.prototype.setPartialName=function(e){e?this.dict.set(St.of("T"),dn.fromText(e)):this.dict.delete(St.of("T"))},e.prototype.setDefaultAppearance=function(e){this.dict.set(St.of("DA"),An.of(e))},e.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof dn?e.decodeText():null===e||void 0===e?void 0:e.asString()},e.prototype.setFontSize=function(e){var t,n=null!==(t=this.getFullyQualifiedName())&&void 0!==t?t:"",r=this.getDefaultAppearance();if(!r)throw new Qe(n);var i=R(r,fr);if(!i.match)throw new Je(n);var o=r.slice(0,i.pos-i.match[0].length),s=i.pos<=r.length?r.slice(i.pos):"",a=o+" /"+i.match[1]+" "+e+" Tf "+s;this.setDefaultAppearance(a)},e.prototype.getFlags=function(){var e,t;return null!==(t=null===(e=this.Ff())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:0},e.prototype.setFlags=function(e){this.dict.set(St.of("Ff"),ht.of(e))},e.prototype.hasFlag=function(e){return 0!==(this.getFlags()&e)},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.prototype.getInheritableAttribute=function(e){var t;return this.ascend((function(n){t||(t=n.dict.get(e))})),t},e.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},e}();const gr=pr;const mr=function(){function e(e){this.dict=e}return e.prototype.W=function(){var e=this.dict.lookup(St.of("W"));if(e instanceof ht)return e},e.prototype.getWidth=function(){var e,t;return null!==(t=null===(e=this.W())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:1},e.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("W"),t)},e.fromDict=function(t){return new e(t)},e}();var vr=function(){function e(e){this.dict=e}return e.prototype.Rect=function(){return this.dict.lookup(St.of("Rect"),ft)},e.prototype.AP=function(){return this.dict.lookupMaybe(St.of("AP"),Et)},e.prototype.F=function(){var e=this.dict.lookup(St.of("F"));return this.dict.context.lookupMaybe(e,ht)},e.prototype.getRectangle=function(){var e,t=this.Rect();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:{x:0,y:0,width:0,height:0}},e.prototype.setRectangle=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=this.dict.context.obj([t,n,t+r,n+i]);this.dict.set(St.of("Rect"),o)},e.prototype.getAppearanceState=function(){var e=this.dict.lookup(St.of("AS"));if(e instanceof St)return e},e.prototype.setAppearanceState=function(e){this.dict.set(St.of("AS"),e)},e.prototype.setAppearances=function(e){this.dict.set(St.of("AP"),e)},e.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(St.of("AP"),e)),e},e.prototype.getNormalAppearance=function(){var e=this.ensureAP().get(St.of("N"));if(e instanceof Mt||e instanceof Et)return e;throw new Error("Unexpected N type: "+(null===e||void 0===e?void 0:e.constructor.name))},e.prototype.setNormalAppearance=function(e){this.ensureAP().set(St.of("N"),e)},e.prototype.setRolloverAppearance=function(e){this.ensureAP().set(St.of("R"),e)},e.prototype.setDownAppearance=function(e){this.ensureAP().set(St.of("D"),e)},e.prototype.removeRolloverAppearance=function(){var e=this.AP();null===e||void 0===e||e.delete(St.of("R"))},e.prototype.removeDownAppearance=function(){var e=this.AP();null===e||void 0===e||e.delete(St.of("D"))},e.prototype.getAppearances=function(){var e=this.AP();if(e)return{normal:e.lookup(St.of("N"),Et,_t),rollover:e.lookupMaybe(St.of("R"),Et,_t),down:e.lookupMaybe(St.of("D"),Et,_t)}},e.prototype.getFlags=function(){var e,t;return null!==(t=null===(e=this.F())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:0},e.prototype.setFlags=function(e){this.dict.set(St.of("F"),ht.of(e))},e.prototype.hasFlag=function(e){return 0!==(this.getFlags()&e)},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.fromDict=function(t){return new e(t)},e}();const yr=vr;var br=function(){function e(e){this.dict=e}return e.prototype.R=function(){var e=this.dict.lookup(St.of("R"));if(e instanceof ht)return e},e.prototype.BC=function(){var e=this.dict.lookup(St.of("BC"));if(e instanceof ft)return e},e.prototype.BG=function(){var e=this.dict.lookup(St.of("BG"));if(e instanceof ft)return e},e.prototype.CA=function(){var e=this.dict.lookup(St.of("CA"));if(e instanceof dn||e instanceof An)return e},e.prototype.RC=function(){var e=this.dict.lookup(St.of("RC"));if(e instanceof dn||e instanceof An)return e},e.prototype.AC=function(){var e=this.dict.lookup(St.of("AC"));if(e instanceof dn||e instanceof An)return e},e.prototype.getRotation=function(){var e;return null===(e=this.R())||void 0===e?void 0:e.asNumber()},e.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],n=0,r=null===e||void 0===e?void 0:e.size();n<r;n++){var i=e.get(n);i instanceof ht&&t.push(i.asNumber())}return t}},e.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],n=0,r=null===e||void 0===e?void 0:e.size();n<r;n++){var i=e.get(n);i instanceof ht&&t.push(i.asNumber())}return t}},e.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),n=this.AC();return{normal:null===e||void 0===e?void 0:e.decodeText(),rollover:null===t||void 0===t?void 0:t.decodeText(),down:null===n||void 0===n?void 0:n.decodeText()}},e.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("R"),t)},e.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("BC"),t)},e.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(St.of("BG"),t)},e.prototype.setCaptions=function(e){var t=dn.fromText(e.normal);if(this.dict.set(St.of("CA"),t),e.rollover){var n=dn.fromText(e.rollover);this.dict.set(St.of("RC"),n)}else this.dict.delete(St.of("RC"));if(e.down){var r=dn.fromText(e.down);this.dict.set(St.of("AC"),r)}else this.dict.delete(St.of("AC"))},e.fromDict=function(t){return new e(t)},e}();const wr=br;var Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.MK=function(){var e=this.dict.lookup(St.of("MK"));if(e instanceof Et)return e},t.prototype.BS=function(){var e=this.dict.lookup(St.of("BS"));if(e instanceof Et)return e},t.prototype.DA=function(){var e=this.dict.lookup(St.of("DA"));if(e instanceof An||e instanceof dn)return e},t.prototype.P=function(){var e=this.dict.get(St.of("P"));if(e instanceof Mt)return e},t.prototype.setP=function(e){this.dict.set(St.of("P"),e)},t.prototype.setDefaultAppearance=function(e){this.dict.set(St.of("DA"),An.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof dn?e.decodeText():null===e||void 0===e?void 0:e.asString()},t.prototype.getAppearanceCharacteristics=function(){var e=this.MK();if(e)return wr.fromDict(e)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var e=this.MK();if(e)return wr.fromDict(e);var t=wr.fromDict(this.dict.context.obj({}));return this.dict.set(St.of("MK"),t.dict),t},t.prototype.getBorderStyle=function(){var e=this.BS();if(e)return mr.fromDict(e)},t.prototype.getOrCreateBorderStyle=function(){var e=this.BS();if(e)return mr.fromDict(e);var t=mr.fromDict(this.dict.context.obj({}));return this.dict.set(St.of("BS"),t.dict),t},t.prototype.getOnValue=function(){var e,t=null===(e=this.getAppearances())||void 0===e?void 0:e.normal;if(t instanceof Et)for(var n=t.keys(),r=0,i=n.length;r<i;r++){var o=n[r];if(o!==St.of("Off"))return o}},t.fromDict=function(e){return new t(e)},t.create=function(e,n){return new t(e.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n}))},t}(yr);const Cr=Ar;var kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.FT=function(){var e=this.getInheritableAttribute(St.of("FT"));return this.dict.context.lookup(e,St)},t.prototype.getWidgets=function(){var e=this.Kids();if(!e)return[Cr.fromDict(this.dict)];for(var t=new Array(e.size()),n=0,r=e.size();n<r;n++){var i=e.lookup(n,Et);t[n]=Cr.fromDict(i)}return t},t.prototype.addWidget=function(e){this.normalizedEntries().Kids.push(e)},t.prototype.removeWidget=function(e){var t=this.Kids();if(t){if(e<0||e>t.size())throw new Ge(e,0,t.size());t.remove(e)}else{if(0!==e)throw new Ge(e,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([this.ref]),this.dict.set(St.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t}(gr);const Sr=kr;var xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.Opt=function(){return this.dict.lookupMaybe(St.of("Opt"),An,dn,ft)},t.prototype.setOpt=function(e){this.dict.set(St.of("Opt"),this.dict.context.obj(e))},t.prototype.getExportValues=function(){var e=this.Opt();if(e){if(e instanceof An||e instanceof dn)return[e];for(var t=[],n=0,r=e.size();n<r;n++){var i=e.lookup(n);(i instanceof An||i instanceof dn)&&t.push(i)}return t}},t.prototype.removeExportValue=function(e){var t=this.Opt();if(t)if(t instanceof An||t instanceof dn){if(0!==e)throw new Ge(e,0,0);this.setOpt([])}else{if(e<0||e>t.size())throw new Ge(e,0,t.size());t.remove(e)}},t.prototype.normalizeExportValues=function(){for(var e,t,n,r,i=null!==(e=this.getExportValues())&&void 0!==e?e:[],o=[],s=this.getWidgets(),a=0,c=s.length;a<c;a++){var l=s[a],u=null!==(t=i[a])&&void 0!==t?t:dn.fromText(null!==(r=null===(n=l.getOnValue())||void 0===n?void 0:n.decodeText())&&void 0!==r?r:"");o.push(u)}this.setOpt(o)},t.prototype.addOpt=function(e,t){var n;this.normalizeExportValues();var r,i=e.decodeText();if(t)for(var o=null!==(n=this.getExportValues())&&void 0!==n?n:[],s=0,a=o.length;s<a;s++){o[s].decodeText()===i&&(r=s)}var c=this.Opt();return c.push(e),null!==r&&void 0!==r?r:c.size()-1},t.prototype.addWidgetWithOpt=function(e,t,n){var r=this.addOpt(t,n),i=St.of(String(r));return this.addWidget(e),i},t}(Sr);const Tr=xr;var Er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setValue=function(e){var t;if(e!==(null!==(t=this.getOnValue())&&void 0!==t?t:St.of("Yes"))&&e!==St.of("Off"))throw new Xe;this.dict.set(St.of("V"),e);for(var n=this.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r],s=o.getOnValue()===e?e:St.of("Off");o.setAppearanceState(s)}},t.prototype.getValue=function(){var e=this.V();return e instanceof St?e:St.of("Off")},t.prototype.getOnValue=function(){var e=this.getWidgets()[0];return null===e||void 0===e?void 0:e.getOnValue()},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Kids:[]});return new t(n,e.register(n))},t}(Tr);const Ir=Er;var _r,Rr,Pr,Nr,Mr=function(e){return 1<<e};!function(e){e[e.ReadOnly=Mr(0)]="ReadOnly",e[e.Required=Mr(1)]="Required",e[e.NoExport=Mr(2)]="NoExport"}(_r||(_r={})),function(e){e[e.NoToggleToOff=Mr(14)]="NoToggleToOff",e[e.Radio=Mr(15)]="Radio",e[e.PushButton=Mr(16)]="PushButton",e[e.RadiosInUnison=Mr(25)]="RadiosInUnison"}(Rr||(Rr={})),function(e){e[e.Multiline=Mr(12)]="Multiline",e[e.Password=Mr(13)]="Password",e[e.FileSelect=Mr(20)]="FileSelect",e[e.DoNotSpellCheck=Mr(22)]="DoNotSpellCheck",e[e.DoNotScroll=Mr(23)]="DoNotScroll",e[e.Comb=Mr(24)]="Comb",e[e.RichText=Mr(25)]="RichText"}(Pr||(Pr={})),function(e){e[e.Combo=Mr(17)]="Combo",e[e.Edit=Mr(18)]="Edit",e[e.Sort=Mr(19)]="Sort",e[e.MultiSelect=Mr(21)]="MultiSelect",e[e.DoNotSpellCheck=Mr(22)]="DoNotSpellCheck",e[e.CommitOnSelChange=Mr(26)]="CommitOnSelChange"}(Nr||(Nr={}));var Fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setValues=function(e){if(this.hasFlag(Nr.Combo)&&!this.hasFlag(Nr.Edit)&&!this.valuesAreValid(e))throw new Xe;if(0===e.length&&this.dict.delete(St.of("V")),1===e.length&&this.dict.set(St.of("V"),e[0]),e.length>1){if(!this.hasFlag(Nr.MultiSelect))throw new Ye;this.dict.set(St.of("V"),this.dict.context.obj(e))}this.updateSelectedIndices(e)},t.prototype.valuesAreValid=function(e){for(var t=this.getOptions(),n=function(n,r){var i=e[n].decodeText();if(!t.find((function(e){return i===(e.display||e.value).decodeText()})))return{value:!1}},r=0,i=e.length;r<i;r++){var o=n(r);if("object"===typeof o)return o.value}return!0},t.prototype.updateSelectedIndices=function(e){if(e.length>1){for(var t=new Array(e.length),n=this.getOptions(),r=function(r,i){var o=e[r].decodeText();t[r]=n.findIndex((function(e){return o===(e.display||e.value).decodeText()}))},i=0,o=e.length;i<o;i++)r(i);this.dict.set(St.of("I"),this.dict.context.obj(t.sort()))}else this.dict.delete(St.of("I"))},t.prototype.getValues=function(){var e=this.V();if(e instanceof An||e instanceof dn)return[e];if(e instanceof ft){for(var t=[],n=0,r=e.size();n<r;n++){var i=e.lookup(n);(i instanceof An||i instanceof dn)&&t.push(i)}return t}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(St.of("Opt"),An,dn,ft)},t.prototype.setOptions=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++){var i=e[n],o=i.value,s=i.display;t[n]=this.dict.context.obj([o,s||o])}this.dict.set(St.of("Opt"),this.dict.context.obj(t))},t.prototype.getOptions=function(){var e=this.Opt();if(e instanceof An||e instanceof dn)return[{value:e,display:e}];if(e instanceof ft){for(var t=[],n=0,r=e.size();n<r;n++){var i=e.lookup(n);if((i instanceof An||i instanceof dn)&&t.push({value:i,display:i}),i instanceof ft&&i.size()>0){var o=i.lookup(0,An,dn),s=i.lookupMaybe(1,An,dn);t.push({value:o,display:s||o})}}return t}return[]},t}(Sr);const Or=Fr;const Dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Ff:Nr.Combo,Kids:[]});return new t(n,e.register(n))},t}(Or);const Lr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addField=function(e){var t=this.normalizedEntries().Kids;null===t||void 0===t||t.push(e)},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([]),this.dict.set(St.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({});return new t(n,e.register(n))},t}(gr);const jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.fromDict=function(e,n){return new t(e,n)},t}(Sr);const Ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.MaxLen=function(){var e=this.dict.lookup(St.of("MaxLen"));if(e instanceof ht)return e},t.prototype.Q=function(){var e=this.dict.lookup(St.of("Q"));if(e instanceof ht)return e},t.prototype.setMaxLength=function(e){this.dict.set(St.of("MaxLen"),ht.of(e))},t.prototype.removeMaxLength=function(){this.dict.delete(St.of("MaxLen"))},t.prototype.getMaxLength=function(){var e;return null===(e=this.MaxLen())||void 0===e?void 0:e.asNumber()},t.prototype.setQuadding=function(e){this.dict.set(St.of("Q"),ht.of(e))},t.prototype.getQuadding=function(){var e;return null===(e=this.Q())||void 0===e?void 0:e.asNumber()},t.prototype.setValue=function(e){this.dict.set(St.of("V"),e)},t.prototype.removeValue=function(){this.dict.delete(St.of("V"))},t.prototype.getValue=function(){var e=this.V();if(e instanceof An||e instanceof dn)return e},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Tx",Kids:[]});return new t(n,e.register(n))},t}(Sr);const Br=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:Rr.PushButton,Kids:[]});return new t(n,e.register(n))},t}(Tr);var qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setValue=function(e){if(!this.getOnValues().includes(e)&&e!==St.of("Off"))throw new Xe;this.dict.set(St.of("V"),e);for(var t=this.getWidgets(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getOnValue()===e?e:St.of("Off");i.setAppearanceState(o)}},t.prototype.getValue=function(){var e=this.V();return e instanceof St?e:St.of("Off")},t.prototype.getOnValues=function(){for(var e=this.getWidgets(),t=[],n=0,r=e.length;n<r;n++){var i=e[n].getOnValue();i&&t.push(i)}return t},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:Rr.Radio,Kids:[]});return new t(n,e.register(n))},t}(Tr);const zr=qr;const Vr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Kids:[]});return new t(n,e.register(n))},t}(Or);var Hr=function(e){if(!e)return[];for(var t=[],n=0,r=e.size();n<r;n++){var i=e.get(n),o=e.lookup(n);i instanceof Mt&&o instanceof Et&&t.push([Wr(o,i),i])}return t},Wr=function(e,t){return Kr(e)?Lr.fromDict(e,t):Gr(e,t)},Kr=function(e){var t=e.lookup(St.of("Kids"));if(t instanceof ft)for(var n=0,r=t.size();n<r;n++){var i=t.lookup(n);if(i instanceof Et&&i.has(St.of("T")))return!0}return!1},Gr=function(e,t){var n=Jr(e,St.of("FT")),r=e.context.lookup(n,St);return r===St.of("Btn")?Xr(e,t):r===St.of("Ch")?Yr(e,t):r===St.of("Tx")?Ur.fromDict(e,t):r===St.of("Sig")?jr.fromDict(e,t):Sr.fromDict(e,t)},Xr=function(e,t){var n,r=Jr(e,St.of("Ff")),i=e.context.lookupMaybe(r,ht),o=null!==(n=null===i||void 0===i?void 0:i.asNumber())&&void 0!==n?n:0;return Qr(o,Rr.PushButton)?Br.fromDict(e,t):Qr(o,Rr.Radio)?zr.fromDict(e,t):Ir.fromDict(e,t)},Yr=function(e,t){var n,r=Jr(e,St.of("Ff")),i=e.context.lookupMaybe(r,ht),o=null!==(n=null===i||void 0===i?void 0:i.asNumber())&&void 0!==n?n:0;return Qr(o,Nr.Combo)?Dr.fromDict(e,t):Vr.fromDict(e,t)},Qr=function(e,t){return 0!==(e&t)},Jr=function(e,t){var n;return Zr(e,(function(e){n||(n=e.get(t))})),n},Zr=function(e,t){t(e);var n=e.lookupMaybe(St.of("Parent"),Et);n&&Zr(n,t)},$r=function(){function e(e){this.dict=e}return e.prototype.Fields=function(){var e=this.dict.lookup(St.of("Fields"));if(e instanceof ft)return e},e.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=new Array(e.size()),n=0,r=e.size();n<r;n++){var i=e.get(n),o=e.lookup(n,Et);t[n]=[Wr(o,i),i]}return t},e.prototype.getAllFields=function(){var e=[],t=function(n){if(n)for(var r=0,i=n.length;r<i;r++){var o=n[r];e.push(o);var s=o[0];s instanceof Lr&&t(Hr(s.Kids()))}};return t(this.getFields()),e},e.prototype.addField=function(e){var t=this.normalizedEntries().Fields;null===t||void 0===t||t.push(e)},e.prototype.removeField=function(e){var t=e.getParent(),n=void 0===t?this.normalizedEntries().Fields:t.Kids(),r=null===n||void 0===n?void 0:n.indexOf(e.ref);if(void 0===n||void 0===r)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());n.remove(r),void 0!==t&&0===n.size()&&this.removeField(t)},e.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(St.of("Fields"),e)),{Fields:e}},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({Fields:[]}))},e}();const ei=$r;const ti=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.Pages=function(){return this.lookup(St.of("Pages"),Et)},t.prototype.AcroForm=function(){return this.lookupMaybe(St.of("AcroForm"),Et)},t.prototype.getAcroForm=function(){var e=this.AcroForm();if(e)return ei.fromDict(e)},t.prototype.getOrCreateAcroForm=function(){var e=this.getAcroForm();if(!e){e=ei.create(this.context);var t=this.context.register(e.dict);this.set(St.of("AcroForm"),t)}return e},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(St.of("ViewerPreferences"),Et)},t.prototype.getViewerPreferences=function(){var e=this.ViewerPreferences();if(e)return dr.fromDict(e)},t.prototype.getOrCreateViewerPreferences=function(){var e=this.getViewerPreferences();if(!e){e=dr.create(this.context);var t=this.context.register(e.dict);this.set(St.of("ViewerPreferences"),t)}return e},t.prototype.insertLeafNode=function(e,t){var n=this.get(St.of("Pages"));return this.Pages().insertLeafNode(e,t)||n},t.prototype.removeLeafNode=function(e){this.Pages().removeLeafNode(e)},t.withContextAndPages=function(e,n){var r=new Map;return r.set(St.of("Type"),St.of("Catalog")),r.set(St.of("Pages"),n),new t(r,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(Et);var ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.Parent=function(){return this.lookup(St.of("Parent"))},t.prototype.Kids=function(){return this.lookup(St.of("Kids"),ft)},t.prototype.Count=function(){return this.lookup(St.of("Count"),ht)},t.prototype.pushTreeNode=function(e){this.Kids().push(e)},t.prototype.pushLeafNode=function(e){var t=this.Kids();this.insertLeafKid(t.size(),e)},t.prototype.insertLeafNode=function(e,n){var r=this.Kids(),i=this.Count().asNumber();if(n>i)throw new We(n,i);for(var o=n,s=0,a=r.size();s<a;s++){if(0===o)return void this.insertLeafKid(s,e);var c=r.get(s),l=this.context.lookup(c);if(l instanceof t){if(l.Count().asNumber()>o)return l.insertLeafNode(e,o)||c;o-=l.Count().asNumber()}l instanceof Kt&&(o-=1)}if(0!==o)throw new Ke(n,"insertLeafNode");this.insertLeafKid(r.size(),e)},t.prototype.removeLeafNode=function(e,n){void 0===n&&(n=!0);var r=this.Kids(),i=this.Count().asNumber();if(e>=i)throw new We(e,i);for(var o=e,s=0,a=r.size();s<a;s++){var c=r.get(s),l=this.context.lookup(c);if(l instanceof t){if(l.Count().asNumber()>o)return l.removeLeafNode(o,n),void(n&&0===l.Kids().size()&&r.remove(s));o-=l.Count().asNumber()}if(l instanceof Kt){if(0===o)return void this.removeKid(s);o-=1}}throw new Ke(e,"removeLeafNode")},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.traverse=function(e){for(var n=this.Kids(),r=0,i=n.size();r<i;r++){var o=n.get(r),s=this.context.lookup(o);s instanceof t&&s.traverse(e),e(s,o)}},t.prototype.insertLeafKid=function(e,t){var n=this.Kids();this.ascend((function(e){var t=e.Count().asNumber()+1;e.set(St.of("Count"),ht.of(t))})),n.insert(e,t)},t.prototype.removeKid=function(e){var t=this.Kids();t.lookup(e)instanceof Kt&&this.ascend((function(e){var t=e.Count().asNumber()-1;e.set(St.of("Count"),ht.of(t))})),t.remove(e)},t.withContext=function(e,n){var r=new Map;return r.set(St.of("Type"),St.of("Pages")),r.set(St.of("Kids"),e.obj([])),r.set(St.of("Count"),e.obj(0)),n&&r.set(St.of("Parent"),n),new t(r,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(Et);const ri=ni;var ii=new Uint8Array(256);ii[ct.Zero]=1,ii[ct.One]=1,ii[ct.Two]=1,ii[ct.Three]=1,ii[ct.Four]=1,ii[ct.Five]=1,ii[ct.Six]=1,ii[ct.Seven]=1,ii[ct.Eight]=1,ii[ct.Nine]=1;var oi=new Uint8Array(256);oi[ct.Period]=1,oi[ct.Plus]=1,oi[ct.Minus]=1;for(var si=new Uint8Array(256),ai=0;ai<256;ai++)si[ai]=ii[ai]||oi[ai]?1:0;var ci=ct.Newline,li=ct.CarriageReturn,ui=function(){function e(e,t){void 0===t&&(t=!1),this.bytes=e,this.capNumbers=t}return e.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!ii[t])break;e+=y(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new Ze(this.bytes.position(),e);return n},e.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!si[t])break;if(e+=y(this.bytes.next()),t===ct.Period)break}for(;!this.bytes.done();){t=this.bytes.peek();if(!ii[t])break;e+=y(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new Ze(this.bytes.position(),e);if(n>Number.MAX_SAFE_INTEGER){if(this.capNumbers){var r="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(r),Number.MAX_SAFE_INTEGER}r="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(r)}return n},e.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&vt[this.bytes.peek()];)this.bytes.next()},e.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===ci||e===li)return;this.bytes.next()}},e.prototype.skipComment=function(){if(this.bytes.peek()!==ct.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===ci||e===li)return!0;this.bytes.next()}return!0},e.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},e.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),n=0,r=e.length;n<r;n++)if(this.bytes.done()||this.bytes.next()!==e[n])return this.bytes.moveTo(t),!1;return!0},e}();const hi=ui;const di=function(){function e(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return e.prototype.moveTo=function(e){this.idx=e},e.prototype.next=function(){var e=this.bytes[this.idx++];return e===ct.Newline?(this.line+=1,this.column=0):this.column+=1,e},e.prototype.assertNext=function(e){if(this.peek()!==e)throw new et(this.position(),e,this.peek());return this.next()},e.prototype.peek=function(){return this.bytes[this.idx]},e.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},e.prototype.peekAt=function(e){return this.bytes[e]},e.prototype.done=function(){return this.idx>=this.length},e.prototype.offset=function(){return this.idx},e.prototype.slice=function(e,t){return this.bytes.slice(e,t)},e.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},e.of=function(t){return new e(t)},e.fromPDFRawStream=function(t){return e.of(rr(t).decode())},e}();var fi=ct.Space,pi=ct.CarriageReturn,gi=ct.Newline,mi=[ct.s,ct.t,ct.r,ct.e,ct.a,ct.m],vi=[ct.e,ct.n,ct.d,ct.s,ct.t,ct.r,ct.e,ct.a,ct.m],yi={header:[ct.Percent,ct.P,ct.D,ct.F,ct.Dash],eof:[ct.Percent,ct.Percent,ct.E,ct.O,ct.F],obj:[ct.o,ct.b,ct.j],endobj:[ct.e,ct.n,ct.d,ct.o,ct.b,ct.j],xref:[ct.x,ct.r,ct.e,ct.f],trailer:[ct.t,ct.r,ct.a,ct.i,ct.l,ct.e,ct.r],startxref:[ct.s,ct.t,ct.a,ct.r,ct.t,ct.x,ct.r,ct.e,ct.f],true:[ct.t,ct.r,ct.u,ct.e],false:[ct.f,ct.a,ct.l,ct.s,ct.e],null:[ct.n,ct.u,ct.l,ct.l],stream:mi,streamEOF1:c(mi,[fi,pi,gi]),streamEOF2:c(mi,[pi,gi]),streamEOF3:c(mi,[pi]),streamEOF4:c(mi,[gi]),endstream:vi,EOF1endstream:c([pi,gi],vi),EOF2endstream:c([pi],vi),EOF3endstream:c([gi],vi)};const bi=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t,r)||this;return i.context=n,i}return i(t,e),t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(yi.true))return gt.True;if(this.matchKeyword(yi.false))return gt.False;if(this.matchKeyword(yi.null))return xt;var e=this.bytes.peek();if(e===ct.LessThan&&this.bytes.peekAhead(1)===ct.LessThan)return this.parseDictOrStream();if(e===ct.LessThan)return this.parseHexString();if(e===ct.LeftParen)return this.parseString();if(e===ct.ForwardSlash)return this.parseName();if(e===ct.LeftSquareBracket)return this.parseArray();if(si[e])return this.parseNumberOrRef();throw new tt(this.bytes.position(),e)},t.prototype.parseNumberOrRef=function(){var e=this.parseRawNumber();this.skipWhitespaceAndComments();var t=this.bytes.offset();if(ii[this.bytes.peek()]){var n=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===ct.R)return this.bytes.assertNext(ct.R),Mt.of(e,n)}return this.bytes.moveTo(t),ht.of(e)},t.prototype.parseHexString=function(){var e="";for(this.bytes.assertNext(ct.LessThan);!this.bytes.done()&&this.bytes.peek()!==ct.GreaterThan;)e+=y(this.bytes.next());return this.bytes.assertNext(ct.GreaterThan),dn.of(e)},t.prototype.parseString=function(){for(var e=0,t=!1,n="";!this.bytes.done();){var r=this.bytes.next();if(n+=y(r),t||(r===ct.LeftParen&&(e+=1),r===ct.RightParen&&(e-=1)),r===ct.BackSlash?t=!t:t&&(t=!1),0===e)return An.of(n.substring(1,n.length-1))}throw new it(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(ct.ForwardSlash);for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(vt[t]||mt[t])break;e+=y(t),this.bytes.next()}return St.of(e)},t.prototype.parseArray=function(){this.bytes.assertNext(ct.LeftSquareBracket),this.skipWhitespaceAndComments();for(var e=ft.withContext(this.context);this.bytes.peek()!==ct.RightSquareBracket;){var t=this.parseObject();e.push(t),this.skipWhitespaceAndComments()}return this.bytes.assertNext(ct.RightSquareBracket),e},t.prototype.parseDict=function(){this.bytes.assertNext(ct.LessThan),this.bytes.assertNext(ct.LessThan),this.skipWhitespaceAndComments();for(var e=new Map;!this.bytes.done()&&this.bytes.peek()!==ct.GreaterThan&&this.bytes.peekAhead(1)!==ct.GreaterThan;){var t=this.parseName(),n=this.parseObject();e.set(t,n),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(ct.GreaterThan),this.bytes.assertNext(ct.GreaterThan);var r=e.get(St.of("Type"));return r===St.of("Catalog")?ti.fromMapWithContext(e,this.context):r===St.of("Pages")?ri.fromMapWithContext(e,this.context):r===St.of("Page")?Kt.fromMapWithContext(e,this.context):Et.fromMapWithContext(e,this.context)},t.prototype.parseDictOrStream=function(){var e=this.bytes.position(),t=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(yi.streamEOF1)&&!this.matchKeyword(yi.streamEOF2)&&!this.matchKeyword(yi.streamEOF3)&&!this.matchKeyword(yi.streamEOF4)&&!this.matchKeyword(yi.stream))return t;var n,r=this.bytes.offset(),i=t.get(St.of("Length"));i instanceof ht?(n=r+i.asNumber(),this.bytes.moveTo(n),this.skipWhitespaceAndComments(),this.matchKeyword(yi.endstream)||(this.bytes.moveTo(r),n=this.findEndOfStreamFallback(e))):n=this.findEndOfStreamFallback(e);var o=this.bytes.slice(r,n);return Rt.of(t,o)},t.prototype.findEndOfStreamFallback=function(e){for(var t=1,n=this.bytes.offset();!this.bytes.done()&&(n=this.bytes.offset(),this.matchKeyword(yi.stream)?t+=1:this.matchKeyword(yi.EOF1endstream)||this.matchKeyword(yi.EOF2endstream)||this.matchKeyword(yi.EOF3endstream)||this.matchKeyword(yi.endstream)?t-=1:this.bytes.next(),0!==t););if(0!==t)throw new rt(e);return n},t.forBytes=function(e,n,r){return new t(di.of(e),n,r)},t.forByteStream=function(e,n,r){return void 0===r&&(r=!1),new t(e,n,r)},t}(hi);var wi=function(e){function t(t,n){var r=e.call(this,di.fromPDFRawStream(t),t.dict.context)||this,i=t.dict;return r.alreadyParsed=!1,r.shouldWaitForTick=n||function(){return!1},r.firstOffset=i.lookup(St.of("First"),ht).asNumber(),r.objectCount=i.lookup(St.of("N"),ht).asNumber(),r}return i(t,e),t.prototype.parseIntoContext=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,c;return a(this,(function(a){switch(a.label){case 0:if(this.alreadyParsed)throw new Ue("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,e=this.parseOffsetsAndObjectNumbers(),t=0,n=e.length,a.label=1;case 1:return t<n?(r=e[t],i=r.objectNumber,o=r.offset,this.bytes.moveTo(this.firstOffset+o),s=this.parseObject(),c=Mt.of(i,0),this.context.assign(c,s),this.shouldWaitForTick()?[4,j()]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var e=[],t=0,n=this.objectCount;t<n;t++){this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.parseRawInt();e.push({objectNumber:r,offset:i})}return e},t.forStream=function(e,n){return new t(e,n)},t}(bi);const Ai=wi;var Ci=function(){function e(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=di.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(St.of("Size"),ht),n=this.dict.lookup(St.of("Index"));if(n instanceof ft){this.subsections=[];for(var r=0,i=n.size();r<i;r+=2){var o=n.lookup(r+0,ht).asNumber(),s=n.lookup(r+1,ht).asNumber();this.subsections.push({firstObjectNumber:o,length:s})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var a=this.dict.lookup(St.of("W"),ft);this.byteWidths=[-1,-1,-1];for(r=0,i=a.size();r<i;r++)this.byteWidths[r]=a.lookup(r,ht).asNumber()}return e.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new Ue("PDFXRefStreamParser","parseIntoContext");return this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(St.of("Root")),Encrypt:this.dict.get(St.of("Encrypt")),Info:this.dict.get(St.of("Info")),ID:this.dict.get(St.of("ID"))},this.parseEntries()},e.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,n=t[0],r=t[1],i=t[2],o=0,s=this.subsections.length;o<s;o++)for(var a=this.subsections[o],c=a.firstObjectNumber,l=a.length,u=0;u<l;u++){for(var h=0,d=0,f=n;d<f;d++)h=h<<8|this.bytes.next();var p=0;for(d=0,f=r;d<f;d++)p=p<<8|this.bytes.next();var g=0;for(d=0,f=i;d<f;d++)g=g<<8|this.bytes.next();0===n&&(h=1);var m=c+u,v={ref:Mt.of(m,g),offset:p,deleted:0===h,inObjectStream:2===h};e.push(v)}return e},e.forStream=function(t){return new e(t)},e}();const ki=Ci;var Si=function(e){function t(t,n,r,i){void 0===n&&(n=1/0),void 0===r&&(r=!1),void 0===i&&(i=!1);var o=e.call(this,di.of(t),Ht.create(),i)||this;return o.alreadyParsed=!1,o.parsedObjects=0,o.shouldWaitForTick=function(){return o.parsedObjects+=1,o.parsedObjects%o.objectsPerTick===0},o.objectsPerTick=n,o.throwOnInvalidObject=r,o}return i(t,e),t.prototype.parseDocument=function(){return s(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:if(this.alreadyParsed)throw new Ue("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),n.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(n.sent(),(t=this.bytes.offset())===e)throw new ot(this.bytes.position());return e=t,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(Mt.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(Mt.of(0))),[2,this.context]}}))}))},t.prototype.maybeRecoverRoot=function(){var e=function(e){return e instanceof Et&&e.lookup(St.of("Type"))===St.of("Catalog")};if(!e(this.context.lookup(this.context.trailerInfo.Root)))for(var t=this.context.enumerateIndirectObjects(),n=0,r=t.length;n<r;n++){var i=t[n],o=i[0];e(i[1])&&(this.context.trailerInfo.Root=o)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(yi.header)){var e=this.parseRawInt();this.bytes.assertNext(ct.Period);var t=this.parseRawInt(),n=lt.forVersion(e,t);return this.skipBinaryHeaderComment(),n}this.bytes.next()}throw new st(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var e=this.parseRawInt();this.skipWhitespaceAndComments();var t=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(yi.obj))throw new at(this.bytes.position(),yi.obj);return Mt.of(e,t)},t.prototype.matchIndirectObjectHeader=function(){var e=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch(t){return this.bytes.moveTo(e),!1}},t.prototype.parseIndirectObject=function(){return s(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return e=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),t=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(yi.endobj),t instanceof Rt&&t.dict.lookup(St.of("Type"))===St.of("ObjStm")?[4,Ai.forStream(t,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return n.sent(),[3,3];case 2:t instanceof Rt&&t.dict.lookup(St.of("Type"))===St.of("XRef")?ki.forStream(t).parseIntoContext():this.context.assign(e,t),n.label=3;case 3:return[2,e]}}))}))},t.prototype.tryToParseInvalidIndirectObject=function(){var e=this.bytes.position(),t="Trying to parse invalid object: "+JSON.stringify(e)+")";if(this.throwOnInvalidObject)throw new Error(t);console.warn(t);var n=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+n),this.skipWhitespaceAndComments();for(var r=this.bytes.offset(),i=!0;!this.bytes.done()&&(this.matchKeyword(yi.endobj)&&(i=!1),i);)this.bytes.next();if(i)throw new nt(e);var o=this.bytes.offset()-yi.endobj.length,s=on.of(this.bytes.slice(r,o));return this.context.assign(n,s),n},t.prototype.parseIndirectObjects=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:this.skipWhitespaceAndComments(),t.label=1;case 1:if(this.bytes.done()||!ii[this.bytes.peek()])return[3,8];e=this.bytes.offset(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return t.sent(),[3,5];case 4:return t.sent(),this.bytes.moveTo(e),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,j()]:[3,7];case 6:t.sent(),t.label=7;case 7:return[3,1];case 8:return[2]}}))}))},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(yi.xref)){this.skipWhitespaceAndComments();for(var e=-1,t=Qt.createEmpty();!this.bytes.done()&&ii[this.bytes.peek()];){var n=this.parseRawInt();this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.bytes.peek();if(i===ct.n||i===ct.f){var o=Mt.of(e,r);this.bytes.next()===ct.n?t.addEntry(o,n):t.addDeletedEntry(o,n),e+=1}else e=n;this.skipWhitespaceAndComments()}return t}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(yi.trailer)){this.skipWhitespaceAndComments();var e=this.parseDict(),t=this.context;t.trailerInfo={Root:e.get(St.of("Root"))||t.trailerInfo.Root,Encrypt:e.get(St.of("Encrypt"))||t.trailerInfo.Encrypt,Info:e.get(St.of("Info"))||t.trailerInfo.Info,ID:e.get(St.of("ID"))||t.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(yi.startxref)){this.skipWhitespaceAndComments();var e=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(yi.eof),this.skipWhitespaceAndComments(),this.matchKeyword(yi.eof),this.skipWhitespaceAndComments(),Jt.forLastCrossRefSectionOffset(e)}},t.prototype.parseDocumentSection=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.parseIndirectObjects()];case 1:return e.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}}))}))},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var e=this.bytes.offset(),t=this.bytes.peek();if(t>=ct.Space&&t<=ct.Tilde&&(this.matchKeyword(yi.xref)||this.matchKeyword(yi.trailer)||this.matchKeyword(yi.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(e);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var e=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(e)}catch(t){this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(e,n,r,i){return new t(e,n,r,i)},t}(bi);const xi=Si;var Ti,Ei=function(e){return 1<<e};!function(e){e[e.Invisible=Ei(0)]="Invisible",e[e.Hidden=Ei(1)]="Hidden",e[e.Print=Ei(2)]="Print",e[e.NoZoom=Ei(3)]="NoZoom",e[e.NoRotate=Ei(4)]="NoRotate",e[e.NoView=Ei(5)]="NoView",e[e.ReadOnly=Ei(6)]="ReadOnly",e[e.Locked=Ei(7)]="Locked",e[e.ToggleNoView=Ei(8)]="ToggleNoView",e[e.LockedContents=Ei(9)]="LockedContents"}(Ti||(Ti={}));var Ii,_i=function(e){return e instanceof St?e:St.of(e)},Ri=function(e){return e instanceof ht?e:ht.of(e)},Pi=function(e){return e instanceof ht?e.asNumber():e};!function(e){e.Degrees="degrees",e.Radians="radians"}(Ii||(Ii={}));var Ni,Mi=function(e){return ke(e,"degreeAngle",["number"]),{type:Ii.Degrees,angle:e}},Fi=Ii.Radians,Oi=Ii.Degrees,Di=function(e){return e*Math.PI/180},Li=function(e){return e.type===Fi?e.angle:e.type===Oi?Di(e.angle):Z("Invalid rotation: "+JSON.stringify(e))},ji=function(e){return e.type===Fi?180*e.angle/Math.PI:e.type===Oi?e.angle:Z("Invalid rotation: "+JSON.stringify(e))},Ui=function(e){void 0===e&&(e=0);var t=e/90%4;return 0===t?0:1===t?90:2===t?180:3===t?270:0},Bi=function(e,t){void 0===t&&(t=0);var n=Ui(t);return 90===n||270===n?{width:e.height,height:e.width}:{width:e.width,height:e.height}},qi=function(){return Ot.of(Lt.ClipNonZero)},zi=Math.cos,Vi=Math.sin,Hi=Math.tan,Wi=function(e,t,n,r,i,o){return Ot.of(Lt.ConcatTransformationMatrix,[Ri(e),Ri(t),Ri(n),Ri(r),Ri(i),Ri(o)])},Ki=function(e,t){return Wi(1,0,0,1,e,t)},Gi=function(e,t){return Wi(e,0,0,t,0,0)},Xi=function(e){return Wi(zi(Pi(e)),Vi(Pi(e)),-Vi(Pi(e)),zi(Pi(e)),0,0)},Yi=function(e){return Xi(Di(Pi(e)))},Qi=function(e,t){return Wi(1,Hi(Pi(e)),Hi(Pi(t)),1,0,0)},Ji=function(e,t){return Ot.of(Lt.SetLineDashPattern,["["+e.map(Ri).join(" ")+"]",Ri(t)])};!function(e){e[e.Butt=0]="Butt",e[e.Round=1]="Round",e[e.Projecting=2]="Projecting"}(Ni||(Ni={}));var Zi,$i=function(e){return Ot.of(Lt.SetLineCapStyle,[Ri(e)])};!function(e){e[e.Miter=0]="Miter",e[e.Round=1]="Round",e[e.Bevel=2]="Bevel"}(Zi||(Zi={}));var eo,to=function(e){return Ot.of(Lt.SetGraphicsStateParams,[_i(e)])},no=function(){return Ot.of(Lt.PushGraphicsState)},ro=function(){return Ot.of(Lt.PopGraphicsState)},io=function(e){return Ot.of(Lt.SetLineWidth,[Ri(e)])},oo=function(e,t,n,r,i,o){return Ot.of(Lt.AppendBezierCurve,[Ri(e),Ri(t),Ri(n),Ri(r),Ri(i),Ri(o)])},so=function(e,t,n,r){return Ot.of(Lt.CurveToReplicateInitialPoint,[Ri(e),Ri(t),Ri(n),Ri(r)])},ao=function(){return Ot.of(Lt.ClosePath)},co=function(e,t){return Ot.of(Lt.MoveTo,[Ri(e),Ri(t)])},lo=function(e,t){return Ot.of(Lt.LineTo,[Ri(e),Ri(t)])},uo=function(){return Ot.of(Lt.StrokePath)},ho=function(){return Ot.of(Lt.FillNonZero)},fo=function(){return Ot.of(Lt.FillNonZeroAndStroke)},po=function(){return Ot.of(Lt.EndPath)},go=function(e){return Ot.of(Lt.ShowText,[e])},mo=function(){return Ot.of(Lt.BeginText)},vo=function(){return Ot.of(Lt.EndText)},yo=function(e,t){return Ot.of(Lt.SetFontAndSize,[_i(e),Ri(t)])};!function(e){e[e.Fill=0]="Fill",e[e.Outline=1]="Outline",e[e.FillAndOutline=2]="FillAndOutline",e[e.Invisible=3]="Invisible",e[e.FillAndClip=4]="FillAndClip",e[e.OutlineAndClip=5]="OutlineAndClip",e[e.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",e[e.Clip=7]="Clip"}(eo||(eo={}));var bo,wo=function(e,t,n,r,i){return o=zi(Pi(e)),s=Vi(Pi(e))+Hi(Pi(t)),a=-Vi(Pi(e))+Hi(Pi(n)),c=zi(Pi(e)),l=r,u=i,Ot.of(Lt.SetTextMatrix,[Ri(o),Ri(s),Ri(a),Ri(c),Ri(l),Ri(u)]);var o,s,a,c,l,u},Ao=function(e){return Ot.of(Lt.DrawObject,[_i(e)])},Co=function(e){return Ot.of(Lt.BeginMarkedContent,[_i(e)])},ko=function(){return Ot.of(Lt.EndMarkedContent)};!function(e){e.Grayscale="Grayscale",e.RGB="RGB",e.CMYK="CMYK"}(bo||(bo={}));var So,xo=function(e){return Te(e,"gray",0,1),{type:bo.Grayscale,gray:e}},To=function(e,t,n){return Te(e,"red",0,1),Te(t,"green",0,1),Te(n,"blue",0,1),{type:bo.RGB,red:e,green:t,blue:n}},Eo=function(e,t,n,r){return Te(e,"cyan",0,1),Te(t,"magenta",0,1),Te(n,"yellow",0,1),Te(r,"key",0,1),{type:bo.CMYK,cyan:e,magenta:t,yellow:n,key:r}},Io=bo.Grayscale,_o=bo.RGB,Ro=bo.CMYK,Po=function(e){return e.type===Io?(c=e.gray,Ot.of(Lt.NonStrokingColorGray,[Ri(c)])):e.type===_o?(o=e.red,s=e.green,a=e.blue,Ot.of(Lt.NonStrokingColorRgb,[Ri(o),Ri(s),Ri(a)])):e.type===Ro?(t=e.cyan,n=e.magenta,r=e.yellow,i=e.key,Ot.of(Lt.NonStrokingColorCmyk,[Ri(t),Ri(n),Ri(r),Ri(i)])):Z("Invalid color: "+JSON.stringify(e));var t,n,r,i,o,s,a,c},No=function(e){return e.type===Io?(c=e.gray,Ot.of(Lt.StrokingColorGray,[Ri(c)])):e.type===_o?(o=e.red,s=e.green,a=e.blue,Ot.of(Lt.StrokingColorRgb,[Ri(o),Ri(s),Ri(a)])):e.type===Ro?(t=e.cyan,n=e.magenta,r=e.yellow,i=e.key,Ot.of(Lt.StrokingColorCmyk,[Ri(t),Ri(n),Ri(r),Ri(i)])):Z("Invalid color: "+JSON.stringify(e));var t,n,r,i,o,s,a,c},Mo=function(e,t){return void 0===t&&(t=1),1===(null===e||void 0===e?void 0:e.length)?xo(e[0]*t):3===(null===e||void 0===e?void 0:e.length)?To(e[0]*t,e[1]*t,e[2]*t):4===(null===e||void 0===e?void 0:e.length)?Eo(e[0]*t,e[1]*t,e[2]*t,e[3]*t):void 0},Fo=function(e){return e.type===Io?[e.gray]:e.type===_o?[e.red,e.green,e.blue]:e.type===Ro?[e.cyan,e.magenta,e.yellow,e.key]:Z("Invalid color: "+JSON.stringify(e))},Oo=0,Do=0,Lo=0,jo=0,Uo=0,Bo=0,qo=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),zo={M:function(e){return Oo=e[0],Do=e[1],Lo=jo=null,Uo=Oo,Bo=Do,co(Oo,Do)},m:function(e){return Oo+=e[0],Do+=e[1],Lo=jo=null,Uo=Oo,Bo=Do,co(Oo,Do)},C:function(e){return Oo=e[4],Do=e[5],Lo=e[2],jo=e[3],oo(e[0],e[1],e[2],e[3],e[4],e[5])},c:function(e){var t=oo(e[0]+Oo,e[1]+Do,e[2]+Oo,e[3]+Do,e[4]+Oo,e[5]+Do);return Lo=Oo+e[2],jo=Do+e[3],Oo+=e[4],Do+=e[5],t},S:function(e){null!==Lo&&null!==jo||(Lo=Oo,jo=Do);var t=oo(Oo-(Lo-Oo),Do-(jo-Do),e[0],e[1],e[2],e[3]);return Lo=e[0],jo=e[1],Oo=e[2],Do=e[3],t},s:function(e){null!==Lo&&null!==jo||(Lo=Oo,jo=Do);var t=oo(Oo-(Lo-Oo),Do-(jo-Do),Oo+e[0],Do+e[1],Oo+e[2],Do+e[3]);return Lo=Oo+e[0],jo=Do+e[1],Oo+=e[2],Do+=e[3],t},Q:function(e){return Lo=e[0],jo=e[1],Oo=e[2],Do=e[3],so(e[0],e[1],Oo,Do)},q:function(e){var t=so(e[0]+Oo,e[1]+Do,e[2]+Oo,e[3]+Do);return Lo=Oo+e[0],jo=Do+e[1],Oo+=e[2],Do+=e[3],t},T:function(e){null===Lo||null===jo?(Lo=Oo,jo=Do):(Lo=Oo-(Lo-Oo),jo=Do-(jo-Do));var t=so(Lo,jo,e[0],e[1]);return Lo=Oo-(Lo-Oo),jo=Do-(jo-Do),Oo=e[0],Do=e[1],t},t:function(e){null===Lo||null===jo?(Lo=Oo,jo=Do):(Lo=Oo-(Lo-Oo),jo=Do-(jo-Do));var t=so(Lo,jo,Oo+e[0],Do+e[1]);return Oo+=e[0],Do+=e[1],t},A:function(e){var t=Vo(Oo,Do,e);return Oo=e[5],Do=e[6],t},a:function(e){e[5]+=Oo,e[6]+=Do;var t=Vo(Oo,Do,e);return Oo=e[5],Do=e[6],t},L:function(e){return Oo=e[0],Do=e[1],Lo=jo=null,lo(Oo,Do)},l:function(e){return Oo+=e[0],Do+=e[1],Lo=jo=null,lo(Oo,Do)},H:function(e){return Oo=e[0],Lo=jo=null,lo(Oo,Do)},h:function(e){return Oo+=e[0],Lo=jo=null,lo(Oo,Do)},V:function(e){return Do=e[0],Lo=jo=null,lo(Oo,Do)},v:function(e){return Do+=e[0],Lo=jo=null,lo(Oo,Do)},Z:function(){var e=ao();return Oo=Uo,Do=Bo,e},z:function(){var e=ao();return Oo=Uo,Do=Bo,e}},Vo=function(e,t,n){for(var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],l=n[6],u=[],h=0,d=Ho(c,l,r,i,s,a,o,e,t);h<d.length;h++){var f=d[h],p=Wo.apply(void 0,f);u.push(oo.apply(void 0,p))}return u},Ho=function(e,t,n,r,i,o,s,a,c){var l=s*(Math.PI/180),u=Math.sin(l),h=Math.cos(l);n=Math.abs(n),r=Math.abs(r);var d=(Lo=h*(a-e)*.5+u*(c-t)*.5)*Lo/(n*n)+(jo=h*(c-t)*.5-u*(a-e)*.5)*jo/(r*r);d>1&&(n*=d=Math.sqrt(d),r*=d);var f=h/n,p=u/n,g=-u/r,m=h/r,v=f*a+p*c,y=g*a+m*c,b=f*e+p*t,w=g*e+m*t,A=1/((b-v)*(b-v)+(w-y)*(w-y))-.25;A<0&&(A=0);var C=Math.sqrt(A);o===i&&(C=-C);var k=.5*(v+b)-C*(w-y),S=.5*(y+w)+C*(b-v),x=Math.atan2(y-S,v-k),T=Math.atan2(w-S,b-k)-x;T<0&&1===o?T+=2*Math.PI:T>0&&0===o&&(T-=2*Math.PI);for(var E=Math.ceil(Math.abs(T/(.5*Math.PI+.001))),I=[],_=0;_<E;_++){var R=x+_*T/E,P=x+(_+1)*T/E;I[_]=[k,S,R,P,n,r,u,h]}return I},Wo=function(e,t,n,r,i,o,s,a){var c=a*i,l=-s*o,u=s*i,h=a*o,d=.5*(r-n),f=8/3*Math.sin(.5*d)*Math.sin(.5*d)/Math.sin(d),p=e+Math.cos(n)-f*Math.sin(n),g=t+Math.sin(n)+f*Math.cos(n),m=e+Math.cos(r),v=t+Math.sin(r),y=m+f*Math.sin(r),b=v-f*Math.cos(r);return[c*p+l*g,u*p+h*g,c*y+l*b,u*y+h*b,c*m+l*v,u*m+h*v]},Ko=function(e){return function(e){Oo=Do=Lo=jo=Uo=Bo=0;for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.cmd&&"function"===typeof zo[r.cmd]){var i=zo[r.cmd](r.args);Array.isArray(i)?t=t.concat(i):t.push(i)}}return t}(function(e){for(var t,n=[],r=[],i="",o=!1,s=0,a=0,c=e;a<c.length;a++){var l=c[a];if(qo.has(l))s=qo.get(l),t&&(i.length>0&&(r[r.length]=+i),n[n.length]={cmd:t,args:r},r=[],i="",o=!1),t=l;else if([" ",","].includes(l)||"-"===l&&i.length>0&&"e"!==i[i.length-1]||"."===l&&o){if(0===i.length)continue;r.length===s?(n[n.length]={cmd:t,args:r},r=[+i],"M"===t&&(t="L"),"m"===t&&(t="l")):r[r.length]=+i,o="."===l,i=["-","."].includes(l)?l:""}else i+=l,"."===l&&(o=!0)}return i.length>0&&(r.length===s?(n[n.length]={cmd:t,args:r},r=[+i],"M"===t&&(t="L"),"m"===t&&(t="l")):r[r.length]=+i),n[n.length]={cmd:t,args:r},n}(e))},Go=function(e,t){return[no(),t.graphicsState&&to(t.graphicsState),Ki(t.x,t.y),Xi(Li(t.rotate)),Gi(t.width,t.height),Qi(Li(t.xSkew),Li(t.ySkew)),Ao(e),ro()].filter(Boolean)},Xo=function(e){var t,n;return[no(),e.graphicsState&&to(e.graphicsState),e.color&&Po(e.color),e.borderColor&&No(e.borderColor),io(e.borderWidth),e.borderLineCap&&$i(e.borderLineCap),Ji(null!==(t=e.borderDashArray)&&void 0!==t?t:[],null!==(n=e.borderDashPhase)&&void 0!==n?n:0),Ki(e.x,e.y),Xi(Li(e.rotate)),Qi(Li(e.xSkew),Li(e.ySkew)),co(0,0),lo(0,e.height),lo(e.width,e.height),lo(e.width,0),ao(),e.color&&e.borderWidth?fo():e.color?ho():e.borderColor?uo():ao(),ro()].filter(Boolean)},Yo=(Math.sqrt(2)-1)/3*4,Qo=function(e){var t,n,r;return c([no(),e.graphicsState&&to(e.graphicsState),e.color&&Po(e.color),e.borderColor&&No(e.borderColor),io(e.borderWidth),e.borderLineCap&&$i(e.borderLineCap),Ji(null!==(t=e.borderDashArray)&&void 0!==t?t:[],null!==(n=e.borderDashPhase)&&void 0!==n?n:0)],void 0===e.rotate?function(e){var t=Pi(e.x),n=Pi(e.y),r=Pi(e.xScale),i=Pi(e.yScale),o=r*Yo,s=i*Yo,a=(t-=r)+2*r,c=(n-=i)+2*i,l=t+r,u=n+i;return[no(),co(t,u),oo(t,u-s,l-o,n,l,n),oo(l+o,n,a,u-s,a,u),oo(a,u+s,l+o,c,l,c),oo(l-o,c,t,u+s,t,u),ro()]}({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale}):function(e){var t=Pi(e.x),n=Pi(e.y),r=Pi(e.xScale),i=Pi(e.yScale),o=-r,s=-i,a=r*Yo,c=i*Yo,l=o+2*r,u=s+2*i,h=o+r,d=s+i;return[Ki(t,n),Xi(Li(e.rotate)),co(o,d),oo(o,d-c,h-a,s,h,s),oo(h+a,s,l,d-c,l,d),oo(l,d+c,h+a,u,h,u),oo(h-a,u,o,d+c,o,d)]}({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale,rotate:null!==(r=e.rotate)&&void 0!==r?r:Mi(0)}),[e.color&&e.borderWidth?fo():e.color?ho():e.borderColor?uo():ao(),ro()]).filter(Boolean)},Jo=function(e){return 0===e.rotation?[Ki(0,0),Yi(0)]:90===e.rotation?[Ki(e.width,0),Yi(90)]:180===e.rotation?[Ki(e.width,e.height),Yi(180)]:270===e.rotation?[Ki(0,e.height),Yi(270)]:[]},Zo=function(e){var t=Xo({x:e.x,y:e.y,width:e.width,height:e.height,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)});if(!e.filled)return t;var n=Pi(e.width),r=Pi(e.height),i=function(e){var t=Pi(e.size),n=-.25,r=-.49,i=-.675,o=.3995/.965+r;return[no(),e.color&&No(e.color),io(e.thickness),Ki(e.x,e.y),co(i*t,o*t),lo(n*t,r*t),lo(.69*t,.475*t),uo(),ro()].filter(Boolean)}({x:n/2,y:r/2,size:Math.min(n,r)/2,thickness:e.thickness,color:e.markColor});return c([no()],t,i,[ro()])},$o=function(e){var t=Pi(e.width),n=Pi(e.height),r=Math.min(t,n)/2,i=Qo({x:e.x,y:e.y,xScale:r,yScale:r,color:e.color,borderColor:e.borderColor,borderWidth:e.borderWidth});if(!e.filled)return i;var o=Qo({x:e.x,y:e.y,xScale:.45*r,yScale:.45*r,color:e.dotColor,borderColor:void 0,borderWidth:0});return c([no()],i,o,[ro()])},es=function(e){var t=Pi(e.x),n=Pi(e.y),r=Pi(e.width),i=Pi(e.height),o=Xo({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)}),s=ts(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)});return c([no()],o,s,[ro()])},ts=function(e,t){for(var n=[mo(),Po(t.color),yo(t.font,t.size)],r=0,i=e.length;r<i;r++){var o=e[r],s=o.encoded,a=o.x,c=o.y;n.push(wo(Li(t.rotate),Li(t.xSkew),Li(t.ySkew),a,c),go(s))}return n.push(vo()),n},ns=function(e){var t=Pi(e.x),n=Pi(e.y),r=Pi(e.width),i=Pi(e.height),o=Pi(e.borderWidth),s=Pi(e.padding),a=t+o/2+s,l=n+o/2+s,u=r-2*(o/2+s),h=i-2*(o/2+s),d=[co(a,l),lo(a,l+h),lo(a+u,l+h),lo(a+u,l),ao(),qi(),po()],f=Xo({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)}),p=ts(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)}),g=c([Co("Tx"),no()],p,[ro(),ko()]);return c([no()],f,d,g,[ro()])},rs=function(e){function t(){return e.call(this,"Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.")||this}return i(t,e),t}(Error),is=function(e){function t(){return e.call(this,"Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.")||this}return i(t,e),t}(Error),os=function(e){function t(){return e.call(this,"A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.")||this}return i(t,e),t}(Error),ss=function(e){function t(){return e.call(this,"PDFDocument has no pages so `PDFDocument.removePage` cannot be called")||this}return i(t,e),t}(Error),as=function(e){function t(t){var n='PDFDocument has no form field with the name "'+t+'"';return e.call(this,n)||this}return i(t,e),t}(Error),cs=function(e){function t(t,n,r){var i,o,s='Expected field "'+t+'" to be of type '+(null===n||void 0===n?void 0:n.name)+", but it is actually of type "+(null!==(o=null===(i=null===r||void 0===r?void 0:r.constructor)||void 0===i?void 0:i.name)&&void 0!==o?o:r);return e.call(this,s)||this}return i(t,e),t}(Error),ls=(function(e){function t(t){var n='Failed to select check box due to missing onValue: "'+t+'"';return e.call(this,n)||this}i(t,e)}(Error),function(e){function t(t){var n='A field already exists with the specified name: "'+t+'"';return e.call(this,n)||this}return i(t,e),t}(Error)),us=function(e){function t(t){var n='Field name contains invalid component: "'+t+'"';return e.call(this,n)||this}return i(t,e),t}(Error),hs=(function(e){function t(t){var n='A non-terminal field already exists with the specified name: "'+t+'"';return e.call(this,n)||this}i(t,e)}(Error),function(e){function t(t){var n="Reading rich text fields is not supported: Attempted to read rich text field: "+t;return e.call(this,n)||this}return i(t,e),t}(Error)),ds=function(e){function t(t,n){var r="Failed to layout combed text as lineLength="+t+" is greater than cellCount="+n;return e.call(this,r)||this}return i(t,e),t}(Error),fs=function(e){function t(t,n,r){var i="Attempted to set text with length="+t+" for TextField with maxLength="+n+" and name="+r;return e.call(this,i)||this}return i(t,e),t}(Error),ps=function(e){function t(t,n,r){var i="Attempted to set maxLength="+n+", which is less than "+t+", the length of this field's current value (name="+r+")";return e.call(this,i)||this}return i(t,e),t}(Error);!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(So||(So={}));var gs=function(e,t,n,r){void 0===r&&(r=!1);for(var i=4;i<500;){for(var o=0,s=0,a=e.length;s<a;s++){o+=1;for(var c=e[s].split(" "),l=n.width,u=0,h=c.length;u<h;u++){var d=u===h-1?c[u]:c[u]+" ",f=t.widthOfTextAtSize(d,i);(l-=f)<=0&&(o+=1,l=n.width-f)}}if(!r&&o>e.length)return i-1;var p=t.heightAtSize(i);if((p+.2*p)*o>Math.abs(n.height))return i-1;i+=1}return i},ms=function(e,t,n,r){for(var i=n.width/r,o=n.height,s=4,a=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=T(e,n),o=i[0],s=i[1];t.push(o),n+=s}return t}(e);s<500;){for(var c=0,l=a.length;c<l;c++){var u=a[c];if(t.widthOfTextAtSize(u,s)>.75*i)return s-1}if(t.heightAtSize(s,{descender:!1})>o)return s-1;s+=1}return s},vs=function(e){for(var t=e.length;t>0;t--)if(/\s/.test(e[t]))return t},ys=function(e,t,n,r){for(var i,o=e.length;o>0;){var s=e.substring(0,o),a=n.encodeText(s),c=n.widthOfTextAtSize(s,r);if(c<t)return{line:s,encoded:a,width:c,remainder:e.substring(o)||void 0};o=null!==(i=vs(s))&&void 0!==i?i:0}return{line:e,encoded:n.encodeText(e),width:n.widthOfTextAtSize(e,r),remainder:void 0}},bs=function(e,t){var n=t.alignment,r=t.fontSize,i=t.font,o=t.bounds,s=S(A(e));void 0!==r&&0!==r||(r=gs(s,i,o,!0));for(var a=i.heightAtSize(r),c=a+.2*a,l=[],u=o.x,h=o.y,d=o.x+o.width,f=o.y+o.height,p=o.y+o.height,g=0,m=s.length;g<m;g++)for(var v=s[g];void 0!==v;){var y=ys(v,o.width,i,r),b=y.line,w=y.encoded,C=y.width,k=y.remainder,x=n===So.Left?o.x:n===So.Center?o.x+o.width/2-C/2:n===So.Right?o.x+o.width-C:o.x;x<u&&(u=x),(p-=c)<h&&(h=p),x+C>d&&(d=x+C),p+a>f&&(f=p+a),l.push({text:b,encoded:w,width:C,height:a,x:x,y:p}),v=null===k||void 0===k?void 0:k.trim()}return{fontSize:r,lineHeight:c,lines:l,bounds:{x:u,y:h,width:d-u,height:f-h}}},ws=function(e,t){var n=t.alignment,r=t.fontSize,i=t.font,o=t.bounds,s=x(A(e));void 0!==r&&0!==r||(r=gs([s],i,o));var a=i.encodeText(s),c=i.widthOfTextAtSize(s,r),l=i.heightAtSize(r,{descender:!1}),u=n===So.Left?o.x:n===So.Center?o.x+o.width/2-c/2:n===So.Right?o.x+o.width-c:o.x,h=o.y+(o.height/2-l/2);return{fontSize:r,line:{text:s,encoded:a,width:c,height:l,x:u,y:h},bounds:{x:u,y:h,width:c,height:l}}},As=function(e){return"normal"in e?e:{normal:e}},Cs=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,ks=function(e){var t,n,r=null!==(t=e.getDefaultAppearance())&&void 0!==t?t:"",i=null!==(n=R(r,Cs).match)&&void 0!==n?n:[],o=Number(i[2]);return isFinite(o)?o:void 0},Ss=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,xs=function(e){var t,n=null!==(t=e.getDefaultAppearance())&&void 0!==t?t:"",r=R(n,Ss).match,i=null!==r&&void 0!==r?r:[],o=i[1],s=i[2],a=i[3],c=i[4],l=i[5];return"g"===l&&o?xo(Number(o)):"rg"===l&&o&&s&&a?To(Number(o),Number(s),Number(a)):"k"===l&&o&&s&&a&&c?Eo(Number(o),Number(s),Number(a),Number(c)):void 0},Ts=function(e,t,n,r){var i;void 0===r&&(r=0);var o=[Po(t).toString(),yo(null!==(i=null===n||void 0===n?void 0:n.name)&&void 0!==i?i:"dummy__noop",r).toString()].join("\n");e.setDefaultAppearance(o)},Es=function(e,t){var n,r,i,s=xs(t),a=xs(e.acroField),l=t.getRectangle(),u=t.getAppearanceCharacteristics(),h=t.getBorderStyle(),d=null!==(n=null===h||void 0===h?void 0:h.getWidth())&&void 0!==n?n:0,f=Ui(null===u||void 0===u?void 0:u.getRotation()),p=Bi(l,f),g=p.width,m=p.height,v=Jo(o(o({},l),{rotation:f})),y=To(0,0,0),b=null!==(r=Mo(null===u||void 0===u?void 0:u.getBorderColor()))&&void 0!==r?r:y,w=Mo(null===u||void 0===u?void 0:u.getBackgroundColor()),A=Mo(null===u||void 0===u?void 0:u.getBackgroundColor(),.8),C=null!==(i=null!==s&&void 0!==s?s:a)&&void 0!==i?i:y;Ts(s?t:e.acroField,C);var k={x:0+d/2,y:0+d/2,width:g-d,height:m-d,thickness:1.5,borderWidth:d,borderColor:b,markColor:C};return{normal:{on:c(v,Zo(o(o({},k),{color:w,filled:!0}))),off:c(v,Zo(o(o({},k),{color:w,filled:!1})))},down:{on:c(v,Zo(o(o({},k),{color:A,filled:!0}))),off:c(v,Zo(o(o({},k),{color:A,filled:!1})))}}},Is=function(e,t){var n,r,i,s=xs(t),a=xs(e.acroField),l=t.getRectangle(),u=t.getAppearanceCharacteristics(),h=t.getBorderStyle(),d=null!==(n=null===h||void 0===h?void 0:h.getWidth())&&void 0!==n?n:0,f=Ui(null===u||void 0===u?void 0:u.getRotation()),p=Bi(l,f),g=p.width,m=p.height,v=Jo(o(o({},l),{rotation:f})),y=To(0,0,0),b=null!==(r=Mo(null===u||void 0===u?void 0:u.getBorderColor()))&&void 0!==r?r:y,w=Mo(null===u||void 0===u?void 0:u.getBackgroundColor()),A=Mo(null===u||void 0===u?void 0:u.getBackgroundColor(),.8),C=null!==(i=null!==s&&void 0!==s?s:a)&&void 0!==i?i:y;Ts(s?t:e.acroField,C);var k={x:g/2,y:m/2,width:g-d,height:m-d,borderWidth:d,borderColor:b,dotColor:C};return{normal:{on:c(v,$o(o(o({},k),{color:w,filled:!0}))),off:c(v,$o(o(o({},k),{color:w,filled:!1})))},down:{on:c(v,$o(o(o({},k),{color:A,filled:!0}))),off:c(v,$o(o(o({},k),{color:A,filled:!1})))}}},_s=function(e,t,n){var r,i,s,a,l,u=xs(t),h=xs(e.acroField),d=ks(t),f=ks(e.acroField),p=t.getRectangle(),g=t.getAppearanceCharacteristics(),m=t.getBorderStyle(),v=null===g||void 0===g?void 0:g.getCaptions(),y=null!==(r=null===v||void 0===v?void 0:v.normal)&&void 0!==r?r:"",b=null!==(s=null!==(i=null===v||void 0===v?void 0:v.down)&&void 0!==i?i:y)&&void 0!==s?s:"",w=null!==(a=null===m||void 0===m?void 0:m.getWidth())&&void 0!==a?a:0,A=Ui(null===g||void 0===g?void 0:g.getRotation()),C=Bi(p,A),k=C.width,S=C.height,x=Jo(o(o({},p),{rotation:A})),T=To(0,0,0),E=Mo(null===g||void 0===g?void 0:g.getBorderColor()),I=Mo(null===g||void 0===g?void 0:g.getBackgroundColor()),_=Mo(null===g||void 0===g?void 0:g.getBackgroundColor(),.8),R={x:w,y:w,width:k-2*w,height:S-2*w},P=ws(y,{alignment:So.Center,fontSize:null!==d&&void 0!==d?d:f,font:n,bounds:R}),N=ws(b,{alignment:So.Center,fontSize:null!==d&&void 0!==d?d:f,font:n,bounds:R}),M=Math.min(P.fontSize,N.fontSize),F=null!==(l=null!==u&&void 0!==u?u:h)&&void 0!==l?l:T;Ts(u||void 0!==d?t:e.acroField,F,n,M);var O={x:0+w/2,y:0+w/2,width:k-w,height:S-w,borderWidth:w,borderColor:E,textColor:F,font:n.name,fontSize:M};return{normal:c(x,es(o(o({},O),{color:I,textLines:[P.line]}))),down:c(x,es(o(o({},O),{color:_,textLines:[N.line]})))}},Rs=function(e,t,n){var r,i,s,a,l,u,h=xs(t),d=xs(e.acroField),f=ks(t),p=ks(e.acroField),g=t.getRectangle(),m=t.getAppearanceCharacteristics(),v=t.getBorderStyle(),y=null!==(r=e.getText())&&void 0!==r?r:"",b=null!==(i=null===v||void 0===v?void 0:v.getWidth())&&void 0!==i?i:0,w=Ui(null===m||void 0===m?void 0:m.getRotation()),C=Bi(g,w),k=C.width,S=C.height,E=Jo(o(o({},g),{rotation:w})),I=To(0,0,0),_=Mo(null===m||void 0===m?void 0:m.getBorderColor()),R=Mo(null===m||void 0===m?void 0:m.getBackgroundColor()),P=e.isCombed()?0:1,N={x:b+P,y:b+P,width:k-2*(b+P),height:S-2*(b+P)};if(e.isMultiline())l=(M=bs(y,{alignment:e.getAlignment(),fontSize:null!==f&&void 0!==f?f:p,font:n,bounds:N})).lines,u=M.fontSize;else if(e.isCombed()){var M=function(e,t){var n=t.fontSize,r=t.font,i=t.bounds,o=t.cellCount,s=x(A(e));if(s.length>o)throw new ds(s.length,o);void 0!==n&&0!==n||(n=ms(s,r,i,o));for(var a=i.width/o,c=r.heightAtSize(n,{descender:!1}),l=i.y+(i.height/2-c/2),u=[],h=i.x,d=i.y,f=i.x+i.width,p=i.y+i.height,g=0,m=0;g<o;){var v=T(s,m),y=v[0],b=v[1],w=r.encodeText(y),C=r.widthOfTextAtSize(y,n),k=i.x+(a*g+a/2)-C/2;k<h&&(h=k),l<d&&(d=l),k+C>f&&(f=k+C),l+c>p&&(p=l+c),u.push({text:s,encoded:w,width:C,height:c,x:k,y:l}),g+=1,m+=b}return{fontSize:n,cells:u,bounds:{x:h,y:d,width:f-h,height:p-d}}}(y,{fontSize:null!==f&&void 0!==f?f:p,font:n,bounds:N,cellCount:null!==(s=e.getMaxLength())&&void 0!==s?s:0});l=M.cells,u=M.fontSize}else{l=[(M=ws(y,{alignment:e.getAlignment(),fontSize:null!==f&&void 0!==f?f:p,font:n,bounds:N})).line],u=M.fontSize}var F=null!==(a=null!==h&&void 0!==h?h:d)&&void 0!==a?a:I;Ts(h||void 0!==f?t:e.acroField,F,n,u);var O={x:0+b/2,y:0+b/2,width:k-b,height:S-b,borderWidth:null!==b&&void 0!==b?b:0,borderColor:_,textColor:F,font:n.name,fontSize:u,color:R,textLines:l,padding:P};return c(E,ns(O))},Ps=function(e,t,n){var r,i,s,a=xs(t),l=xs(e.acroField),u=ks(t),h=ks(e.acroField),d=t.getRectangle(),f=t.getAppearanceCharacteristics(),p=t.getBorderStyle(),g=null!==(r=e.getSelected()[0])&&void 0!==r?r:"",m=null!==(i=null===p||void 0===p?void 0:p.getWidth())&&void 0!==i?i:0,v=Ui(null===f||void 0===f?void 0:f.getRotation()),y=Bi(d,v),b=y.width,w=y.height,A=Jo(o(o({},d),{rotation:v})),C=To(0,0,0),k=Mo(null===f||void 0===f?void 0:f.getBorderColor()),S=Mo(null===f||void 0===f?void 0:f.getBackgroundColor()),x={x:m+1,y:m+1,width:b-2*(m+1),height:w-2*(m+1)},T=ws(g,{alignment:So.Left,fontSize:null!==u&&void 0!==u?u:h,font:n,bounds:x}),E=T.line,I=T.fontSize,_=null!==(s=null!==a&&void 0!==a?a:l)&&void 0!==s?s:C;Ts(a||void 0!==u?t:e.acroField,_,n,I);var R={x:0+m/2,y:0+m/2,width:b-m,height:w-m,borderWidth:null!==m&&void 0!==m?m:0,borderColor:k,textColor:_,font:n.name,fontSize:I,color:S,textLines:[E],padding:1};return c(A,ns(R))},Ns=function(e,t,n){var r,i,s=xs(t),a=xs(e.acroField),l=ks(t),u=ks(e.acroField),h=t.getRectangle(),d=t.getAppearanceCharacteristics(),f=t.getBorderStyle(),p=null!==(r=null===f||void 0===f?void 0:f.getWidth())&&void 0!==r?r:0,g=Ui(null===d||void 0===d?void 0:d.getRotation()),m=Bi(h,g),v=m.width,y=m.height,b=Jo(o(o({},h),{rotation:g})),w=To(0,0,0),A=Mo(null===d||void 0===d?void 0:d.getBorderColor()),C=Mo(null===d||void 0===d?void 0:d.getBackgroundColor()),k=e.getOptions(),S=e.getSelected();e.isSorted()&&k.sort();for(var x="",T=0,E=k.length;T<E;T++)x+=k[T],T<E-1&&(x+="\n");var I={x:p+1,y:p+1,width:v-2*(p+1),height:y-2*(p+1)},_=bs(x,{alignment:So.Left,fontSize:null!==l&&void 0!==l?l:u,font:n,bounds:I}),R=_.lines,P=_.fontSize,N=_.lineHeight,M=[];for(T=0,E=R.length;T<E;T++){var F=R[T];S.includes(F.text)&&M.push(T)}var O=To(.6,193/255,218/255),D=null!==(i=null!==s&&void 0!==s?s:a)&&void 0!==i?i:w;return Ts(s||void 0!==l?t:e.acroField,D,n,P),c(b,function(e){for(var t=Pi(e.x),n=Pi(e.y),r=Pi(e.width),i=Pi(e.height),o=Pi(e.lineHeight),s=Pi(e.borderWidth),a=Pi(e.padding),l=t+s/2+a,u=n+s/2+a,h=r-2*(s/2+a),d=i-2*(s/2+a),f=[co(l,u),lo(l,u+d),lo(l+h,u+d),lo(l+h,u),ao(),qi(),po()],p=Xo({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)}),g=[],m=0,v=e.selectedLines.length;m<v;m++){var y=e.textLines[e.selectedLines[m]];g.push.apply(g,Xo({x:y.x-a,y:y.y-(o-y.height)/2,width:r-s,height:y.height+(o-y.height)/2,borderWidth:0,color:e.selectedColor,borderColor:void 0,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)}))}var b=ts(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)}),w=c([Co("Tx"),no()],b,[ro(),ko()]);return c([no()],p,g,f,w,[ro()])}({x:0+p/2,y:0+p/2,width:v-p,height:y-p,borderWidth:null!==p&&void 0!==p?p:0,borderColor:A,textColor:D,font:n.name,fontSize:P,color:C,textLines:R,lineHeight:N,selectedColor:O,selectedLines:M,padding:1}))};const Ms=function(){function e(e,t,n){this.alreadyEmbedded=!1,ke(e,"ref",[[Mt,"PDFRef"]]),ke(t,"doc",[[ua,"PDFDocument"]]),ke(n,"embedder",[[or,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=n.width,this.height=n.height,this.embedder=n}return e.prototype.scale=function(e){return ke(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const Fs=function(){function e(e,t,n){this.modified=!0,ke(e,"ref",[[Mt,"PDFRef"]]),ke(t,"doc",[[ua,"PDFDocument"]]),ke(n,"embedder",[[kn,"CustomFontEmbedder"],[pn,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=n.fontName,this.embedder=n}return e.prototype.encodeText=function(e){return ke(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},e.prototype.widthOfTextAtSize=function(e,t){return ke(e,"text",["string"]),ke(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},e.prototype.heightAtSize=function(e,t){var n;return ke(e,"size",["number"]),Se(null===t||void 0===t?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:null===(n=null===t||void 0===t?void 0:t.descender)||void 0===n||n})},e.prototype.sizeAtHeight=function(e){return ke(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},e.prototype.getCharacterSet=function(){return this.embedder instanceof pn?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},e.prototype.embed=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();var Os=function(){function e(e,t,n){ke(e,"ref",[[Mt,"PDFRef"]]),ke(t,"doc",[[ua,"PDFDocument"]]),ke(n,"embedder",[[Pn,"JpegEmbedder"],[Dn,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=n.width,this.height=n.height,this.embedder=n}return e.prototype.scale=function(e){return ke(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.scaleToFit=function(e,t){ke(e,"width",["number"]),ke(t,"height",["number"]);var n=e/this.width,r=t/this.height,i=Math.min(n,r);return this.scale(i)},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return s(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return this.embedder?(this.embedTask||(t=(e=this).doc,n=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,n)),[4,this.embedTask]):[2];case 1:return r.sent(),this.embedder=void 0,[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const Ds=Os;var Ls;!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(Ls||(Ls={}));var js=function(e){Se(null===e||void 0===e?void 0:e.x,"options.x",["number"]),Se(null===e||void 0===e?void 0:e.y,"options.y",["number"]),Se(null===e||void 0===e?void 0:e.width,"options.width",["number"]),Se(null===e||void 0===e?void 0:e.height,"options.height",["number"]),Se(null===e||void 0===e?void 0:e.textColor,"options.textColor",[[Object,"Color"]]),Se(null===e||void 0===e?void 0:e.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),Se(null===e||void 0===e?void 0:e.borderColor,"options.borderColor",[[Object,"Color"]]),Se(null===e||void 0===e?void 0:e.borderWidth,"options.borderWidth",["number"]),Se(null===e||void 0===e?void 0:e.rotate,"options.rotate",[[Object,"Rotation"]])},Us=function(){function e(e,t,n){ke(e,"acroField",[[Sr,"PDFAcroTerminal"]]),ke(t,"ref",[[Mt,"PDFRef"]]),ke(n,"doc",[[ua,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=n}return e.prototype.getName=function(){var e;return null!==(e=this.acroField.getFullyQualifiedName())&&void 0!==e?e:""},e.prototype.isReadOnly=function(){return this.acroField.hasFlag(_r.ReadOnly)},e.prototype.enableReadOnly=function(){this.acroField.setFlagTo(_r.ReadOnly,!0)},e.prototype.disableReadOnly=function(){this.acroField.setFlagTo(_r.ReadOnly,!1)},e.prototype.isRequired=function(){return this.acroField.hasFlag(_r.Required)},e.prototype.enableRequired=function(){this.acroField.setFlagTo(_r.Required,!0)},e.prototype.disableRequired=function(){this.acroField.setFlagTo(_r.Required,!1)},e.prototype.isExported=function(){return!this.acroField.hasFlag(_r.NoExport)},e.prototype.enableExporting=function(){this.acroField.setFlagTo(_r.NoExport,!1)},e.prototype.disableExporting=function(){this.acroField.setFlagTo(_r.NoExport,!0)},e.prototype.needsAppearancesUpdate=function(){throw new Oe(this.constructor.name,"needsAppearancesUpdate")},e.prototype.defaultUpdateAppearances=function(e){throw new Oe(this.constructor.name,"defaultUpdateAppearances")},e.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},e.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},e.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},e.prototype.createWidget=function(e){var t,n=e.textColor,r=e.backgroundColor,i=e.borderColor,o=e.borderWidth,s=ji(e.rotate),a=e.caption,c=e.x,l=e.y,u=e.width+o,h=e.height+o,d=Boolean(e.hidden),f=e.page;Ie(s,"degreesAngle",90);var p=Cr.create(this.doc.context,this.ref),g=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var r=e.x,i=e.y,o=e.width,s=e.height,a=Ui(n),c=t/2;return 0===a?{x:r-c,y:i-c,width:o,height:s}:90===a?{x:r-s+c,y:i-c,width:s,height:o}:180===a?{x:r-o+c,y:i-s+c,width:o,height:s}:270===a?{x:r-c,y:i-o+c,width:s,height:o}:{x:r-c,y:i-c,width:o,height:s}}({x:c,y:l,width:u,height:h},o,s);p.setRectangle(g),f&&p.setP(f);var m=p.getOrCreateAppearanceCharacteristics();r&&m.setBackgroundColor(Fo(r)),m.setRotation(s),a&&m.setCaptions({normal:a}),i&&m.setBorderColor(Fo(i));var v=p.getOrCreateBorderStyle();if(void 0!==o&&v.setWidth(o),p.setFlagTo(Ti.Print,!0),p.setFlagTo(Ti.Hidden,d),p.setFlagTo(Ti.Invisible,!1),n){var y=(null!==(t=this.acroField.getDefaultAppearance())&&void 0!==t?t:"")+"\n"+Po(n).toString();this.acroField.setDefaultAppearance(y)}return p},e.prototype.updateWidgetAppearanceWithFont=function(e,t,n){var r=n.normal,i=n.rollover,o=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,r,t),rollover:i&&this.createAppearanceStream(e,i,t),down:o&&this.createAppearanceStream(e,o,t)})},e.prototype.updateOnOffWidgetAppearance=function(e,t,n){var r=n.normal,i=n.rollover,o=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,r,t),rollover:i&&this.createAppearanceDict(e,i,t),down:o&&this.createAppearanceDict(e,o,t)})},e.prototype.updateWidgetAppearances=function(e,t){var n=t.normal,r=t.rollover,i=t.down;e.setNormalAppearance(n),r?e.setRolloverAppearance(r):e.removeRolloverAppearance(),i?e.setDownAppearance(i):e.removeDownAppearance()},e.prototype.createAppearanceStream=function(e,t,n){var r,i=this.acroField.dict.context,o=e.getRectangle(),s=o.width,a=o.height,c=n&&{Font:(r={},r[n.name]=n.ref,r)},l=i.formXObject(t,{Resources:c,BBox:i.obj([0,0,s,a]),Matrix:i.obj([1,0,0,1,0,0])});return i.register(l)},e.prototype.createImageAppearanceStream=function(e,t,n){var r,i,s=this.acroField.dict.context,a=e.getRectangle(),l=e.getAppearanceCharacteristics(),u=e.getBorderStyle(),h=null!==(i=null===u||void 0===u?void 0:u.getWidth())&&void 0!==i?i:0,d=Ui(null===l||void 0===l?void 0:l.getRotation()),f=Jo(o(o({},a),{rotation:d})),p=Bi(a,d),g=t.scaleToFit(p.width-2*h,p.height-2*h),m={x:h,y:h,width:g.width,height:g.height,rotate:Mi(0),xSkew:Mi(0),ySkew:Mi(0)};n===Ls.Center?(m.x+=(p.width-2*h)/2-g.width/2,m.y+=(p.height-2*h)/2-g.height/2):n===Ls.Right&&(m.x=p.width-h-g.width,m.y=p.height-h-g.height);var v=this.doc.context.addRandomSuffix("Image",10),y=c(f,Go(v,m)),b={XObject:(r={},r[v]=t.ref,r)},w=s.formXObject(y,{Resources:b,BBox:s.obj([0,0,a.width,a.height]),Matrix:s.obj([1,0,0,1,0,0])});return s.register(w)},e.prototype.createAppearanceDict=function(e,t,n){var r=this.acroField.dict.context,i=this.createAppearanceStream(e,t.on),o=this.createAppearanceStream(e,t.off),s=r.obj({});return s.set(n,i),s.set(St.of("Off"),o),s},e}();const Bs=Us;var qs=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return ke(t,"acroCheckBox",[[Ir,"PDFAcroCheckBox"]]),i.acroField=t,i}return i(t,e),t.prototype.check=function(){var e,t=null!==(e=this.acroField.getOnValue())&&void 0!==e?e:St.of("Yes");this.markAsDirty(),this.acroField.setValue(t)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(St.of("Off"))},t.prototype.isChecked=function(){var e=this.acroField.getOnValue();return!!e&&e===this.acroField.getValue()},t.prototype.addToPage=function(e,t){var n,r,i,o,s,a;ke(e,"page",[[pa,"PDFPage"]]),js(t),t||(t={}),"textColor"in t||(t.textColor=To(0,0,0)),"backgroundColor"in t||(t.backgroundColor=To(1,1,1)),"borderColor"in t||(t.borderColor=To(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var c=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(i=t.width)&&void 0!==i?i:50,height:null!==(o=t.height)&&void 0!==o?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(s=t.borderWidth)&&void 0!==s?s:0,rotate:null!==(a=t.rotate)&&void 0!==a?a:Mi(0),hidden:t.hidden,page:e.ref}),l=this.doc.context.register(c.dict);this.acroField.addWidget(l),c.setAppearanceState(St.of("Off")),this.updateWidgetAppearance(c,St.of("Yes")),e.node.addAnnot(l)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getAppearanceState(),s=null===(e=i.getAppearances())||void 0===e?void 0:e.normal;if(!(s instanceof Et))return!0;if(o&&!s.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){var t;Se(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r],s=null!==(t=o.getOnValue())&&void 0!==t?t:St.of("Yes");s&&this.updateWidgetAppearance(o,s,e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=As((null!==n&&void 0!==n?n:Es)(this,e));this.updateOnOffWidgetAppearance(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bs);const zs=qs;var Vs=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return ke(t,"acroComboBox",[[Dr,"PDFAcroComboBox"]]),i.acroField=t,i}return i(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=new Array(e.length),n=0,r=t.length;n<r;n++){var i=e[n],o=i.display,s=i.value;t[n]=(null!==o&&void 0!==o?o:s).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t},t.prototype.setOptions=function(e){ke(e,"options",[Array]);for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]={value:dn.fromText(e[n])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){ke(e,"options",["string",Array]);for(var t=Array.isArray(e)?e:[e],n=this.acroField.getOptions(),r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]={value:dn.fromText(t[i])};this.acroField.setOptions(n.concat(r))},t.prototype.select=function(e,t){void 0===t&&(t=!1),ke(e,"options",["string",Array]),ke(t,"merge",["boolean"]);var n=Array.isArray(e)?e:[e],r=this.getOptions();n.find((function(e){return!r.includes(e)}))&&this.enableEditing(),this.markAsDirty(),(n.length>1||1===n.length&&t)&&this.enableMultiselect();for(var i=new Array(n.length),o=0,s=n.length;o<s;o++)i[o]=dn.fromText(n[o]);if(t){var a=this.acroField.getValues();this.acroField.setValues(a.concat(i))}else this.acroField.setValues(i)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){_e(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(Nr.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(Nr.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(Nr.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(Nr.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(Nr.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(Nr.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(Nr.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(Nr.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(Nr.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(Nr.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(Nr.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(Nr.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(Nr.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(Nr.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(Nr.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){var n,r,i,o,s,a,c;ke(e,"page",[[pa,"PDFPage"]]),js(t),t||(t={}),"textColor"in t||(t.textColor=To(0,0,0)),"backgroundColor"in t||(t.backgroundColor=To(1,1,1)),"borderColor"in t||(t.borderColor=To(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var l=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(i=t.width)&&void 0!==i?i:200,height:null!==(o=t.height)&&void 0!==o?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(s=t.borderWidth)&&void 0!==s?s:0,rotate:null!==(a=t.rotate)&&void 0!==a?a:Mi(0),hidden:t.hidden,page:e.ref}),u=this.doc.context.register(l.dict);this.acroField.addWidget(u);var h=null!==(c=t.font)&&void 0!==c?c:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(l,h),e.node.addAnnot(u)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof _t))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){ke(e,"font",[[Fs,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){ke(e,"font",[[Fs,"PDFFont"]]),Se(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=As((null!==n&&void 0!==n?n:Ps)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bs);const Hs=Vs;var Ws=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return ke(t,"acroListBox",[[Vr,"PDFAcroListBox"]]),i.acroField=t,i}return i(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=new Array(e.length),n=0,r=t.length;n<r;n++){var i=e[n],o=i.display,s=i.value;t[n]=(null!==o&&void 0!==o?o:s).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t},t.prototype.setOptions=function(e){ke(e,"options",[Array]),this.markAsDirty();for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]={value:dn.fromText(e[n])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){ke(e,"options",["string",Array]),this.markAsDirty();for(var t=Array.isArray(e)?e:[e],n=this.acroField.getOptions(),r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]={value:dn.fromText(t[i])};this.acroField.setOptions(n.concat(r))},t.prototype.select=function(e,t){void 0===t&&(t=!1),ke(e,"options",["string",Array]),ke(t,"merge",["boolean"]);var n=Array.isArray(e)?e:[e];!function(e,t,n){Array.isArray(n)||(n=fe(n));for(var r=0,i=e.length;r<i;r++)be(e[r],t,n)}(n,"option",this.getOptions()),this.markAsDirty(),(n.length>1||1===n.length&&t)&&this.enableMultiselect();for(var r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]=dn.fromText(n[i]);if(t){var s=this.acroField.getValues();this.acroField.setValues(s.concat(r))}else this.acroField.setValues(r)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){_e(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(Nr.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(Nr.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(Nr.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(Nr.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(Nr.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(Nr.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(Nr.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(Nr.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(Nr.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){var n,r,i,o,s,a,c;ke(e,"page",[[pa,"PDFPage"]]),js(t),t||(t={}),"textColor"in t||(t.textColor=To(0,0,0)),"backgroundColor"in t||(t.backgroundColor=To(1,1,1)),"borderColor"in t||(t.borderColor=To(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var l=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(i=t.width)&&void 0!==i?i:200,height:null!==(o=t.height)&&void 0!==o?o:100,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(s=t.borderWidth)&&void 0!==s?s:0,rotate:null!==(a=t.rotate)&&void 0!==a?a:Mi(0),hidden:t.hidden,page:e.ref}),u=this.doc.context.register(l.dict);this.acroField.addWidget(u);var h=null!==(c=t.font)&&void 0!==c?c:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(l,h),e.node.addAnnot(u)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof _t))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){ke(e,"font",[[Fs,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){ke(e,"font",[[Fs,"PDFFont"]]),Se(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=As((null!==n&&void 0!==n?n:Ns)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bs);const Ks=Ws;var Gs=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return ke(t,"acroRadioButton",[[zr,"PDFAcroRadioButton"]]),i.acroField=t,i}return i(t,e),t.prototype.getOptions=function(){var e=this.acroField.getExportValues();if(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t}var i=this.acroField.getOnValues(),o=new Array(i.length);for(n=0,r=o.length;n<r;n++)o[n]=i[n].decodeText();return o},t.prototype.getSelected=function(){var e=this.acroField.getValue();if(e!==St.of("Off")){var t=this.acroField.getExportValues();if(t)for(var n=this.acroField.getOnValues(),r=0,i=n.length;r<i;r++)if(n[r]===e)return t[r].decodeText();return e.decodeText()}},t.prototype.select=function(e){ke(e,"option",["string"]);var t=this.getOptions();be(e,"option",t),this.markAsDirty();var n=this.acroField.getOnValues(),r=this.acroField.getExportValues();if(r)for(var i=0,o=r.length;i<o;i++)r[i].decodeText()===e&&this.acroField.setValue(n[i]);else for(i=0,o=n.length;i<o;i++){var s=n[i];s.decodeText()===e&&this.acroField.setValue(s)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(St.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Rr.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Rr.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Rr.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Rr.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Rr.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Rr.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(e,t,n){var r,i,o,s,a,c,l,u,h;ke(e,"option",["string"]),ke(t,"page",[[pa,"PDFPage"]]),js(n);var d=this.createWidget({x:null!==(r=null===n||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(i=null===n||void 0===n?void 0:n.y)&&void 0!==i?i:0,width:null!==(o=null===n||void 0===n?void 0:n.width)&&void 0!==o?o:50,height:null!==(s=null===n||void 0===n?void 0:n.height)&&void 0!==s?s:50,textColor:null!==(a=null===n||void 0===n?void 0:n.textColor)&&void 0!==a?a:To(0,0,0),backgroundColor:null!==(c=null===n||void 0===n?void 0:n.backgroundColor)&&void 0!==c?c:To(1,1,1),borderColor:null!==(l=null===n||void 0===n?void 0:n.borderColor)&&void 0!==l?l:To(0,0,0),borderWidth:null!==(u=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==u?u:1,rotate:null!==(h=null===n||void 0===n?void 0:n.rotate)&&void 0!==h?h:Mi(0),hidden:null===n||void 0===n?void 0:n.hidden,page:t.ref}),f=this.doc.context.register(d.dict),p=this.acroField.addWidgetWithOpt(f,dn.fromText(e),!this.isMutuallyExclusive());d.setAppearanceState(St.of("Off")),this.updateWidgetAppearance(d,p),t.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getAppearanceState(),s=null===(e=i.getAppearances())||void 0===e?void 0:e.normal;if(!(s instanceof Et))return!0;if(o&&!s.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){Se(e,"provider",[Function]);for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getOnValue();o&&this.updateWidgetAppearance(i,o,e)}},t.prototype.updateWidgetAppearance=function(e,t,n){var r=As((null!==n&&void 0!==n?n:Is)(this,e));this.updateOnOffWidgetAppearance(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bs);const Xs=Gs;const Ys=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return ke(t,"acroSignature",[[jr,"PDFAcroSignature"]]),i.acroField=t,i}return i(t,e),t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(e,n,r){return new t(e,n,r)},t}(Bs);var Qs=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return ke(t,"acroText",[[Ur,"PDFAcroText"]]),i.acroField=t,i}return i(t,e),t.prototype.getText=function(){var e=this.acroField.getValue();if(!e&&this.isRichFormatted())throw new hs(this.getName());return null===e||void 0===e?void 0:e.decodeText()},t.prototype.setText=function(e){Se(e,"text",["string"]);var t=this.getMaxLength();if(void 0!==t&&e&&e.length>t)throw new fs(e.length,t,this.getName());this.markAsDirty(),this.disableRichFormatting(),e?this.acroField.setValue(dn.fromText(e)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var e=this.acroField.getQuadding();return 0===e?So.Left:1===e?So.Center:2===e?So.Right:So.Left},t.prototype.setAlignment=function(e){be(e,"alignment",So),this.markAsDirty(),this.acroField.setQuadding(e)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(e){if(Ee(e,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),void 0===e)this.acroField.removeMaxLength();else{var t=this.getText();if(t&&t.length>e)throw new ps(t.length,e,this.getName());this.acroField.setMaxLength(e)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(e){for(var t=this.getAlignment(),n=t===So.Center?Ls.Center:t===So.Right?Ls.Right:Ls.Left,r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=this.createImageAppearanceStream(s,e,n);this.updateWidgetAppearances(s,{normal:a})}this.markAsClean()},t.prototype.setFontSize=function(e){_e(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(Pr.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(Pr.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(Pr.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(Pr.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(Pr.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(Pr.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(Pr.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(Pr.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(Pr.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(Pr.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(Pr.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(Pr.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(Pr.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(Pr.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(Pr.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(Pr.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&void 0!==this.getMaxLength()},t.prototype.enableCombing=function(){if(void 0===this.getMaxLength()){console.warn("PDFTextFields must have a max length in order to be combed")}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(Pr.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(Pr.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(Pr.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(Pr.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(Pr.RichText,!1)},t.prototype.addToPage=function(e,t){var n,r,i,o,s,a,c;ke(e,"page",[[pa,"PDFPage"]]),js(t),t||(t={}),"textColor"in t||(t.textColor=To(0,0,0)),"backgroundColor"in t||(t.backgroundColor=To(1,1,1)),"borderColor"in t||(t.borderColor=To(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var l=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(i=t.width)&&void 0!==i?i:200,height:null!==(o=t.height)&&void 0!==o?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(s=t.borderWidth)&&void 0!==s?s:0,rotate:null!==(a=t.rotate)&&void 0!==a?a:Mi(0),hidden:t.hidden,page:e.ref}),u=this.doc.context.register(l.dict);this.acroField.addWidget(u);var h=null!==(c=t.font)&&void 0!==c?c:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(l,h),e.node.addAnnot(u)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof _t))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){ke(e,"font",[[Fs,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){ke(e,"font",[[Fs,"PDFFont"]]),Se(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=As((null!==n&&void 0!==n?n:Rs)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bs);const Js=Qs;var Zs;!function(e){e.Courier="Courier",e.CourierBold="Courier-Bold",e.CourierOblique="Courier-Oblique",e.CourierBoldOblique="Courier-BoldOblique",e.Helvetica="Helvetica",e.HelveticaBold="Helvetica-Bold",e.HelveticaOblique="Helvetica-Oblique",e.HelveticaBoldOblique="Helvetica-BoldOblique",e.TimesRoman="Times-Roman",e.TimesRomanBold="Times-Bold",e.TimesRomanItalic="Times-Italic",e.TimesRomanBoldItalic="Times-BoldItalic",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats"}(Zs||(Zs={}));var $s=function(){function e(e,t){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont(Zs.Helvetica)},ke(e,"acroForm",[[ei,"PDFAcroForm"]]),ke(t,"doc",[[ua,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=Me.populatedBy(this.embedDefaultFont)}return e.prototype.hasXFA=function(){return this.acroForm.dict.has(St.of("XFA"))},e.prototype.deleteXFA=function(){this.acroForm.dict.delete(St.of("XFA"))},e.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=i[0],s=i[1],a=na(o,s,this.doc);a&&t.push(a)}return t},e.prototype.getFieldMaybe=function(e){ke(e,"name",["string"]);for(var t=this.getFields(),n=0,r=t.length;n<r;n++){var i=t[n];if(i.getName()===e)return i}},e.prototype.getField=function(e){ke(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new as(e)},e.prototype.getButton=function(e){ke(e,"name",["string"]);var t=this.getField(e);if(t instanceof ma)return t;throw new cs(e,ma,t)},e.prototype.getCheckBox=function(e){ke(e,"name",["string"]);var t=this.getField(e);if(t instanceof zs)return t;throw new cs(e,zs,t)},e.prototype.getDropdown=function(e){ke(e,"name",["string"]);var t=this.getField(e);if(t instanceof Hs)return t;throw new cs(e,Hs,t)},e.prototype.getOptionList=function(e){ke(e,"name",["string"]);var t=this.getField(e);if(t instanceof Ks)return t;throw new cs(e,Ks,t)},e.prototype.getRadioGroup=function(e){ke(e,"name",["string"]);var t=this.getField(e);if(t instanceof Xs)return t;throw new cs(e,Xs,t)},e.prototype.getSignature=function(e){ke(e,"name",["string"]);var t=this.getField(e);if(t instanceof Ys)return t;throw new cs(e,Ys,t)},e.prototype.getTextField=function(e){ke(e,"name",["string"]);var t=this.getField(e);if(t instanceof Js)return t;throw new cs(e,Js,t)},e.prototype.createButton=function(e){ke(e,"name",["string"]);var t=ra(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=Br.create(this.doc.context);return r.setPartialName(t.terminal),ia(n,[r,r.ref],t.terminal),ma.of(r,r.ref,this.doc)},e.prototype.createCheckBox=function(e){ke(e,"name",["string"]);var t=ra(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=Ir.create(this.doc.context);return r.setPartialName(t.terminal),ia(n,[r,r.ref],t.terminal),zs.of(r,r.ref,this.doc)},e.prototype.createDropdown=function(e){ke(e,"name",["string"]);var t=ra(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=Dr.create(this.doc.context);return r.setPartialName(t.terminal),ia(n,[r,r.ref],t.terminal),Hs.of(r,r.ref,this.doc)},e.prototype.createOptionList=function(e){ke(e,"name",["string"]);var t=ra(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=Vr.create(this.doc.context);return r.setPartialName(t.terminal),ia(n,[r,r.ref],t.terminal),Ks.of(r,r.ref,this.doc)},e.prototype.createRadioGroup=function(e){ke(e,"name",["string"]);var t=ra(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=zr.create(this.doc.context);return r.setPartialName(t.terminal),ia(n,[r,r.ref],t.terminal),Xs.of(r,r.ref,this.doc)},e.prototype.createTextField=function(e){ke(e,"name",["string"]);var t=ra(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=Ur.create(this.doc.context);return r.setPartialName(t.terminal),ia(n,[r,r.ref],t.terminal),Js.of(r,r.ref,this.doc)},e.prototype.flatten=function(e){void 0===e&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),n=0,r=t.length;n<r;n++){for(var i=t[n],s=i.acroField.getWidgets(),a=0,l=s.length;a<l;a++){var u=s[a],h=this.findWidgetPage(u),d=this.findWidgetAppearanceRef(i,u),f=h.node.newXObject("FlatWidget",d),p=u.getRectangle(),g=c([no(),Ki(p.x,p.y)],Jo(o(o({},p),{rotation:0})),[Ao(f),ro()]).filter(Boolean);h.pushOperators.apply(h,g)}this.removeField(i)}},e.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),n=new Set,r=0,i=t.length;r<i;r++){var o=t[r],s=this.findWidgetAppearanceRef(e,o),a=this.findWidgetPage(o);n.add(a),a.node.removeAnnot(s)}n.forEach((function(t){return t.node.removeAnnot(e.ref)})),this.acroForm.removeField(e.acroField);for(var c=e.acroField.normalizedEntries().Kids,l=c.size(),u=0;u<l;u++){var h=c.get(u);h instanceof Mt&&this.doc.context.delete(h)}this.doc.context.delete(e.ref)},e.prototype.updateFieldAppearances=function(e){Se(e,"font",[[Fs,"PDFFont"]]),e=null!==e&&void 0!==e?e:this.getDefaultFont();for(var t=this.getFields(),n=0,r=t.length;n<r;n++){var i=t[n];i.needsAppearancesUpdate()&&i.defaultUpdateAppearances(e)}},e.prototype.markFieldAsDirty=function(e){Se(e,"fieldRef",[[Mt,"PDFRef"]]),this.dirtyFields.add(e)},e.prototype.markFieldAsClean=function(e){Se(e,"fieldRef",[[Mt,"PDFRef"]]),this.dirtyFields.delete(e)},e.prototype.fieldIsDirty=function(e){return Se(e,"fieldRef",[[Mt,"PDFRef"]]),this.dirtyFields.has(e)},e.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},e.prototype.findWidgetPage=function(e){var t=e.P(),n=this.doc.getPages().find((function(e){return e.ref===t}));if(void 0===n){var r=this.doc.context.getObjectRef(e.dict);if(void 0===r)throw new Error("Could not find PDFRef for PDFObject");if(void 0===(n=this.doc.findPageForAnnotationRef(r)))throw new Error("Could not find page for PDFRef "+r)}return n},e.prototype.findWidgetAppearanceRef=function(e,t){var n,r=t.getNormalAppearance();if(r instanceof Et&&(e instanceof zs||e instanceof Xs)){var i=e.acroField.getValue(),o=null!==(n=r.get(i))&&void 0!==n?n:r.get(St.of("Off"));o instanceof Mt&&(r=o)}if(!(r instanceof Mt)){var s=e.getName();throw new Error("Failed to extract appearance ref for: "+s)}return r},e.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],n=0,r=e.length;n<r;n++){var i=e[n];if(!i)throw new us(i);var o=t[0],s=t[1],a=this.findNonTerminal(i,o);if(a)t=a;else{var c=Lr.create(this.doc.context);c.setPartialName(i),c.setParent(s);var l=this.doc.context.register(c.dict);o.addField(l),t=[c,l]}}return t},e.prototype.findNonTerminal=function(e,t){for(var n=t instanceof ei?this.acroForm.getFields():Hr(t.Kids()),r=0,i=n.length;r<i;r++){var o=n[r],s=o[0],a=o[1];if(s.getPartialName()===e){if(s instanceof Lr)return[s,a];throw new ls(e)}}},e.of=function(t,n){return new e(t,n)},e}();const ea=$s;var ta,na=function(e,t,n){return e instanceof Br?ma.of(e,t,n):e instanceof Ir?zs.of(e,t,n):e instanceof Dr?Hs.of(e,t,n):e instanceof Vr?Ks.of(e,t,n):e instanceof Ur?Js.of(e,t,n):e instanceof zr?Xs.of(e,t,n):e instanceof jr?Ys.of(e,t,n):void 0},ra=function(e){if(0===e.length)throw new Error("PDF field names must not be empty strings");for(var t=e.split("."),n=0,r=t.length;n<r;n++)if(""===t[n])throw new Error('Periods in PDF field names must be separated by at least one character: "'+e+'"');return 1===t.length?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},ia=function(e,t,n){for(var r=e[0],i=e[1],o=t[0],s=t[1],a=r.normalizedEntries(),c=(Hr("Kids"in a?a.Kids:a.Fields)),l=0,u=c.length;l<u;l++)if(c[l][0].getPartialName()===n)throw new ls(n);r.addField(s),o.setParent(i)},oa={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]};!function(e){e[e.Fastest=1/0]="Fastest",e[e.Fast=1500]="Fast",e[e.Medium=500]="Medium",e[e.Slow=100]="Slow"}(ta||(ta={}));const sa=function(){function e(e,t,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=n}return e.prototype.embed=function(){return s(this,void 0,void 0,(function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=i.sent(),this.doc.catalog.has(St.of("Names"))||this.doc.catalog.set(St.of("Names"),this.doc.context.obj({})),(t=this.doc.catalog.lookup(St.of("Names"),Et)).has(St.of("EmbeddedFiles"))||t.set(St.of("EmbeddedFiles"),this.doc.context.obj({})),(n=t.lookup(St.of("EmbeddedFiles"),Et)).has(St.of("Names"))||n.set(St.of("Names"),this.doc.context.obj([])),(r=n.lookup(St.of("Names"),ft)).push(dn.fromText(this.embedder.fileName)),r.push(e),this.doc.catalog.has(St.of("AF"))||this.doc.catalog.set(St.of("AF"),this.doc.context.obj([])),this.doc.catalog.lookup(St.of("AF"),ft).push(e),this.alreadyEmbedded=!0,i.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const aa=function(){function e(e,t,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=n}return e.prototype.embed=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,t=e.catalog,n=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:r=a.sent(),t.has(St.of("Names"))||t.set(St.of("Names"),n.obj({})),(i=t.lookup(St.of("Names"),Et)).has(St.of("JavaScript"))||i.set(St.of("JavaScript"),n.obj({})),(o=i.lookup(St.of("JavaScript"),Et)).has(St.of("Names"))||o.set(St.of("Names"),n.obj([])),(s=o.lookup(St.of("Names"),ft)).push(dn.fromText(this.embedder.scriptName)),s.push(r),this.alreadyEmbedded=!0,a.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const ca=function(){function e(e,t){this.script=e,this.scriptName=t}return e.for=function(t,n){return new e(t,n)},e.prototype.embedIntoContext=function(e,t){return s(this,void 0,void 0,(function(){var n;return a(this,(function(r){return n=e.obj({Type:"Action",S:"JavaScript",JS:dn.fromText(this.script)}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]}))}))},e}();var la=function(){function e(e,t,n){var r=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var e=[];return r.catalog.Pages().traverse((function(t,n){if(t instanceof Kt){var i=r.pageMap.get(t);i||(i=pa.of(t,n,r),r.pageMap.set(t,i)),e.push(i)}})),e},this.getOrCreateForm=function(){var e=r.catalog.getOrCreateAcroForm();return ea.of(e,r)},ke(e,"context",[[Ht,"PDFContext"]]),ke(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Me.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Me.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new rs;n&&this.updateInfoDict()}return e.load=function(t,n){return void 0===n&&(n={}),s(this,void 0,void 0,(function(){var r,i,o,s,c,l,u,h,d,f,p;return a(this,(function(a){switch(a.label){case 0:return r=n.ignoreEncryption,i=void 0!==r&&r,o=n.parseSpeed,s=void 0===o?ta.Slow:o,c=n.throwOnInvalidObject,l=void 0!==c&&c,u=n.updateMetadata,h=void 0===u||u,d=n.capNumbers,f=void 0!==d&&d,ke(t,"pdf",["string",Uint8Array,ArrayBuffer]),ke(i,"ignoreEncryption",["boolean"]),ke(s,"parseSpeed",["number"]),ke(l,"throwOnInvalidObject",["boolean"]),p=L(t),[4,xi.forBytesWithOptions(p,s,l,f).parseDocument()];case 1:return[2,new e(a.sent(),i,h)]}}))}))},e.create=function(t){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){var n,r,i,o,s,c;return a(this,(function(a){return n=t.updateMetadata,r=void 0===n||n,i=Ht.create(),o=ri.withContext(i),s=i.register(o),c=ti.withContextAndPages(i,s),i.trailerInfo.Root=i.register(c),[2,new e(i,!1,r)]}))}))},e.prototype.registerFontkit=function(e){this.fontkit=e},e.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},e.prototype.getTitle=function(){var e=this.getInfoDict().lookup(St.Title);if(e)return ha(e),e.decodeText()},e.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(St.Author);if(e)return ha(e),e.decodeText()},e.prototype.getSubject=function(){var e=this.getInfoDict().lookup(St.Subject);if(e)return ha(e),e.decodeText()},e.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(St.Keywords);if(e)return ha(e),e.decodeText()},e.prototype.getCreator=function(){var e=this.getInfoDict().lookup(St.Creator);if(e)return ha(e),e.decodeText()},e.prototype.getProducer=function(){var e=this.getInfoDict().lookup(St.Producer);if(e)return ha(e),e.decodeText()},e.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(St.CreationDate);if(e)return ha(e),e.decodeDate()},e.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(St.ModDate);if(e)return ha(e),e.decodeDate()},e.prototype.setTitle=function(e,t){ke(e,"title",["string"]);var n=St.of("Title");(this.getInfoDict().set(n,dn.fromText(e)),null===t||void 0===t?void 0:t.showInWindowTitleBar)&&this.catalog.getOrCreateViewerPreferences().setDisplayDocTitle(!0)},e.prototype.setAuthor=function(e){ke(e,"author",["string"]);var t=St.of("Author");this.getInfoDict().set(t,dn.fromText(e))},e.prototype.setSubject=function(e){ke(e,"author",["string"]);var t=St.of("Subject");this.getInfoDict().set(t,dn.fromText(e))},e.prototype.setKeywords=function(e){ke(e,"keywords",[Array]);var t=St.of("Keywords");this.getInfoDict().set(t,dn.fromText(e.join(" ")))},e.prototype.setCreator=function(e){ke(e,"creator",["string"]);var t=St.of("Creator");this.getInfoDict().set(t,dn.fromText(e))},e.prototype.setProducer=function(e){ke(e,"creator",["string"]);var t=St.of("Producer");this.getInfoDict().set(t,dn.fromText(e))},e.prototype.setLanguage=function(e){ke(e,"language",["string"]);var t=St.of("Lang");this.catalog.set(t,An.of(e))},e.prototype.setCreationDate=function(e){ke(e,"creationDate",[[Date,"Date"]]);var t=St.of("CreationDate");this.getInfoDict().set(t,An.fromDate(e))},e.prototype.setModificationDate=function(e){ke(e,"modificationDate",[[Date,"Date"]]);var t=St.of("ModDate");this.getInfoDict().set(t,An.fromDate(e))},e.prototype.getPageCount=function(){return void 0===this.pageCount&&(this.pageCount=this.getPages().length),this.pageCount},e.prototype.getPages=function(){return this.pageCache.access()},e.prototype.getPage=function(e){var t=this.getPages();return Te(e,"index",0,t.length-1),t[e]},e.prototype.getPageIndices=function(){return function(e,t){for(var n=new Array(t-e),r=0,i=n.length;r<i;r++)n[r]=e+r;return n}(0,this.getPageCount())},e.prototype.removePage=function(e){var t=this.getPageCount();if(0===this.pageCount)throw new ss;Te(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},e.prototype.addPage=function(e){return ke(e,"page",["undefined",[pa,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},e.prototype.insertPage=function(e,t){var n=this.getPageCount();if(Te(e,"index",0,n),ke(t,"page",["undefined",[pa,"PDFPage"],Array]),!t||Array.isArray(t)){var r=Array.isArray(t)?t:oa.A4;(t=pa.create(this)).setSize.apply(t,r)}else if(t.doc!==this)throw new os;var i=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(i),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=n+1,t},e.prototype.copyPages=function(t,n){return s(this,void 0,void 0,(function(){var r,i,o,s,c,l,u,h;return a(this,(function(a){switch(a.label){case 0:return ke(t,"srcDoc",[[e,"PDFDocument"]]),ke(n,"indices",[Array]),[4,t.flush()];case 1:for(a.sent(),r=Xt.for(t.context,this.context),i=t.getPages(),o=new Array(n.length),s=0,c=n.length;s<c;s++)l=i[n[s]],u=r.copy(l.node),h=this.context.register(u),o[s]=pa.of(u,h,this);return[2,o]}}))}))},e.prototype.copy=function(){return s(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return[4,e.create()];case 1:return[4,(t=o.sent()).copyPages(this,this.getPageIndices())];case 2:for(n=o.sent(),r=0,i=n.length;r<i;r++)t.addPage(n[r]);return void 0!==this.getAuthor()&&t.setAuthor(this.getAuthor()),void 0!==this.getCreationDate()&&t.setCreationDate(this.getCreationDate()),void 0!==this.getCreator()&&t.setCreator(this.getCreator()),void 0!==this.getModificationDate()&&t.setModificationDate(this.getModificationDate()),void 0!==this.getProducer()&&t.setProducer(this.getProducer()),void 0!==this.getSubject()&&t.setSubject(this.getSubject()),void 0!==this.getTitle()&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}}))}))},e.prototype.addJavaScript=function(e,t){ke(e,"name",["string"]),ke(t,"script",["string"]);var n=ca.for(t,e),r=this.context.nextRef(),i=aa.of(r,this,n);this.javaScripts.push(i)},e.prototype.attach=function(e,t,n){return void 0===n&&(n={}),s(this,void 0,void 0,(function(){var r,i,o,s;return a(this,(function(a){return ke(e,"attachment",["string",Uint8Array,ArrayBuffer]),ke(t,"name",["string"]),Se(n.mimeType,"mimeType",["string"]),Se(n.description,"description",["string"]),Se(n.creationDate,"options.creationDate",[Date]),Se(n.modificationDate,"options.modificationDate",[Date]),we(n.afRelationship,"options.afRelationship",Tn),r=L(e),i=En.for(r,t,n),o=this.context.nextRef(),s=sa.of(o,this,i),this.embeddedFiles.push(s),[2]}))}))},e.prototype.embedFont=function(e,t){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){var n,r,i,o,s,c,l,u,h,d;return a(this,(function(a){switch(a.label){case 0:return n=t.subset,r=void 0!==n&&n,i=t.customName,o=t.features,ke(e,"font",["string",Uint8Array,ArrayBuffer]),ke(r,"subset",["boolean"]),ge(e)?(s=pn.for(e,i),[3,7]):[3,1];case 1:return(f=e)instanceof Uint8Array||f instanceof ArrayBuffer||"string"===typeof f?(c=L(e),l=this.assertFontkit(),r?[4,xn.for(l,c,i,o)]:[3,3]):[3,6];case 2:return u=a.sent(),[3,5];case 3:return[4,kn.for(l,c,i,o)];case 4:u=a.sent(),a.label=5;case 5:return s=u,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return h=this.context.nextRef(),d=Fs.of(h,this,s),this.fonts.push(d),[2,d]}var f}))}))},e.prototype.embedStandardFont=function(e,t){if(ke(e,"font",["string"]),!ge(e))throw new TypeError("`font` must be one of type `StandardFonts`");var n=pn.for(e,t),r=this.context.nextRef(),i=Fs.of(r,this,n);return this.fonts.push(i),i},e.prototype.embedJpg=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return ke(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=L(e),[4,Pn.for(t)];case 1:return n=o.sent(),r=this.context.nextRef(),i=Ds.of(r,this,n),this.images.push(i),[2,i]}}))}))},e.prototype.embedPng=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return ke(e,"png",["string",Uint8Array,ArrayBuffer]),t=L(e),[4,Dn.for(t)];case 1:return n=o.sent(),r=this.context.nextRef(),i=Ds.of(r,this,n),this.images.push(i),[2,i]}}))}))},e.prototype.embedPdf=function(t,n){return void 0===n&&(n=[0]),s(this,void 0,void 0,(function(){var r,i;return a(this,(function(o){switch(o.label){case 0:return ke(t,"pdf",["string",Uint8Array,ArrayBuffer,[e,"PDFDocument"]]),ke(n,"indices",[Array]),t instanceof e?(r=t,[3,3]):[3,1];case 1:return[4,e.load(t)];case 2:r=o.sent(),o.label=3;case 3:return i=function(e,t){for(var n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e[t[r]];return n}(r.getPages(),n),[2,this.embedPages(i)]}}))}))},e.prototype.embedPage=function(e,t,n){return s(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return ke(e,"page",[[pa,"PDFPage"]]),[4,this.embedPages([e],[t],[n])];case 1:return[2,r.sent()[0]]}}))}))},e.prototype.embedPages=function(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=[]),s(this,void 0,void 0,(function(){var r,i,o,s,c,l,u,h,d,f,p,g,m;return a(this,(function(a){switch(a.label){case 0:if(0===e.length)return[2,[]];for(l=0,u=e.length-1;l<u;l++)if(r=e[l],i=e[l+1],r.node.context!==i.node.context)throw new ze;o=e[0].node.context,s=o===this.context?function(e){return e}:Xt.for(o,this.context).copy,c=new Array(e.length),l=0,u=e.length,a.label=1;case 1:return l<u?(h=s(e[l].node),d=t[l],f=n[l],[4,or.for(h,d,f)]):[3,4];case 2:p=a.sent(),g=this.context.nextRef(),c[l]=Ms.of(g,this,p),a.label=3;case 3:return l++,[3,1];case 4:return(m=this.embeddedPages).push.apply(m,c),[2,c]}}))}))},e.prototype.flush=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}}))}))},e.prototype.save=function(e){return void 0===e&&(e={}),s(this,void 0,void 0,(function(){var t,n,r,i,o,s,c,l,u;return a(this,(function(a){switch(a.label){case 0:return t=e.useObjectStreams,n=void 0===t||t,r=e.addDefaultPage,i=void 0===r||r,o=e.objectsPerTick,s=void 0===o?50:o,c=e.updateFieldAppearances,l=void 0===c||c,ke(n,"useObjectStreams",["boolean"]),ke(i,"addDefaultPage",["boolean"]),ke(s,"objectsPerTick",["number"]),ke(l,"updateFieldAppearances",["boolean"]),i&&0===this.getPageCount()&&this.addPage(),l&&(u=this.formCache.getValue())&&u.updateFieldAppearances(),[4,this.flush()];case 1:return a.sent(),[2,(n?un:nn).forContext(this.context,s).serializeToBuffer()]}}))}))},e.prototype.saveAsBase64=function(e){return void 0===e&&(e={}),s(this,void 0,void 0,(function(){var t,n,r,i,o;return a(this,(function(s){switch(s.label){case 0:return t=e.dataUri,n=void 0!==t&&t,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["dataUri"]),ke(n,"dataUri",["boolean"]),[4,this.save(r)];case 1:return i=s.sent(),o=function(e){for(var t="",n=e.length,r=0;r<n;r+=3)t+=l[e[r]>>2],t+=l[(3&e[r])<<4|e[r+1]>>4],t+=l[(15&e[r+1])<<2|e[r+2]>>6],t+=l[63&e[r+2]];return n%3===2?t=t.substring(0,t.length-1)+"=":n%3===1&&(t=t.substring(0,t.length-2)+"=="),t}(i),[2,n?"data:application/pdf;base64,"+o:o]}}))}))},e.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.node.Annots();if(void 0!==(null===o||void 0===o?void 0:o.indexOf(e)))return i}},e.prototype.embedAll=function(e){return s(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:t=0,n=e.length,r.label=1;case 1:return t<n?[4,e[t].embed()]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,n=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),n.get(St.of("Creator"))||this.setCreator(e),n.get(St.of("CreationDate"))||this.setCreationDate(t)},e.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof Et)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},e.prototype.assertFontkit=function(){if(!this.fontkit)throw new is;return this.fontkit},e}();const ua=la;function ha(e){if(!(e instanceof dn)&&!(e instanceof An))throw new Le([dn,An],e)}var da;!function(e){e.Normal="Normal",e.Multiply="Multiply",e.Screen="Screen",e.Overlay="Overlay",e.Darken="Darken",e.Lighten="Lighten",e.ColorDodge="ColorDodge",e.ColorBurn="ColorBurn",e.HardLight="HardLight",e.SoftLight="SoftLight",e.Difference="Difference",e.Exclusion="Exclusion"}(da||(da={}));var fa=function(){function e(e,t,n){this.fontSize=24,this.fontColor=To(0,0,0),this.lineHeight=24,this.x=0,this.y=0,ke(e,"leafNode",[[Kt,"PDFPageLeaf"]]),ke(t,"ref",[[Mt,"PDFRef"]]),ke(n,"doc",[[ua,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=n}return e.prototype.setRotation=function(e){var t=ji(e);Ie(t,"degreesAngle",90),this.node.set(St.of("Rotate"),this.doc.context.obj(t))},e.prototype.getRotation=function(){var e=this.node.Rotate();return Mi(e?e.asNumber():0)},e.prototype.setSize=function(e,t){ke(e,"width",["number"]),ke(t,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,e,t);var r=this.getCropBox(),i=this.getBleedBox(),o=this.getTrimBox(),s=this.getArtBox(),a=this.node.CropBox(),c=this.node.BleedBox(),l=this.node.TrimBox(),u=this.node.ArtBox();a&&me(r,n)&&this.setCropBox(n.x,n.y,e,t),c&&me(i,n)&&this.setBleedBox(n.x,n.y,e,t),l&&me(o,n)&&this.setTrimBox(n.x,n.y,e,t),u&&me(s,n)&&this.setArtBox(n.x,n.y,e,t)},e.prototype.setWidth=function(e){ke(e,"width",["number"]),this.setSize(e,this.getSize().height)},e.prototype.setHeight=function(e){ke(e,"height",["number"]),this.setSize(this.getSize().width,e)},e.prototype.setMediaBox=function(e,t,n,r){ke(e,"x",["number"]),ke(t,"y",["number"]),ke(n,"width",["number"]),ke(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(St.MediaBox,i)},e.prototype.setCropBox=function(e,t,n,r){ke(e,"x",["number"]),ke(t,"y",["number"]),ke(n,"width",["number"]),ke(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(St.CropBox,i)},e.prototype.setBleedBox=function(e,t,n,r){ke(e,"x",["number"]),ke(t,"y",["number"]),ke(n,"width",["number"]),ke(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(St.BleedBox,i)},e.prototype.setTrimBox=function(e,t,n,r){ke(e,"x",["number"]),ke(t,"y",["number"]),ke(n,"width",["number"]),ke(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(St.TrimBox,i)},e.prototype.setArtBox=function(e,t,n,r){ke(e,"x",["number"]),ke(t,"y",["number"]),ke(n,"width",["number"]),ke(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(St.ArtBox,i)},e.prototype.getSize=function(){var e=this.getMediaBox();return{width:e.width,height:e.height}},e.prototype.getWidth=function(){return this.getSize().width},e.prototype.getHeight=function(){return this.getSize().height},e.prototype.getMediaBox=function(){return this.node.MediaBox().asRectangle()},e.prototype.getCropBox=function(){var e,t=this.node.CropBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getMediaBox()},e.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.translateContent=function(e,t){ke(e,"x",["number"]),ke(t,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(no(),Ki(e,t)),r=this.doc.context.register(n),i=this.createContentStream(ro()),o=this.doc.context.register(i);this.node.wrapContentStreams(r,o)},e.prototype.scale=function(e,t){ke(e,"x",["number"]),ke(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},e.prototype.scaleContent=function(e,t){ke(e,"x",["number"]),ke(t,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(no(),Gi(e,t)),r=this.doc.context.register(n),i=this.createContentStream(ro()),o=this.doc.context.register(i);this.node.wrapContentStreams(r,o)},e.prototype.scaleAnnotations=function(e,t){ke(e,"x",["number"]),ke(t,"y",["number"]);var n=this.node.Annots();if(n)for(var r=0;r<n.size();r++){var i=n.lookup(r);i instanceof Et&&this.scaleAnnot(i,e,t)}},e.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},e.prototype.setFont=function(e){ke(e,"font",[[Fs,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},e.prototype.setFontSize=function(e){ke(e,"fontSize",["number"]),this.fontSize=e},e.prototype.setFontColor=function(e){ke(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},e.prototype.setLineHeight=function(e){ke(e,"lineHeight",["number"]),this.lineHeight=e},e.prototype.getPosition=function(){return{x:this.x,y:this.y}},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.moveTo=function(e,t){ke(e,"x",["number"]),ke(t,"y",["number"]),this.x=e,this.y=t},e.prototype.moveDown=function(e){ke(e,"yDecrease",["number"]),this.y-=e},e.prototype.moveUp=function(e){ke(e,"yIncrease",["number"]),this.y+=e},e.prototype.moveLeft=function(e){ke(e,"xDecrease",["number"]),this.x-=e},e.prototype.moveRight=function(e){ke(e,"xIncrease",["number"]),this.x+=e},e.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];xe(e,"operator",[[Ot,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,e)},e.prototype.drawText=function(e,t){var n,r,i,o,s,a,c;void 0===t&&(t={}),ke(e,"text",["string"]),Se(t.color,"options.color",[[Object,"Color"]]),Ee(t.opacity,"opacity.opacity",0,1),Se(t.font,"options.font",[[Fs,"PDFFont"]]),Se(t.size,"options.size",["number"]),Se(t.rotate,"options.rotate",[[Object,"Rotation"]]),Se(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Se(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Se(t.x,"options.x",["number"]),Se(t.y,"options.y",["number"]),Se(t.lineHeight,"options.lineHeight",["number"]),Se(t.maxWidth,"options.maxWidth",["number"]),Se(t.wordBreaks,"options.wordBreaks",[Array]),we(t.blendMode,"options.blendMode",da);for(var l=this.setOrEmbedFont(t.font),u=l.oldFont,h=l.newFont,d=l.newFontKey,f=t.size||this.fontSize,p=t.wordBreaks||this.doc.defaultWordBreaks,g=void 0===t.maxWidth?S(A(e)):E(e,p,t.maxWidth,(function(e){return h.widthOfTextAtSize(e,f)})),m=new Array(g.length),v=0,y=g.length;v<y;v++)m[v]=h.encodeText(g[v]);var b=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),w=this.getContentStream();w.push.apply(w,function(e,t){for(var n,r=[no(),t.graphicsState&&to(t.graphicsState),mo(),Po(t.color),yo(t.font,t.size),(n=t.lineHeight,Ot.of(Lt.SetTextLineHeight,[Ri(n)])),wo(Li(t.rotate),Li(t.xSkew),Li(t.ySkew),t.x,t.y)].filter(Boolean),i=0,o=e.length;i<o;i++)r.push(go(e[i]),Ot.of(Lt.NextLine));return r.push(vo(),ro()),r}(m,{color:null!==(n=t.color)&&void 0!==n?n:this.fontColor,font:d,size:f,rotate:null!==(r=t.rotate)&&void 0!==r?r:Mi(0),xSkew:null!==(i=t.xSkew)&&void 0!==i?i:Mi(0),ySkew:null!==(o=t.ySkew)&&void 0!==o?o:Mi(0),x:null!==(s=t.x)&&void 0!==s?s:this.x,y:null!==(a=t.y)&&void 0!==a?a:this.y,lineHeight:null!==(c=t.lineHeight)&&void 0!==c?c:this.lineHeight,graphicsState:b})),t.font&&(u?this.setFont(u):this.resetFont())},e.prototype.drawImage=function(e,t){var n,r,i,o,s,a,c;void 0===t&&(t={}),ke(e,"image",[[Ds,"PDFImage"]]),Se(t.x,"options.x",["number"]),Se(t.y,"options.y",["number"]),Se(t.width,"options.width",["number"]),Se(t.height,"options.height",["number"]),Se(t.rotate,"options.rotate",[[Object,"Rotation"]]),Se(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Se(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Ee(t.opacity,"opacity.opacity",0,1),we(t.blendMode,"options.blendMode",da);var l=this.node.newXObject("Image",e.ref),u=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),h=this.getContentStream();h.push.apply(h,Go(l,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,width:null!==(i=t.width)&&void 0!==i?i:e.size().width,height:null!==(o=t.height)&&void 0!==o?o:e.size().height,rotate:null!==(s=t.rotate)&&void 0!==s?s:Mi(0),xSkew:null!==(a=t.xSkew)&&void 0!==a?a:Mi(0),ySkew:null!==(c=t.ySkew)&&void 0!==c?c:Mi(0),graphicsState:u}))},e.prototype.drawPage=function(e,t){var n,r,i,o,s;void 0===t&&(t={}),ke(e,"embeddedPage",[[Ms,"PDFEmbeddedPage"]]),Se(t.x,"options.x",["number"]),Se(t.y,"options.y",["number"]),Se(t.xScale,"options.xScale",["number"]),Se(t.yScale,"options.yScale",["number"]),Se(t.width,"options.width",["number"]),Se(t.height,"options.height",["number"]),Se(t.rotate,"options.rotate",[[Object,"Rotation"]]),Se(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Se(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Ee(t.opacity,"opacity.opacity",0,1),we(t.blendMode,"options.blendMode",da);var a=this.node.newXObject("EmbeddedPdfPage",e.ref),c=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),l=void 0!==t.width?t.width/e.width:void 0!==t.xScale?t.xScale:1,u=void 0!==t.height?t.height/e.height:void 0!==t.yScale?t.yScale:1,h=this.getContentStream();h.push.apply(h,function(e,t){return[no(),t.graphicsState&&to(t.graphicsState),Ki(t.x,t.y),Xi(Li(t.rotate)),Gi(t.xScale,t.yScale),Qi(Li(t.xSkew),Li(t.ySkew)),Ao(e),ro()].filter(Boolean)}(a,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,xScale:l,yScale:u,rotate:null!==(i=t.rotate)&&void 0!==i?i:Mi(0),xSkew:null!==(o=t.xSkew)&&void 0!==o?o:Mi(0),ySkew:null!==(s=t.ySkew)&&void 0!==s?s:Mi(0),graphicsState:c}))},e.prototype.drawSvgPath=function(e,t){var n,r,i,o,s,a,l,u,h;void 0===t&&(t={}),ke(e,"path",["string"]),Se(t.x,"options.x",["number"]),Se(t.y,"options.y",["number"]),Se(t.scale,"options.scale",["number"]),Se(t.rotate,"options.rotate",[[Object,"Rotation"]]),Se(t.borderWidth,"options.borderWidth",["number"]),Se(t.color,"options.color",[[Object,"Color"]]),Ee(t.opacity,"opacity.opacity",0,1),Se(t.borderColor,"options.borderColor",[[Object,"Color"]]),Se(t.borderDashArray,"options.borderDashArray",[Array]),Se(t.borderDashPhase,"options.borderDashPhase",["number"]),we(t.borderLineCap,"options.borderLineCap",Ni),Ee(t.borderOpacity,"options.borderOpacity",0,1),we(t.blendMode,"options.blendMode",da);var d=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});"color"in t||"borderColor"in t||(t.borderColor=To(0,0,0));var f=this.getContentStream();f.push.apply(f,function(e,t){var n,r,i;return c([no(),t.graphicsState&&to(t.graphicsState),Ki(t.x,t.y),Xi(Li(null!==(n=t.rotate)&&void 0!==n?n:Mi(0))),t.scale?Gi(t.scale,-t.scale):Gi(1,-1),t.color&&Po(t.color),t.borderColor&&No(t.borderColor),t.borderWidth&&io(t.borderWidth),t.borderLineCap&&$i(t.borderLineCap),Ji(null!==(r=t.borderDashArray)&&void 0!==r?r:[],null!==(i=t.borderDashPhase)&&void 0!==i?i:0)],Ko(e),[t.color&&t.borderWidth?fo():t.color?ho():t.borderColor?uo():ao(),ro()]).filter(Boolean)}(e,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,scale:t.scale,rotate:null!==(i=t.rotate)&&void 0!==i?i:Mi(0),color:null!==(o=t.color)&&void 0!==o?o:void 0,borderColor:null!==(s=t.borderColor)&&void 0!==s?s:void 0,borderWidth:null!==(a=t.borderWidth)&&void 0!==a?a:0,borderDashArray:null!==(l=t.borderDashArray)&&void 0!==l?l:void 0,borderDashPhase:null!==(u=t.borderDashPhase)&&void 0!==u?u:void 0,borderLineCap:null!==(h=t.borderLineCap)&&void 0!==h?h:void 0,graphicsState:d}))},e.prototype.drawLine=function(e){var t,n,r,i,o;ke(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),ke(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),ke(e.start.x,"options.start.x",["number"]),ke(e.start.y,"options.start.y",["number"]),ke(e.end.x,"options.end.x",["number"]),ke(e.end.y,"options.end.y",["number"]),Se(e.thickness,"options.thickness",["number"]),Se(e.color,"options.color",[[Object,"Color"]]),Se(e.dashArray,"options.dashArray",[Array]),Se(e.dashPhase,"options.dashPhase",["number"]),we(e.lineCap,"options.lineCap",Ni),Ee(e.opacity,"opacity.opacity",0,1),we(e.blendMode,"options.blendMode",da);var s=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=To(0,0,0));var a=this.getContentStream();a.push.apply(a,function(e){var t,n;return[no(),e.graphicsState&&to(e.graphicsState),e.color&&No(e.color),io(e.thickness),Ji(null!==(t=e.dashArray)&&void 0!==t?t:[],null!==(n=e.dashPhase)&&void 0!==n?n:0),co(e.start.x,e.start.y),e.lineCap&&$i(e.lineCap),co(e.start.x,e.start.y),lo(e.end.x,e.end.y),uo(),ro()].filter(Boolean)}({start:e.start,end:e.end,thickness:null!==(t=e.thickness)&&void 0!==t?t:1,color:null!==(n=e.color)&&void 0!==n?n:void 0,dashArray:null!==(r=e.dashArray)&&void 0!==r?r:void 0,dashPhase:null!==(i=e.dashPhase)&&void 0!==i?i:void 0,lineCap:null!==(o=e.lineCap)&&void 0!==o?o:void 0,graphicsState:s}))},e.prototype.drawRectangle=function(e){var t,n,r,i,o,s,a,c,l,u,h,d,f;void 0===e&&(e={}),Se(e.x,"options.x",["number"]),Se(e.y,"options.y",["number"]),Se(e.width,"options.width",["number"]),Se(e.height,"options.height",["number"]),Se(e.rotate,"options.rotate",[[Object,"Rotation"]]),Se(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Se(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Se(e.borderWidth,"options.borderWidth",["number"]),Se(e.color,"options.color",[[Object,"Color"]]),Ee(e.opacity,"opacity.opacity",0,1),Se(e.borderColor,"options.borderColor",[[Object,"Color"]]),Se(e.borderDashArray,"options.borderDashArray",[Array]),Se(e.borderDashPhase,"options.borderDashPhase",["number"]),we(e.borderLineCap,"options.borderLineCap",Ni),Ee(e.borderOpacity,"options.borderOpacity",0,1),we(e.blendMode,"options.blendMode",da);var p=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=To(0,0,0));var g=this.getContentStream();g.push.apply(g,Xo({x:null!==(t=e.x)&&void 0!==t?t:this.x,y:null!==(n=e.y)&&void 0!==n?n:this.y,width:null!==(r=e.width)&&void 0!==r?r:150,height:null!==(i=e.height)&&void 0!==i?i:100,rotate:null!==(o=e.rotate)&&void 0!==o?o:Mi(0),xSkew:null!==(s=e.xSkew)&&void 0!==s?s:Mi(0),ySkew:null!==(a=e.ySkew)&&void 0!==a?a:Mi(0),borderWidth:null!==(c=e.borderWidth)&&void 0!==c?c:0,color:null!==(l=e.color)&&void 0!==l?l:void 0,borderColor:null!==(u=e.borderColor)&&void 0!==u?u:void 0,borderDashArray:null!==(h=e.borderDashArray)&&void 0!==h?h:void 0,borderDashPhase:null!==(d=e.borderDashPhase)&&void 0!==d?d:void 0,graphicsState:p,borderLineCap:null!==(f=e.borderLineCap)&&void 0!==f?f:void 0}))},e.prototype.drawSquare=function(e){void 0===e&&(e={});var t=e.size;Se(t,"size",["number"]),this.drawRectangle(o(o({},e),{width:t,height:t}))},e.prototype.drawEllipse=function(e){var t,n,r,i,o,s,a,c,l,u,h;void 0===e&&(e={}),Se(e.x,"options.x",["number"]),Se(e.y,"options.y",["number"]),Se(e.xScale,"options.xScale",["number"]),Se(e.yScale,"options.yScale",["number"]),Se(e.rotate,"options.rotate",[[Object,"Rotation"]]),Se(e.color,"options.color",[[Object,"Color"]]),Ee(e.opacity,"opacity.opacity",0,1),Se(e.borderColor,"options.borderColor",[[Object,"Color"]]),Ee(e.borderOpacity,"options.borderOpacity",0,1),Se(e.borderWidth,"options.borderWidth",["number"]),Se(e.borderDashArray,"options.borderDashArray",[Array]),Se(e.borderDashPhase,"options.borderDashPhase",["number"]),we(e.borderLineCap,"options.borderLineCap",Ni),we(e.blendMode,"options.blendMode",da);var d=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=To(0,0,0));var f=this.getContentStream();f.push.apply(f,Qo({x:null!==(t=e.x)&&void 0!==t?t:this.x,y:null!==(n=e.y)&&void 0!==n?n:this.y,xScale:null!==(r=e.xScale)&&void 0!==r?r:100,yScale:null!==(i=e.yScale)&&void 0!==i?i:100,rotate:null!==(o=e.rotate)&&void 0!==o?o:void 0,color:null!==(s=e.color)&&void 0!==s?s:void 0,borderColor:null!==(a=e.borderColor)&&void 0!==a?a:void 0,borderWidth:null!==(c=e.borderWidth)&&void 0!==c?c:0,borderDashArray:null!==(l=e.borderDashArray)&&void 0!==l?l:void 0,borderDashPhase:null!==(u=e.borderDashPhase)&&void 0!==u?u:void 0,borderLineCap:null!==(h=e.borderLineCap)&&void 0!==h?h:void 0,graphicsState:d}))},e.prototype.drawCircle=function(e){void 0===e&&(e={});var t=e.size,n=void 0===t?100:t;Se(n,"size",["number"]),this.drawEllipse(o(o({},e),{xScale:n,yScale:n}))},e.prototype.setOrEmbedFont=function(e){var t=this.font,n=this.fontKey;return e?this.setFont(e):this.getFont(),{oldFont:t,oldFontKey:n,newFont:this.font,newFontKey:this.fontKey}},e.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(Zs.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},e.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},e.prototype.getContentStream=function(e){return void 0===e&&(e=!0),e&&this.contentStream||(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef)),this.contentStream},e.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.doc.context.obj({});return Bt.of(n,e)},e.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,n=e.borderOpacity,r=e.blendMode;if(void 0!==t||void 0!==n||void 0!==r){var i=this.doc.context.obj({Type:"ExtGState",ca:t,CA:n,BM:r});return this.node.newExtGState("GS",i)}},e.prototype.scaleAnnot=function(e,t,n){for(var r=["RD","CL","Vertices","QuadPoints","L","Rect"],i=0,o=r.length;i<o;i++){var s=e.lookup(St.of(r[i]));s instanceof ft&&s.scalePDFNumbers(t,n)}var a=e.lookup(St.of("InkList"));if(a instanceof ft)for(i=0,o=a.size();i<o;i++){var c=a.lookup(i);c instanceof ft&&c.scalePDFNumbers(t,n)}},e.of=function(t,n,r){return new e(t,n,r)},e.create=function(t){ke(t,"doc",[[ua,"PDFDocument"]]);var n=Mt.of(-1),r=Kt.withContextAndParent(t.context,n);return new e(r,t.context.register(r),t)},e}();const pa=fa;var ga=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return ke(t,"acroButton",[[Br,"PDFAcroPushButton"]]),i.acroField=t,i}return i(t,e),t.prototype.setImage=function(e,t){void 0===t&&(t=Ls.Center);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r],s=this.createImageAppearanceStream(o,e,t);this.updateWidgetAppearances(o,{normal:s})}this.markAsClean()},t.prototype.setFontSize=function(e){_e(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.addToPage=function(e,t,n){var r,i,o,s,a,c,l,u,h,d,f;Se(e,"text",["string"]),Se(t,"page",[[pa,"PDFPage"]]),js(n);var p=this.createWidget({x:(null!==(r=null===n||void 0===n?void 0:n.x)&&void 0!==r?r:0)-(null!==(i=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==i?i:0)/2,y:(null!==(o=null===n||void 0===n?void 0:n.y)&&void 0!==o?o:0)-(null!==(s=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==s?s:0)/2,width:null!==(a=null===n||void 0===n?void 0:n.width)&&void 0!==a?a:100,height:null!==(c=null===n||void 0===n?void 0:n.height)&&void 0!==c?c:50,textColor:null!==(l=null===n||void 0===n?void 0:n.textColor)&&void 0!==l?l:To(0,0,0),backgroundColor:null!==(u=null===n||void 0===n?void 0:n.backgroundColor)&&void 0!==u?u:To(.75,.75,.75),borderColor:null===n||void 0===n?void 0:n.borderColor,borderWidth:null!==(h=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==h?h:0,rotate:null!==(d=null===n||void 0===n?void 0:n.rotate)&&void 0!==d?d:Mi(0),caption:e,hidden:null===n||void 0===n?void 0:n.hidden,page:t.ref}),g=this.doc.context.register(p.dict);this.acroField.addWidget(g);var m=null!==(f=null===n||void 0===n?void 0:n.font)&&void 0!==f?f:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(p,m),t.node.addAnnot(g)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof _t))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){ke(e,"font",[[Fs,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){ke(e,"font",[[Fs,"PDFFont"]]),Se(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r];this.updateWidgetAppearance(o,e,t)}},t.prototype.updateWidgetAppearance=function(e,t,n){var r=As((null!==n&&void 0!==n?n:_s)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bs);const ma=ga},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},1286:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(5043);var r=n(579);const i=function(e){let{bg:t,textColor:n,icon:i,text:o,onClick:s,link:a}=e;return a?(0,r.jsxs)("a",{href:a,className:"buttons",style:{backgroundColor:t,color:n,textDecoration:"none",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:[i&&(0,r.jsx)(i,{style:{color:n,marginRight:"8px"}}),(0,r.jsx)("span",{style:{color:n},children:o})]}):(0,r.jsxs)("button",{className:"buttons",style:{backgroundColor:t,color:n},onClick:s,children:[i&&(0,r.jsx)(i,{style:{color:n,marginRight:"8px"}}),(0,r.jsx)("span",{style:{color:n},children:o})]})}},1428:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043),i=n(9002),o=n(3204),s=n(579);function a(){const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!1),[c,l]=(0,r.useState)(!0),u=(0,i.zy)();(0,r.useEffect)((()=>{const e=()=>{window.innerWidth<=2503?l(!1):l(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const h=e=>u.pathname===e;return(0,s.jsxs)("nav",{className:"navbar ".concat(c?"expanded":"collapsed"),children:[(0,s.jsxs)("div",{className:"profile-section",children:[(0,s.jsxs)("div",{className:"profile-header",children:[(0,s.jsx)("h3",{className:"profile-name",children:"Fizikes Floky"}),(0,s.jsx)("button",{className:"toggle-button",onClick:()=>{l(!c)},children:(0,s.jsx)(o.OXb,{})})]}),(0,s.jsxs)("div",{className:"profile-dots",children:[(0,s.jsx)("span",{className:"dot red"}),(0,s.jsx)("span",{className:"dot yellow"}),(0,s.jsx)("span",{className:"dot green"})]})]}),(0,s.jsxs)("ul",{className:"nav-list",children:[(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(i.N_,{to:"/",className:h("/")?"active":"",children:[(0,s.jsx)(o.rQ8,{className:"nav-icon"}),c&&(0,s.jsx)("span",{children:"Home"})]})}),(0,s.jsxs)("li",{className:"nav-item",children:[(0,s.jsxs)("div",{className:"nav-link ".concat(e?"open":""," ").concat(u.pathname.includes("/budgeting")?"active":""),onClick:()=>t(!e),children:[(0,s.jsxs)("div",{className:"nav-link-content",children:[(0,s.jsx)(o.lcY,{className:"nav-icon"}),c&&(0,s.jsx)("span",{children:"Budgeting"})]}),c&&(0,s.jsx)(o.Vr3,{className:"chevron ".concat(e?"open":"")})]}),c&&e&&(0,s.jsxs)("ul",{className:"submenu",children:[(0,s.jsx)("li",{className:h("/expensetracker")?"active":"",children:(0,s.jsx)(i.N_,{to:"/expensetracker",children:"Expense Tracker"})}),(0,s.jsx)("li",{className:h("/revenuetracker")?"active":"",children:(0,s.jsx)(i.N_,{to:"/revenuetracker",children:"Income/Revenue"})}),(0,s.jsx)("li",{className:h("/savings")?"active":"",children:(0,s.jsx)(i.N_,{to:"/savings",children:"Savings"})}),(0,s.jsx)("li",{className:h("/transactions")?"active":"",children:(0,s.jsx)(i.N_,{to:"/transactions",children:"Transactions"})})]})]}),(0,s.jsxs)("li",{className:"nav-item",children:[(0,s.jsxs)("div",{className:"nav-link ".concat(n?"open":""," ").concat(u.pathname.includes("/bookkeeping")?"active":""),onClick:()=>a(!n),children:[(0,s.jsxs)("div",{className:"nav-link-content",children:[(0,s.jsx)(o.vd0,{className:"nav-icon"}),c&&(0,s.jsx)("span",{children:"Book Keeping"})]}),c&&(0,s.jsx)(o.Vr3,{className:"chevron ".concat(n?"open":"")})]}),c&&n&&(0,s.jsxs)("ul",{className:"submenu",children:[(0,s.jsx)("li",{className:h("/clientmanagement")?"active":"",children:(0,s.jsx)(i.N_,{to:"/clientmanagement",children:"Client Management"})}),(0,s.jsx)("li",{className:h("/conflict-check")?"active":"",children:(0,s.jsx)(i.N_,{to:"/conflict-check",children:"Conflict Check"})}),(0,s.jsx)("li",{className:h("/document-drafting")?"active":"",children:(0,s.jsx)(i.N_,{to:"/document-drafting",children:"Document Drafting"})}),(0,s.jsx)("li",{className:h("/emails")?"active":"",children:(0,s.jsx)(i.N_,{to:"/emails",children:"Emails"})}),(0,s.jsx)("li",{className:h("/invoicing")?"active":"",children:(0,s.jsx)(i.N_,{to:"/invoicing",children:"Invoicing & Payments"})}),(0,s.jsx)("li",{className:h("/cost-breakdown")?"active":"",children:(0,s.jsx)(i.N_,{to:"/cost-breakdown",children:"Cost Breakdown"})})]})]}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(i.N_,{to:"/timetracker",className:h("/timetracker")?"active":"",children:[(0,s.jsx)(o.w_X,{className:"nav-icon"}),c&&(0,s.jsx)("span",{children:"Time Tracking"})]})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(i.N_,{to:"/email",className:h("/email")?"active":"",children:[(0,s.jsx)(o.maD,{className:"nav-icon"}),c&&(0,s.jsx)("span",{children:"Email"})]})})]}),(0,s.jsx)("div",{className:"logo-section",children:(0,s.jsxs)("div",{className:"logo",children:[(0,s.jsx)("div",{className:"logo-circle"}),(0,s.jsx)("div",{className:"logo-square"}),(0,s.jsx)("div",{className:"logo-triangle"})]})})]})}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1579:(e,t,n)=>{"use strict";function r(e,t,n){t||(t=[]);var r=t.length++;return Object.defineProperty({},"_",{set:function(i){t[r]=i,e.apply(n,t)}})}n.d(t,{A:()=>r})},1582:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>d});var i=n(5043),o=n(8147),s=n(9355),a=(n(4636),n(579)),c=e([s]);async function u(e){const t=[];if(e&&e._pdfInfo&&e._pdfInfo.acroForm)if("function"===typeof e.getFieldObjects){const r=await e.getFieldObjects();for(const[i,o]of Object.entries(r)){const r=o[0];let s=r.alternativeText||r.fieldName||i,a=void 0!==r.pageIndex?r.pageIndex+1:1,c=r.rect||null;if(c&&e.getPage)try{const t=await e.getPage(a),n=await t.getTextContent();let r=1/0,i=s;n.items.forEach((e=>{const t=(c[0]+c[2])/2,n=(c[1]+c[3])/2,o=t-e.transform[4],s=n-e.transform[5],a=Math.sqrt(o*o+s*s);a<r&&a<60&&(r=a,i=e.str)})),s=i}catch(n){}t.push({id:i,label:s,type:r.fieldType||"text",value:"",required:!1})}}else if(e._pdfInfo.acroForm.fields)for(const r of e._pdfInfo.acroForm.fields)t.push({id:r.T||r.FT||Math.random().toString(36).substr(2,9),label:r.T||"Field",type:r.FT||"text",value:"",required:!1});return t}function h(e){let{closeModal:t,pdfID:n,refreshUploadPDF:r}=e;const[c,l]=(0,i.useState)(null),[h,d]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(null),[v,y]=(0,i.useState)(""),[b,w]=(0,i.useState)(!1),A=(0,o.c7)(),[C,k]=(0,i.useState)(0),[S,x]=(0,i.useState)(""),T=async e=>{try{console.log("Starting Firebase upload for file:",{name:e.name,size:e.size,type:e.type});const t=async e=>{const t=(0,o.KR)(A,"pdfs");try{const n=(await(0,o._w)(t)).items.map((e=>e.name));if(!n.includes(e))return e;const r=e.lastIndexOf("."),i=e.substring(0,r),s=e.substring(r);let a=0;const c=new RegExp("^".concat(i," \\((\\d+)\\)").concat(s,"$"));return n.forEach((e=>{const t=e.match(c);if(t){const e=parseInt(t[1]);a=Math.max(a,e)}})),"".concat(i," (").concat(a+1,")").concat(s)}catch(g){return console.error("Error checking existing files:",g),"".concat(Date.now(),"-").concat(e)}},n=await t(e.name),r=(0,o.KR)(A,"pdfs/".concat(n));console.log("Created storage reference:",{path:"pdfs/".concat(n),fullPath:r.fullPath});const i=new File([e],n,{type:e.type});console.log("Uploading file to Firebase...");const s=await(0,o.D)(r,i);console.log("File uploaded to Firebase successfully:",{ref:s.ref.fullPath,metadata:s.metadata}),console.log("Getting download URL...");const a=await(0,o.qk)(s.ref);return console.log("Download URL obtained:",a),{downloadURL:a,uniqueFileName:n,fileWithUniqueName:i}}catch(g){throw console.error("Error uploading to Firebase:",{code:g.code,message:g.message,stack:g.stack}),new Error("Failed to upload to Firebase: ".concat(g.message))}};return(0,a.jsx)("div",{className:"upload-pdf-container",children:b?(0,a.jsx)("div",{className:"password-modal",children:(0,a.jsxs)("div",{className:"password-modal-content",children:[(0,a.jsx)("h3",{children:"Password Protected PDF"}),(0,a.jsx)("p",{children:"This PDF file is password protected. Please enter the password to continue."}),(0,a.jsx)("input",{type:"password",value:v,onChange:e=>y(e.target.value),placeholder:"Enter PDF password",disabled:f,style:{width:"100%",marginBottom:"10px"},"data-form-type":"other"}),g&&(0,a.jsx)("div",{className:"error-message",style:{color:"red",marginTop:"10px"},children:g}),f&&(0,a.jsxs)("div",{className:"upload-progress",children:[(0,a.jsx)("div",{className:"progress-bar",children:(0,a.jsx)("div",{className:"progress-fill",style:{width:"".concat(C,"%")}})}),(0,a.jsxs)("div",{className:"progress-text",children:[C<25?"Verifying password...":C<50?"Uploading to Firebase...":C<90?"Uploading to server...":C<100?"Finalizing...":"Complete!"," ",C,"%"]})]}),(0,a.jsxs)("div",{className:"password-modal-buttons",children:[(0,a.jsx)("button",{onClick:async()=>{if(v){if(!f){p(!0),m(null);try{console.log("=== CLIENT: Starting Upload Process with Password ===");const e=await c.arrayBuffer(),n=await s.YE({data:e,password:v}).promise,i=[];for(let t=1;t<=n.numPages;t++){const e=await n.getPage(t),r=await e.getTextContent();e.getViewport({scale:1});r.items.forEach(((e,n)=>{const r=e.str.toLowerCase();if(r.includes(":")||r.includes("?")||r.includes("(")){const o={x:e.transform[4],y:e.transform[5],width:150,height:20,page:t};let s="text";r.includes("date")&&(s="date"),r.includes("email")&&(s="email"),r.includes("phone")&&(s="tel"),(r.includes("amount")||r.includes("$"))&&(s="number"),r.includes("signature")&&(s="signature"),(r.includes("check")||r.includes("box"))&&(s="checkbox"),i.push({id:"field_".concat(t,"_").concat(n),label:e.str,type:s,position:o,value:"",required:!1})}}))}k(25);const{downloadURL:o,uniqueFileName:a,fileWithUniqueName:l}=await T(c);k(50);const u=new FormData;u.append("pdf",l),u.append("formFields",JSON.stringify(i)),u.append("isPasswordProtected","true"),u.append("password",v),u.append("uniqueFileName",a);const h=await fetch("".concat("https://expenser-server-829602228195.us-central1.run.app","/upload-pdf"),{method:"POST",body:u,mode:"cors",credentials:"include",headers:{Accept:"application/json"}});if(!h.ok){const e=await h.json().catch((()=>({})));throw new Error(e.message||"Server upload failed")}k(90),r&&(console.log("=== CLIENT: Refreshing PDF List ==="),await r()),k(100),console.log("=== CLIENT: Upload Complete ==="),w(!1),setTimeout((()=>{t()}),500)}catch(g){console.error("=== CLIENT ERROR: Password Upload Process ===",g),"PasswordException"===g.name?(m("Incorrect password. Please try again."),y("")):m(g.message||"Something went wrong")}finally{p(!1)}}}else m("Please enter a password")},disabled:f||!v,children:f?"Processing...":"Submit"}),(0,a.jsx)("button",{onClick:()=>{w(!1),y(""),m(null)},disabled:f,children:"Cancel"})]})]})}):(0,a.jsxs)("div",{className:"upload-pdf-content",children:[(0,a.jsx)("h2",{children:"Upload PDF"}),(0,a.jsxs)("div",{className:"file-input-container",children:[(0,a.jsx)("button",{onClick:async()=>{try{const e=document.createElement("input");e.type="file",e.accept="application/pdf",e.onchange=async e=>{const t=e.target.files[0];if(t){if(!t.type.includes("pdf"))return void m("Please select a valid PDF file");l(t),m(null)}},e.click()}catch(g){console.error("Error in file selection:",g),m("Error selecting file")}},className:"browse-button",children:"Browse PDF"}),c&&(0,a.jsxs)("div",{className:"selected-file",children:["Selected: ",c.name]})]}),g&&(0,a.jsx)("div",{className:"error-message",children:g}),f&&(0,a.jsxs)("div",{className:"upload-progress",children:[(0,a.jsx)("div",{className:"progress-bar",children:(0,a.jsx)("div",{className:"progress-fill",style:{width:"".concat(C,"%")}})}),(0,a.jsxs)("div",{className:"progress-text",children:[C<25?"Parsing PDF...":C<50?"Uploading to Firebase...":C<90?"Uploading to server...":C<100?"Finalizing...":"Complete!"," ",C,"%"]})]}),S&&(0,a.jsxs)("div",{className:"pdf-type-info",style:{marginBottom:"10px",color:"#888"},children:["Detected PDF Type: ",(0,a.jsx)("b",{children:S})]}),(0,a.jsxs)("div",{className:"button-container",children:[(0,a.jsx)("button",{onClick:async()=>{if(c)if(c.type.includes("pdf")){p(!0),m(null),k(0);try{let e;console.log("=== CLIENT: Starting Upload Process ==="),console.log("=== CLIENT: Parsing PDF ===");try{e=await(async e=>{try{const t=await e.arrayBuffer();try{const e=await s.YE({data:t,cMapUrl:"https://unpkg.com/pdfjs-dist@latest/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://unpkg.com/pdfjs-dist@latest/standard_fonts/"}).promise;if(console.log("PDF Info:",e._pdfInfo),e._pdfInfo&&e._pdfInfo.xfa&&(console.log("Detected XFA form"),x("XFA Form")),e._pdfInfo&&e._pdfInfo.acroForm)return console.log("Detected AcroForm"),x("AcroForm/Regular PDF"),await u(e);console.log("No form detected, attempting to detect fields from text"),x("Plain PDF (no AcroForm)");const n=[];for(let t=1;t<=e.numPages;t++){const r=await e.getPage(t),i=await r.getTextContent();r.getViewport({scale:1}),i.items.forEach(((e,r)=>{const i=e.str.toLowerCase();if(i.includes(":")||i.includes("?")||i.includes("(")){const o={x:e.transform[4],y:e.transform[5],width:150,height:20,page:t};let s="text";i.includes("date")&&(s="date"),i.includes("email")&&(s="email"),i.includes("phone")&&(s="tel"),(i.includes("amount")||i.includes("$"))&&(s="number"),i.includes("signature")&&(s="signature"),(i.includes("check")||i.includes("box"))&&(s="checkbox"),n.push({id:"field_".concat(t,"_").concat(r),label:e.str,type:s,position:o,value:"",required:!1})}}))}return n}catch(g){if(console.error("PDF parsing error:",g),"PasswordException"===g.name)throw w(!0),new Error("Password required");throw g}}catch(g){if(console.error("PDF Parsing Error:",g),"Password required"===g.message)throw g;throw new Error("Error parsing PDF: "+g.message)}})(c),k(25)}catch(g){if("Password required"===g.message)return void p(!1);throw g}const{downloadURL:n,uniqueFileName:i,fileWithUniqueName:o}=await T(c);k(50);const a=new FormData;a.append("pdf",o),a.append("formFields",JSON.stringify(e)),a.append("isPasswordProtected","false"),a.append("password",""),a.append("uniqueFileName",i);const l=await fetch("".concat("https://expenser-server-829602228195.us-central1.run.app","/upload-pdf"),{method:"POST",body:a,mode:"cors",credentials:"include",headers:{Accept:"application/json"}});if(!l.ok){const e=await l.json().catch((()=>({})));throw new Error(e.message||"Server upload failed")}k(90),r&&(console.log("=== CLIENT: Refreshing PDF List ==="),await r()),k(100),console.log("=== CLIENT: Upload Complete ==="),setTimeout((()=>{t()}),500)}catch(g){console.error("=== CLIENT ERROR: Upload Process ===",g),m(g.message||"Something went wrong")}finally{p(!1)}}else m("Please select a valid PDF file");else m("Please select a PDF file first")},disabled:!c||f,className:"upload-button",children:f?"Uploading...":"Upload PDF"}),(0,a.jsx)("button",{onClick:t,className:"cancel-button",children:"Cancel"})]})]})})}(s=(c.then?(await c)():c)[0]).EA.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(s.rE,"/pdf.worker.min.js");const d=h;r()}catch(l){r(l)}}))},1837:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(5043);var r=n(579);const i=function(){return(0,r.jsx)("div",{children:"Moreinfo"})}},1918:(e,t,n)=>{"use strict";t.CSVLink=void 0;var r=o(n(2483)),i=o(n(3027));function o(e){return e&&e.__esModule?e:{default:e}}r.default,t.CSVLink=i.default},2046:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043),i=n(9786),o=n(574),s=(n(2886),n(9017),n(579));const a=function(){const[e,t]=(0,r.useState)("");return(0,s.jsx)("div",{className:"page",id:"signin-page",children:(0,s.jsxs)("div",{className:"signin-container",children:[(0,s.jsxs)("div",{className:"form-heading",children:[(0,s.jsx)("h1",{className:"form-title",children:"Forgot Password"}),(0,s.jsxs)("p",{className:"form-description",children:["Forgotten your password? That's okay, ",(0,s.jsx)("br",{}),"just enter your email to recieve a reset link!"]})]}),(0,s.jsxs)("form",{id:"signin-form",onSubmit:async t=>{t.preventDefault();try{await(0,i.J1)(o.j,e),console.log("Password reset email sent")}catch(n){console.error("Error sending password reset email:",n.code,n.message)}},children:[(0,s.jsx)("input",{name:"email",type:"email",value:e,className:"email",placeholder:"Your Email",onChange:e=>t(e.target.value),required:!0}),(0,s.jsx)("button",{type:"submit",className:"form-submit",children:"Submit"})]}),(0,s.jsx)("section",{})]})})}},2258:(e,t,n)=>{"use strict";n.d(t,{A:()=>Ku});var r=n(5043),i=n(9379);const o={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},s=400,a=499,c=500,l=599,u=[o.OPENID_SCOPE,o.PROFILE_SCOPE,o.OFFLINE_ACCESS_SCOPE],h=[...u,o.EMAIL_SCOPE],d="Content-Type",f="Content-Length",p="Retry-After",g="X-AnchorMailbox",m="x-ms-request-id",v="x-ms-httpver",y="active-account-filters",b="common",w="organizations",A="consumers",C="access_token",k="xms_cc",S={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},x={PLAIN:"plain",S256:"S256"},T="code",E="id_token token refresh_token",I="query",_="fragment",R="query",P="authorization_code",N="refresh_token",M="MSSTS",F="ADFS",O="Generic",D="-",L=".",j={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},U="appmetadata",B="1",q="authority-metadata",z=86400,V="config",H="cache",W="network",K="hardcoded_values",G={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},X={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Y=60,Q=3600,J="throttling",Z="retry-after, h429",$="invalid_grant",ee="client_mismatch",te=200,ne=400,re="1",ie="3",oe="4",se="2",ae="4",ce="5",le="0",ue="1",he="2",de="3",fe="4",pe="pop";var ge;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(ge||(ge={}));class me{constructor(e,t,n){this.level=ge.Info;const r=e||me.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:ge.Info,this.correlationId=r.correlationId||o.EMPTY_STRING,this.packageName=t||o.EMPTY_STRING,this.packageVersion=n||o.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ge.Info}}clone(e,t,n){return new me({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=(new Date).toUTCString(),r="[".concat(n,"] : [").concat(t.correlationId||this.correlationId||"","]"),i="".concat(r," : ").concat(this.packageName,"@").concat(this.packageVersion," : ").concat(ge[t.logLevel]," - ").concat(e);this.executeCallback(t.logLevel,i,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:ge.Error,containsPii:!1,correlationId:t||o.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:ge.Error,containsPii:!0,correlationId:t||o.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:ge.Warning,containsPii:!1,correlationId:t||o.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:ge.Warning,containsPii:!0,correlationId:t||o.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:ge.Info,containsPii:!1,correlationId:t||o.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:ge.Info,containsPii:!0,correlationId:t||o.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:ge.Verbose,containsPii:!1,correlationId:t||o.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:ge.Verbose,containsPii:!0,correlationId:t||o.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:ge.Trace,containsPii:!1,correlationId:t||o.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:ge.Trace,containsPii:!0,correlationId:t||o.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const ve="AAD",ye="OIDC",be="EAR",we="none",Ae="unexpected_error",Ce="post_request_failed",ke={[Ae]:"Unexpected error in authentication.",[Ce]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Se extends Error{constructor(e,t,n){super(t?"".concat(e,": ").concat(t):e),Object.setPrototypeOf(this,Se.prototype),this.errorCode=e||o.EMPTY_STRING,this.errorMessage=t||o.EMPTY_STRING,this.subError=n||o.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function xe(e,t){return new Se(e,t?"".concat(ke[e]," ").concat(t):ke[e])}const Te="client_info_decoding_error",Ee="client_info_empty_error",Ie="token_parsing_error",_e="null_or_empty_token",Re="endpoints_resolution_error",Pe="network_error",Ne="openid_config_error",Me="hash_not_deserialized",Fe="invalid_state",Oe="state_mismatch",De="state_not_found",Le="nonce_mismatch",je="auth_time_not_found",Ue="max_age_transpired",Be="multiple_matching_tokens",qe="multiple_matching_accounts",ze="multiple_matching_appMetadata",Ve="request_cannot_be_made",He="cannot_remove_empty_scope",We="cannot_append_scopeset",Ke="empty_input_scopeset",Ge="device_code_polling_cancelled",Xe="device_code_expired",Ye="device_code_unknown_error",Qe="no_account_in_silent_request",Je="invalid_cache_record",Ze="invalid_cache_environment",$e="no_account_found",et="no_crypto_object",tt="unexpected_credential_type",nt="invalid_assertion",rt="invalid_client_credential",it="token_refresh_required",ot="user_timeout_reached",st="token_claims_cnf_required_for_signedjwt",at="authorization_code_missing_from_server_response",ct="binding_key_not_removed",lt="end_session_endpoint_not_supported",ut="key_id_missing",ht="no_network_connectivity",dt="user_canceled",ft="missing_tenant_id_error",pt="method_not_implemented",gt="nested_app_auth_bridge_disabled",mt={[Te]:"The client info could not be parsed/decoded correctly",[Ee]:"The client info was empty",[Ie]:"Token cannot be parsed",[_e]:"The token is null or empty",[Re]:"Endpoints cannot be resolved",[Pe]:"Network request failed",[Ne]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Me]:"The hash parameters could not be deserialized",[Fe]:"State was not the expected format",[Oe]:"State mismatch error",[De]:"State not found",[Le]:"Nonce mismatch error",[je]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Ue]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Be]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[qe]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[ze]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Ve]:"Token request cannot be made without authorization code or refresh token.",[He]:"Cannot remove null or empty scope from ScopeSet",[We]:"Cannot append ScopeSet",[Ke]:"Empty input ScopeSet cannot be processed",[Ge]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Xe]:"Device code is expired.",[Ye]:"Device code stopped polling for unknown reasons.",[Qe]:"Please pass an account object, silent flow is not supported without account information",[Je]:"Cache record object was null or undefined.",[Ze]:"Invalid environment when attempting to create cache entry",[$e]:"No account found in cache for given key.",[et]:"No crypto object detected.",[tt]:"Unexpected credential type.",[nt]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[rt]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[it]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[ot]:"User defined timeout for device code polling reached",[st]:"Cannot generate a POP jwt if the token_claims are not populated",[at]:"Server response does not contain an authorization code to proceed",[ct]:"Could not remove the credential's binding key from storage.",[lt]:"The provided authority does not support logout",[ut]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[ht]:"No network connectivity. Check your internet connection.",[dt]:"User cancelled the flow.",[ft]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[pt]:"This method has not been implemented",[gt]:"The nested app auth bridge is disabled"};class vt extends Se{constructor(e,t){super(e,t?"".concat(mt[e],": ").concat(t):mt[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,vt.prototype)}}function yt(e,t){return new vt(e,t)}const bt={createNewGuid:()=>{throw yt(pt)},base64Decode:()=>{throw yt(pt)},base64Encode:()=>{throw yt(pt)},base64UrlEncode:()=>{throw yt(pt)},encodeKid:()=>{throw yt(pt)},async getPublicKeyThumbprint(){throw yt(pt)},async removeTokenBindingKey(){throw yt(pt)},async clearKeystore(){throw yt(pt)},async signJwt(){throw yt(pt)},async hashString(){throw yt(pt)}},wt="@azure/msal-common",At="15.6.0";function Ct(e,t){const n=function(e){if(!e)throw yt(_e);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw yt(Ie);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw yt(Ie)}}function kt(e,t){if(0===t||Date.now()-3e5>e+t)throw yt(Ue)}function St(){return Math.round((new Date).getTime()/1e3)}function xt(e){return e.getTime()/1e3}function Tt(e){return e?new Date(1e3*Number(e)):new Date}function Et(e,t){const n=Number(e)||0;return St()+t>n}function It(e){return[Mt(e),Ft(e),Ot(e),Dt(e),Lt(e)].join(D).toLowerCase()}function _t(e,t,n,r,i){return{credentialType:j.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:i}}function Rt(e,t,n,r,i,o,s,a,c,l,u,h,d,f,p){var g,m;const v={homeAccountId:e,credentialType:j.ACCESS_TOKEN,secret:n,cachedAt:St().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:r,realm:i,target:o,tokenType:u||X.BEARER};if(h&&(v.userAssertionHash=h),l&&(v.refreshOn=l.toString()),f&&(v.requestedClaims=f,v.requestedClaimsHash=p),(null===(g=v.tokenType)||void 0===g?void 0:g.toLowerCase())!==X.BEARER.toLowerCase())switch(v.credentialType=j.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case X.POP:const e=Ct(n,c);if(null===e||void 0===e||null===(m=e.cnf)||void 0===m||!m.kid)throw yt(st);v.keyId=e.cnf.kid;break;case X.SSH:v.keyId=d}return v}function Pt(e,t,n,r,i,o,s){const a={credentialType:j.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function Nt(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Mt(e){return[e.homeAccountId,e.environment].join(D).toLowerCase()}function Ft(e){const t=e.credentialType===j.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(D).toLowerCase()}function Ot(e){return(e.target||"").toLowerCase()}function Dt(e){return(e.requestedClaimsHash||"").toLowerCase()}function Lt(e){return e.tokenType&&e.tokenType.toLowerCase()!==X.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function jt(){return St()+z}function Ut(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Bt(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function qt(e){return e.expiresAt<=St()}const zt="redirect_uri_empty",Vt="claims_request_parsing_error",Ht="authority_uri_insecure",Wt="url_parse_error",Kt="empty_url_error",Gt="empty_input_scopes_error",Xt="invalid_prompt_value",Yt="invalid_claims",Qt="token_request_empty",Jt="logout_request_empty",Zt="invalid_code_challenge_method",$t="pkce_params_missing",en="invalid_cloud_discovery_metadata",tn="invalid_authority_metadata",nn="untrusted_authority",rn="missing_ssh_jwk",on="missing_ssh_kid",sn="missing_nonce_authentication_header",an="invalid_authentication_header",cn="cannot_set_OIDCOptions",ln="cannot_allow_platform_broker",un="authority_mismatch",hn={[zt]:"A redirect URI is required for all calls, and none has been set.",[Vt]:"Could not parse the given claims request object.",[Ht]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Wt]:"URL could not be parsed into appropriate segments.",[Kt]:"URL was empty or null.",[Gt]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Xt]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Yt]:"Given claims parameter must be a stringified JSON object.",[Qt]:"Token request was empty and not found in cache.",[Jt]:"The logout request was null or undefined.",[Zt]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[$t]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[en]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[tn]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[nn]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[rn]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[on]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[sn]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[an]:"Invalid authentication header provided",[cn]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[ln]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[un]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class dn extends Se{constructor(e){super(e,hn[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,dn.prototype)}}function fn(e){return new dn(e)}class pn{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,i]=e.split(/=(.+)/g,2);n&&i&&(t[r(n)]=r(i))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class gn{constructor(e){const t=e?pn.trimArrayEntries([...e]):[],n=t?pn.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw fn(Gt);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||o.EMPTY_STRING).split(" ");return new gn(t)}static createSearchScopes(e){const t=new gn(e);return t.containsOnlyOIDCScopes()?t.removeScope(o.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new gn(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return h.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw yt(We)}}removeScope(e){if(!e)throw yt(He);this.scopes.delete(e.trim())}removeOIDCScopes(){h.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw yt(Ke);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw yt(Ke);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return o.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function mn(e,t){if(!e)throw yt(Ee);try{const n=t(e);return JSON.parse(n)}catch(n){throw yt(Te)}}function vn(e){if(!e)throw yt(Te);const t=e.split(L,2);return{uid:t[0],utid:t.length<2?o.EMPTY_STRING:t[1]}}var yn=n(3986);const bn=["isHomeTenant"],wn=["isHomeTenant"];function An(e,t){return!!e&&!!t&&e===t.split(".")[1]}function Cn(e,t,n,r){if(r){const{oid:t,sub:n,tid:i,name:o,tfp:s,acr:a}=r,c=i||s||a||"";return{tenantId:c,localAccountId:t||n||"",name:o,isHomeTenant:An(c,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:An(n,e)}}function kn(e,t,n,r){let o=e;if(t){const{isHomeTenant:n}=t,r=(0,yn.A)(t,bn);o=(0,i.A)((0,i.A)({},e),r)}if(n){const t=Cn(e.homeAccountId,e.localAccountId,e.tenantId,n),{isHomeTenant:s}=t,a=(0,yn.A)(t,wn);return o=(0,i.A)((0,i.A)((0,i.A)({},o),a),{},{idTokenClaims:n,idToken:r}),o}return o}const Sn=0,xn=1,Tn=2,En=3;function In(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class _n{generateAccountId(){return[this.homeAccountId,this.environment].join(D).toLowerCase()}generateAccountKey(){return _n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(D).toLowerCase()}static createAccount(e,t,n){var r,i,o,s,a,c,l,u;const h=new _n;let d;t.authorityType===xn?h.authorityType=F:t.protocolMode===ye?h.authorityType=O:h.authorityType=M,e.clientInfo&&n&&(d=mn(e.clientInfo,n)),h.clientInfo=e.clientInfo,h.homeAccountId=e.homeAccountId,h.nativeAccountId=e.nativeAccountId;const f=e.environment||t&&t.getPreferredCache();if(!f)throw yt(Ze);h.environment=f,h.realm=(null===(r=d)||void 0===r?void 0:r.utid)||In(e.idTokenClaims)||"",h.localAccountId=(null===(i=d)||void 0===i?void 0:i.uid)||(null===(o=e.idTokenClaims)||void 0===o?void 0:o.oid)||(null===(s=e.idTokenClaims)||void 0===s?void 0:s.sub)||"";const p=(null===(a=e.idTokenClaims)||void 0===a?void 0:a.preferred_username)||(null===(c=e.idTokenClaims)||void 0===c?void 0:c.upn),g=null!==(l=e.idTokenClaims)&&void 0!==l&&l.emails?e.idTokenClaims.emails[0]:null;if(h.username=p||g||"",h.name=(null===(u=e.idTokenClaims)||void 0===u?void 0:u.name)||"",h.cloudGraphHostName=e.cloudGraphHostName,h.msGraphHost=e.msGraphHost,e.tenantProfiles)h.tenantProfiles=e.tenantProfiles;else{const t=Cn(e.homeAccountId,h.localAccountId,h.realm,e.idTokenClaims);h.tenantProfiles=[t]}return h}static createFromAccountInfo(e,t,n){var r;const i=new _n;return i.authorityType=e.authorityType||O,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=n,i.tenantProfiles=Array.from((null===(r=e.tenantProfiles)||void 0===r?void 0:r.values())||[]),i}static generateHomeAccountId(e,t,n,r,i){if(t!==xn&&t!==Tn){if(e)try{const t=mn(e,r.base64Decode);if(t.uid&&t.utid)return"".concat(t.uid,".").concat(t.utid)}catch(o){}n.warning("No client info in response")}return(null===i||void 0===i?void 0:i.sub)||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},i=t.idTokenClaims||{};r=n.iat===i.iat&&n.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function Rn(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function Pn(e){if(!e||e.indexOf("=")<0)return null;try{const t=Rn(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch(t){throw yt(Me)}return null}function Nn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=new Array;return e.forEach(((e,i)=>{!t&&n&&i in n?r.push("".concat(i,"=").concat(e)):r.push("".concat(i,"=").concat(encodeURIComponent(e)))})),r.join("&")}class Mn{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw fn(Kt);e.includes("#")||(this._urlString=Mn.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return pn.endsWith(t,"?")?t=t.slice(0,-1):pn.endsWith(t,"?/")&&(t=t.slice(0,-2)),pn.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw fn(Wt)}if(!e.HostNameAndPort||!e.PathSegments)throw fn(Wt);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw fn(Ht)}static appendQueryString(e,t){return t?e.indexOf("?")<0?"".concat(e,"?").concat(t):"".concat(e,"&").concat(t):e}static removeHashFromUrl(e){return Mn.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==b&&n[0]!==w||(n[0]=e),Mn.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw fn(Wt);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw fn(Wt);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===o.FORWARD_SLASH){const n=new Mn(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Mn(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Pn(e)}}const Fn={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},On={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Dn=new Set;function Ln(e,t,n,r){if(null===r||void 0===r||r.trace("getAliasesFromMetadata called with source: ".concat(n)),e&&t){const i=jn(t,e);if(i)return null===r||void 0===r||r.trace("getAliasesFromMetadata: found cloud discovery metadata in ".concat(n,", returning aliases")),i.aliases;null===r||void 0===r||r.trace("getAliasesFromMetadata: did not find cloud discovery metadata in ".concat(n))}return null}function jn(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}On.metadata.forEach((e=>{e.aliases.forEach((e=>{Dn.add(e)}))}));const Un="cache_quota_exceeded",Bn="cache_error_unknown",qn={[Un]:"Exceeded cache storage capacity.",[Bn]:"Unexpected error occurred when using cache storage."};class zn extends Error{constructor(e,t){const n=t||(qn[e]?qn[e]:qn[Bn]);super("".concat(e,": ").concat(n)),Object.setPrototypeOf(this,zn.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class Vn{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(wt,At),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,null===t||void 0===t?void 0:t.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let i,o=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const s=this.getIdToken(e,t,n.tenantId);return s&&(i=Ct(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,r))?null:(o=kn(e,n,i,null===s||void 0===s?void 0:s.secret),o)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let i=r.tenantProfiles||new Map;const o=this.getTokenKeys();if(t){const e=i.get(t);if(!e)return[];i=new Map([[t,e]])}const s=[];return i.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,o,e,n);t&&s.push(t)})),s}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw yt(Je);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==(null===n||void 0===n?void 0:n.idToken)&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==(null===n||void 0===n?void 0:n.accessToken)&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==(null===n||void 0===n?void 0:n.refreshToken)&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(a){var r,i;if(null===(r=this.commonLogger)||void 0===r||r.error("CacheManager.saveCacheRecord: failed"),a instanceof Error){var o,s;if(null===(o=this.commonLogger)||void 0===o||o.errorPii("CacheManager.saveCacheRecord: ".concat(a.message),t),"QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name||a.message.includes("exceeded the quota"))throw null===(s=this.commonLogger)||void 0===s||s.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new zn(Un);throw new zn(a.name,a.message)}throw null===(i=this.commonLogger)||void 0===i||i.errorPii("CacheManager.saveCacheRecord: ".concat(a),t),new zn(Bn)}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=gn.fromString(e.target),o=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){gn.fromString(t.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{var r;if(!this.isAccountKey(t,e.homeAccountId))return;const i=this.getAccount(t,this.commonLogger);if(!i)return;if(e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId))return;if(e.username&&!this.matchUsername(i.username,e.username))return;if(e.environment&&!this.matchEnvironment(i,e.environment))return;if(e.realm&&!this.matchRealm(i,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;const o={localAccountId:null===e||void 0===e?void 0:e.localAccountId,name:null===e||void 0===e?void 0:e.name},s=null===(r=i.tenantProfiles)||void 0===r?void 0:r.filter((e=>this.tenantProfileMatchesFilter(e,o)));s&&0===s.length||n.push(i)})),n}isAccountKey(e,t,n){return!(e.split(D).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(D).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(j.ID_TOKEN.toLowerCase())&&-1===t.indexOf(j.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(j.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(j.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(j.REFRESH_TOKEN.toLowerCase())>-1){const e="".concat(j.REFRESH_TOKEN).concat(D).concat(this.clientId).concat(D),n="".concat(j.REFRESH_TOKEN).concat(D).concat(B).concat(D);if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===j.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===X.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===j.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===X.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw yt(ct)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=_n.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getIdToken called");const o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:j.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(o,t),a=s.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let t=s;if(!n){const n=new Map;s.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&i&&r.addFields({multiMatchedID:s.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,(0,i.A)({clientId:this.clientId},e)))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,i,o){this.commonLogger.trace("CacheManager - getAccessToken called");const s=gn.createSearchScopes(t.scopes),a=t.authenticationScheme||X.BEARER,c=a&&a.toLowerCase()!==X.BEARER.toLowerCase()?j.ACCESS_TOKEN_WITH_AUTH_SCHEME:j.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:s,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,h=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,l)&&h.push(t)}}));const d=h.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),h.forEach((e=>{this.removeAccessToken(It(e))})),i&&o&&i.addFields({multiMatchedAT:h.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),h[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const o=t?B:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:j.REFRESH_TOKEN,clientId:this.clientId,familyId:o},a=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];a.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,s)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,s)&&c.push(t)}}));const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&r&&i&&r.addFields({multiMatchedRT:l},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),i=r.length;if(i<1)return null;if(i>1)throw yt(ze);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==B)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var n;return!(t.toLowerCase()!==(null===(n=e.name)||void 0===n?void 0:n.toLowerCase()))}matchUsername(e,t){return!(!e||"string"!==typeof e||(null===t||void 0===t?void 0:t.toLowerCase())!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){var i;const o=new Mn(r).getUrlComponents().HostNameAndPort;n=Ln(o,null===(i=e.cloudDiscoveryMetadata)||void 0===i?void 0:i.metadata,V,t)||Ln(o,On.metadata,K,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){var n;return!((null===(n=e.realm)||void 0===n?void 0:n.toLowerCase())!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==j.ACCESS_TOKEN&&e.credentialType!==j.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return gn.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(U)}isAuthorityMetadata(e){return-1!==e.indexOf(q)}generateAuthorityMetadataCacheKey(e){return"".concat(q,"-").concat(this.clientId,"-").concat(e)}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class Hn extends Vn{async setAccount(){throw yt(pt)}getAccount(){throw yt(pt)}async setIdTokenCredential(){throw yt(pt)}getIdTokenCredential(){throw yt(pt)}async setAccessTokenCredential(){throw yt(pt)}getAccessTokenCredential(){throw yt(pt)}async setRefreshTokenCredential(){throw yt(pt)}getRefreshTokenCredential(){throw yt(pt)}setAppMetadata(){throw yt(pt)}getAppMetadata(){throw yt(pt)}setServerTelemetry(){throw yt(pt)}getServerTelemetry(){throw yt(pt)}setAuthorityMetadata(){throw yt(pt)}getAuthorityMetadata(){throw yt(pt)}getAuthorityMetadataKeys(){throw yt(pt)}setThrottlingCache(){throw yt(pt)}getThrottlingCache(){throw yt(pt)}removeItem(){throw yt(pt)}getKeys(){throw yt(pt)}getAccountKeys(){throw yt(pt)}getTokenKeys(){throw yt(pt)}}const Wn={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Kn={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ge.Info,correlationId:o.EMPTY_STRING},Gn={claimsBasedCachingEnabled:!1},Xn={async sendGetRequestAsync(){throw yt(pt)},async sendPostRequestAsync(){throw yt(pt)}},Yn={sku:o.SKU,version:At,cpu:o.EMPTY_STRING,os:o.EMPTY_STRING},Qn={clientSecret:o.EMPTY_STRING,clientAssertion:void 0},Jn={azureCloudInstance:we,tenant:"".concat(o.DEFAULT_COMMON_TENANT)},Zn={application:{appName:"",appVersion:""}};function $n(e){return e.authOptions.authority.options.protocolMode===ye}const er={sendGetRequestAsync:()=>Promise.reject(yt(pt)),sendPostRequestAsync:()=>Promise.reject(yt(pt))},tr="acquireTokenByCode",nr="acquireTokenByRefreshToken",rr="acquireTokenSilent",ir="acquireTokenSilentAsync",or="acquireTokenPopup",sr="acquireTokenPreRedirect",ar="acquireTokenRedirect",cr="cryptoOptsGetPublicKeyThumbprint",lr="cryptoOptsSignJwt",ur="silentCacheClientAcquireToken",hr="silentIframeClientAcquireToken",dr="awaitConcurrentIframe",fr="silentRefreshClientAcquireToken",pr="ssoSilent",gr="standardInteractionClientGetDiscoveredAuthority",mr="nativeInteractionClientAcquireToken",vr="networkClientSendPostRequestAsync",yr="refreshTokenClientExecutePostToTokenEndpoint",br="authorizationCodeClientExecutePostToTokenEndpoint",wr="refreshTokenClientExecuteTokenRequest",Ar="refreshTokenClientAcquireToken",Cr="refreshTokenClientAcquireTokenWithCachedRefreshToken",kr="refreshTokenClientAcquireTokenByRefreshToken",Sr="refreshTokenClientCreateTokenRequestBody",xr="acquireTokenFromCache",Tr="silentFlowClientAcquireCachedToken",Er="silentFlowClientGenerateResultFromCacheRecord",Ir="acquireTokenBySilentIframe",_r="initializeBaseRequest",Rr="initializeSilentRequest",Pr="initializeClientApplication",Nr="initializeCache",Mr="silentIframeClientTokenHelper",Fr="silentHandlerInitiateAuthRequest",Or="silentHandlerMonitorIframeForHash",Dr="silentHandlerLoadFrame",Lr="silentHandlerLoadFrameSync",jr="standardInteractionClientCreateAuthCodeClient",Ur="standardInteractionClientGetClientConfiguration",Br="standardInteractionClientInitializeAuthorizationRequest",qr="getAuthCodeUrl",zr="getStandardParams",Vr="handleCodeResponseFromServer",Hr="handleCodeResponse",Wr="handleResponseEar",Kr="handleResponsePlatformBroker",Gr="handleResponseCode",Xr="updateTokenEndpointAuthority",Yr="authClientAcquireToken",Qr="authClientExecuteTokenRequest",Jr="authClientCreateTokenRequestBody",Zr="popTokenGenerateCnf",$r="popTokenGenerateKid",ei="handleServerTokenResponse",ti="deserializeResponse",ni="authorityFactoryCreateDiscoveredInstance",ri="authorityResolveEndpointsAsync",ii="authorityGetCloudDiscoveryMetadataFromNetwork",oi="authorityUpdateCloudDiscoveryMetadata",si="authorityGetEndpointMetadataFromNetwork",ai="authorityUpdateEndpointMetadata",ci="authorityUpdateMetadataWithRegionalInformation",li="regionDiscoveryDetectRegion",ui="regionDiscoveryGetRegionFromIMDS",hi="regionDiscoveryGetCurrentVersion",di="acquireTokenByCodeAsync",fi="handleRedirectPromise",pi="handleNativeRedirectPromise",gi="nativeMessageHandlerHandshake",mi="removeHiddenIframe",vi="clearTokensAndKeysWithClaims",yi="cacheManagerGetRefreshToken",bi="importExistingCache",wi="setUserData",Ai="localStorageUpdated",Ci="generatePkceCodes",ki="generateCodeVerifier",Si="generateCodeChallengeFromVerifier",xi="sha256Digest",Ti="getRandomValues",Ei="generateHKDF",Ii="generateBaseKey",_i="base64Decode",Ri="urlEncodeArr",Pi="encrypt",Ni="decrypt",Mi="generateEarKey",Fi="decryptEarResponse",Oi=(new Map([[tr,"ATByCode"],[nr,"ATByRT"],[rr,"ATS"],[ir,"ATSAsync"],[or,"ATPopup"],[ar,"ATRedirect"],[cr,"CryptoGetPKThumb"],[lr,"CryptoSignJwt"],[ur,"SltCacheClientAT"],[hr,"SltIframeClientAT"],[fr,"SltRClientAT"],[pr,"SsoSlt"],[gr,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[mr,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[vr,"NetClientSendPost"],[yr,"RTClientExecPost"],[br,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[wr,"RTClientExecTReq"],[Ar,"RTClientAT"],[Cr,"RTClientATWithCachedRT"],[kr,"RTClientATByRT"],[Sr,"RTClientCreateTReqBody"],[xr,"ATFromCache"],[Tr,"SltFlowClientATCached"],[Er,"SltFlowClientGenResFromCache"],[Ir,"ATBySltIframe"],[_r,"InitBaseReq"],[Rr,"InitSltReq"],[Pr,"InitClientApplication"],[Nr,"InitCache"],[bi,"importCache"],[wi,"setUserData"],[Ai,"localStorageUpdated"],[Mr,"SIClientTHelper"],[Fr,"SHandlerInitAuthReq"],[Or,"SltHandlerMonitorIframeForHash"],[Dr,"SHandlerLoadFrame"],[Lr,"SHandlerLoadFrameSync"],[jr,"StdIntClientCreateAuthCodeClient"],[Ur,"StdIntClientGetClientConf"],[Br,"StdIntClientInitAuthReq"],[qr,"GetAuthCodeUrl"],[Vr,"HandleCodeResFromServer"],[Hr,"HandleCodeResp"],[Wr,"HandleRespEar"],[Gr,"HandleRespCode"],[Kr,"HandleRespPlatBroker"],[Xr,"UpdTEndpointAuth"],[Yr,"AuthClientAT"],[Qr,"AuthClientExecTReq"],[Jr,"AuthClientCreateTReqBody"],[Zr,"PopTGenCnf"],[$r,"PopTGenKid"],[ei,"HandleServerTRes"],[ti,"DeserializeRes"],[ni,"AuthFactCreateDiscInst"],[ri,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[ii,"AuthGetCDMetaFromNet"],[oi,"AuthUpdCDMeta"],[si,"AuthUpdCDMetaFromNet"],[ai,"AuthUpdEndpointMeta"],[ci,"AuthUpdMetaWithRegInfo"],[li,"RegDiscDetectReg"],[ui,"RegDiscGetRegFromIMDS"],[hi,"RegDiscGetCurrentVer"],[di,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[fi,"HandleRedirectPromise"],[pi,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[gi,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[mi,"RemoveHiddenIframe"],[vi,"ClearTAndKeysWithClaims"],[yi,"CacheManagerGetRT"],[Ci,"GenPkceCodes"],[ki,"GenCodeVerifier"],[Si,"GenCodeChallengeFromVerifier"],[xi,"Sha256Digest"],[Ti,"GetRandomValues"],[Ei,"genHKDF"],[Ii,"genBaseKey"],[_i,"b64Decode"],[Ri,"urlEncArr"],[Pi,"encrypt"],[Ni,"decrypt"],[Mi,"genEarKey"],[Fi,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class Di{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Li{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Oi,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Di}}startPerformanceMeasurement(){return new Di}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const ji="invalid_grant",Ui=483,Bi=600,qi="msal",zi=30,Vi="msal.js.browser",Hi="53ee284d-920a-4b59-9d30-a60315b26836",Wi="ppnbnpeolgkicgegkbkbjmhlideopiji",Ki="MATS",Gi="Handshake",Xi="HandshakeResponse",Yi="GetToken",Qi="Response",Ji="localStorage",Zi="sessionStorage",$i="memoryStorage",eo="GET",to="POST",no="signin",ro="signout",io="request.origin",oo="urlHash",so="request.params",ao="code.verifier",co="interaction.status",lo="request.native",uo="msal.account.keys",ho="msal.token.keys",fo="wrapper.sku",po="wrapper.version",go=861,mo=862,vo=863,yo=865,bo=866,wo=61,Ao=961,Co=962;var ko;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(ko||(ko={}));const So={scopes:u},xo="msal.db",To="".concat(xo,".keys"),Eo=0,Io=1,_o=2,Ro=3,Po=4,No=5,Mo=[Eo,No,Po];class Fo{navigateInternal(e,t){return Fo.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Fo.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class Oo extends Se{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Oo.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Do(e,t,n,r){return e.errorMessage="".concat(e.errorMessage,", additionalErrorInfo: error.name:").concat(null===r||void 0===r?void 0:r.name,", error.message:").concat(null===r||void 0===r?void 0:r.message),new Oo(e,t,n)}const Lo="pkce_not_created",jo="ear_jwk_empty",Uo="ear_jwe_empty",Bo="crypto_nonexistent",qo="empty_navigate_uri",zo="hash_empty_error",Vo="no_state_in_hash",Ho="hash_does_not_contain_known_properties",Wo="unable_to_parse_state",Ko="state_interaction_type_mismatch",Go="interaction_in_progress",Xo="popup_window_error",Yo="empty_window_error",Qo="user_cancelled",Jo="monitor_popup_timeout",Zo="monitor_window_timeout",$o="redirect_in_iframe",es="block_iframe_reload",ts="block_nested_popups",ns="iframe_closed_prematurely",rs="silent_logout_unsupported",is="no_account_error",os="silent_prompt_value_error",ss="no_token_request_cache_error",as="unable_to_parse_token_request_cache_error",cs="auth_request_not_set_error",ls="invalid_cache_type",us="non_browser_environment",hs="database_not_open",ds="no_network_connectivity",fs="post_request_failed",ps="get_request_failed",gs="failed_to_parse_response",ms="unable_to_load_token",vs="crypto_key_not_found",ys="auth_code_required",bs="auth_code_or_nativeAccountId_required",ws="spa_code_and_nativeAccountId_present",As="database_unavailable",Cs="unable_to_acquire_token_from_native_platform",ks="native_handshake_timeout",Ss="native_extension_not_installed",xs="native_connection_not_established",Ts="uninitialized_public_client_application",Es="native_prompt_not_supported",Is="invalid_base64_string",_s="invalid_pop_token_request",Rs="failed_to_build_headers",Ps="failed_to_parse_headers",Ns="failed_to_decrypt_ear_response",Ms="For more visit: aka.ms/msaljs/browser-errors",Fs={[Lo]:"The PKCE code challenge and verifier could not be generated.",[jo]:"No EAR encryption key provided. This is unexpected.",[Uo]:"Server response does not contain ear_jwe property. This is unexpected.",[Bo]:"The crypto object or function is not available.",[qo]:"Navigation URI is empty. Please check stack trace for more info.",[zo]:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ".concat(Ms),[Vo]:"Hash does not contain state. Please verify that the request originated from msal.",[Ho]:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ".concat(Ms),[Wo]:"Unable to parse state. Please verify that the request originated from msal.",[Ko]:"Hash contains state but the interaction type does not match the caller.",[Go]:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ".concat(Ms),[Xo]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Yo]:"window.open returned null or undefined window object.",[Qo]:"User cancelled the flow.",[Jo]:"Token acquisition in popup failed due to timeout.  ".concat(Ms),[Zo]:"Token acquisition in iframe failed due to timeout.  ".concat(Ms),[$o]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[es]:"Request was blocked inside an iframe because MSAL detected an authentication response.  ".concat(Ms),[ts]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[ns]:"The iframe being monitored was closed prematurely.",[rs]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[is]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[os]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[ss]:"No token request found in cache.",[as]:"The cached token request could not be parsed.",[cs]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[ls]:"Invalid cache type",[us]:"Login and token requests are not supported in non-browser environments.",[hs]:"Database is not open!",[ds]:"No network connectivity. Check your internet connection.",[fs]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[ps]:"Network request failed. Please check the network trace to determine root cause.",[gs]:"Failed to parse network response. Check network trace.",[ms]:"Error loading token to cache.",[vs]:"Cryptographic Key or Keypair not found in browser storage.",[ys]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[bs]:"An authorization code or nativeAccountId must be provided to this flow.",[ws]:"Request cannot contain both spa code and native account id.",[As]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Cs]:"Unable to acquire token from native platform.  ".concat(Ms),[ks]:"Timed out while attempting to establish connection to browser extension",[Ss]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[xs]:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ".concat(Ms),[Ts]:"You must call and await the initialize function before attempting to call any other MSAL API.  ".concat(Ms),[Es]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Is]:"Invalid base64 encoded string.",[_s]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Rs]:"Failed to build request headers object.",[Ps]:"Failed to parse response headers",[Ns]:"Failed to decrypt ear response"};class Os extends Se{constructor(e,t){super(e,Fs[e],t),Object.setPrototypeOf(this,Os.prototype),this.name="BrowserAuthError"}}function Ds(e,t){return new Os(e,t)}class Ls{async sendGetRequestAsync(e,t){let n,r={},i=0;const o=js(t);try{n=await fetch(e,{method:eo,headers:o})}catch(s){throw Do(Ds(window.navigator.onLine?ps:ds),void 0,void 0,s)}r=Us(n.headers);try{return i=n.status,{headers:r,body:await n.json(),status:i}}catch(s){throw Do(Ds(gs),i,r,s)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=js(t);let i,o=0,s={};try{i=await fetch(e,{method:to,headers:r,body:n})}catch(a){throw Do(Ds(window.navigator.onLine?fs:ds),void 0,void 0,a)}s=Us(i.headers);try{return o=i.status,{headers:s,body:await i.json(),status:o}}catch(a){throw Do(Ds(gs),o,s,a)}}}function js(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(t){throw Do(Ds(Rs),void 0,void 0,t)}}function Us(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(t){throw Ds(Ps)}}function Bs(e){return encodeURIComponent(zs(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function qs(e){return Vs(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zs(e){return Vs((new TextEncoder).encode(e))}function Vs(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function Hs(e){return(new TextDecoder).decode(Ws(e))}function Ws(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Ds(Is)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const Ks="AES-GCM",Gs="HKDF",Xs="SHA-256",Ys=new Uint8Array([1,0,1]),Qs="0123456789abcdef",Js=new Uint32Array(1),Zs="raw",$s="encrypt",ea="decrypt",ta={name:"RSASSA-PKCS1-v1_5",hash:Xs,modulusLength:2048,publicExponent:Ys};async function na(e,t,n){null===t||void 0===t||t.addQueueMeasurement(xi,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(Xs,r)}function ra(e){return window.crypto.getRandomValues(e)}function ia(){return window.crypto.getRandomValues(Js),Js[0]}function oa(){const e=Date.now(),t=1024*ia()+(1023&ia()),n=new Uint8Array(16),r=Math.trunc(t/2**30),i=t&2**30-1,o=ia();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let s="";for(let a=0;a<n.length;a++)s+=Qs.charAt(n[a]>>>4),s+=Qs.charAt(15&n[a]),3!==a&&5!==a&&7!==a&&9!==a||(s+="-");return s}async function sa(e){return window.crypto.subtle.exportKey("jwk",e)}async function aa(){const e=await la(),t={alg:"dir",kty:"oct",k:qs(new Uint8Array(e))};return zs(JSON.stringify(t))}async function ca(e,t){const n=t.split(".");if(5!==n.length)throw Ds(Ns,"jwe_length");const r=await async function(e){const t=Hs(e),n=Ws(JSON.parse(t).k);return window.crypto.subtle.importKey(Zs,n,Ks,!1,[ea])}(e).catch((()=>{throw Ds(Ns,"import_key")}));try{const e=(new TextEncoder).encode(n[0]),t=Ws(n[2]),i=Ws(n[3]),o=Ws(n[4]),s=8*o.byteLength,a=new Uint8Array(i.length+o.length);a.set(i),a.set(o,i.length);const c=await window.crypto.subtle.decrypt({name:Ks,iv:t,tagLength:s,additionalData:e},r,a);return(new TextDecoder).decode(c)}catch(i){throw Ds(Ns,"decrypt")}}async function la(){const e=await window.crypto.subtle.generateKey({name:Ks,length:256},!0,[$s,ea]);return window.crypto.subtle.exportKey(Zs,e)}async function ua(e){return window.crypto.subtle.importKey(Zs,e,Gs,!1,["deriveKey"])}async function ha(e,t,n){return window.crypto.subtle.deriveKey({name:Gs,salt:t,hash:Xs,info:(new TextEncoder).encode(n)},e,{name:Ks,length:256},!1,[$s,ea])}async function da(e,t,n){const r=(new TextEncoder).encode(t),i=window.crypto.getRandomValues(new Uint8Array(16)),o=await ha(e,i,n),s=await window.crypto.subtle.encrypt({name:Ks,iv:new Uint8Array(12)},o,r);return{data:qs(new Uint8Array(s)),nonce:qs(i)}}async function fa(e,t,n,r){const i=Ws(r),o=await ha(e,Ws(t),n),s=await window.crypto.subtle.decrypt({name:Ks,iv:new Uint8Array(12)},o,i);return(new TextDecoder).decode(s)}async function pa(e){const t=await na(e);return qs(new Uint8Array(t))}const ga="storage_not_supported",ma="stubbed_public_client_application_called",va="in_mem_redirect_unavailable",ya={[ga]:"Given storage configuration option was not supported.",[ma]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[va]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class ba extends Se{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,ba.prototype)}}function wa(e){return new ba(e,ya[e])}function Aa(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,"","".concat(e.location.origin).concat(e.location.pathname).concat(e.location.search))}function Ca(){return window.parent!==window}function ka(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Sa(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf("".concat(qi,".")))throw Ds(ts)}function xa(){if("undefined"===typeof window)throw Ds(us)}function Ta(e){if(!e)throw Ds(Ts)}function Ea(e){xa(),function(){if(Mn.hashContainsKnownProperties(window.location.hash)&&Ca())throw Ds(es)}(),Sa(),Ta(e)}function Ia(e,t){if(Ea(e),function(e){if(Ca()&&!e)throw Ds($o)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===$i&&!t.cache.storeAuthStateInCookie)throw wa(va)}function _a(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch(e){}}),1e4)}const Ra=1e4;const Pa="4.12.0";class Na{static loggerCallback(e,t){switch(e){case ge.Error:return void console.error(t);case ge.Info:return void console.info(t);case ge.Verbose:return void console.debug(t);case ge.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){var t,n;let r;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:s,telemetry:a}=e;const c={clientId:o.EMPTY_STRING,authority:"".concat(o.DEFAULT_AUTHORITY),knownAuthorities:[],cloudDiscoveryMetadata:o.EMPTY_STRING,authorityMetadata:o.EMPTY_STRING,redirectUri:"undefined"!==typeof window?ka():"",postLogoutRedirectUri:o.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:ve,OIDCOptions:{serverResponseType:_,defaultScopes:[o.OPENID_SCOPE,o.PROFILE_SCOPE,o.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:we,tenant:o.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},l={cacheLocation:Zi,temporaryCacheLocation:Zi,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==Ji),claimsBasedCachingEnabled:!1},u={loggerCallback:()=>{},logLevel:ge.Info,piiLoggingEnabled:!1},h=(0,i.A)((0,i.A)({},Wn),{},{loggerOptions:u,networkClient:t?new Ls:er,navigationClient:new Fo,loadFrameTimeout:0,windowHashTimeout:(null===s||void 0===s?void 0:s.loadFrameTimeout)||6e4,iframeHashTimeout:(null===s||void 0===s?void 0:s.loadFrameTimeout)||Ra,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(null===s||void 0===s?void 0:s.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:zi}),d=(0,i.A)((0,i.A)((0,i.A)({},h),s),{},{loggerOptions:(null===s||void 0===s?void 0:s.loggerOptions)||u}),f={application:{appName:o.EMPTY_STRING,appVersion:o.EMPTY_STRING},client:new Li};(null===n||void 0===n?void 0:n.protocolMode)!==ye&&null!==n&&void 0!==n&&n.OIDCOptions&&new me(d.loggerOptions).warning(JSON.stringify(fn(cn)));if(null!==n&&void 0!==n&&n.protocolMode&&n.protocolMode===ye&&null!==d&&void 0!==d&&d.allowPlatformBroker)throw fn(ln);return{auth:(0,i.A)((0,i.A)((0,i.A)({},c),n),{},{OIDCOptions:(0,i.A)((0,i.A)({},c.OIDCOptions),null===n||void 0===n?void 0:n.OIDCOptions)}),cache:(0,i.A)((0,i.A)({},l),r),system:d,telemetry:(0,i.A)((0,i.A)({},f),a)}}(e,this.browserEnvironment);try{r=window[Zi]}catch(h){}const s=null===(t=r)||void 0===t?void 0:t.getItem("msal.browser.log.level"),a=null===(n=r)||void 0===n||null===(n=n.getItem("msal.browser.log.pii"))||void 0===n?void 0:n.toLowerCase(),c="true"===a||"false"!==a&&void 0,l=(0,i.A)({},this.config.system.loggerOptions),u=s&&Object.keys(ge).includes(s)?ge[s]:void 0;u&&(l.loggerCallback=Na.loggerCallback,l.logLevel=u),void 0!==c&&(l.piiLoggingEnabled=c),this.logger=new me(l,"@azure/msal-browser",Pa),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Ma extends Na{getModuleName(){return Ma.MODULE_NAME}getId(){return Ma.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Ma.MODULE_NAME="",Ma.ID="StandardOperatingContext";const Fa="missing_kid_error",Oa="missing_alg_error",Da={[Fa]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Oa]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class La extends Se{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,La.prototype)}}function ja(e){return new La(e,Da[e])}class Ua{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw ja(Fa);if(!e.alg)throw ja(Oa);const t=new Ua({typ:e.typ||pe,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class Ba{constructor(){this.dbName=xo,this.version=1,this.tableName=To,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(Ds(As))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ds(hs));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(Ds(hs));const i=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);i.addEventListener("success",(()=>{this.closeConnection(),n()})),i.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ds(hs));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(Ds(hs));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ds(hs));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(xo),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class qa{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class za{constructor(e){this.inMemoryCache=new qa,this.indexedDBCache=new Ba,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof Os&&e.errorCode===As))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Va{constructor(e,t,n){this.logger=e,function(e){if(!window)throw Ds(us);if(!window.crypto)throw Ds(Bo);if(!e&&!window.crypto.subtle)throw Ds(Bo,"crypto_subtle_undefined")}(null!==n&&void 0!==n&&n),this.cache=new za(this.logger),this.performanceClient=t}createNewGuid(){return oa()}base64Encode(e){return zs(e)}base64Decode(e){return Hs(e)}base64UrlEncode(e){return Bs(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var t;const n=null===(t=this.performanceClient)||void 0===t?void 0:t.startMeasurement(cr,e.correlationId),r=await async function(e,t){return window.crypto.subtle.generateKey(ta,e,t)}(Va.EXTRACTABLE,Va.POP_KEY_USAGES),i=await sa(r.publicKey),o=Ha({e:i.e,kty:i.kty,n:i.n}),s=await this.hashString(o),a=await sa(r.privateKey),c=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,ta,t,n)}(a,!1,["sign"]);return await this.cache.setItem(s,{privateKey:c,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),s}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error("Clearing keystore failed with error: ".concat(e.message)):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){var o;const s=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(lr,r),a=await this.cache.getItem(t);if(!a)throw Ds(vs);const c=await sa(a.publicKey),l=Ha(c),u=Bs(JSON.stringify({kid:t})),h=Bs(Ua.getShrHeaderString((0,i.A)((0,i.A)({},null===n||void 0===n?void 0:n.header),{},{alg:c.alg,kid:u})));e.cnf={jwk:JSON.parse(l)};const d=Bs(JSON.stringify(e)),f="".concat(h,".").concat(d),p=(new TextEncoder).encode(f),g=await async function(e,t){return window.crypto.subtle.sign(ta,e,t)}(a.privateKey,p),m=qs(new Uint8Array(g)),v="".concat(f,".").concat(m);return s&&s.end({success:!0}),v}async hashString(e){return pa(e)}}function Ha(e){return JSON.stringify(e,Object.keys(e).sort())}Va.POP_KEY_USAGES=["sign","verify"],Va.EXTRACTABLE=!0;const Wa=(e,t,n,r,i)=>function(){n.trace("Executing function ".concat(t));const o=null===r||void 0===r?void 0:r.startMeasurement(t,i);if(i){const e=t+"CallCount";null===r||void 0===r||r.incrementFields({[e]:1},i)}try{const r=e(...arguments);return null===o||void 0===o||o.end({success:!0}),n.trace("Returning result from ".concat(t)),r}catch(s){n.trace("Error occurred in ".concat(t));try{n.trace(JSON.stringify(s))}catch(s){n.trace("Unable to print error message.")}throw null===o||void 0===o||o.end({success:!1},s),s}},Ka=(e,t,n,r,i)=>function(){n.trace("Executing function ".concat(t));const o=null===r||void 0===r?void 0:r.startMeasurement(t,i);if(i){const e=t+"CallCount";null===r||void 0===r||r.incrementFields({[e]:1},i)}return null===r||void 0===r||r.setPreQueueTime(t,i),e(...arguments).then((e=>(n.trace("Returning result from ".concat(t)),null===o||void 0===o||o.end({success:!0}),e))).catch((e=>{n.trace("Error occurred in ".concat(t));try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw null===o||void 0===o||o.end({success:!1},e),e}))};class Ga{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(li,this.correlationId);let r=e;if(r)t.region_source=ie;else{const e=Ga.IMDS_OPTIONS;try{const n=await Ka(this.getRegionFromIMDS.bind(this),ui,this.logger,this.performanceClient,this.correlationId)(o.IMDS_VERSION,e);if(n.status===te&&(r=n.body,t.region_source=oe),n.status===ne){const n=await Ka(this.getCurrentVersion.bind(this),hi,this.logger,this.performanceClient,this.correlationId)(e);if(!n)return t.region_source=re,null;const i=await Ka(this.getRegionFromIMDS.bind(this),ui,this.logger,this.performanceClient,this.correlationId)(n,e);i.status===te&&(r=i.body,t.region_source=oe)}}catch(i){return t.region_source=re,null}}return r||(t.region_source=re),r||null}async getRegionFromIMDS(e,t){var n;return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(ui,this.correlationId),this.networkInterface.sendGetRequestAsync("".concat(o.IMDS_ENDPOINT,"?api-version=").concat(e,"&format=text"),t,o.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(hi,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync("".concat(o.IMDS_ENDPOINT,"?format=json"),e);return t.status===ne&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(n){return null}}}Ga.IMDS_OPTIONS={headers:{Metadata:"true"}};class Xa{constructor(e,t,n,r,i,o,s,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=s,this.correlationId=o,this.managedIdentity=a||!1,this.regionDiscovery=new Ga(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(o.CIAM_AUTH_URL))return En;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case o.ADFS:return xn;case o.DSTS:return Tn}return Sn}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Mn(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw yt(Re)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw yt(Re)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw yt(Re)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw yt(lt);return this.replacePath(this.metadata.end_session_endpoint)}throw yt(Re)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw yt(Re)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw yt(Re)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Xa.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Sn&&this.protocolMode!==ye}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new Mn(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,i)=>{let o=r[i];if(0===i&&this.canReplaceTenant(n)){const e=new Mn(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];o!==e&&(this.logger.verbose("Replacing tenant domain name ".concat(o," with id ").concat(e)),o=e)}e!==o&&(t=t.replace("/".concat(o,"/"),"/".concat(e,"/")))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===xn||this.protocolMode===ye&&!this.isAliasOfKnownMicrosoftAuthority(e)?"".concat(this.canonicalAuthority,".well-known/openid-configuration"):"".concat(this.canonicalAuthority,"v2.0/.well-known/openid-configuration")}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var e,t;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(ri,this.correlationId);const n=this.getCurrentMetadataEntity(),r=await Ka(this.updateCloudDiscoveryMetadata.bind(this),oi,this.logger,this.performanceClient,this.correlationId)(n);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,n.preferred_network);const i=await Ka(this.updateEndpointMetadata.bind(this),ai,this.logger,this.performanceClient,this.correlationId)(n);this.updateCachedMetadata(n,r,{source:i}),null===(t=this.performanceClient)||void 0===t||t.addFields({cloudDiscoverySource:r,authorityEndpointSource:i},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:jt(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==H&&(null===n||void 0===n?void 0:n.source)!==H&&(e.expiresAt=jt(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(ai,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){var r;if(n.source===K)if(null!==(r=this.authorityOptions.azureRegionConfiguration)&&void 0!==r&&r.azureRegion&&n.metadata){Ut(e,await Ka(this.updateMetadataWithRegionalInformation.bind(this),ci,this.logger,this.performanceClient,this.correlationId)(n.metadata),!1),e.canonical_authority=this.canonicalAuthority}return n.source}let i=await Ka(this.getEndpointMetadataFromNetwork.bind(this),si,this.logger,this.performanceClient,this.correlationId)();var o;if(i)return null!==(o=this.authorityOptions.azureRegionConfiguration)&&void 0!==o&&o.azureRegion&&(i=await Ka(this.updateMetadataWithRegionalInformation.bind(this),ci,this.logger,this.performanceClient,this.correlationId)(i)),Ut(e,i,!0),W;throw yt(Ne,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Ut(e,t,!1),{source:V};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Ut(e,t,!1),{source:K,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=qt(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:H}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Mn(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw fn(tn)}return null}async getEndpointMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(si,this.correlationId);const t={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose("Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ".concat(n));try{const e=await this.networkInterface.sendGetRequestAsync(n,t),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(e.body);return r?e.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: ".concat(r)),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Fn?Fn[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(ci,this.correlationId);const r=null===(n=this.authorityOptions.azureRegionConfiguration)||void 0===n?void 0:n.azureRegion;if(r){var i;if(r!==o.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=se,this.regionDiscoveryMetadata.region_used=r,Xa.replaceWithRegionalInformation(e,r);const t=await Ka(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),li,this.logger,this.performanceClient,this.correlationId)(null===(i=this.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.environmentRegion,this.regionDiscoveryMetadata);if(t)return this.regionDiscoveryMetadata.region_outcome=ae,this.regionDiscoveryMetadata.region_used=t,Xa.replaceWithRegionalInformation(e,t);this.regionDiscoveryMetadata.region_outcome=ce}return e}async updateCloudDiscoveryMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(oi,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await Ka(this.getCloudDiscoveryMetadataFromNetwork.bind(this),ii,this.logger,this.performanceClient,this.correlationId)();if(r)return Bt(e,r,!0),W;throw fn(nn)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii("Known Authorities: ".concat(this.authorityOptions.knownAuthorities||o.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: ".concat(this.authorityOptions.authorityMetadata||o.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: ".concat(e.canonical_authority||o.NOT_APPLICABLE));const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Bt(e,t,!1),V;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,jn(On.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Bt(e,t,!1),K;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=qt(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),H):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===En)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Xa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=jn(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),fn(en)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Xa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(ii,this.correlationId);const t="".concat(o.AAD_INSTANCE_DISCOVERY_ENDPT).concat(this.canonicalAuthority,"oauth2/v2.0/authorize"),n={};let r=null;try{const e=await this.networkInterface.sendGetRequestAsync(t,n);let i,s;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(e.body))i=e.body,s=i.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: ".concat(i.tenant_discovery_endpoint));else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(e.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ".concat(e.status)),i=e.body,i.error===o.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is ".concat(i.error)),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is ".concat(i.error_description)),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=jn(s,this.hostnameAndPort)}catch(i){if(i instanceof Se)this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: ".concat(i.errorCode,"\nError Description: ").concat(i.errorMessage));else{const e=i;this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ".concat(e.name,"\nError Description: ").concat(e.message))}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Xa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&Mn.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==we){const e=t.tenant?t.tenant:o.DEFAULT_COMMON_TENANT;n="".concat(t.azureCloudInstance,"/").concat(e,"/")}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return o.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw yt(Re)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Dn.has(e)}static isPublicCloudAuthority(e){return o.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new Mn(e);r.validateAsUri();const s=r.getUrlComponents();let a="".concat(t,".").concat(s.HostNameAndPort);this.isPublicCloudAuthority(s.HostNameAndPort)&&(a="".concat(t,".").concat(o.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX));const c=Mn.constructAuthorityUriFromObject((0,i.A)((0,i.A)({},r.getUrlComponents()),{},{HostNameAndPort:a})).urlString;return n?"".concat(c,"?").concat(n):c}static replaceWithRegionalInformation(e,t){const n=(0,i.A)({},e);return n.authorization_endpoint=Xa.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Xa.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Xa.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new Mn(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(o.CIAM_AUTH_URL)){const e=n.HostNameAndPort.split(".")[0];t="".concat(t).concat(e).concat(o.AAD_TENANT_DOMAIN_SUFFIX)}return t}}function Ya(e){return e.endsWith(o.FORWARD_SLASH)?e:"".concat(e).concat(o.FORWARD_SLASH)}Xa.reservedTenantDomains=new Set(["{tenant}","{tenantid}",b,A,w]);const Qa="no_tokens_found",Ja="native_account_unavailable",Za="refresh_token_expired",$a="bad_token",ec=["interaction_required","consent_required","login_required",$a],tc=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],nc={[Qa]:"No refresh token found in the cache. Please sign-in.",[Ja]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Za]:"Refresh token has expired.",[$a]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class rc extends Se{constructor(e,t,n,r,i,s,a,c){super(e,t,n),Object.setPrototypeOf(this,rc.prototype),this.timestamp=r||o.EMPTY_STRING,this.traceId=i||o.EMPTY_STRING,this.correlationId=s||o.EMPTY_STRING,this.claims=a||o.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function ic(e,t,n){const r=!!e&&ec.indexOf(e)>-1,i=!!n&&tc.indexOf(n)>-1,o=!!t&&ec.some((e=>t.indexOf(e)>-1));return r||o||i}function oc(e){return new rc(e,nc[e])}function sc(e,t,n){var r;return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||(null===(r=t.tokenBodyParameters)||void 0===r?void 0:r.clientId)}}const ac=864e5,cc="Lax",lc="None";class uc{initialize(){return Promise.resolve()}getItem(e){const t="".concat(encodeURIComponent(e)),n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[i,...o]=decodeURIComponent(e).trim().split("="),s=o.join("=");if(i===t)return s}return""}getUserData(){throw yt(pt)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cc,o="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";path=/;SameSite=").concat(i,";");if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*ac);return n.toUTCString()}(n);o+="expires=".concat(e,";")}(r||i===lc)&&(o+="Secure;"),document.cookie=o}async setUserData(){return Promise.reject(yt(pt))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function hc(e){const t=e.getItem(uo);return t?JSON.parse(t):[]}function dc(e,t){const n=t.getItem("".concat(ho,".").concat(e));if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const fc="msal.cache.encryption";class pc{constructor(e,t,n){if(!window.localStorage)throw wa(ga);this.memoryStorage=new qa,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){const t=new uc,n=t.getItem(fc);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(i){}if(r.key&&r.id){const t=Wa(Ws,_i,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await Ka(ua,Ei,this.logger,this.performanceClient,e)(t)},await Ka(this.importExistingCache.bind(this),bi,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=oa(),r=await Ka(la,Ii,this.logger,this.performanceClient,e)(),i=Wa(qs,Ri,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await Ka(ua,Ei,this.logger,this.performanceClient,e)(r)};const o={id:n,key:i};t.setItem(fc,JSON.stringify(o),0,!0,lc)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Ds(Ts);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw Ds(Ts);const{data:r,nonce:i}=await Ka(da,Pi,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),o={id:this.encryptionCookie.id,nonce:i,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(o)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();hc(this).forEach((e=>this.removeItem(e)));const e=dc(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(o.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=hc(this);t=await this.importArray(t,e),this.setItem(uo,JSON.stringify(t));const n=dc(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem("".concat(ho,".").concat(this.clientId),JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(i){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Ka(fa,Ni,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const i=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(i)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(Ai);t.add({isBackground:!0});const{key:n,value:r,context:i}=e.data;return n?i&&i!==this.clientId?(this.logger.trace("Ignoring broadcast event from clientId: ".concat(i)),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class gc{constructor(){if(!window.sessionStorage)throw wa(ga)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}const mc="msal:initializeStart",vc="msal:initializeEnd",yc="msal:accountAdded",bc="msal:accountRemoved",wc="msal:activeAccountChanged",Ac="msal:loginStart",Cc="msal:loginSuccess",kc="msal:loginFailure",Sc="msal:acquireTokenStart",xc="msal:acquireTokenSuccess",Tc="msal:acquireTokenFailure",Ec="msal:acquireTokenFromNetworkStart",Ic="msal:ssoSilentStart",_c="msal:ssoSilentSuccess",Rc="msal:ssoSilentFailure",Pc="msal:acquireTokenByCodeStart",Nc="msal:acquireTokenByCodeSuccess",Mc="msal:acquireTokenByCodeFailure",Fc="msal:handleRedirectStart",Oc="msal:handleRedirectEnd",Dc="msal:popupOpened",Lc="msal:logoutStart",jc="msal:logoutSuccess",Uc="msal:logoutFailure",Bc="msal:logoutEnd",qc="msal:restoreFromBFCache";class zc extends Vn{constructor(e,t,n,r,i,o,s){super(e,n,r,s),this.cacheConfig=t,this.logger=r,this.internalStorage=new qa,this.browserStorage=Vc(e,t.cacheLocation,r,i),this.temporaryCacheStorage=Vc(e,t.temporaryCacheLocation,r,i),this.cookieStorage=new uc,this.performanceClient=i,this.eventHandler=o}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&_n.isAccountEntity(n)?Vn.toObject(new _n,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await Ka(this.browserStorage.setUserData.bind(this.browserStorage),wi,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===Ji&&r&&this.eventHandler.emitEvent(yc,void 0,e.getAccountInfo())}getAccountKeys(){return hc(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: ".concat(e));const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(uo,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: ".concat(e));const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(uo,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===Ji&&this.eventHandler.emitEvent(bc,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,j.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,j.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,j.REFRESH_TOKEN)}getTokenKeys(){return dc(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case j.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case j.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case j.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ".concat(t)),yt(tt)}this.browserStorage.setItem("".concat(ho,".").concat(this.clientId),JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case j.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ".concat(e," from map"));const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case j.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ".concat(e," from map"));const i=n.accessToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case j.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ".concat(e," from map"));const o=n.refreshToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ".concat(t)),yt(tt)}this.browserStorage.setItem("".concat(ho,".").concat(this.clientId),JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nt(r)&&r.hasOwnProperty("realm")&&r.credentialType===j.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=It(e);await Ka(this.browserStorage.setUserData.bind(this.browserStorage),wi,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,j.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nt(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===j.ACCESS_TOKEN||r.credentialType===j.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=It(e);await Ka(this.browserStorage.setUserData.bind(this.browserStorage),wi,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,j.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nt(r)&&r.credentialType===j.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=It(e);await Ka(this.browserStorage.setUserData.bind(this.browserStorage),wi,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,j.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(i=n)&&0===r.indexOf(U)&&i.hasOwnProperty("clientId")&&i.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,i}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[U,t,n].join(D).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(G.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(q)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(fo,e),this.internalStorage.setItem(po,t)}getWrapperMetadata(){return[this.internalStorage.getItem(fo)||o.EMPTY_STRING,this.internalStorage.getItem(po)||o.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(y),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(y);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(wc)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(J));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===Ji){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(o.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(o.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(vi,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);null!==t&&void 0!==t&&t.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning("".concat(r.length," access tokens with claims in the cache keys have been removed from the cache."))}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):pn.startsWith(e,o.CACHE_PREFIX)?e:"".concat(o.CACHE_PREFIX,".").concat(this.clientId,".").concat(e)}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(so)),this.removeTemporaryItem(this.generateCacheKey(ao)),this.removeTemporaryItem(this.generateCacheKey(io)),this.removeTemporaryItem(this.generateCacheKey(oo)),this.removeTemporaryItem(this.generateCacheKey(lo)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=zs(JSON.stringify(e));if(this.setTemporaryCache(so,n,!0),t){const e=zs(t);this.setTemporaryCache(ao,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(so,!0);if(!e)throw Ds(ss);const t=this.getTemporaryCache(ao,!0);let n,r="";try{n=JSON.parse(Hs(e)),t&&(r=Hs(t))}catch(i){throw this.logger.errorPii("Attempted to parse: ".concat(e)),this.logger.error("Parsing cached token request threw with error: ".concat(i)),Ds(as)}return[n,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(lo,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var t;const n=null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e="".concat(o.CACHE_PREFIX,".").concat(co),t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch(n){return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),Aa(window),null}}setInteractionInProgress(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:no;const r="".concat(o.CACHE_PREFIX,".").concat(co);if(e){if(this.getInteractionInProgress())throw Ds(Go);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else e||(null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId)!==this.clientId||this.removeTemporaryItem(r)}async hydrateCache(e,t){var n,r,i;const o=_t(null===(n=e.account)||void 0===n?void 0:n.homeAccountId,null===(r=e.account)||void 0===r?void 0:r.environment,e.idToken,this.clientId,e.tenantId);let s;t.claims&&(s=await this.cryptoImpl.hashString(t.claims));const a={idToken:o,accessToken:Rt(null===(i=e.account)||void 0===i?void 0:i.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?xt(e.expiresOn):0,e.extExpiresOn?xt(e.extExpiresOn):0,Hs,void 0,e.tokenType,void 0,t.sshKid,t.claims,s)};return this.saveCacheRecord(a,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof zn&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(r){}throw r}}}function Vc(e,t,n,r){try{switch(t){case Ji:return new pc(e,n,r);case Zi:return new gc}}catch(i){n.error(i)}return new qa}class Hc{constructor(e){this.eventCallbacks=new Map,this.logger=e||new me({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||oa();return this.eventCallbacks.has(r)?(this.logger.error("Event callback with id: ".concat(r," is already registered. Please provide a unique id or remove the existing callback and try again.")),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose("Event callback registered with id: ".concat(r)),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback ".concat(e," removed."))}emitEvent(e,t,n,r){var i;const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case yc:case bc:case wc:null===(i=this.broadcastChannel)||void 0===i||i.postMessage(o);break;default:this.invokeCallbacks(o)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,i]=t;(0===i.length||i.includes(e.eventType))&&(this.logger.verbose("Emitting event to callback ".concat(n,": ").concat(e.eventType)),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}const Wc="home_account_id",Kc="UPN",Gc="client_id",Xc="redirect_uri",Yc="token_type",Qc="req_cnf",Jc="return_spa_code",Zc="x-client-xtra-sku",$c="brk_client_id",el="brk_redirect_uri",tl="instance_aware";function nl(e,t,n){if(!t)return;const r=e.get(Gc);r&&e.has($c)&&(null===n||void 0===n||n.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(Xc)},t))}function rl(e,t){e.set("response_type",t)}function il(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;!n||r.includes("openid")||t.includes("openid")||r.push("openid");const i=n?[...t||[],...r]:t||[],o=new gn(i);e.set("scope",o.printScopes())}function ol(e,t){e.set(Gc,t)}function sl(e,t){e.set(Xc,t)}function al(e,t){e.set("login_hint",t)}function cl(e,t){e.set(g,"UPN:".concat(t))}function ll(e,t){e.set(g,"Oid:".concat(t.uid,"@").concat(t.utid))}function ul(e,t){e.set("sid",t)}function hl(e,t,n){const r=function(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw fn(Yt)}else n={};t&&t.length>0&&(n.hasOwnProperty(C)||(n[C]={}),n[C][k]={values:t});return JSON.stringify(n)}(t,n);try{JSON.parse(r)}catch(i){throw fn(Yt)}e.set("claims",r)}function dl(e,t){e.set("client-request-id",t)}function fl(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function pl(e,t){null!==t&&void 0!==t&&t.appName&&e.set("x-app-name",t.appName),null!==t&&void 0!==t&&t.appVersion&&e.set("x-app-ver",t.appVersion)}function gl(e,t){t&&e.set("state",t)}function ml(e,t){e.set("client_secret",t)}function vl(e,t){t&&e.set("client_assertion",t)}function yl(e,t){t&&e.set("client_assertion_type",t)}function bl(e,t){e.set("grant_type",t)}function wl(e){e.set("client_info","1")}function Al(e){e.has(tl)||e.set(tl,"true")}function Cl(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;!e.has(n)&&r&&e.set(n,r)}))}function kl(e,t){t&&(e.set(Yc,X.POP),e.set(Qc,t))}function Sl(e,t){t&&(e.set(Yc,X.SSH),e.set(Qc,t))}function xl(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function Tl(e){e.set("x-ms-lib-capability",Z)}function El(e,t,n){e.has($c)||e.set($c,t),e.has(el)||e.set(el,n)}async function Il(e,t,n,r,i,o,s){null===s||void 0===s||s.addQueueMeasurement(ni,o);const a=Xa.transformCIAMAuthority(Ya(e)),c=new Xa(a,t,n,r,i,o,s);try{return await Ka(c.resolveEndpointsAsync.bind(c),ri,i,s,o)(),c}catch(l){throw yt(Re)}}class _l extends Se{constructor(e,t,n,r,i){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=i,Object.setPrototypeOf(this,_l.prototype)}}class Rl{static generateThrottlingStorageKey(e){return"".concat(J,".").concat(JSON.stringify(e))}static preProcess(e,t){const n=Rl.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){var i;if(r.throttleTime<Date.now())return void e.removeItem(n);throw new _l((null===(i=r.errorCodes)||void 0===i?void 0:i.join(" "))||o.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(Rl.checkResponseStatus(n)||Rl.checkResponseForRetryAfter(n)){const r={throttleTime:Rl.calculateThrottleTime(parseInt(n.headers[p])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Rl.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(p)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||Y),n+Q))}static removeThrottle(e,t,n,r){const i=sc(t,n,r),o=this.generateThrottlingStorageKey(i);e.removeItem(o)}}class Pl{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:s,networkInterface:a,cryptoInterface:c,clientCredentials:l,libraryInfo:u,telemetry:h,serverTelemetryManager:d,persistencePlugin:f,serializableCache:p}=e;const g=(0,i.A)((0,i.A)({},Kn),r);return{authOptions:(m=t,(0,i.A)({clientCapabilities:[],azureCloudOptions:Jn,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1},m)),systemOptions:(0,i.A)((0,i.A)({},Wn),n),loggerOptions:g,cacheOptions:(0,i.A)((0,i.A)({},Gn),o),storageInterface:s||new Hn(t.clientId,bt,new me(g)),networkInterface:a||Xn,cryptoInterface:c||bt,clientCredentials:l||Qn,libraryInfo:(0,i.A)((0,i.A)({},Yn),u),telemetry:(0,i.A)((0,i.A)({},Zn),h),serverTelemetryManager:d||null,persistencePlugin:f||null,serializableCache:p||null};var m}(e),this.logger=new me(this.config.loggerOptions,wt,At),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[d]=o.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Wc:try{const n=vn(e.credential);t[g]="Oid:".concat(n.uid,"@").concat(n.utid)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Kc:t[g]="UPN: ".concat(e.credential)}return t}async executePostToTokenEndpoint(e,t,n,r,i,o){var s;o&&(null===(s=this.performanceClient)||void 0===s||s.addQueueMeasurement(o,i));const a=await this.sendPostRequest(r,e,{body:t,headers:n},i);return this.config.serverTelemetryManager&&a.status<500&&429!==a.status&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,n,r){let i;Rl.preProcess(this.cacheManager,e);try{var o,s;i=await Ka(this.networkClient.sendPostRequestAsync.bind(this.networkClient),vr,this.logger,this.performanceClient,r)(t,n);const e=i.headers||{};null===(o=this.performanceClient)||void 0===o||o.addFields({refreshTokenSize:(null===(s=i.body.refresh_token)||void 0===s?void 0:s.length)||0,httpVerToken:e[v]||"",requestId:e[m]||""},r)}catch(c){if(c instanceof Oo){const e=c.responseHeaders;var a;if(e)null===(a=this.performanceClient)||void 0===a||a.addFields({httpVerToken:e[v]||"",requestId:e[m]||"",contentTypeHeader:e[d]||void 0,contentLengthHeader:e[f]||void 0,httpStatus:c.httpStatus},r);throw c.error}throw c instanceof Se?c:yt(Pe)}return Rl.postProcess(this.cacheManager,e,i),i}async updateAuthority(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Xr,t);const r="https://".concat(e,"/").concat(this.authority.tenant,"/"),i=await Il(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&El(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Cl(t,e.tokenQueryParameters),dl(t,e.correlationId),nl(t,e.correlationId,this.performanceClient),Nn(t)}}class Nl{static setRequestState(e,t,n){const r=Nl.generateLibraryState(e,n);return t?"".concat(r).concat(o.RESOURCE_DELIM).concat(t):r}static generateLibraryState(e,t){if(!e)throw yt(et);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw yt(et);if(!t)throw yt(Fe);try{const n=t.split(o.RESOURCE_DELIM),r=n[0],i=n.length>1?n.slice(1).join(o.RESOURCE_DELIM):o.EMPTY_STRING,s=e.base64Decode(r),a=JSON.parse(s);return{userRequestState:i||o.EMPTY_STRING,libraryState:a}}catch(n){throw yt(Fe)}}}const Ml="sw";class Fl{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Zr,e.correlationId);const r=await Ka(this.generateKid.bind(this),Zr,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement($r,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Ml}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:l}=n,u=s?new Mn(s):void 0,h=null===u||void 0===u?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt((0,i.A)({at:e,ts:St(),m:null===o||void 0===o?void 0:o.toUpperCase(),u:null===h||void 0===h?void 0:h.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:null===h||void 0===h?void 0:h.AbsolutePath,q:null!==h&&void 0!==h&&h.QueryString?[[],h.QueryString]:void 0,client_claims:a||void 0},r),t,l,n.correlationId)}}class Ol{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class Dl{constructor(e,t,n,r,i,o,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=i,this.persistencePlugin=o,this.performanceClient=s}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){var n;const r="Error(s): ".concat(e.error_codes||o.NOT_AVAILABLE," - Timestamp: ").concat(e.timestamp||o.NOT_AVAILABLE," - Description: ").concat(e.error_description||o.NOT_AVAILABLE," - Correlation ID: ").concat(e.correlation_id||o.NOT_AVAILABLE," - Trace ID: ").concat(e.trace_id||o.NOT_AVAILABLE),i=null!==(n=e.error_codes)&&void 0!==n&&n.length?e.error_codes[0]:void 0,u=new _l(e.error,r,e.suberror,i,e.status);if(t&&e.status&&e.status>=c&&e.status<=l)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n".concat(u));if(t&&e.status&&e.status>=s&&e.status<=a)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n".concat(u));if(ic(e.error,e.error_description,e.suberror))throw new rc(e.error,e.error_description,e.suberror,e.timestamp||o.EMPTY_STRING,e.trace_id||o.EMPTY_STRING,e.correlation_id||o.EMPTY_STRING,e.claims||o.EMPTY_STRING,i);throw u}}async handleServerTokenResponse(e,t,n,r,i,s,a,c,l){var u;let h,d;if(null===(u=this.performanceClient)||void 0===u||u.addQueueMeasurement(ei,e.correlation_id),e.id_token){if(h=Ct(e.id_token||o.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&h.nonce!==i.nonce)throw yt(Le);if(r.maxAge||0===r.maxAge){const e=h.auth_time;if(!e)throw yt(je);kt(e,r.maxAge)}}this.homeAccountIdentifier=_n.generateHomeAccountId(e.client_info||o.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,h),i&&i.state&&(d=Nl.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;const f=this.generateCacheRecord(e,t,n,r,h,s,i);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new Ol(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),a&&!c&&f.account){const e=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Dl.generateAuthenticationResult(this.cryptoObj,t,f,!1,r,h,d,void 0,l)}await this.cacheStorage.saveCacheRecord(f,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return Dl.generateAuthenticationResult(this.cryptoObj,t,f,!1,r,h,d,e,l)}generateCacheRecord(e,t,n,r,i,o,s){const a=t.getPreferredCache();if(!a)throw yt(Ze);const c=In(i);let l,u;e.id_token&&i&&(l=_t(this.homeAccountIdentifier,a,e.id_token,this.clientId,c||""),u=Ll(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,a,c,s,void 0,this.logger));let h=null;if(e.access_token){const i=e.scope?gn.fromString(e.scope):new gn(r.scopes||[]),s=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,d=n+s,f=d+l,p=u&&u>0?n+u:void 0;h=Rt(this.homeAccountIdentifier,a,e.access_token,this.clientId,c||t.tenant||"",i.printScopes(),d,f,this.cryptoObj.base64Decode,p,e.token_type,o,e.key_id,r.claims,r.requestedClaimsHash)}let d=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}d=Pt(this.homeAccountIdentifier,a,e.refresh_token,this.clientId,e.foci,o,t)}let f=null;return e.foci&&(f={clientId:this.clientId,environment:a,familyId:e.foci}),{account:u,idToken:l,accessToken:h,refreshToken:d,appMetadata:f}}static async generateAuthenticationResult(e,t,n,r,i,s,a,c,l){var u,h,d,f,p;let g,m,v=o.EMPTY_STRING,y=[],b=null,w=o.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==X.POP||i.popKid)v=n.accessToken.secret;else{const t=new Fl(e),{secret:r,keyId:o}=n.accessToken;if(!o)throw yt(ut);v=await t.signPopToken(r,o,i)}y=gn.fromString(n.accessToken.target).asArray(),b=Tt(n.accessToken.expiresOn),g=Tt(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(m=Tt(n.accessToken.refreshOn))}n.appMetadata&&(w=n.appMetadata.familyId===B?B:"");const A=(null===s||void 0===s?void 0:s.oid)||(null===s||void 0===s?void 0:s.sub)||"",C=(null===s||void 0===s?void 0:s.tid)||"";null!==c&&void 0!==c&&c.spa_accountid&&n.account&&(n.account.nativeAccountId=null===c||void 0===c?void 0:c.spa_accountid);const k=n.account?kn(n.account.getAccountInfo(),void 0,s,null===(u=n.idToken)||void 0===u?void 0:u.secret):null;return{authority:t.canonicalAuthority,uniqueId:A,tenantId:C,scopes:y,account:k,idToken:(null===n||void 0===n||null===(h=n.idToken)||void 0===h?void 0:h.secret)||"",idTokenClaims:s||{},accessToken:v,fromCache:r,expiresOn:b,extExpiresOn:g,refreshOn:m,correlationId:i.correlationId,requestId:l||o.EMPTY_STRING,familyId:w,tokenType:(null===(d=n.accessToken)||void 0===d?void 0:d.tokenType)||o.EMPTY_STRING,state:a?a.userRequestState:o.EMPTY_STRING,cloudGraphHostName:(null===(f=n.account)||void 0===f?void 0:f.cloudGraphHostName)||o.EMPTY_STRING,msGraphHost:(null===(p=n.account)||void 0===p?void 0:p.msGraphHost)||o.EMPTY_STRING,code:null===c||void 0===c?void 0:c.spa_code,fromNativeBroker:!1}}}function Ll(e,t,n,r,i,o,s,a,c,l,u){null===u||void 0===u||u.verbose("setCachedAccount called");const h=e.getAccountKeys().find((e=>e.startsWith(n)));let d=null;h&&(d=e.getAccount(h));const f=d||_n.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:null===c||void 0===c?void 0:c.cloud_graph_host_name,msGraphHost:null===c||void 0===c?void 0:c.msgraph_host,nativeAccountId:l},t,r),p=f.tenantProfiles||[],g=a||f.realm;if(g&&!p.find((e=>e.tenantId===g))){const e=Cn(n,f.localAccountId,g,i);p.push(e)}return f.tenantProfiles=p,f}class jl{static validateRedirectUri(e){if(!e)throw fn(zt)}static validatePrompt(e){const t=[];for(const n in S)t.push(S[n]);if(t.indexOf(e)<0)throw fn(Xt)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw fn(Yt)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw fn($t);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([x.PLAIN,x.S256].indexOf(e)<0)throw fn(Zt)}}async function Ul(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class Bl extends Pl{constructor(e,t){var n;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=null===(n=this.config.authOptions.authority.options.OIDCOptions)||void 0===n?void 0:n.defaultScopes}async acquireToken(e,t){var n,r;if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Yr,e.correlationId),!e.code)throw yt(Ve);const i=St(),o=await Ka(this.executeTokenRequest.bind(this),Qr,this.logger,this.performanceClient,e.correlationId)(this.authority,e),s=null===(r=o.headers)||void 0===r?void 0:r[m],a=new Dl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(o.body),Ka(a.handleServerTokenResponse.bind(a),ei,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,i,e,t,void 0,void 0,void 0,s)}getLogoutUri(e){if(!e)throw fn(Jt);const t=this.createLogoutUrlQueryString(e);return Mn.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Qr,t.correlationId);const r=this.createTokenQueryParameters(t),i=Mn.appendQueryString(e.tokenEndpoint,r),o=await Ka(this.createTokenRequestBody.bind(this),Jr,this.logger,this.performanceClient,t.correlationId)(t);let s;if(t.clientInfo)try{const e=mn(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:"".concat(e.uid).concat(L).concat(e.utid),type:Wc}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}const a=this.createTokenRequestHeaders(s||t.ccsCredential),c=sc(this.config.authOptions.clientId,t);return Ka(this.executePostToTokenEndpoint.bind(this),br,this.logger,this.performanceClient,t.correlationId)(i,o,a,c,t.correlationId,br)}async createTokenRequestBody(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Jr,e.correlationId);const r=new Map;if(ol(r,e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Gc])||this.config.authOptions.clientId),this.includeRedirectUri?sl(r,e.redirectUri):jl.validateRedirectUri(e.redirectUri),il(r,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(r,e.code),fl(r,this.config.libraryInfo),pl(r,this.config.telemetry.application),Tl(r),this.serverTelemetryManager&&!$n(this.config)&&xl(r,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&ml(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;vl(r,await Ul(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),yl(r,t.assertionType)}if(bl(r,P),wl(r),e.authenticationScheme===X.POP){const t=new Fl(this.cryptoUtils,this.performanceClient);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await Ka(t.generateCnf.bind(t),Zr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}kl(r,n)}else if(e.authenticationScheme===X.SSH){if(!e.sshJwk)throw fn(rn);Sl(r,e.sshJwk)}let i;if((!pn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&hl(r,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=mn(e.clientInfo,this.cryptoUtils.base64Decode);i={credential:"".concat(t.uid).concat(L).concat(t.utid),type:Wc}}catch(o){this.logger.verbose("Could not parse client info for CCS Header: "+o)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case Wc:try{ll(r,vn(i.credential))}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case Kc:cl(r,i.credential)}return e.embeddedClientId&&El(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Cl(r,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[Jc]||Cl(r,{[Jc]:"1"}),nl(r,e.correlationId,this.performanceClient),Nn(r)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&dl(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&gl(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&Cl(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&Al(t),Nn(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function ql(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=e,s=new Map([[0,[n,r]],[2,[i,o]]]);let a=[];if(null!==t&&void 0!==t&&t.length){if(a=t.split(","),a.length<4)return t}else a=Array.from({length:4},(()=>"|"));return s.forEach(((e,t)=>{var n,r;2===e.length&&null!==(n=e[0])&&void 0!==n&&n.length&&null!==(r=e[1])&&void 0!==r&&r.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:i}=e;if(n>=t.length)return;t[n]=[r,i].join("|")}({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})})),a.join(",")}class zl{constructor(e,t){this.cacheOutcome=le,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||o.EMPTY_STRING,this.wrapperVer=e.wrapperVer||o.EMPTY_STRING,this.telemetryCacheKey=G.CACHE_KEY+D+e.clientId}generateCurrentRequestHeaderValue(){const e="".concat(this.apiId).concat(G.VALUE_SEPARATOR).concat(this.cacheOutcome),t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();null!==n&&void 0!==n&&n.length&&t.push("broker_error=".concat(n));const r=t.join(G.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(G.VALUE_SEPARATOR);return[G.SCHEMA_VERSION,i,r].join(G.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=zl.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(G.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(G.VALUE_SEPARATOR),i=e.errors.length,o=[i,t<i?G.OVERFLOW_TRUE:G.OVERFLOW_FALSE].join(G.VALUE_SEPARATOR);return[G.SCHEMA_VERSION,e.cacheHits,n,r,o].join(G.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=G.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Se?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(G.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=zl.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const i=e.errors.length;for(t=0;t<i;t++){const i=e.failedRequests[2*t]||o.EMPTY_STRING,s=e.failedRequests[2*t+1]||o.EMPTY_STRING,a=e.errors[t]||o.EMPTY_STRING;if(r+=i.toString().length+s.toString().length+a.length+3,!(r<G.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||o.EMPTY_STRING),e.push(this.regionSource||o.EMPTY_STRING),e.push(this.regionOutcome||o.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return ql(e)}}class Vl{constructor(e,t,n,r,i,o,s,a,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=o,this.nativeMessageHandler=a,this.correlationId=c||oa(),this.logger=r.clone(Vi,Pa,this.correlationId),this.performanceClient=s}async clearCacheOnLogout(e){if(e){_n.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(_n.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Mn.getAbsoluteUrl(t,ka())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new zl(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(gr,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,o=null!==n&&void 0!==n&&n.length?"true"===n:this.config.auth.instanceAware,s=t&&o?this.config.auth.authority.replace(Mn.getDomainFromUrl(i),t.environment):i,a=Xa.generateAuthority(s,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await Ka(Il,ni,this.logger,this.performanceClient,this.correlationId)(a,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw fn(un);return c}}async function Hl(e,t,n,r){n.addQueueMeasurement(_r,e.correlationId);const o=e.authority||t.auth.authority,s=[...e&&e.scopes||[]],a=(0,i.A)((0,i.A)({},e),{},{correlationId:e.correlationId,authority:o,scopes:s});if(a.authenticationScheme){if(a.authenticationScheme===X.SSH){if(!e.sshJwk)throw fn(rn);if(!e.sshKid)throw fn(on)}r.verbose('Authentication Scheme set to "'.concat(a.authenticationScheme,'" as configured in Auth request'))}else a.authenticationScheme=X.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!pn.isEmptyObj(e.claims)&&(a.requestedClaimsHash=await pa(e.claims)),a}async function Wl(e,t,n,r,o){r.addQueueMeasurement(Rr,e.correlationId);const s=await Ka(Hl,_r,o,r,e.correlationId)(e,n,r,o);return(0,i.A)((0,i.A)((0,i.A)({},e),s),{},{account:t,forceRefresh:e.forceRefresh||!1})}class Kl extends Vl{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",null===e||void 0===e?void 0:e.correlationId);const t=(0,i.A)({correlationId:this.correlationId||oa()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Mn.getAbsoluteUrl(e.postLogoutRedirectUri,ka())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Mn.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ka())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Mn.getAbsoluteUrl(ka(),ka())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(jr,this.correlationId);const t=await Ka(this.getClientConfiguration.bind(this),Ur,this.logger,this.performanceClient,this.correlationId)(e);return new Bl(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:s}=e;this.performanceClient.addQueueMeasurement(Ur,this.correlationId);const a=await Ka(this.getDiscoveredAuthority.bind(this),gr,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Vi,version:Pa,cpu:o.EMPTY_STRING,os:o.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Br,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},s=Nl.setRequestState(this.browserCrypto,e&&e.state||o.EMPTY_STRING,r),a=await Ka(Hl,_r,this.logger,this.performanceClient,this.correlationId)((0,i.A)((0,i.A)({},e),{},{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),c=(0,i.A)((0,i.A)({},a),{},{redirectUri:n,state:s,nonce:e.nonce||oa(),responseMode:this.config.auth.OIDCOptions.serverResponseType});if(e.loginHint||e.sid)return c;const l=e.account||this.browserStorage.getActiveAccount();return l&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: ".concat(l.homeAccountId),this.correlationId),c.account=l),c}}const Gl="user_switch",Xl={[Gl]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Yl extends Se{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Yl.prototype),this.name="NativeAuthError",this.ext=n}}function Ql(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function Jl(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return oc(Ja);case"USER_INTERACTION_REQUIRED":return new rc(e,t);case"USER_CANCEL":return Ds(Qo);case"NO_NETWORK":return Ds(ds)}return new Yl(e,Xl[e]||t,n)}class Zl{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(gi)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Hi,extensionId:this.extensionId,responseId:oa(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: ".concat(JSON.stringify(t))),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Zl(e,t,n,Wi);return await r.sendHandshakeRequest(),r}catch(r){const i=new Zl(e,t,n);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Hi,extensionId:this.extensionId,responseId:oa(),body:{method:Gi}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(Ds(ks)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Hi&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Gi){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace("NativeMessageHandler.onWindowMessage - resolver can't be found for request ".concat(t.responseId));this.logger.verbose(t.extensionId?"Extension with id: ".concat(t.extensionId," not installed"):"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(Ds(Ss))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===Qi){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: ".concat(JSON.stringify(e))),"Success"!==e.status)n.reject(Jl(e.code,e.description,e.ext));else{if(!e.result)throw xe(Ae,"Event does not contain result.");e.result.code&&e.result.description?n.reject(Jl(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===Xi){if(!r)return void this.logger.trace("NativeMessageHandler.onChannelMessage - resolver can't be found for request ".concat(t.responseId));clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: ".concat(this.extensionId)),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: ".concat(i)),this.logger.errorPii("Unable to parse ".concat(e)),n?n.reject(i):r&&r.reject(i)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case X.BEARER:case X.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}function $l(e,t,n){const r=Pn(e);if(!r)throw Rn(e)?(n.error("A ".concat(t," is present in the iframe but it does not contain known properties. It's likely that the ").concat(t," has been replaced by code running on the redirectUri page.")),n.errorPii("The ".concat(t," detected is: ").concat(e)),Ds(Ho)):(n.error("The request has returned to the redirectUri but a ".concat(t," is not present. It's likely that the ").concat(t," has been removed or the page has been redirected by code running on the redirectUri page.")),Ds(zo));return r}function eu(e,t,n){if(!e.state)throw Ds(Vo);const r=function(e,t){if(!t)return null;try{return Nl.parseRequestState(e,t).libraryState.meta}catch(n){throw yt(Fe)}}(t,e.state);if(!r)throw Ds(Wo);if(r.interactionType!==n)throw Ds(Ko)}function tu(e,t,n,r){var i,o;const s=t.correlationId,a=new Map;ol(a,t.embeddedClientId||(null===(i=t.extraQueryParameters)||void 0===i?void 0:i[Gc])||e.clientId);if(il(a,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,null===(o=e.authority.options.OIDCOptions)||void 0===o?void 0:o.defaultScopes),sl(a,t.redirectUri),dl(a,s),function(e,t){e.set("response_mode",t||R)}(a,t.responseMode),wl(a),t.prompt&&(!function(e,t){e.set("prompt",t)}(a,t.prompt),null===r||void 0===r||r.addFields({prompt:t.prompt},s)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(a,t.domainHint),null===r||void 0===r||r.addFields({domainHintFromRequest:!0},s)),t.prompt!==S.SELECT_ACCOUNT)if(t.sid&&t.prompt===S.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),ul(a,t.sid),null===r||void 0===r||r.addFields({sidFromRequest:!0},s);else if(t.account){const e=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null}(t.account);let i=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null}(t.account);if(i&&t.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),i=null),i){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),al(a,i),null===r||void 0===r||r.addFields({loginHintFromClaim:!0},s);try{ll(a,vn(t.account.homeAccountId))}catch(c){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===S.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),ul(a,e),null===r||void 0===r||r.addFields({sidFromClaim:!0},s);try{ll(a,vn(t.account.homeAccountId))}catch(c){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),al(a,t.loginHint),cl(a,t.loginHint),null===r||void 0===r||r.addFields({loginHintFromRequest:!0},s);else if(t.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),al(a,t.account.username),null===r||void 0===r||r.addFields({loginHintFromUpn:!0},s);try{ll(a,vn(t.account.homeAccountId))}catch(c){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),al(a,t.loginHint),cl(a,t.loginHint),null===r||void 0===r||r.addFields({loginHintFromRequest:!0},s));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&function(e,t){e.set("nonce",t)}(a,t.nonce),t.state&&gl(a,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&hl(a,t.claims,e.clientCapabilities),t.embeddedClientId&&El(a,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(tl)||Al(a),a}function nu(e,t,n,r){const i=Nn(t,n,r);return Mn.appendQueryString(e.authorizationEndpoint,i)}function ru(e,t){if(!e.state||!t)throw e.state?yt(De,"Cached State"):yt(De,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(i){throw yt(Fe,e.state)}try{r=decodeURIComponent(t)}catch(i){throw yt(Fe,e.state)}if(n!==r)throw yt(Oe);if(e.error||e.error_description||e.suberror){const t=function(e){var t,n;const r="code=",i=null===(t=e.error_uri)||void 0===t?void 0:t.lastIndexOf(r);return i&&i>=0?null===(n=e.error_uri)||void 0===n?void 0:n.substring(i+r.length):void 0}(e);if(ic(e.error,e.error_description,e.suberror))throw new rc(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new _l(e.error||"",e.error_description,e.suberror,t)}}class iu{constructor(e,t,n,r,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=i}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(Hr,t.correlationId);try{n=function(e,t){if(ru(e,t),!e.code)throw yt(at);return e}(e,t.state)}catch(r){throw r instanceof _l&&r.subError===Qo?Ds(Qo):r}return Ka(this.handleCodeResponseFromServer.bind(this),Vr,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(Vr,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Ka(this.authModule.updateAuthority.bind(this.authModule),Xr,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Ka(this.authModule.acquireToken.bind(this.authModule),Yr,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Wc}:e.loginHint?{credential:e.loginHint,type:Kc}:null}}function ou(e){if(null==e)throw new TypeError("Cannot destructure "+e)}class su extends Pl{constructor(e,t){super(e,t)}async acquireCachedToken(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Tr,e.correlationId);let n=le;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!pn.isEmptyObj(e.claims))throw this.setCacheOutcome(ue,e.correlationId),yt(it);if(!e.account)throw yt(Qe);const r=e.account.tenantId||function(e){var t;const n=null===(t=new Mn(e).getUrlComponents().PathSegments.slice(-1)[0])||void 0===t?void 0:t.toLowerCase();switch(n){case b:case w:case A:return;default:return n}}(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,r,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(he,e.correlationId),yt(it);if(s=o.cachedAt,Number(s)>St()||Et(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(de,e.correlationId),yt(it);var s;o.refreshOn&&Et(o.refreshOn,0)&&(n=fe);const a=e.authority||this.authority.getPreferredCache(),c={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Ka(this.generateResultFromCacheRecord.bind(this),Er,this.logger,this.performanceClient,e.correlationId)(c,e),n]}setCacheOutcome(e,t){var n,r;null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(e),null===(r=this.performanceClient)||void 0===r||r.addFields({cacheOutcome:e},t),e!==le&&this.logger.info("Token refresh is required due to cache outcome: ".concat(e))}async generateResultFromCacheRecord(e,t){var n;let r;if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Er,t.correlationId),e.idToken&&(r=Ct(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){var i;const e=null===(i=r)||void 0===i?void 0:i.auth_time;if(!e)throw yt(je);kt(e,t.maxAge)}return Dl.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}class au extends Kl{async acquireToken(e){this.performanceClient.addQueueMeasurement(ur,e.correlationId);const t=this.initializeServerTelemetryManager(wo),n=await Ka(this.getClientConfiguration.bind(this),Ur,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new su(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Ka(r.acquireCachedToken.bind(r),Tr,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(i){throw i instanceof Os&&i.errorCode===vs&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(null===t||void 0===t?void 0:t.account)}}const cu=["prompt"],lu=["scopes"];class uu extends Vl{constructor(e,t,n,r,i,o,s,a,c,l,u,h){var d;super(e,t,n,r,i,o,a,c,h),this.apiId=s,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new au(e,this.nativeStorageManager,n,r,i,o,a,c,h);const f=this.nativeMessageHandler.getExtensionId()===Wi?"chrome":null!==(d=this.nativeMessageHandler.getExtensionId())&&void 0!==d&&d.length?"unknown":void 0;this.skus=zl.makeExtraSkuString({libraryName:Vi,libraryVersion:Pa,extensionName:f,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=(0,i.A)((0,i.A)({},e.extraParameters),{},{[Zc]:this.skus})}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(mr,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(mr,e.correlationId),r=St(),i=this.initializeServerTelemetryManager(this.apiId);try{const s=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,s);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(o){if(t===Io)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),o;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const a=Object.assign({},(ou(s),s)),c={method:Yi,request:a},l=await this.nativeMessageHandler.sendMessage(c),u=this.validateNativeResponse(l);return await this.handleNativeResponse(u,s,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),i.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(o){throw o instanceof Yl&&i.setNativeBrokerErrorCode(o.errorCode),o}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:gn.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),yt($e);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw yt($e);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o=(0,i.A)((0,i.A)({},n),{},{idTokenClaims:null===r||void 0===r?void 0:r.idTokenClaims,idToken:null===r||void 0===r?void 0:r.idToken});return(0,i.A)((0,i.A)({},r),{},{account:o})}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const n=Object.assign({},(ou(e),e));delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),i={method:Yi,request:r};try{const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e)}catch(a){if(a instanceof Yl){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),Ql(a))throw a}}this.browserStorage.setTemporaryCache(lo,JSON.stringify(r),!0);const o={apiId:go,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(s,o)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(null===e||void 0===e||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:r}=n,i=(0,yn.A)(n,cu);r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(lo));const o={method:Yi,request:i},s=St();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,i,s),n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(a){throw a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){var r,i;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const o=Ct(e.id_token,Hs),s=this.createHomeAccountIdentifier(e,o),a=null===(r=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))||void 0===r?void 0:r.homeAccountId;if(null!==(i=t.extraParameters)&&void 0!==i&&i.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(s!==a&&e.account.id!==t.accountId)throw Jl(Gl);const c=await this.getDiscoveredAuthority({requestAuthority:t.authority}),l=Ll(this.browserStorage,c,s,Hs,o,e.client_info,void 0,o.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,t,o,l,c.canonicalAuthority,n);return await this.cacheAccount(l),await this.cacheNativeTokens(e,t,s,o,e.access_token,u.tenantId,n),u}createHomeAccountIdentifier(e,t){return _n.generateHomeAccountId(e.client_info||o.EMPTY_STRING,Sn,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?gn.fromString(e.scope):gn.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===X.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new Fl(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw yt(ut);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,i,s){const a=this.addTelemetryFromNativeResponse(e),c=e.scope?gn.fromString(e.scope):gn.fromString(t.scope),l=e.account.properties||{},u=l.UID||n.oid||n.sub||o.EMPTY_STRING,h=l.TenantId||n.tid||o.EMPTY_STRING,d=kn(r.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,t),p=t.tokenType===X.POP?X.POP:X.BEARER;return{authority:i,uniqueId:u,tenantId:h,scopes:c.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:f,fromCache:!!a&&this.isResponseFromCache(a),expiresOn:Tt(s+e.expires_in),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error("Error occurred while removing account context from browser storage. ".concat(e))}))}cacheNativeTokens(e,t,n,r,i,s,a){const c=_t(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=a+(t.tokenType===X.POP?o.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e,t),h={idToken:c,accessToken:Rt(n,t.authority,i,t.clientId,r.tid||s,u.printScopes(),l,0,Hs,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(h,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw xe(Ae,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Mn(t);n.validateAsUri();const{scopes:r}=e,o=(0,yn.A)(e,lu),s=new gn(r||[]);s.appendScopes(u);const a=(0,i.A)((0,i.A)({},o),{},{accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case vo:case wo:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),S.NONE}if(e.prompt)switch(e.prompt){case S.NONE:case S.CONSENT:case S.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace("initializeNativeRequest: prompt = ".concat(e.prompt," is not compatible with native flow")),Ds(Es)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:(0,i.A)((0,i.A)({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(a.signPopToken&&e.popKid)throw Ds(_s);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Ki,e.authenticationScheme===X.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new Fl(this.browserCrypto);let r;if(a.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const i=await Ka(n.generateCnf.bind(n),Zr,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=i.reqCnfString,a.keyId=i.kid,a.signPopToken=!0}a.reqCnf=r}return this.addRequestSKUs(a),a}handleExtraBrokerParams(e){var t;const n=e.extraParameters&&e.extraParameters.hasOwnProperty($c)&&e.extraParameters.hasOwnProperty(el)&&e.extraParameters.hasOwnProperty(Gc);if(!e.embeddedClientId&&!n)return;let r="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[el],r=e.extraParameters[Gc]),e.extraParameters={child_client_id:r,child_redirect_uri:i},null===(t=this.performanceClient)||void 0===t||t.addFields({embeddedClientId:r,embeddedRedirectUri:i},e.correlationId)}}async function hu(e,t,n,r,o){const s=tu((0,i.A)((0,i.A)({},e.auth),{},{authority:t}),n,r,o);if(fl(s,{sku:Vi,version:Pa,os:"",cpu:""}),e.auth.protocolMode!==ye&&pl(s,e.telemetry.application),n.platformBroker&&(function(e){e.set("nativebroker","1")}(s),n.authenticationScheme===X.POP)){const e=new Va(r,o),t=new Fl(e);let i;if(n.popKid)i=e.encodeKid(n.popKid);else{i=(await Ka(t.generateCnf.bind(t),Zr,r,o,n.correlationId)(n,r)).reqCnfString}kl(s,i)}return nl(s,n.correlationId,o),s}async function du(e,t,n,r,i){if(!n.codeChallenge)throw fn($t);const s=await Ka(hu,zr,r,i,n.correlationId)(e,t,n,r,i);return rl(s,T),function(e,t,n){if(!t||!n)throw fn($t);e.set("code_challenge",t),e.set("code_challenge_method",n)}(s,n.codeChallenge,o.S256_CODE_CHALLENGE_METHOD),Cl(s,n.extraQueryParameters||{}),nu(t,s,e.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function fu(e,t,n,r,i,o){if(!r.earJwk)throw Ds(jo);const s=await hu(t,n,r,i,o);rl(s,E),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(s,r.earJwk);const a=new Map;Cl(a,r.extraQueryParameters||{});return function(e,t,n){const r=e.createElement("form");return r.method="post",r.action=t,n.forEach(((t,n)=>{const i=e.createElement("input");i.hidden=!0,i.name=n,i.value=t,r.appendChild(i)})),e.body.appendChild(r),r}(e,nu(n,a,t.auth.encodeExtraQueryParams,r.extraQueryParameters),s)}async function pu(e,t,n,r,o,s,a,c,l,u){if(!u)throw Ds(xs);const h=new Va(c,l),d=new uu(r,o,h,c,a,r.system.navigationClient,n,l,u,t,s,e.correlationId),{userRequestState:f}=Nl.parseRequestState(h,e.state);return Ka(d.acquireToken.bind(d),mr,c,l,e.correlationId)((0,i.A)((0,i.A)({},e),{},{state:f,prompt:void 0}))}async function gu(e,t,n,r,o,s,a,c,l,u,h,d){if(Rl.removeThrottle(a,o.auth.clientId,e),t.accountId)return Ka(pu,Kr,u,h,e.correlationId)(e,t.accountId,r,o,a,c,l,u,h,d);const f=(0,i.A)((0,i.A)({},e),{},{code:t.code||"",codeVerifier:n}),p=new iu(s,a,f,u,h);return await Ka(p.handleCodeResponse.bind(p),Hr,u,h,e.correlationId)(t,e)}async function mu(e,t,n,r,i,o,s,a,c,l,u){if(Rl.removeThrottle(o,r.auth.clientId,e),ru(t,e.state),!t.ear_jwe)throw Ds(Uo);if(!e.earJwk)throw Ds(jo);const h=JSON.parse(await Ka(ca,Fi,c,l,e.correlationId)(e.earJwk,t.ear_jwe));if(h.accountId)return Ka(pu,Kr,c,l,e.correlationId)(e,h.accountId,n,r,o,s,a,c,l,u);const d=new Dl(r.auth.clientId,o,new Va(c,l),c,null,null,l);d.validateTokenResponse(h);const f={code:"",state:e.state,nonce:e.nonce,client_info:h.client_info,cloud_graph_host_name:h.cloud_graph_host_name,cloud_instance_host_name:h.cloud_instance_host_name,cloud_instance_name:h.cloud_instance_name,msgraph_host:h.msgraph_host};return await Ka(d.handleServerTokenResponse.bind(d),ei,c,l,e.correlationId)(h,i,St(),e,f,void 0,void 0,void 0,void 0)}async function vu(e,t,n){e.addQueueMeasurement(Ci,n);const r=Wa(yu,ki,t,e,n)(e,t,n);return{verifier:r,challenge:await Ka(bu,Si,t,e,n)(r,e,t,n)}}function yu(e,t,n){try{const r=new Uint8Array(32);Wa(ra,Ti,t,e,n)(r);return qs(r)}catch(r){throw Ds(Lo)}}async function bu(e,t,n,r){t.addQueueMeasurement(Si,r);try{const i=await Ka(na,xi,n,t,r)(e,t,r);return qs(new Uint8Array(i))}catch(i){throw Ds(Lo)}}class wu extends Kl{constructor(e,t,n,r,i,o,s,a,c,l){super(e,t,n,r,i,o,s,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=a,this.eventHandler=i}acquireToken(e,t){try{var n;const r={popupName:this.generatePopupName(e.scopes||u,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:null!==(n=e.popupWindowParent)&&void 0!==n?n:window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(e,r,t))}catch(r){return Promise.reject(r)}}logout(e){try{var t;this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(null===e||void 0===e?void 0:e.popupWindowAttributes)||{},popupWindowParent:null!==(t=null===e||void 0===e?void 0:e.popupWindowParent)&&void 0!==t?t:window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,o))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=await Ka(this.initializeAuthorizationRequest.bind(this),Br,this.logger,this.performanceClient,this.correlationId)(e,ko.Popup);t.popup&&_a(r.authority);const i=Zl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);return r.platformBroker=i,this.config.auth.protocolMode===be?this.executeEarFlow(r,t):this.executeCodeFlow(r,t,n)}async executeCodeFlow(e,t,n){const r=e.correlationId,o=this.initializeServerTelemetryManager(mo),s=n||await Ka(vu,Ci,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),a=(0,i.A)((0,i.A)({},e),{},{codeChallenge:s.challenge});try{const n=await Ka(this.createAuthCodeClient.bind(this),jr,this.logger,this.performanceClient,r)({serverTelemetryManager:o,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),i=await Ka(du,qr,this.logger,this.performanceClient,r)(this.config,n.authority,a,this.logger,this.performanceClient),c=this.initiateAuthRequest(i,t);this.eventHandler.emitEvent(Dc,ko.Popup,{popupWindow:c},null);const l=await this.monitorPopupForHash(c,t.popupWindowParent),u=Wa($l,ti,this.logger,this.performanceClient,this.correlationId)(l,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await Ka(gu,Gr,this.logger,this.performanceClient,r)(e,u,s.verifier,mo,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(l){var c;throw null===(c=t.popup)||void 0===c||c.close(),l instanceof Se&&(l.setCorrelationId(this.correlationId),o.cacheFailedRequest(l)),l}}async executeEarFlow(e,t){const n=e.correlationId,r=await Ka(this.getDiscoveredAuthority.bind(this),gr,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await Ka(aa,Mi,this.logger,this.performanceClient,n)(),s=(0,i.A)((0,i.A)({},e),{},{earJwk:o}),a=t.popup||this.openPopup("about:blank",t);(await fu(a.document,this.config,r,s,this.logger,this.performanceClient)).submit();const c=await Ka(this.monitorPopupForHash.bind(this),Or,this.logger,this.performanceClient,n)(a,t.popupWindowParent),l=Wa($l,ti,this.logger,this.performanceClient,this.correlationId)(c,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Ka(mu,Wr,this.logger,this.performanceClient,n)(s,l,mo,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Lc,ko.Popup,e);const i=this.initializeServerTelemetryManager(Co);try{await this.clearCacheOnLogout(e.account);const c=await Ka(this.createAuthCodeClient.bind(this),jr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n,account:e.account||void 0});try{c.authority.endSessionEndpoint}catch(l){var o;if(null!==(o=e.account)&&void 0!==o&&o.homeAccountId&&e.postLogoutRedirectUri&&c.authority.protocolMode===ye){var s,a;if(this.browserStorage.removeAccount(null===(s=e.account)||void 0===s?void 0:s.homeAccountId),this.eventHandler.emitEvent(jc,ko.Popup,e),r){const e={apiId:Co,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Mn.getAbsoluteUrl(r,ka());await this.navigationClient.navigateInternal(t,e)}return void(null===(a=t.popup)||void 0===a||a.close())}}const u=c.getLogoutUri(e);this.eventHandler.emitEvent(jc,ko.Popup,e);const h=this.openPopup(u,t);if(this.eventHandler.emitEvent(Dc,ko.Popup,{popupWindow:h},null),await this.monitorPopupForHash(h,t.popupWindowParent).catch((()=>{})),r){const e={apiId:Co,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Mn.getAbsoluteUrl(r,ka());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: ".concat(t)),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(u){var c;throw null===(c=t.popup)||void 0===c||c.close(),u instanceof Se&&(u.setCorrelationId(this.correlationId),i.cacheFailedRequest(u)),this.eventHandler.emitEvent(Uc,ko.Popup,null,u),this.eventHandler.emitEvent(Bc,ko.Popup),u}this.eventHandler.emitEvent(Bc,ko.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii("Navigate to: ".concat(e)),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Ds(qo)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(Ds(Qo));let i="";try{i=e.location.href}catch(a){}if(!i||"about:blank"===i)return;clearInterval(r);let o="";const s=this.config.auth.OIDCOptions.serverResponseType;e&&(o=s===I?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(o)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii("Navigating popup window to: ".concat(e)),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii("Opening popup window to: ".concat(e)),n=this.openSizedPopup(e,t)),!n)throw Ds(Yo);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),Ds(Xo)}}openSizedPopup(e,t){var n,r,i,o;let{popupName:s,popupWindowAttributes:a,popupWindowParent:c}=t;const l=c.screenLeft?c.screenLeft:c.screenX,u=c.screenTop?c.screenTop:c.screenY,h=c.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=c.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let f=null===(n=a.popupSize)||void 0===n?void 0:n.width,p=null===(r=a.popupSize)||void 0===r?void 0:r.height,g=null===(i=a.popupPosition)||void 0===i?void 0:i.top,m=null===(o=a.popupPosition)||void 0===o?void 0:o.left;return(!f||f<0||f>h)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),f=Ui),(!p||p<0||p>d)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=Bi),(!g||g<0||g>d)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),g=Math.max(0,d/2-Bi/2+u)),(!m||m<0||m>h)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),m=Math.max(0,h/2-Ui/2+l)),c.open(e,s,"width=".concat(f,", height=").concat(p,", top=").concat(g,", left=").concat(m,", scrollbars=yes"))}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return"".concat(qi,".").concat(this.config.auth.clientId,".").concat(e.join("-"),".").concat(t,".").concat(this.correlationId)}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return"".concat(qi,".").concat(this.config.auth.clientId,".").concat(t,".").concat(this.correlationId)}}class Au extends Kl{constructor(e,t,n,r,i,o,s,a,c,l){super(e,t,n,r,i,o,s,c,l),this.nativeStorage=a}async acquireToken(e){const t=await Ka(this.initializeAuthorizationRequest.bind(this),Br,this.logger,this.performanceClient,this.correlationId)(e,ko.Redirect);t.platformBroker=Zl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);const n=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(qc,ko.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii("Redirect start page: ".concat(r)),this.browserStorage.setTemporaryCache(io,r,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===be?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(i){throw i instanceof Se&&i.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),i}}async executeCodeFlow(e,t){const n=e.correlationId,r=this.initializeServerTelemetryManager(go),o=await Ka(vu,Ci,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),s=(0,i.A)((0,i.A)({},e),{},{codeChallenge:o.challenge});this.browserStorage.cacheAuthorizeRequest(s,o.verifier);try{const n=await Ka(this.createAuthCodeClient.bind(this),jr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),i=await Ka(du,qr,this.logger,this.performanceClient,e.correlationId)(this.config,n.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(i,t)}catch(a){throw a instanceof Se&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),a}}async executeEarFlow(e){const t=e.correlationId,n=await Ka(this.getDiscoveredAuthority.bind(this),gr,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await Ka(aa,Mi,this.logger,this.performanceClient,t)(),o=(0,i.A)((0,i.A)({},e),{},{earJwk:r});this.browserStorage.cacheAuthorizeRequest(o);(await fu(document,this.config,n,o,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this.initializeServerTelemetryManager(yo);try{const[s,a]=this.getRedirectResponse(e||"");if(!s)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return null===t||void 0===t?void 0:t.type}()?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(io,!0)||o.EMPTY_STRING,l=Mn.removeHashFromUrl(c);if(l===Mn.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(c);return await this.handleResponse(s,t,n,i)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(s,t,n,i);if(!Ca()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(oo,a,!0);const e={apiId:yo,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let r=!0;if(c&&"null"!==c)this.logger.verbose("Navigating to loginRequestUrl: ".concat(c)),r=await this.navigationClient.navigateInternal(c,e);else{const t=function(){const e=new Mn(window.location.href).getUrlComponents();return"".concat(e.Protocol,"//").concat(e.HostNameAndPort,"/")}();this.browserStorage.setTemporaryCache(io,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),r=await this.navigationClient.navigateInternal(t,e)}if(!r)return await this.handleResponse(s,t,n,i)}return null}catch(s){throw s instanceof Se&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),s}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===I?window.location.search:window.location.hash);let n=Pn(t);if(n){try{eu(n,this.browserCrypto,ko.Redirect)}catch(i){return i instanceof Se&&this.logger.error("Interaction type validation failed due to ".concat(i.errorCode,": ").concat(i.errorMessage)),[null,""]}return Aa(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const r=this.browserStorage.getTemporaryCache(oo,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(oo)),r&&(n=Pn(r),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,r]):[null,""]}async handleResponse(e,t,n,r){if(!e.state)throw Ds(Vo);if(e.ear_jwe){const n=await Ka(this.getDiscoveredAuthority.bind(this),gr,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return Ka(mu,Wr,this.logger,this.performanceClient,t.correlationId)(t,e,go,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}const i=await Ka(this.createAuthCodeClient.bind(this),jr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return Ka(gu,Gr,this.logger,this.performanceClient,t.correlationId)(t,e,n,go,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: ".concat(e));const n={apiId:go,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if("function"===typeof r){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==r(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Ds(qo)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(Ao);try{this.eventHandler.emitEvent(Lc,ko.Redirect,e),await this.clearCacheOnLogout(t.account);const s={apiId:Ao,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await Ka(this.createAuthCodeClient.bind(this),jr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:null===e||void 0===e?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===ye)try{a.authority.endSessionEndpoint}catch(o){var r,i;if(null!==(r=t.account)&&void 0!==r&&r.homeAccountId)return this.browserStorage.removeAccount(null===(i=t.account)||void 0===i?void 0:i.homeAccountId),void this.eventHandler.emitEvent(jc,ko.Redirect,t)}const c=a.getLogoutUri(t);if(this.eventHandler.emitEvent(jc,ko.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ro),void await this.navigationClient.navigateExternal(c,s);if(!1!==e.onRedirectNavigate(c))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ro),void await this.navigationClient.navigateExternal(c,s);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(s){throw s instanceof Se&&(s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s)),this.eventHandler.emitEvent(Uc,ko.Redirect,null,s),this.eventHandler.emitEvent(Bc,ko.Redirect),s}this.eventHandler.emitEvent(Bc,ko.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Mn.getAbsoluteUrl(t,ka())}}async function Cu(e,t,n,r,i){if(t.addQueueMeasurement(Fr,r),!e)throw n.info("Navigate url is empty"),Ds(qo);return i?Ka(xu,Dr,n,t,r)(e,i,t,r):Wa(Tu,Lr,n,t,r)(e)}async function ku(e,t,n,r,i){const o=Eu();if(!o.contentDocument)throw"No document associated with iframe!";return(await fu(o.contentDocument,e,t,n,r,i)).submit(),o}async function Su(e,t,n,r,i,o,s){return r.addQueueMeasurement(Or,o),new Promise(((r,o)=>{t<Ra&&i.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower (".concat(t,"ms) than the default (").concat(Ra,"ms). This may result in timeouts."));const a=window.setTimeout((()=>{window.clearInterval(c),o(Ds(Zo))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(o){}if(!t||"about:blank"===t)return;let i="";n&&(i=s===I?n.location.search:n.location.hash),window.clearTimeout(a),window.clearInterval(c),r(i)}),n)})).finally((()=>{Wa(Iu,mi,i,r,o)(e)}))}function xu(e,t,n,r){return n.addQueueMeasurement(Dr,r),new Promise(((n,r)=>{const i=Eu();window.setTimeout((()=>{i?(i.src=e,n(i)):r("Unable to load iframe")}),t)}))}function Tu(e){const t=Eu();return t.src=e,t}function Eu(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Iu(e){document.body===e.parentNode&&document.body.removeChild(e)}class _u extends Kl{constructor(e,t,n,r,i,o,s,a,c,l,u){super(e,t,n,r,i,o,a,l,u),this.apiId=s,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(hr,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t=(0,i.A)({},e);t.prompt?t.prompt!==S.NONE&&t.prompt!==S.NO_SESSION&&(this.logger.warning("SilentIframeClient. Replacing invalid prompt ".concat(t.prompt," with ").concat(S.NONE)),t.prompt=S.NONE):t.prompt=S.NONE;const n=await Ka(this.initializeAuthorizationRequest.bind(this),Br,this.logger,this.performanceClient,e.correlationId)(t,ko.Silent);return n.platformBroker=Zl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme),_a(n.authority),this.config.auth.protocolMode===be?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let t;const n=this.initializeServerTelemetryManager(this.apiId);try{return t=await Ka(this.createAuthCodeClient.bind(this),jr,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await Ka(this.silentTokenHelper.bind(this),Mr,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(r){if(r instanceof Se&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),!t||!(r instanceof Se)||r.errorCode!==ji)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await Ka(this.silentTokenHelper.bind(this),Mr,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,n=await Ka(this.getDiscoveredAuthority.bind(this),gr,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await Ka(aa,Mi,this.logger,this.performanceClient,t)(),o=(0,i.A)((0,i.A)({},e),{},{earJwk:r}),s=await Ka(ku,Fr,this.logger,this.performanceClient,t)(this.config,n,o,this.logger,this.performanceClient),a=this.config.auth.OIDCOptions.serverResponseType,c=await Ka(Su,Or,this.logger,this.performanceClient,t)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,a),l=Wa($l,ti,this.logger,this.performanceClient,t)(c,a,this.logger);return Ka(mu,Wr,this.logger,this.performanceClient,t)(o,l,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}logout(){return Promise.reject(Ds(rs))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Mr,n);const r=await Ka(vu,Ci,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o=(0,i.A)((0,i.A)({},t),{},{codeChallenge:r.challenge}),s=await Ka(du,qr,this.logger,this.performanceClient,n)(this.config,e.authority,o,this.logger,this.performanceClient),a=await Ka(Cu,Fr,this.logger,this.performanceClient,n)(s,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,l=await Ka(Su,Or,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,c),u=Wa($l,ti,this.logger,this.performanceClient,n)(l,c,this.logger);return Ka(gu,Gr,this.logger,this.performanceClient,n)(t,u,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}}class Ru extends Pl{constructor(e,t){super(e,t)}async acquireToken(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Ar,e.correlationId);const r=St(),i=await Ka(this.executeTokenRequest.bind(this),wr,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=null===(n=i.headers)||void 0===n?void 0:n[m],s=new Dl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(i.body),Ka(s.handleServerTokenResponse.bind(s),ei,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){var t;if(!e)throw fn(Qt);if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(kr,e.correlationId),!e.account)throw yt(Qe);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Ka(this.acquireTokenWithCachedRefreshToken.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){const t=n instanceof rc&&n.errorCode===Qa,r=n instanceof _l&&n.errorCode===$&&n.subError===ee;if(t||r)return Ka(this.acquireTokenWithCachedRefreshToken.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return Ka(this.acquireTokenWithCachedRefreshToken.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Cr,e.correlationId);const r=Wa(this.cacheManager.getRefreshToken.bind(this.cacheManager),yi,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw oc(Qa);var o;if(r.expiresOn&&Et(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw null===(o=this.performanceClient)||void 0===o||o.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),oc(Za);const s=(0,i.A)((0,i.A)({},e),{},{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||X.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Wc}});try{return await Ka(this.acquireToken.bind(this),Ar,this.logger,this.performanceClient,e.correlationId)(s)}catch(c){var a;if(c instanceof rc)if(null===(a=this.performanceClient)||void 0===a||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===$a){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=It(r);this.cacheManager.removeRefreshToken(e)}throw c}}async executeTokenRequest(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(wr,e.correlationId);const r=this.createTokenQueryParameters(e),i=Mn.appendQueryString(t.tokenEndpoint,r),o=await Ka(this.createTokenRequestBody.bind(this),Sr,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a=sc(this.config.authOptions.clientId,e);return Ka(this.executePostToTokenEndpoint.bind(this),yr,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,yr)}async createTokenRequestBody(e){var t,n,r;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Sr,e.correlationId);const i=new Map;if(ol(i,e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Gc])||this.config.authOptions.clientId),e.redirectUri&&sl(i,e.redirectUri),il(i,e.scopes,!0,null===(r=this.config.authOptions.authority.options.OIDCOptions)||void 0===r?void 0:r.defaultScopes),bl(i,N),wl(i),fl(i,this.config.libraryInfo),pl(i,this.config.telemetry.application),Tl(i),this.serverTelemetryManager&&!$n(this.config)&&xl(i,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(i,e.refreshToken),this.config.clientCredentials.clientSecret&&ml(i,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;vl(i,await Ul(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),yl(i,t.assertionType)}if(e.authenticationScheme===X.POP){const t=new Fl(this.cryptoUtils,this.performanceClient);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await Ka(t.generateCnf.bind(t),Zr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}kl(i,n)}else if(e.authenticationScheme===X.SSH){if(!e.sshJwk)throw fn(rn);Sl(i,e.sshJwk)}if((!pn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&hl(i,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Wc:try{ll(i,vn(e.ccsCredential.credential))}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case Kc:cl(i,e.ccsCredential.credential)}return e.embeddedClientId&&El(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Cl(i,e.tokenBodyParameters),nl(i,e.correlationId,this.performanceClient),Nn(i)}}class Pu extends Kl{async acquireToken(e){this.performanceClient.addQueueMeasurement(fr,e.correlationId);const t=await Ka(Hl,_r,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n=(0,i.A)((0,i.A)({},e),t);e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(wo),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Ka(o.acquireTokenByRefreshToken.bind(o),kr,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(Ds(rs))}async createRefreshTokenClient(e){const t=await Ka(this.getClientConfiguration.bind(this),Ur,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Ru(t,this.performanceClient)}}class Nu{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw Ds(us);const r=e.correlationId||oa(),i=t.id_token?Ct(t.id_token,Hs):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new Xa(Xa.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||oa()):void 0,a=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,i,s),c=await this.loadIdToken(t,a.homeAccountId,a.environment,a.realm,r),l=await this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,n,r),u=await this.loadRefreshToken(t,a.homeAccountId,a.environment,r);return this.generateAuthenticationResult(e,{account:a,idToken:c,accessToken:l,refreshToken:u},i,s)}async loadAccount(e,t,n,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=_n.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!i||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Ds(ms);const o=_n.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,r),s=null===r||void 0===r?void 0:r.tid,a=Ll(this.storage,i,o,Hs,r,t,i.hostnameAndPort,s,void 0,void 0,this.logger);return await this.storage.setAccount(a,n),a}async loadIdToken(e,t,n,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=_t(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(o,i),o}async loadAccessToken(e,t,n,r,i,o,s){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const a=t.scope?gn.fromString(t.scope):new gn(e.scopes),c=o.expiresOn||t.expires_in+St(),l=o.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+St(),u=Rt(n,r,t.access_token,this.config.auth.clientId,i,a.printScopes(),c,l,Hs);return await this.storage.setAccessTokenCredential(u,s),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=Pt(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,r),i}generateAuthenticationResult(e,t,n,r){var i,o,s;let a,c="",l=[],u=null;null!==t&&void 0!==t&&t.accessToken&&(c=t.accessToken.secret,l=gn.fromString(t.accessToken.target).asArray(),u=Tt(t.accessToken.expiresOn),a=Tt(t.accessToken.extendedExpiresOn));const h=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:l,account:h.getAccountInfo(),idToken:(null===(i=t.idToken)||void 0===i?void 0:i.secret)||"",idTokenClaims:n||{},accessToken:c,fromCache:!0,expiresOn:u,correlationId:e.correlationId||"",requestId:"",extExpiresOn:a,familyId:(null===(o=t.refreshToken)||void 0===o?void 0:o.familyId)||"",tokenType:(null===t||void 0===t||null===(s=t.accessToken)||void 0===s?void 0:s.tokenType)||"",state:e.state||"",cloudGraphHostName:h.cloudGraphHostName||"",msGraphHost:h.msGraphHost||"",fromNativeBroker:!1}}}class Mu extends Bl{constructor(e){super(e),this.includeRedirectUri=!1}}class Fu extends Kl{constructor(e,t,n,r,i,o,s,a,c,l){super(e,t,n,r,i,o,a,c,l),this.apiId=s}async acquireToken(e){if(!e.code)throw Ds(ys);const t=await Ka(this.initializeAuthorizationRequest.bind(this),Br,this.logger,this.performanceClient,e.correlationId)(e,ko.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r=(0,i.A)((0,i.A)({},t),{},{code:e.code}),o=await Ka(this.getClientConfiguration.bind(this),Ur,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new Mu(o);this.logger.verbose("Auth code client created");const a=new iu(s,this.browserStorage,r,this.logger,this.performanceClient);return await Ka(a.handleCodeResponseFromServer.bind(a),Vr,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof Se&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(Ds(rs))}}function Ou(e){const t=null===e||void 0===e?void 0:e.idTokenClaims;return null!==t&&void 0!==t&&t.tfp||null!==t&&void 0!==t&&t.acr?"B2C":null!==t&&void 0!==t&&t.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===(null===t||void 0===t?void 0:t.tid)?"MSA":"AAD":void 0}function Du(e,t){try{Ea(e)}catch(n){throw t.end({success:!1},n),n}}class Lu{constructor(e){var t,n,r,i;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Va(this.logger,this.performanceClient):bt,this.eventHandler=new Hc(this.logger),this.browserStorage=this.isBrowserEnvironment?new zc(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw fn(en)}return{canonicalAuthority:e.authority?Ya(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):(t=this.config.auth.clientId,n=this.logger,r=this.performanceClient,i=this.eventHandler,new zc(t,{cacheLocation:$i,temporaryCacheLocation:$i,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},bt,n,r,i));const o={cacheLocation:$i,temporaryCacheLocation:$i,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new zc(this.config.auth.clientId,o,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Nu(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new Lu(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(vc);const n=(null===e||void 0===e?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(Pr,n);if(this.eventHandler.emitEvent(mc),!t)try{this.logMultipleInstances(i)}catch(o){}if(await Ka(this.browserStorage.initialize.bind(this.browserStorage),Nr,this.logger,this.performanceClient,n)(n),r)try{this.nativeExtensionProvider=await Zl.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Ka(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),vi,this.logger,this.performanceClient,n)(this.performanceClient,n)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(vc),i.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Ta(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var t;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if((null===(t=this.browserStorage.getInteractionInProgress())||void 0===t?void 0:t.type)===ro)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&Zl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e;let o,s;this.eventHandler.emitEvent(Fc,ko.Redirect);try{if(i&&this.nativeExtensionProvider){o=this.performanceClient.startMeasurement(ar,(null===r||void 0===r?void 0:r.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new uu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yo,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);s=Ka(e.handleRedirectPromise.bind(e),pi,this.logger,this.performanceClient,o.event.correlationId)(this.performanceClient,o.event.correlationId)}else{const[t,n]=this.browserStorage.getCachedRequest(),r=t.correlationId;o=this.performanceClient.startMeasurement(ar,r),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const i=this.createRedirectClient(r);s=Ka(i.handleRedirectPromise.bind(i),fi,this.logger,this.performanceClient,o.event.correlationId)(e,t,n,o)}}catch(a){throw this.browserStorage.resetRequestCache(),a}return s.then((e=>{if(e){this.browserStorage.resetRequestCache();n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Cc,ko.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(xc,ko.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),o.end({success:!0,accountType:Ou(e.account)})}else o.event.errorCode?o.end({success:!1}):o.discard();return this.eventHandler.emitEvent(Oc,ko.Redirect),e})).catch((e=>{this.browserStorage.resetRequestCache();const t=e;throw n.length>0?this.eventHandler.emitEvent(Tc,ko.Redirect,null,t):this.eventHandler.emitEvent(kc,ko.Redirect,null,t),this.eventHandler.emitEvent(Oc,ko.Redirect),o.end({success:!1},t),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(sr,t);n.add({accountType:Ou(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const i=this.getAllAccounts().length>0;try{let r;if(Ia(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,no),i?this.eventHandler.emitEvent(Sc,ko.Redirect,e):this.eventHandler.emitEvent(Ac,ko.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new uu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,go,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof Yl&&Ql(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof rc){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(o){throw this.browserStorage.resetRequestCache(),n.end({success:!1},o),i?this.eventHandler.emitEvent(Tc,ko.Redirect,null,o):this.eventHandler.emitEvent(kc,ko.Redirect,null,o),o}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(or,t);n.add({scenarioId:e.scenarioId,accountType:Ou(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Du(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,no)}catch(a){return Promise.reject(a)}const r=this.getAllAccounts();let o;r.length>0?this.eventHandler.emitEvent(Sc,ko.Popup,e):this.eventHandler.emitEvent(Ac,ko.Popup,e);const s=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))o=this.acquireTokenNative((0,i.A)((0,i.A)({},e),{},{correlationId:t}),mo).then((e=>(n.end({success:!0,isNativeBroker:!0,accountType:Ou(e.account)}),e))).catch((n=>{if(n instanceof Yl&&Ql(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e,s)}if(n instanceof rc){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,s)}throw n}));else{o=this.createPopupClient(t).acquireToken(e,s)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Cc,ko.Popup,e):this.eventHandler.emitEvent(xc,ko.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Ou(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(Tc,ko.Popup,null,e):this.eventHandler.emitEvent(kc,ko.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)}))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var t,n;const r=this.getRequestCorrelationId(e),o=(0,i.A)((0,i.A)({},e),{},{prompt:e.prompt,correlationId:r});let s;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(pr,r),null===(t=this.ssoSilentMeasurement)||void 0===t||t.add({scenarioId:e.scenarioId,accountType:Ou(e.account)}),Du(this.initialized,this.ssoSilentMeasurement),null===(n=this.ssoSilentMeasurement)||void 0===n||n.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(Ic,ko.Silent,o),this.canUsePlatformBroker(o))s=this.acquireTokenNative(o,vo).catch((e=>{if(e instanceof Yl&&Ql(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(o.correlationId).acquireToken(o)}throw e}));else{s=this.createSilentIframeClient(o.correlationId).acquireToken(o)}return s.then((e=>{var t;return this.eventHandler.emitEvent(_c,ko.Silent,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Ou(e.account)}),e})).catch((e=>{var t;throw this.eventHandler.emitEvent(Rc,ko.Silent,null,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(tr,t);Du(this.initialized,n),this.eventHandler.emitEvent(Pc,ko.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Ds(ws);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync((0,i.A)((0,i.A)({},e),{},{correlationId:t})).then((e=>(this.eventHandler.emitEvent(Nc,ko.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Ou(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Mc,ko.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative((0,i.A)((0,i.A)({},e),{},{correlationId:t}),bo,e.nativeAccountId).catch((e=>{throw e instanceof Yl&&Ql(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:Ou(r.account),success:!0}),r}throw Ds(Cs)}throw Ds(bs)}catch(r){throw this.eventHandler.emitEvent(Mc,ko.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){var t;this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(di,e.correlationId),null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const n=this.createSilentAuthCodeClient(e.correlationId);return await n.acquireToken(e).then((e=>{var t;return null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e})).catch((e=>{var t;throw null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(xr,e.correlationId),t){case Eo:case Io:case _o:const t=this.createSilentCacheClient(e.correlationId);return Ka(t.acquireToken.bind(t),ur,this.logger,this.performanceClient,e.correlationId)(e);default:throw yt(it)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(nr,e.correlationId),t){case Eo:case _o:case Ro:case Po:const t=this.createSilentRefreshClient(e.correlationId);return Ka(t.acquireToken.bind(t),fr,this.logger,this.performanceClient,e.correlationId)(e);default:throw yt(it)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Ir,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Ka(t.acquireToken.bind(t),hr,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect((0,i.A)({correlationId:t},e))}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);Ia(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ro);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);Ea(this.initialized),this.browserStorage.setInteractionInProgress(!0,ro);return this.createPopupClient(t).logout(e).finally((()=>{this.browserStorage.setInteractionInProgress(!1)}))}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: ".concat(e)),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ".concat(e)),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: ".concat(e)),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=_n.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Ds(xs);return new uu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!Zl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case S.NONE:case S.CONSENT:case S.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace("canUsePlatformBroker: prompt = ".concat(e.prompt," is not compatible with platform broker flow, returning false")),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new wu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Au(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new _u(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,vo,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new au(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Pu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new Fu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,bo,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return xa(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===Ji?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===Ji?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return null!==e&&void 0!==e&&e.correlationId?e.correlationId:this.isBrowserEnvironment?oa():o.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect((0,i.A)({correlationId:t},e||So))}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup((0,i.A)({correlationId:t},e||So))}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(rr,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Du(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw Ds(is);return n.add({accountType:Ou(r)}),this.acquireTokenSilentDeduped(e,r,t).then((r=>(n.end({success:!0,fromCache:r.fromCache,isNativeBroker:r.fromNativeBroker,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),(0,i.A)((0,i.A)({},r),{},{state:e.state,correlationId:t})))).catch((e=>{throw e instanceof Se&&e.setCorrelationId(t),n.end({success:!1},e),e}))}async acquireTokenSilentDeduped(e,t,n){const r=sc(this.config.auth.clientId,(0,i.A)((0,i.A)({},e),{},{authority:e.authority||this.config.auth.authority,correlationId:n}),t.homeAccountId),o=JSON.stringify(r),s=this.activeSilentTokenRequests.get(o);if("undefined"===typeof s){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=Ka(this.acquireTokenSilentAsync.bind(this),ir,this.logger,this.performanceClient,n)((0,i.A)((0,i.A)({},e),{},{correlationId:n}),t);return this.activeSilentTokenRequests.set(o,r),r.finally((()=>{this.activeSilentTokenRequests.delete(o)}))}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),s}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(ir,e.correlationId),this.eventHandler.emitEvent(Sc,ko.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Ka(Wl,Rr,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||Eo;return this.acquireTokenSilentNoIframe(r,i).catch((async e=>{const t=function(e,t){const n=!(e instanceof rc&&e.subError!==$a),r=e.errorCode===ji||e.errorCode===it,i=n&&r||e.errorCode===Qa||e.errorCode===Za,o=Mo.includes(t);return i&&o}(e,i);if(t){if(this.activeIframeRequest){if(i!==No){const[t,n]=this.activeIframeRequest;this.logger.verbose("Iframe request is already in progress, awaiting resolution for request with correlationId: ".concat(n),r.correlationId);const o=this.performanceClient.startMeasurement(dr,r.correlationId);o.add({awaitIframeCorrelationId:n});const s=await t;if(o.end({success:s}),s)return this.logger.verbose("Parallel iframe request with correlationId: ".concat(n," succeeded. Retrying cache and/or RT redemption"),r.correlationId),this.acquireTokenSilentNoIframe(r,i);throw this.logger.info("Iframe request with correlationId: ".concat(n," failed. Interaction is required.")),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Ka(this.acquireTokenBySilentIframe.bind(this),Ir,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Ka(this.acquireTokenBySilentIframe.bind(this),Ir,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(xc,ko.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(Tc,ko.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Zl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,wo,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof Yl&&Ql(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,yt(it);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===Io&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Ka(this.acquireTokenFromCache.bind(this),xr,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===Io)throw n;return this.eventHandler.emitEvent(Ec,ko.Silent,e),Ka(this.acquireTokenByRefreshToken.bind(this),nr,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Ka(vu,Ci,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?(0,i.A)({},this.pkceCode):void 0;return this.pkceCode=void 0,this.logger.verbose("".concat(t?"Found":"Did not find"," pre-generated PKCE codes")),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[];window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function(e,t,n){var r;const i=(null===(r=window.msal)||void 0===r?void 0:r.clientIds)||[],o=i.length,s=i.filter((t=>t===e)).length;s>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:o,sameClientIdInstanceCount:s})}(t,e,this.logger)}}class ju{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Ma(e);return await n.initialize(),Lu.createController(n,t)}(e);return new ju(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new Lu(new Ma(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}var Uu=n(574),Bu=n(5472),qu=n(1428),zu=(n(2886),n(1054)),Vu=n(579);const Hu={auth:{clientId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK2Sg8j4EvdRsazXLJtuWD_z1aI5nQGog",REACT_APP_API_URL:"https://expenser-server-829602228195.us-central1.run.app",REACT_APP_APP_ID:"1:829602228195:web:851194b850a6be96ee62d6",REACT_APP_AUTH_DOMAIN:"expenser-2335.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"829602228195",REACT_APP_PROJECT_ID:"expenser-2335",REACT_APP_STORAGE_BUCKET:"expenser-2335.firebasestorage.app"}.REACT_APP_MICROSOFT_CLIENT_ID,authority:"https://login.microsoftonline.com/common",redirectUri:window.location.origin}},Wu=new ju(Hu);const Ku=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)(null),[a,c]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{await Wu.initialize();const e=Wu.getAllAccounts();e.length>0&&(c(!0),await l(e[0].accessToken))}catch(o){console.error("MSAL initialization error:",o),s("Failed to initialize Microsoft authentication")}})()}),[]);const l=async e=>{i(!0),s(null);try{const n=await fetch("https://graph.microsoft.com/v1.0/me/messages?$top=10",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to fetch emails");const r=await n.json();t(r.value)}catch(o){console.error("Error fetching emails:",o),s("Failed to fetch emails")}finally{i(!1)}};return(0,Vu.jsxs)("div",{className:"page",children:[(0,Vu.jsx)(qu.A,{}),(0,Vu.jsxs)("div",{className:"page-content",children:[(0,Vu.jsxs)("div",{className:"header",children:[(0,Vu.jsx)("h3",{children:"Email Viewer"}),(0,Vu.jsx)("img",{src:zu.A,alt:"dots",className:"dots"}),a&&(0,Vu.jsx)("button",{onClick:async()=>{try{await Wu.logoutPopup(),c(!1),t([])}catch(o){console.error("Logout error:",o),s("Failed to logout. Please try again.")}},className:"logout-button",children:"Logout"})]}),(0,Vu.jsx)("div",{className:"email-viewer",children:a?(0,Vu.jsxs)("div",{className:"email-list",children:[n&&(0,Vu.jsx)("div",{className:"loading",children:"Loading emails..."}),o&&(0,Vu.jsx)("div",{className:"error",children:o}),e.map((e=>(0,Vu.jsxs)("div",{className:"email-item",children:[(0,Vu.jsx)("h3",{children:e.subject}),(0,Vu.jsxs)("p",{children:["From: ",e.from.emailAddress.address]}),(0,Vu.jsxs)("p",{children:["Received:"," ",new Date(e.receivedDateTime).toLocaleString()]}),(0,Vu.jsx)("p",{children:e.bodyPreview})]},e.id)))]}):(0,Vu.jsx)("button",{onClick:async()=>{try{if(Wu.getActiveAccount())return;const e={scopes:["Mail.Read","Mail.Send","offline_access"]},t=await Wu.loginPopup(e);await(0,Bu.gS)((0,Bu.rJ)(Uu.db,"users"),{uid:t.account.username,email:t.account.username,accessToken:t.accessToken,refreshToken:t.refreshToken,createdAt:(new Date).toISOString()});c(!0),await l(t.accessToken)}catch(o){console.error("Login error:",o),s("Failed to login with Microsoft account. Please try again.")}},className:"login-button",children:"Connect Microsoft Account"})})]})]})}},2289:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(9379),i=n(5472),o=n(5043),s=n(574),a=n(1428),c=n(9002),l=n(1054),u=n(1286),h=n(3204),d=(n(9219),n(579));const f=function(e){let{closeModal:t,caseId:n,refreshCases:a}=e;const[c,l]=(0,o.useState)({caseName:"",caseType:"",jurisdiction:"",caseDesc:"",caseNotes:"",leadAttorney:"",supportingAttornies:{attorneyName:"",attorneyContact:""},witnesses:{witnessName:"",witnessContact:""}}),[u,h]=(0,o.useState)({caseName:"",caseType:"",jurisdiction:"",leadAttorney:""}),[f,p]=(0,o.useState)([]);(0,o.useEffect)((()=>{(async()=>{try{const a=(0,i.H9)(s.db,"cases",n),c=await(0,i.x7)(a);if(c.exists()){var e,t,r,o;const n=c.data();l({caseName:n.name,caseType:n.type,jurisdiction:n.jurisdiction,caseDesc:n.case_desc,caseNotes:n.notes,leadAttorney:n.lead_attorney,courtNumber:n.court_assigned_case_number,supportingAttornies:{attorneyName:(null===(e=n.supportingAttornies)||void 0===e?void 0:e.name)||"",attorneyContact:(null===(t=n.supportingAttornies)||void 0===t?void 0:t.contact)||""},witnesses:{witnessName:(null===(r=n.witnesses)||void 0===r?void 0:r.name)||"",witnessContact:(null===(o=n.witnesses)||void 0===o?void 0:o.contact)||""}})}else console.error("No such case found!")}catch(a){console.error("Error fetching case: ",a)}})()}),[n]),(0,o.useEffect)((()=>{(async()=>{try{const e=(0,i.rJ)(s.db,"cases-types"),t=(await(0,i.GG)(e)).docs.map((e=>({id:e.id,name:e.data().name||"Unnamed Case Type"})));p(t)}catch(e){console.error("Error fetching case types: ",e)}})()}),[]);const g=e=>{const{name:t,value:n}=e.target;l((0,r.A)((0,r.A)({},c),{},{[t]:n}))};return(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h2",{children:"Case Information"}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,i.H9)(s.db,"cases",n),r={name:c.caseName,type:c.caseType,jurisdiction:c.jurisdiction,case_desc:c.caseDesc,notes:c.caseNotes,lead_attorney:c.leadAttorney,court_assigned_case_number:c.courtNumber,supportingAttornies:{name:c.supportingAttornies.attorneyName,contact:c.supportingAttornies.attorneyContact},witnesses:{name:c.witnesses.witnessName,contact:c.witnesses.witnessContact}};await(0,i.mZ)(e,r),console.log("Case updated successfully"),t(),a&&a()}catch(r){console.error("Error updating document: ",r)}},children:[(0,d.jsxs)("div",{className:"form-section-content",children:[(0,d.jsxs)("label",{className:"label",children:["Case name:",(0,d.jsx)("input",{className:"field",type:"text",name:"caseName",value:c.caseName,onChange:g,required:!0}),u.caseName&&(0,d.jsx)("span",{className:"error-message",children:u.caseName})]}),(0,d.jsxs)("label",{className:"label",children:["Case type:",(0,d.jsxs)("select",{className:"field",name:"caseType",value:c.caseType,onChange:g,required:!0,children:[(0,d.jsx)("option",{value:"",disabled:!0,children:"Select a case type"}),f.map((e=>(0,d.jsx)("option",{value:e.name,children:e.name},e.id)))]}),u.caseType&&(0,d.jsx)("span",{className:"error-message",children:u.caseType})]})]}),(0,d.jsx)("label",{className:"label",children:"Case witnesses (if applicable):"}),(0,d.jsxs)("div",{className:"form-section-content",children:[(0,d.jsxs)("label",{className:"label",children:["Witness name",(0,d.jsx)("input",{className:"field",name:"witnessName",type:"text",value:c.witnesses.witnessName,onChange:e=>{l((0,r.A)((0,r.A)({},c),{},{witnesses:(0,r.A)((0,r.A)({},c.witnesses),{},{witnessName:e.target.value})}))}})]}),(0,d.jsxs)("label",{className:"label",children:["Witness contact",(0,d.jsx)("input",{className:"field",name:"witnessContact",type:"text",value:c.witnesses.witnessContact,onChange:e=>{l((0,r.A)((0,r.A)({},c),{},{witnesses:(0,r.A)((0,r.A)({},c.witnesses),{},{witnessContact:e.target.value})}))}})]})]}),(0,d.jsxs)("label",{className:"label",children:["Lead Attorney:",(0,d.jsx)("input",{className:"field fields ".concat(u.leadAttorney?"error":""),type:"text",name:"leadAttorney",value:c.leadAttorney,onChange:g,required:!0}),u.leadAttorney&&(0,d.jsx)("span",{className:"error-message",children:u.leadAttorney})]}),(0,d.jsxs)("label",{className:"label",children:["Case description:",(0,d.jsx)("textarea",{className:"field",name:"caseDesc",value:c.caseDesc,onChange:g})]}),(0,d.jsx)("label",{className:"label",children:"Supporting Attorneys (if applicable):"}),(0,d.jsxs)("div",{className:"form-section-content",children:[(0,d.jsxs)("label",{className:"label",children:["Attorney name",(0,d.jsx)("input",{className:"field",name:"attorneyName",type:"text",value:c.supportingAttornies.attorneyName,onChange:e=>{l((0,r.A)((0,r.A)({},c),{},{supportingAttornies:(0,r.A)((0,r.A)({},c.supportingAttornies),{},{attorneyName:e.target.value})}))}})]}),(0,d.jsxs)("label",{className:"label",children:["Attorney contact",(0,d.jsx)("input",{className:"field",name:"attorneyContact",type:"text",value:c.supportingAttornies.attorneyContact,onChange:e=>{l((0,r.A)((0,r.A)({},c),{},{supportingAttornies:(0,r.A)((0,r.A)({},c.supportingAttornies),{},{attorneyContact:e.target.value})}))}})]})]}),(0,d.jsxs)("label",{className:"label",children:["Jurisdiction:",(0,d.jsx)("input",{className:"field fields ".concat(u.jurisdiction?"error":""),type:"text",name:"jurisdiction",value:c.jurisdiction,onChange:g,required:!0}),u.jurisdiction&&(0,d.jsx)("span",{className:"error-message",children:u.jurisdiction})]}),(0,d.jsxs)("label",{className:"label",children:["Court assigned case number (if applicable):",(0,d.jsx)("input",{className:"field",type:"text",name:"courtNumber",value:c.courtNumber,onChange:g})]}),(0,d.jsxs)("label",{className:"label",children:["Case notes:",(0,d.jsx)("textarea",{className:"field",name:"caseNotes",value:c.caseNotes,onChange:g})]}),(0,d.jsx)("button",{type:"submit",className:"modal-button save",children:"Save Changes"})]}),(0,d.jsx)("button",{className:"cancel-button",onClick:t,children:"Close"})]})})};n(3134);const p=n.p+"static/media/avatar.2c12409a34563478b39d.png";const g=function(e){let{closeModal:t,caseId:n,refreshCases:r}=e;return(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h2",{children:"Delete Expense"}),(0,d.jsx)("p",{children:"Are you sure you want to delete this case? This action cannot be undone."}),(0,d.jsxs)("div",{className:"button-group",children:[(0,d.jsx)("button",{className:"modal-button del",onClick:async()=>{try{const e=(0,i.H9)(s.db,"cases",n);await(0,i.kd)(e),console.log("Case deleted successfully"),r&&r(),t()}catch(e){console.error("Error deleting case: ",e)}},children:"Confirm Delete"}),(0,d.jsx)("button",{className:"cancel-button",onClick:t,children:"Cancel"})]})]})})};const m=function(e){let{closeModal:t,refreshCases:n,clientId:a}=e;const[c,l]=(0,o.useState)({caseName:"",caseType:"",jurisdiction:"",caseDesc:"",caseNotes:"",leadAttorney:"",supportingAttornies:{attorneyName:"",attorneyContact:""},witnesses:{witnessName:"",witnessContact:""},opposingParty:{opposingPartyName:"",opposingPartyEmailAddress:""}}),[u,h]=(0,o.useState)([]),[f,p]=(0,o.useState)({caseName:"",caseType:"",jurisdiction:"",leadAttorney:""}),g=e=>{const{name:t,value:n}=e.target;l((0,r.A)((0,r.A)({},c),{},{[t]:n}))};return(0,o.useEffect)((()=>{(async()=>{try{const e=(0,i.rJ)(s.db,"cases-types"),t=(await(0,i.GG)(e)).docs.map((e=>({id:e.id,name:e.data().name||"Unnamed Case Type"})));h(t),console.log(t)}catch(e){console.error("Error fetching case types: ",e)}})()}),[]),(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h2",{children:"Case Information"}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,i.rJ)(s.db,"cases"),n={client_id:a,name:c.caseName,lead_attorney:c.leadAttorney,type:c.caseType,case_desc:c.caseDesc,status:"Open",jurisdiction:c.jurisdiction,notes:c.caseNotes,court_number:c.courtNumber,supporting_attorneys:c.supportingAttornies,witnesses:c.witnesses,opposing_party:c.opposingParty,created_at:new Date};console.log("Saving case with data:",n),await(0,i.gS)(e,n),console.log("Case added successfully"),t()}catch(n){console.error("Error updating document: ",n)}},children:[(0,d.jsxs)("div",{className:"form-section-content",children:[(0,d.jsxs)("label",{className:"label",children:["Case name:",(0,d.jsx)("input",{className:"field",type:"text",name:"caseName",value:c.caseName,onChange:g,required:!0}),f.caseName&&(0,d.jsx)("span",{className:"error-message",children:f.caseName})]}),(0,d.jsxs)("label",{className:"label",children:["Case type:",(0,d.jsxs)("select",{className:"field",name:"caseType",value:c.caseType,onChange:g,required:!0,children:[(0,d.jsx)("option",{value:"",disabled:!0,children:"Select a case type"}),u.map((e=>(0,d.jsx)("option",{value:e.name,children:e.name},e.id)))]}),f.caseType&&(0,d.jsx)("span",{className:"error-message",children:f.caseType})]})]}),(0,d.jsx)("label",{className:"label",children:"Case witnesses (if applicable):"}),(0,d.jsxs)("div",{className:"form-section-content",children:[(0,d.jsxs)("label",{className:"label",children:["Witness name",(0,d.jsx)("input",{className:"field",name:"witnessName",type:"text",value:c.witnesses.witnessName,onChange:e=>{l((0,r.A)((0,r.A)({},c),{},{witnesses:(0,r.A)((0,r.A)({},c.witnesses),{},{witnessName:e.target.value})}))}})]}),(0,d.jsxs)("label",{className:"label",children:["Witness contact",(0,d.jsx)("input",{className:"field",name:"witnessContact",type:"text",value:c.witnesses.witnessContact,onChange:e=>{l((0,r.A)((0,r.A)({},c),{},{witnesses:(0,r.A)((0,r.A)({},c.witnesses),{},{witnessContact:e.target.value})}))}})]})]}),(0,d.jsxs)("label",{className:"label",children:["Lead Attorney:",(0,d.jsx)("input",{className:"field fields ".concat(f.leadAttorney?"error":""),type:"text",name:"leadAttorney",value:c.leadAttorney,onChange:g,required:!0}),f.leadAttorney&&(0,d.jsx)("span",{className:"error-message",children:f.leadAttorney})]}),(0,d.jsxs)("label",{className:"label",children:["Case description:",(0,d.jsx)("textarea",{className:"field",name:"caseDesc",value:c.caseDesc,onChange:g})]}),(0,d.jsx)("label",{className:"label",children:"Supporting Attorneys (if applicable):"}),(0,d.jsxs)("div",{className:"form-section-content",children:[(0,d.jsxs)("label",{className:"label",children:["Attorney name",(0,d.jsx)("input",{className:"field",name:"attorneyName",type:"text",value:c.supportingAttornies.attorneyName,onChange:e=>{l((0,r.A)((0,r.A)({},c),{},{supportingAttornies:(0,r.A)((0,r.A)({},c.supportingAttornies),{},{attorneyName:e.target.value})}))}})]}),(0,d.jsxs)("label",{className:"label",children:["Attorney contact",(0,d.jsx)("input",{className:"field",name:"attorneyContact",type:"text",value:c.supportingAttornies.attorneyContact,onChange:e=>{l((0,r.A)((0,r.A)({},c),{},{supportingAttornies:(0,r.A)((0,r.A)({},c.supportingAttornies),{},{attorneyContact:e.target.value})}))}})]})]}),(0,d.jsxs)("label",{className:"label",children:["Jurisdiction:",(0,d.jsx)("input",{className:"field fields ".concat(f.jurisdiction?"error":""),type:"text",name:"jurisdiction",value:c.jurisdiction,onChange:g,required:!0}),f.jurisdiction&&(0,d.jsx)("span",{className:"error-message",children:f.jurisdiction})]}),(0,d.jsxs)("label",{className:"label",children:["Court assigned case number (if applicable):",(0,d.jsx)("input",{className:"field",type:"text",name:"courtNumber",value:c.courtNumber,onChange:g})]}),(0,d.jsxs)("label",{className:"label",children:["Case notes:",(0,d.jsx)("textarea",{className:"field",name:"caseNotes",value:c.caseNotes,onChange:g})]}),(0,d.jsx)("button",{type:"submit",className:"modal-button save",children:"Add Case"})]}),(0,d.jsx)("button",{className:"cancel-button",onClick:t,children:"Close"})]})})},v=()=>{const{id:e}=(0,c.g)(),[t,n]=(0,o.useState)(null),[v,y]=(0,o.useState)(null),[b,w]=(0,o.useState)(!0),[A,C]=(0,o.useState)([]),[k,S]=(0,o.useState)(!1),[x,T]=(0,o.useState)(!1),[E,I]=(0,o.useState)(!1),_=async()=>{try{const t=(0,i.H9)(s.db,"clients",e),o=await(0,i.x7)(t);if(o.exists()){const t=o.data(),a=(0,i.rJ)(s.db,"cases"),c=(0,i.P)(a,(0,i._M)("client_id","==",e)),l=await(0,i.GG)(c),u=[];l.forEach((e=>{u.push((0,r.A)({id:e.id},e.data()))})),n((0,r.A)((0,r.A)({},t),{},{cases:u}))}else console.log("Client not found!")}catch(t){console.error("Error fetching client or cases:",t)}finally{w(!1)}};(0,o.useEffect)((()=>{_()}),[e]);return b?(0,d.jsx)("p",{children:"Loading..."}):t?(0,d.jsxs)("div",{className:"page",children:[(0,d.jsx)(a.A,{}),(0,d.jsxs)("div",{className:"page-content",children:[(0,d.jsxs)("div",{className:"client-info",children:[(0,d.jsx)("img",{src:p,alt:"avatar",className:"client-avatar"}),(0,d.jsxs)("div",{className:"client-info-container",children:[(0,d.jsx)("h1",{children:t.clientName}),(0,d.jsxs)("div",{className:"client-info-section",children:[(0,d.jsx)(h.Cab,{}),(0,d.jsx)("p",{children:(e=>{const t=null===e||void 0===e?void 0:e.replace(/\D/g,"");return 10===(null===t||void 0===t?void 0:t.length)?"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6)):e||"N/A"})(t.phoneNumber)})]}),(0,d.jsxs)("div",{className:"client-info-section",children:[(0,d.jsx)(h.maD,{}),(0,d.jsx)("p",{children:t.emailAddress})]})]})]}),(0,d.jsxs)("div",{className:"header",children:[(0,d.jsx)("h3",{children:"Cases"}),(0,d.jsx)("img",{src:l.A,alt:"dots",className:"dots"})]}),(0,d.jsxs)("div",{className:"table-container",children:[(0,d.jsxs)("div",{className:"table-header exp",children:[(0,d.jsxs)("div",{className:"exp-spaced",children:[(0,d.jsx)("span",{className:"yellow-bar exp"}),(0,d.jsxs)("h2",{className:"table-title",children:[t.clientName,"'s Cases"]})]}),(0,d.jsx)(u.A,{bg:"white",textColor:"#222222",icon:h.OiG,text:"Add a case",onClick:()=>S(!0)})]}),(0,d.jsxs)("table",{className:"global-table",children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:["Case number","Case name","Case Attorney","Case Type","Case Description","Case Status","Actions"].map((e=>(0,d.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,d.jsx)("tbody",{children:t.cases&&t.cases.length>0?t.cases.map((e=>(console.log("Rendering case item:",e),(0,d.jsxs)("tr",{className:"table-row",children:[(0,d.jsx)("td",{children:e.id}),(0,d.jsx)("td",{children:e.name||e.caseName}),(0,d.jsx)("td",{children:e.lead_attorney||e.leadAttorney}),(0,d.jsx)("td",{children:e.type||e.caseType}),(0,d.jsx)("td",{children:e.case_desc||e.caseDesc||"N/A"}),(0,d.jsx)("td",{children:e.status||"N/A"}),(0,d.jsxs)("td",{children:[(0,d.jsx)(h.F7,{className:"icon edit-icon",onClick:()=>{return t=e.id,y(t),void T(!0);var t}}),(0,d.jsx)(h.qbC,{className:"icon delete-icon",onClick:()=>{return t=e.id,y(t),void I(!0);var t}})]})]},e.id)))):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:"7",children:"No case data available..."})})})]})]})]}),k&&(0,d.jsx)(m,{closeModal:()=>{S(!1),_()},clientId:e}),x&&(0,d.jsx)(f,{closeModal:()=>{T(!1),_()},caseId:v}),E&&(0,d.jsx)(g,{closeModal:()=>{I(!1),_()},caseId:v})]}):(0,d.jsx)("p",{children:"Client not found."})}},2378:(e,t,n)=>{e.exports=n(1918)},2424:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5043),i=n(579);class o extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),console.error("Error caught by boundary:",e,t)}render(){return this.state.hasError?(0,i.jsxs)("div",{className:"error-boundary",children:[(0,i.jsx)("h2",{children:"Something went wrong"}),(0,i.jsx)("p",{children:"We're sorry, but there was an error loading this component."}),(0,i.jsx)("button",{className:"retry-button",onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},children:"Retry"}),!1]}):this.props.children}}const s=o},2460:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{$:()=>u,R:()=>l});var i=n(9355),o=n(1105),s=n(8147),a=e([i]);i=(a.then?(await a)():a)[0],console.log("=== PDF.js Debug Info ==="),console.log("PDF.js Version:",i.rE),console.log("PDF.js Worker Source:",i.EA.workerSrc),console.log("PDF.js Build:",i.jq);async function l(e,t){try{console.log("--- PDF Fill Debug ---"),console.log("Fetching PDF from:",e.url);const a=await fetch(e.url);if(!a.ok)throw new Error("Failed to fetch PDF: ".concat(a.status," ").concat(a.statusText));const c=await a.arrayBuffer(),l=await o.PDFDocument.load(c),u=l.getForm();for(let e=0;e<t.length;e++){var n;const{fieldName:o,value:a,options:c}=t[e].inputField,l=null===(n=u.getFieldMaybe)||void 0===n?void 0:n.call(u,o);if(!l){console.warn("Field '".concat(o,"' not found."));continue}const h=t[e].fieldType;console.log("Processing field: ".concat(o,", Type: ").concat(h,", Value: ").concat(a));try{switch(h){case"text":"function"===typeof l.setText&&l.setText((null===a||void 0===a?void 0:a.toString())||"");break;case"dropdown":if("function"===typeof l.select){var r;const e=(null===a||void 0===a||null===(r=a.toString())||void 0===r?void 0:r.trim())||"";(c||[]).map((e=>e.exportValue||e)).includes(e)?l.select(e):console.warn('Invalid dropdown value: "'.concat(e,'" for field "').concat(o,'". Skipping.'))}break;case"checkbox":"function"===typeof l.check&&("Off"!==a&&a?l.check():l.uncheck());break;default:if("function"===typeof l.setText)l.setText((null===a||void 0===a?void 0:a.toString())||"");else if("function"===typeof l.check)"Off"!==a&&a?l.check():l.uncheck();else if("function"===typeof l.select){var i;const e=(null===a||void 0===a||null===(i=a.toString())||void 0===i?void 0:i.trim())||"";l.select(e)}else console.warn("Unsupported field type: ".concat(h," for field ").concat(o))}}catch(s){console.error("Error setting value for field ".concat(o,":"),s)}}const h=await l.save(),d=new Blob([h],{type:"application/pdf"}),f=URL.createObjectURL(d),p=document.createElement("a");p.href=f,p.download="filled-form-"+e.name+".pdf",p.click(),URL.revokeObjectURL(f)}catch(a){throw console.error("Error in DownloadUpdatedJsonToPdf:",a),new Error("Failed to generate filled PDF: ".concat(a.message))}}async function u(e){try{if(console.log("=== PDF Processing Started ==="),console.log("Original PDF URL:",e),e.includes("firebasestorage.googleapis.com")){console.log("Detected Firebase Storage URL");const n=(0,s.c7)(),r=e.split("/o/")[1].split("?")[0],i=decodeURIComponent(r),o=(0,s.KR)(n,i);try{await(0,s.qk)(o);return h(await(0,s.q5)(o))}catch(t){throw console.error("Firebase Storage error:",t),t}}const n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch PDF: ".concat(n.status," ").concat(n.statusText));return h(await n.arrayBuffer())}catch(t){throw console.error("Error in convertPdfToJson:",t),t}}async function h(e){console.log("Starting PDF processing...");const t=i.YE({data:e,cMapUrl:"https://unpkg.com/pdfjs-dist@latest/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://unpkg.com/pdfjs-dist@latest/standard_fonts/"});try{const e=await t.promise;console.log("PDF loaded successfully. Number of pages:",e.numPages),console.log("PDF Info:",e._pdfInfo),e._pdfInfo&&e._pdfInfo.xfa&&console.warn("PDF contains XFA form data"),e._pdfInfo&&e._pdfInfo.acroForm&&console.log("PDF contains AcroForm data");const n=[];for(let t=1;t<=e.numPages;t++){const r=await e.getPage(t),i=await r.getAnnotations();for(const e of i)if(e.fieldName){let r="",i="";"Tx"===e.fieldType?(r="txt",i="text"):"Ch"===e.fieldType?(r="ch",i="dropdown"):"Btn"===e.fieldType&&e.checkBox&&(r="chk",i="checkbox");const o=e.rect||[0,0,0,0],[s,a,c,l]=o,u=s,h=a,d=Math.abs(c-s),f=Math.abs(l-a),p=(e.options||[]).filter(((e,t,n)=>{var r,i;return(null===(r=e.exportValue)||void 0===r?void 0:r.trim())&&(null===(i=e.displayValue)||void 0===i?void 0:i.trim())&&n.findIndex((t=>t.exportValue.trim().toLowerCase()===e.exportValue.trim().toLowerCase()&&t.displayValue.trim().toLowerCase()===e.displayValue.trim().toLowerCase()))===t})),g=void 0!==e.fieldValue?e.fieldValue:"",m={fieldType:i,label:e.alternativeText||e.fieldName,associatedLabel:e.alternativeText||e.fieldName,inputField:{fieldName:e.fieldName,inputType:r,value:g,options:p,x:u,y:h,width:d,height:f,page:t}};n.push(m)}}return console.log("PDF conversion complete. Found ".concat(n.length," form fields.")),n}catch(n){throw console.error("Error in processPdfData:",n),n}}(async()=>{try{const t=i.rE;console.log("PDF.js version:",t);try{const e="/pdf.worker.min.js";if((await fetch(e)).ok)return i.EA.workerSrc=e,void console.log("PDF.js worker loaded from public directory")}catch(e){console.warn("Failed to load worker from public directory:",e)}const r=["https://unpkg.com/pdfjs-dist@".concat(t,"/build/pdf.worker.mjs"),"https://cdn.jsdelivr.net/npm/pdfjs-dist@".concat(t,"/build/pdf.worker.mjs"),"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(t,"/pdf.worker.mjs")];for(const n of r)try{if((await fetch(n)).ok)return i.EA.workerSrc=n,void console.log("PDF.js worker loaded from:",n)}catch(e){console.warn("Failed to load worker from ".concat(n,":"),e)}try{const e=new URL(n(1103),n.b).toString();i.EA.workerSrc=e,console.log("PDF.js worker loaded from node_modules")}catch(e){throw console.warn("Failed to load worker from node_modules:",e),new Error("All worker loading attempts failed")}}catch(t){throw console.error("Failed to set up PDF.js worker:",t),t}})().catch((e=>{console.error("Worker initialization failed:",e)})),r()}catch(c){r(c)}}))},2483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5043),s=(r=o)&&r.__esModule?r:{default:r},a=n(7907),c=n(3847);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildURI",value:function(){return a.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.headers,r=e.separator,i=e.enclosingCharacter,o=e.uFEFF,s=e.target,a=e.specs,c=e.replace;this.state.page=window.open(this.buildURI(t,o,n,r,i),s,a,c)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(s.default.Component);l.defaultProps=Object.assign(c.defaultProps,{target:"_blank"}),l.propTypes=c.propTypes,t.default=l},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var D,L=Object.assign;function j(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function q(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case C:return"Portal";case x:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,ke=null,Se=null;function xe(e){if(e=bi(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=Ai(t),Ce(e.stateNode,e.type,t))}}function Te(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Se;if(Se=ke=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function _e(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==ke||null!==Se)&&(_e(),Ee())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(u)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ue){Me=!1}function Oe(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var De=!1,Le=null,je=!1,Ue=null,Be={onError:function(e){De=!0,Le=e}};function qe(e,t,n,r,i,o,s,a,c){De=!1,Le=null,Oe.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,Ct,kt,St,xt,Tt=!1,Et=[],It=null,_t=null,Rt=null,Pt=new Map,Nt=new Map,Mt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void xt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Bt(){Tt=!1,null!==It&&jt(It)&&(It=null),null!==_t&&jt(_t)&&(_t=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),Nt.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return qt(t,e)}if(0<Et.length){qt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&qt(It,e),null!==_t&&qt(_t,e),null!==Rt&&qt(Rt,e),Pt.forEach(t),Nt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Kt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Dt(It,e,t,n,r,i),!0;case"dragenter":return _t=Dt(_t,e,t,n,r,i),!0;case"mouseover":return Rt=Dt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Dt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Dt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&At(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Xt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=yi(e=Ae(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),hn=L({},ln,{view:0,detail:0}),dn=on(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(L({},fn,{dataTransfer:0})),mn=on(L({},hn,{relatedTarget:0})),vn=on(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},ln,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return Sn}var Tn=L({},hn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Tn),In=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Rn=on(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Pn),Mn=[9,13,27,32],Fn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Dn=u&&"TextEvent"in window&&!On,Ln=u&&(!Fn||On&&8<On&&11>=On),jn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Xn(e){jr(e,0)}function Yn(e){if(G(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,Ae(e)),Pe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},kr={},Sr={};function xr(e){if(kr[e])return kr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Tr=xr("animationend"),Er=xr("animationiteration"),Ir=xr("animationstart"),_r=xr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Rr.set(e,t),c(t,[e])}for(var Mr=0;Mr<Pr.length;Mr++){var Fr=Pr[Mr];Nr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Er,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(_r,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,c,l){if(qe.apply(this,arguments),De){if(!De)throw Error(o(198));var u=Le;De=!1,Le=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,a,l),o=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,a,l),o=c}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[qr]){e[qr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(c=s.tag)||6===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=Ae(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=En;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_n;break;case Tr:case Er:case Ir:c=vn;break;case _r:c=Rn;break;case"scroll":c=dn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Ne(p,d))&&u.push(Wr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:wi(c),f=null==l?a:wi(l),(a=new u(g,p+"leave",c,n,i)).target=h,a.relatedTarget=f,g=null,yi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,g=u),h=g,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==c&&Xr(s,a,c,u,!1),null!==l&&null!==h&&Xr(s,h,l,u,!0)}if("select"===(c=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var m=Qn;else if(Hn(a))if(Jn)m=sr;else{m=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(s,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Ne(n,o))&&s.unshift(Wr(n,c,a)):i||null!=(c=Ne(n,o))&&s.push(Wr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ai(e){return e[fi]||null}var Ci=[],ki=-1;function Si(e){return{current:e}}function xi(e){0>ki||(e.current=Ci[ki],Ci[ki]=null,ki--)}function Ti(e,t){ki++,Ci[ki]=e.current,e.current=t}var Ei={},Ii=Si(Ei),_i=Si(!1),Ri=Ei;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){xi(_i),xi(Ii)}function Fi(e,t,n){if(Ii.current!==Ei)throw Error(o(168));Ti(Ii,t),Ti(_i,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return L({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ri=Ii.current,Ti(Ii,e),Ti(_i,_i.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,xi(_i),xi(Ii),Ti(Ii,e)):xi(_i),Ti(_i,n)}var ji=null,Ui=!1,Bi=!1;function qi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge($e,zi),i}finally{bt=t,Bi=!1}}return null}var Vi=[],Hi=0,Wi=null,Ki=0,Gi=[],Xi=0,Yi=null,Qi=1,Ji="";function Zi(e,t){Vi[Hi++]=Ki,Vi[Hi++]=Wi,Wi=e,Ki=t}function $i(e,t,n){Gi[Xi++]=Qi,Gi[Xi++]=Ji,Gi[Xi++]=Yi,Yi=e;var r=Qi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Qi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--Hi],Vi[Hi]=null,Ki=Vi[--Hi],Vi[Hi]=null;for(;e===Yi;)Yi=Gi[--Xi],Gi[Xi]=null,Ji=Gi[--Xi],Gi[Xi]=null,Qi=Gi[--Xi],Gi[Xi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Fl(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ol(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Fl(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case C:return(t=jl(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ol(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?l(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,a,c){for(var l=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],c);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,g),null===u?l=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(i,h),io&&Zi(i,g),l;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],c))&&(o=s(h,o,g),null===u?l=h:u.sibling=h,u=h);return io&&Zi(i,g),l}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],c))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}function m(i,a,c,l){var u=O(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),io&&Zi(i,m),u;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=d(i,y.value,l))&&(a=s(y,a,m),null===h?u=y:h.sibling=y,h=y);return io&&Zi(i,m),u}for(g=r(i,g);!y.done;m++,y=c.next())null!==(y=p(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Zi(i,m),u}return function e(r,o,s,c){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case A:e:{for(var l=s.key,u=o;null!==u;){if(u.key===l){if((l=s.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&bo(l)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((o=Ol(s.props.children,r.mode,c,s.key)).return=r,r=o):((c=Fl(s.type,s.key,s.props,null,r.mode,c)).ref=vo(r,o,s),c.return=r,r=c)}return a(r);case C:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jl(s,r.mode,c)).return=r,r=o}return a(r);case N:return e(r,o,(u=s._init)(s._payload),c)}if(te(s))return g(r,o,s,c);if(O(s))return m(r,o,s,c);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Ll(s,r.mode,c)).return=r,r=o),a(r)):n(r,o)}}var Ao=wo(!0),Co=wo(!1),ko=Si(null),So=null,xo=null,To=null;function Eo(){To=xo=So=null}function Io(e){var t=ko.current;xi(ko),e._currentValue=t}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){So=e,To=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===So)throw Error(o(308));xo=e,So.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var No=null;function Mo(e){null===No?No=[e]:No.push(e)}function Fo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Mo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ic)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Mo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function qo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==o){var h=i.baseState;for(s=0,u=l=c=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dc|=s,e.lanes=s,e.memoizedState=h}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Ko=Si(Wo),Go=Si(Wo),Xo=Si(Wo);function Yo(e){if(e===Wo)throw Error(o(174));return e}function Qo(e,t){switch(Ti(Xo,t),Ti(Go,e),Ti(Ko,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ko),Ti(Ko,t)}function Jo(){xi(Ko),xi(Go),xi(Xo)}function Zo(e){Yo(Xo.current);var t=Yo(Ko.current),n=ce(t,e.type);t!==n&&(Ti(Go,e),Ti(Ko,n))}function $o(e){Go.current===e&&(xi(Ko),xi(Go))}var es=Si(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,cs=null,ls=null,us=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?$s:ea,e=n(r,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,ls=cs=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(hs)}if(is.current=Zs,t=null!==cs&&null!==cs.next,ss=0,ls=cs=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?as.memoizedState=ls=e:ls=ls.next=e,ls}function bs(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ls?as.memoizedState:ls.next;if(null!==t)ls=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ls?as.memoizedState=ls=e:ls=ls.next=e}return ls}function ws(e,t){return"function"===typeof t?t(e):t}function As(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var c=a=null,l=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=r):l=l.next=d,as.lanes|=h,Dc|=h}u=u.next}while(null!==u&&u!==s);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Dc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cs(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Ss(e,t){var n=as,r=bs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ds(Es.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ps(9,Ts.bind(null,n,r,i,t),void 0,null),null===_c)throw Error(o(349));0!==(30&ss)||xs(n,t,i)}return i}function xs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&_s(e)}function Es(e,t,n){return n((function(){Is(t)&&_s(e)}))}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function _s(e){var t=Oo(e,1);null!==t&&nl(t,e,1,-1)}function Rs(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Xs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ns(){return bs().memoizedState}function Ms(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Fs(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Ps(t,n,o,r))}as.flags|=e,i.memoizedState=Ps(1|t,n,o,r)}function Os(e,t){return Ms(8390656,8,e,t)}function Ds(e,t){return Fs(2048,8,e,t)}function Ls(e,t){return Fs(4,2,e,t)}function js(e,t){return Fs(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4,4,Us.bind(null,t,e),n)}function qs(){}function zs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),as.lanes|=n,Dc|=n,e.baseState=!0),t)}function Ws(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function Ks(){return bs().memoizedState}function Gs(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Fo(e,t,n,r))){nl(n,e,r,el()),Js(n,t,r)}}function Xs(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var c=t.interleaved;return null===c?(i.next=i,Mo(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Fo(e,t,i,r))&&(nl(n,e,r,i=el()),Js(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Po,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},$s={readContext:Po,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Rs,useDebugValue:qs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Ws.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===_c)throw Error(o(349));0!==(30&ss)||xs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Os(Es.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=_c.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Po,useCallback:zs,useContext:Po,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:Ls,useLayoutEffect:js,useMemo:Vs,useReducer:As,useRef:Ns,useState:function(){return As(ws)},useDebugValue:qs,useDeferredValue:function(e){return Hs(bs(),cs.memoizedState,e)},useTransition:function(){return[As(ws)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Po,useCallback:zs,useContext:Po,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:Ls,useLayoutEffect:js,useMemo:Vs,useReducer:Cs,useRef:Ns,useState:function(){return Cs(ws)},useDebugValue:qs,useDeferredValue:function(e){var t=bs();return null===cs?t.memoizedState=e:Hs(t,cs.memoizedState,e)},useTransition:function(){return[Cs(ws)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nl(t,e,i,r),qo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nl(t,e,i,r),qo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nl(t,e,r,n),qo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function sa(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Ni(t)?Ri:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Ni(t)?Ri:Ii.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Wc=r),ha(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xl.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Co(t,null,n,r):Ao(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=ms(e,t,n,r,o,i),n=vs(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Nl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Ml(o,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ta(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Mc,Nc),Nc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Mc,Nc),Nc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Mc,Nc),Nc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Mc,Nc),Nc|=r;return wa(e,t,i,n),t.child}function xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Ni(n)?Ri:Ii.current;return o=Pi(t,o),Ro(t,i),n=ms(e,t,n,r,o,i),r=vs(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ea(e,t,n,r,i){if(Ni(n)){var o=!0;Di(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Va(e,t),sa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Po(l):l=Pi(t,l=Ni(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&aa(t,s,r,l),Do=!1;var d=t.memoizedState;s.state=d,Vo(t,r,s,i),c=t.memoizedState,a!==r||d!==c||_i.current||Do?("function"===typeof u&&(ra(t,n,u,r),c=t.memoizedState),(a=Do||oa(t,n,a,r,d,c,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:na(t.type,a),s.props=l,h=t.pendingProps,d=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Po(c):c=Pi(t,c=Ni(n)?Ri:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==c)&&aa(t,s,r,c),Do=!1,d=t.memoizedState,s.state=d,Vo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||_i.current||Do?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(l=Do||oa(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){xa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Li(t,n,!1),Ha(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function _a(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),Qo(e,t.containerInfo)}function Ra(e,t,n,r,i){return po(),go(i),t.flags|=256,wa(e,t,n,r),t.child}var Pa,Na,Ma,Fa,Oa={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(es,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Dl(c,i,0,null),e=Ol(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Oa,e):ja(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dl({mode:"visible",children:r.children},i,0,null),(s=Ol(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Ao(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Oa,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(r=_c)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),nl(r,e,i,-1))}return gl(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=El.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Xi++]=Qi,Gi[Xi++]=Ji,Gi[Xi++]=Yi,Qi=e.id,Ji=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,s,n);if(a){a=i.fallback,c=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ml(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ml(r,a):(a=Ol(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Da(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Ml(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&go(r),Ao(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ni(t.type)&&Mi(),Ka(t),null;case 3:return r=t.stateNode,Jo(),xi(_i),xi(Ii),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Na(e,t),Ka(t),null;case 5:$o(t);var i=Yo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ma(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Yo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var c in ye(n,s),i=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),l=i)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&b(e,s,u,c))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Fa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Xo.current),Yo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(xi(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sl(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Fc&&(Fc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Jo(),Na(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return Io(t.type._context),Ka(t),null;case 19:if(xi(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)Wa(s,!1);else{if(0!==Fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Wa(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>zc&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!io)return Ka(t),null}else 2*Je()-s.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=es.current,Ti(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nc)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xa(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),xi(_i),xi(Ii),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $o(t),null;case 13:if(xi(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(es),null;case 4:return Jo(),null;case 10:return Io(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Ma=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Ko.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Fa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,hc=!1;function dc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||$a(n,t);case 6:var r=uc,i=hc;uc=null,dc(e,t,n),hc=i,null!==(uc=r)&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(uc,n.stateNode));break;case 4:r=uc,i=hc,uc=n.stateNode.containerInfo,hc=!0,dc(e,t,n),uc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ec(n,t,s),i=i.next}while(i!==r)}dc(e,t,n);break;case 1:if(!Qa&&($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sl(n,t,a)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,dc(e,t,n),Qa=r):dc(e,t,n);break;default:dc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,hc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));fc(s,a,i),uc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Sl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),vc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(m){Sl(e,e.return,m)}try{nc(5,e,e.return)}catch(m){Sl(e,e.return,m)}}break;case 1:gc(t,e),vc(e),512&r&&null!==n&&$a(n,n.return);break;case 5:if(gc(t,e),vc(e),512&r&&null!==n&&$a(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Sl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&J(i,s),be(c,a);var u=be(c,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(c){case"input":Z(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){Sl(e,e.return,m)}}break;case 6:if(gc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Sl(e,e.return,m)}}break;case 3:if(gc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sl(e,e.return,m)}break;case 4:default:gc(t,e),vc(e);break;case 13:gc(t,e),vc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(qc=Je())),4&r&&pc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||h,gc(t,e),Qa=u):gc(t,e),vc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:$a(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Sl(r,n,m)}}break;case 5:$a(f,f.return);break;case 22:if(null!==f.memoizedState){Ac(d);continue}}null!==p?(p.return=f,Za=p):Ac(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",a))}catch(m){Sl(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Sl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),vc(e),4&r&&pc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lc(e,ac(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(o(161))}}catch(a){Sl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Za=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Qa;a=Ya;var l=Qa;if(Ya=s,(Qa=c)&&!l)for(Za=i;null!==Za;)c=(s=Za).child,22===s.tag&&null!==s.memoizedState?Cc(i):null!==c?(c.return=s,Za=c):Cc(i);for(;null!==o;)Za=o,bc(o,t,n),o=o.sibling;Za=i,Ya=a,Qa=l}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):wc(e)}}function wc(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}Qa||512&t.flags&&ic(t)}catch(f){Sl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Ac(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Cc(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Sl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Sl(t,i,c)}}var o=t.return;try{ic(t)}catch(c){Sl(t,o,c)}break;case 5:var s=t.return;try{ic(t)}catch(c){Sl(t,s,c)}}}catch(c){Sl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var kc,Sc=Math.ceil,xc=w.ReactCurrentDispatcher,Tc=w.ReactCurrentOwner,Ec=w.ReactCurrentBatchConfig,Ic=0,_c=null,Rc=null,Pc=0,Nc=0,Mc=Si(0),Fc=0,Oc=null,Dc=0,Lc=0,jc=0,Uc=null,Bc=null,qc=0,zc=1/0,Vc=null,Hc=!1,Wc=null,Kc=null,Gc=!1,Xc=null,Yc=0,Qc=0,Jc=null,Zc=-1,$c=0;function el(){return 0!==(6&Ic)?Je():-1!==Zc?Zc:Zc=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ic)&&0!==Pc?Pc&-Pc:null!==mo.transition?(0===$c&&($c=gt()),$c):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nl(e,t,n,r){if(50<Qc)throw Qc=0,Jc=null,Error(o(185));vt(e,n,r),0!==(2&Ic)&&e===_c||(e===_c&&(0===(2&Ic)&&(Lc|=n),4===Fc&&al(e,Pc)),rl(e,r),1===n&&0===Ic&&0===(1&t.mode)&&(zc=Je()+500,Ui&&zi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=i[s];-1===c?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===_c?Pc:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(cl.bind(null,e)):qi(cl.bind(null,e)),si((function(){0===(6&Ic)&&zi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_l(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Zc=-1,$c=0,0!==(6&Ic))throw Error(o(327));var n=e.callbackNode;if(Cl()&&e.callbackNode!==n)return null;var r=dt(e,e===_c?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Ic;Ic|=2;var s=pl();for(_c===e&&Pc===t||(Vc=null,zc=Je()+500,dl(e,t));;)try{yl();break}catch(c){fl(e,c)}Eo(),xc.current=s,Ic=i,null!==Rc?t=0:(_c=null,Pc=0,t=Fc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Oc,dl(e,0),al(e,r),rl(e,Je()),n;if(6===t)al(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(s=pt(e))&&(r=s,t=ol(e,s))),1===t))throw n=Oc,dl(e,0),al(e,r),rl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Al(e,Bc,Vc);break;case 3:if(al(e,r),(130023424&r)===r&&10<(t=qc+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Al.bind(null,e,Bc,Vc),t);break}Al(e,Bc,Vc);break;case 4:if(al(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sc(r/1960))-r)){e.timeoutHandle=ri(Al.bind(null,e,Bc,Vc),r);break}Al(e,Bc,Vc);break;default:throw Error(o(329))}}}return rl(e,Je()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Uc;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bc,Bc=n,null!==t&&sl(t)),e}function sl(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function al(e,t){for(t&=~jc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ic))throw Error(o(327));Cl();var t=dt(e,0);if(0===(1&t))return rl(e,Je()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Oc,dl(e,0),al(e,t),rl(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e,Bc,Vc),rl(e,Je()),null}function ll(e,t){var n=Ic;Ic|=1;try{return e(t)}finally{0===(Ic=n)&&(zc=Je()+500,Ui&&zi())}}function ul(e){null!==Xc&&0===Xc.tag&&0===(6&Ic)&&Cl();var t=Ic;Ic|=1;var n=Ec.transition,r=bt;try{if(Ec.transition=null,bt=1,e)return e()}finally{bt=r,Ec.transition=n,0===(6&(Ic=t))&&zi()}}function hl(){Nc=Mc.current,xi(Mc)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:Jo(),xi(_i),xi(Ii),rs();break;case 5:$o(r);break;case 4:Jo();break;case 13:case 19:xi(es);break;case 10:Io(r.type._context);break;case 22:case 23:hl()}n=n.return}if(_c=e,Rc=e=Ml(e.current,null),Pc=Nc=t,Fc=0,Oc=null,jc=Lc=Dc=0,Bc=Uc=null,null!==No){for(t=0;t<No.length;t++)if(null!==(r=(n=No[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}No=null}return e}function fl(e,t){for(;;){var n=Rc;try{if(Eo(),is.current=Zs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,ls=cs=as=null,hs=!1,ds=0,Tc.current=null,null===n||null===n.return){Fc=1,Oc=t,Rc=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,va(p,a,c,0,t),1&p.mode&&ga(s,u,t),l=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){ga(s,u,t),gl();break e}l=Error(o(426))}else if(io&&1&c.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,c,0,t),go(la(l,c));break e}}s=l=la(l,c),4!==Fc&&(Fc=2),null===Uc?Uc=[s]:Uc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,fa(0,l,t));break e;case 1:c=l;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kc||!Kc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,pa(s,c,t));break e}}s=s.return}while(null!==s)}wl(n)}catch(w){t=w,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function pl(){var e=xc.current;return xc.current=Zs,null===e?Zs:e}function gl(){0!==Fc&&3!==Fc&&2!==Fc||(Fc=4),null===_c||0===(268435455&Dc)&&0===(268435455&Lc)||al(_c,Pc)}function ml(e,t){var n=Ic;Ic|=2;var r=pl();for(_c===e&&Pc===t||(Vc=null,dl(e,t));;)try{vl();break}catch(i){fl(e,i)}if(Eo(),Ic=n,xc.current=r,null!==Rc)throw Error(o(261));return _c=null,Pc=0,Fc}function vl(){for(;null!==Rc;)bl(Rc)}function yl(){for(;null!==Rc&&!Ye();)bl(Rc)}function bl(e){var t=kc(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?wl(e):Rc=t,Tc.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Nc)))return void(Rc=n)}else{if(null!==(n=Xa(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Fc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Fc&&(Fc=5)}function Al(e,t,n){var r=bt,i=Ec.transition;try{Ec.transition=null,bt=1,function(e,t,n,r){do{Cl()}while(null!==Xc);if(0!==(6&Ic))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===_c&&(Rc=_c=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,_l(tt,(function(){return Cl(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ec.transition,Ec.transition=null;var a=bt;bt=1;var c=Ic;Ic|=4,Tc.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(A){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(A){Sl(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=tc,tc=!1}(e,n),mc(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yc(n,e,i),Qe(),Ic=c,bt=a,Ec.transition=s}else e.current=n;if(Gc&&(Gc=!1,Xc=e,Yc=i),s=e.pendingLanes,0===s&&(Kc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=Wc,Wc=null,e;0!==(1&Yc)&&0!==e.tag&&Cl(),s=e.pendingLanes,0!==(1&s)?e===Jc?Qc++:(Qc=0,Jc=e):Qc=0,zi()}(e,t,n,r)}finally{Ec.transition=i,bt=r}return null}function Cl(){if(null!==Xc){var e=wt(Yc),t=Ec.transition,n=bt;try{if(Ec.transition=null,bt=16>e?16:e,null===Xc)var r=!1;else{if(e=Xc,Xc=null,Yc=0,0!==(6&Ic))throw Error(o(331));var i=Ic;for(Ic|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:nc(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(oc(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(C){Sl(c,c.return,C)}if(c===a){Za=null;break e}var A=c.sibling;if(null!==A){A.return=c.return,Za=A;break e}Za=c.return}}if(Ic=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{bt=n,Ec.transition=t}}return!1}function kl(e,t,n){e=Bo(e,t=fa(0,t=la(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),rl(e,t))}function Sl(e,t,n){if(3===e.tag)kl(e,e,n);else for(;null!==t;){if(3===t.tag){kl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=Bo(t,e=pa(t,e=la(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),rl(t,e));break}}t=t.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,_c===e&&(Pc&n)===n&&(4===Fc||3===Fc&&(130023424&Pc)===Pc&&500>Je()-qc?dl(e,0):jc|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Oo(e,t))&&(vt(e,t,n),rl(e,n))}function El(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tl(e,n)}function _l(e,t){return Ge(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Nl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Nl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Ol(n.children,i,s,t);case S:a=8,i|=8;break;case x:return(e=Pl(12,n,t,2|i)).elementType=x,e.lanes=s,e;case _:return(e=Pl(13,n,t,i)).elementType=_,e.lanes=s,e;case R:return(e=Pl(19,n,t,i)).elementType=R,e.lanes=s,e;case M:return Dl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case E:a=9;break e;case I:a=11;break e;case P:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ol(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,o,s,a,c){return e=new Ul(e,t,n,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function ql(e){if(!e)return Ei;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Oi(e,n,t)}return t}function zl(e,t,n,r,i,o,s,a,c){return(e=Bl(n,r,!0,e,0,o,0,a,c)).context=ql(null),n=e.current,(o=Uo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,vt(e,i,r),rl(e,r),e}function Vl(e,t,n,r){var i=t.current,o=el(),s=tl(i);return n=ql(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,s))&&(nl(e,i,s,o),qo(e,i,s)),s}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}kc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:_a(t),po();break;case 5:Zo(t);break;case 1:Ni(t.type)&&Di(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Ti(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ti(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ro(t,n),i=ms(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Di(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=Ia(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=Aa(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(_a(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),Vo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&lo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),xa(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&lo(t),null;case 13:return La(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(ko,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!_i.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_o(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_o(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Po(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ca(e,t,r,i=na(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Va(e,t),t.tag=1,Ni(r)?(e=!0,Di(t)):e=!1,Ro(t,n),sa(t,r,i),ca(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Sa(e,t,n)}throw Error(o(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function $l(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hl(s);a.call(e)}}Vl(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hl(s);o.call(e)}}var s=zl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),ul(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hl(c);a.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,zr(8===e.nodeType?e.parentNode:e),ul((function(){Vl(t,c,n,r)})),c}(n,t,e,i,r);return Hl(s)}Yl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vl(e,t,null,null)},Yl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Vl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Je()),0===(6&Ic)&&(zc=Je()+500,zi()))}break;case 13:ul((function(){var t=Oo(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},Ct=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},kt=function(e){if(13===e.tag){var t=tl(e),n=Oo(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},St=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ce=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,_e=ul;var eu={usingClientEntryPoint:!1,Events:[bi,wi,Ai,Te,Ee,ll]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return $l(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){$l(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $l(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2812:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var r=n(5043),i=n(4391),o=(n(9555),n(4111)),s=n(9031),a=n(579),c=e([o]);o=(c.then?(await c)():c)[0];i.createRoot(document.getElementById("root")).render((0,a.jsx)(r.StrictMode,{children:(0,a.jsx)(o.A,{})})),(0,s.A)(),t()}catch(l){t(l)}}))},2886:()=>{},3027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5043),a=(r=s)&&r.__esModule?r:{default:r},c=n(7907),l=n(3847);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buildURI=n.buildURI.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildURI",value:function(){return c.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var n=this.props,r=n.data,i=n.headers,o=n.separator,s=n.filename,a=n.enclosingCharacter,l=n.uFEFF,u=t&&"function"===typeof r?r():r,h=new Blob([l?"\ufeff":"",(0,c.toCSV)(u,i,o,a)]);return window.navigator.msSaveBlob(h,s),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(n){!1!==n?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.headers,o=t.separator,s=t.filename,c=t.uFEFF,l=t.children,u=(t.onClick,t.asyncOnClick,t.enclosingCharacter),h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),d="undefined"===typeof window?"":this.buildURI(n,c,r,o,u);return a.default.createElement("a",i({download:s},h,{ref:function(t){return e.link=t},target:"_self",href:d,onClick:this.handleClick()}),l)}}]),t}(a.default.Component);u.defaultProps=l.defaultProps,u.propTypes=l.propTypes,t.default=u},3134:()=>{},3175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function c(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function l(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},3204:(e,t,n)=>{"use strict";n.d(t,{OXb:()=>g,vd0:()=>m,Vr3:()=>v,w_X:()=>y,maD:()=>b,Mbn:()=>w,rQ8:()=>A,F7:()=>C,Cab:()=>k,OiG:()=>S,qbC:()=>x,lcY:()=>T});var r=n(5043),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(i),s=["attr","size","title"];function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return e&&e.map(((e,t)=>r.createElement(e.tag,u({key:t},e.attr),d(e.child))))}function f(e){return t=>r.createElement(p,c({attr:u({},e.attr)},t),d(e.child))}function p(e){var t=t=>{var n,{attr:i,size:o,title:l}=e,h=a(e,s),d=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,h,{className:n,style:u(u({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==o?r.createElement(o.Consumer,null,(e=>t(e))):t(i)}function g(e){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function m(e){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function v(e){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function y(e){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function b(e){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function w(e){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function A(e){return f({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function C(e){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function k(e){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function S(e){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function x(e){return f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function T(e){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}},3205:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6562);function i(e,t,n){return n((0,r.A)(e,t))}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3422:(e,t,n)=>{"use strict";var r=n(5886);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,s=286,a=30,c=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var p=new Array(60);i(p);var g=new Array(512);i(g);var m=new Array(256);i(m);var v=new Array(29);i(v);var y,b,w,A=new Array(a);function C(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?g[e]:g[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function T(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function E(e,t,n){T(e,n[2*t],n[2*t+1])}function I(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function _(e,t,n){var r,i,o=new Array(16),s=0;for(r=1;r<=c;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=I(o[a]++,a))}}function R(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function P(e){e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function N(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function M(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&N(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!N(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function F(e,t,n){var r,i,s,a,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?E(e,i,t):(E(e,(s=m[i])+o+1,t),0!==(a=l[s])&&T(e,i-=v[s],a),E(e,s=S(--r),n),0!==(a=u[s])&&T(e,r-=A[s],a))}while(c<e.last_lit);E(e,256,t)}function O(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)M(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],M(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,M(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,s,a,l=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=c;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>g&&(o=g,m++),l[2*r+1]=o,r>u||(e.bl_count[o]++,s=0,r>=p&&(s=f[r-p]),a=l[2*r],e.opt_len+=a*(o+s),d&&(e.static_len+=a*(h[2*r+1]+s)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),_(o,u,e.bl_count)}function D(e,t,n){var r,i,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<c&&i===s||(a<l?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4))}function L(e,t,n){var r,i,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<c&&i===s)){if(a<l)do{E(e,i,e.bl_tree)}while(0!==--a);else 0!==i?(i!==o&&(E(e,i,e.bl_tree),a--),E(e,16,e.bl_tree),T(e,a-3,2)):a<=10?(E(e,17,e.bl_tree),T(e,a-3,3)):(E(e,18,e.bl_tree),T(e,a-11,7));a=0,o=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4)}}i(A);var j=!1;function U(e,t,n,i){T(e,0+(i?1:0),3),function(e,t,n,i){P(e),i&&(x(e,n),x(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){j||(!function(){var e,t,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(v[r]=n,e=0;e<1<<l[r];e++)m[n++]=r;for(m[n-1]=r,i=0,r=0;r<16;r++)for(A[r]=i,e=0;e<1<<u[r];e++)g[i++]=r;for(i>>=7;r<a;r++)for(A[r]=i<<7,e=0;e<1<<u[r]-7;e++)g[256+i++]=r;for(t=0;t<=c;t++)o[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,o[8]++;for(;e<=255;)f[2*e+1]=9,e++,o[9]++;for(;e<=279;)f[2*e+1]=7,e++,o[7]++;for(;e<=287;)f[2*e+1]=8,e++,o[8]++;for(_(f,287,o),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=I(e,5);y=new C(f,l,257,s,c),b=new C(p,u,0,a,c),w=new C(new Array(0),h,0,19,7)}(),j=!0),e.l_desc=new k(e.dyn_ltree,y),e.d_desc=new k(e.dyn_dtree,b),e.bl_desc=new k(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,R(e)},t._tr_stored_block=U,t._tr_flush_block=function(e,t,n,r){var i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),O(e,e.l_desc),O(e,e.d_desc),a=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),O(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?U(e,t,n,r):4===e.strategy||s===i?(T(e,2+(r?1:0),3),F(e,f,p)):(T(e,4+(r?1:0),3),function(e,t,n,r){var i;for(T(e,t-257,5),T(e,n-1,5),T(e,r-4,4),i=0;i<r;i++)T(e,e.bl_tree[2*d[i]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),F(e,e.dyn_ltree,e.dyn_dtree)),R(e),r&&P(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(m[n]+o+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){T(e,2,3),E(e,256,f),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},3706:(e,t,n)=>{"use strict";var r=n(9140),i=n(5886),o=n(7813),s=n(8135),a=n(301),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"===typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(s[n]);this._dict_set=!0}}function u(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}l.prototype.push=function(e,t){var n,s,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"===typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(l),a.next_out=0,a.avail_out=l),1!==(n=r.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},3743:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(9379),i=n(5043),o=n(1428),s=(n(2886),n(574)),a=(n(2378),n(5472)),c=n(9002),l=n(3204),u=n(579);const h=function(){const[e,t]=(0,i.useState)([]),[n,h]=(0,i.useState)([]),[d,f]=(0,i.useState)({name:"",email:"",phone:"",caseId:""}),p=(0,c.Zp)();return(0,i.useEffect)((()=>{(async()=>{try{const e=(0,a.rJ)(s.db,"clients"),n=(await(0,a.GG)(e)).docs.map((e=>(0,r.A)({id:e.id},e.data())));console.log("Loaded clients:",n),t(n)}catch(e){console.error("Error loading clients:",e)}})()}),[]),(0,u.jsxs)("div",{className:"page",children:[(0,u.jsx)(o.A,{}),(0,u.jsxs)("div",{className:"page-content",children:[(0,u.jsxs)("a",{href:"/addclientform",className:"buttons",children:[(0,u.jsx)(l.OiG,{}),"Add A Client"]}),(0,u.jsxs)("div",{className:"section-container",children:[(0,u.jsx)("div",{className:"section-header",children:(0,u.jsxs)("h2",{className:"section-title",children:[(0,u.jsx)("span",{className:"yellow-bar"})," Client List"]})}),(0,u.jsxs)("table",{className:"global-table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:["Client Name","Client Source","Email Address","Phone Number","Conflict"].map((e=>(0,u.jsxs)("th",{children:[e," \u2b0d "]},e)))})}),(0,u.jsx)("tbody",{children:e.length>0?e.map(((e,t)=>(0,u.jsxs)("tr",{className:"table-row",onClick:()=>{return t=e.id,void p("/client/".concat(t));var t},children:[(0,u.jsx)("td",{children:e.clientName}),(0,u.jsx)("td",{children:e.source}),(0,u.jsx)("td",{children:e.emailAddress}),(0,u.jsx)("td",{children:e.phoneNumber}),(0,u.jsx)("td",{children:e.hasConflict?"Yes":"No"})]},t))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"6",children:"No clients data available..."})})})]})]})]})]})}},3847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var r,i=n(5043),o=((r=i)&&r.__esModule,n(5173));t.propTypes={data:(0,o.oneOfType)([o.string,o.array,o.func]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool,enclosingCharacter:o.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},3909:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(5043);var r=n(579);const i=function(e){let{size:t="medium",text:n="Loading..."}=e;return(0,r.jsxs)("div",{className:"loading-spinner-container ".concat(t),children:[(0,r.jsx)("div",{className:"loading-spinner"}),n&&(0,r.jsx)("p",{className:"loading-text",children:n})]})}},3986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})},4050:()=>{},4111:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>I});n(4050);var i=n(9002),o=n(5668),s=n(7798),a=n(564),c=n(1837),l=n(2046),u=n(9986),h=n(3743),d=n(5513),f=n(2289),p=n(4172),g=n(6528),m=n(9170),v=n(6147),y=n(6720),b=n(2258),w=n(2424),A=n(3909),C=n(5043),k=n(579),S=e([m]);m=(S.then?(await S)():S)[0];const T=e=>!(!e.message||!e.message.includes("runtime.lastError"));function E(){const[e,t]=(0,C.useState)(!0),[n,r]=(0,C.useState)(null);return(0,C.useEffect)((()=>{(async()=>{try{console.log("=== CLIENT: Server Connection ==="),console.log("Attempting to connect to:","https://expenser-server-829602228195.us-central1.run.app");const e=await fetch("".concat("https://expenser-server-829602228195.us-central1.run.app","/test")),t=await e.json();console.log("=== CLIENT: Server Response ==="),console.log("Status:",e.status),console.log("Data:",t),r("connected")}catch(e){console.error("=== CLIENT: Server Connection Error ==="),console.error("Error Type:",e.name),console.error("Error Message:",e.message),r("error")}finally{t(!1)}})()}),[]),e?(0,k.jsx)(A.A,{size:"large",text:"Initializing application..."}):"error"===n?(0,k.jsxs)("div",{className:"server-error",children:[(0,k.jsx)("h2",{children:"Server Connection Error"}),(0,k.jsx)("p",{children:"Unable to connect to the server. Please check if the server is running."}),(0,k.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry Connection"})]}):(0,k.jsx)(w.A,{children:(0,k.jsx)(i.Kd,{children:(0,k.jsxs)(i.BV,{children:[(0,k.jsx)(i.qh,{path:"/",element:(0,k.jsx)(o.A,{})}),(0,k.jsx)(i.qh,{path:"/signin",element:(0,k.jsx)(s.A,{})}),(0,k.jsx)(i.qh,{path:"/signup",element:(0,k.jsx)(a.A,{})}),(0,k.jsx)(i.qh,{path:"/moreinfo",element:(0,k.jsx)(c.A,{})}),(0,k.jsx)(i.qh,{path:"/forgotpassword",element:(0,k.jsx)(l.A,{})}),(0,k.jsx)(i.qh,{path:"/timetracker",element:(0,k.jsx)(u.A,{})}),(0,k.jsx)(i.qh,{path:"/clientmanagement",element:(0,k.jsx)(h.A,{})}),(0,k.jsx)(i.qh,{path:"/addclient",element:(0,k.jsx)(d.A,{})}),(0,k.jsx)(i.qh,{path:"/client/:id",element:(0,k.jsx)(f.A,{})}),(0,k.jsx)(i.qh,{path:"/expensetracker",element:(0,k.jsx)(p.A,{})}),(0,k.jsx)(i.qh,{path:"/revenuetracker",element:(0,k.jsx)(g.A,{})}),(0,k.jsx)(i.qh,{path:"/document-drafting",element:(0,k.jsx)(m.A,{})}),(0,k.jsx)(i.qh,{path:"/document-drafting/upload",element:(0,k.jsx)(m.A,{})}),(0,k.jsx)(i.qh,{path:"/document-drafting/templates",element:(0,k.jsx)(v.A,{})}),(0,k.jsx)(i.qh,{path:"/document-drafting/library",element:(0,k.jsx)(y.A,{})}),(0,k.jsx)(i.qh,{path:"/emailviewer",element:(0,k.jsx)(b.A,{})}),(0,k.jsx)(i.qh,{path:"*",element:(0,k.jsxs)("div",{className:"not-found",children:[(0,k.jsx)("h2",{children:"404 - Page Not Found"}),(0,k.jsx)("p",{children:"The page you're looking for doesn't exist."})]})})]})})})}window.addEventListener("error",(e=>{T(e.error)&&e.preventDefault()}));const I=E;r()}catch(x){r(x)}}))},4172:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(9379),i=n(5043),o=n(5472),s=n(574),a=n(1428),c=(n(2886),n(703),n(1054)),l=n(3204),u=(n(9219),n(579));const h=function(e){let{closeModal:t,refreshExpenses:n}=e;const[a,c]=(0,i.useState)({date:"",item:"",amount:"",category:"",merchant:""}),[l,h]=(0,i.useState)([]),d=e=>{const{name:t,value:n}=e.target;c((0,r.A)((0,r.A)({},a),{},{[t]:n}))};return(0,i.useEffect)((()=>{(async()=>{try{const e=(0,o.rJ)(s.db,"categories"),t=(await(0,o.GG)(e)).docs.map((e=>(0,r.A)({id:e.id},e.data())));h(t)}catch(e){console.error("Error fetching categories: ",e)}})()}),[]),(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsx)("h2",{children:"Add an Expense"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,o.rJ)(s.db,"expenses");await(0,o.gS)(e,(0,r.A)((0,r.A)({},a),{},{date:new Date(a.date).toISOString().split("T")[0]})),console.log("Expense added successfully"),t()}catch(n){console.error("Error adding document: ",n)}},children:[(0,u.jsxs)("label",{className:"label",children:["Transaction Date:",(0,u.jsx)("input",{className:"field",type:"date",name:"date",value:a.date,onChange:d,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Item Name:",(0,u.jsx)("input",{className:"field",type:"text",name:"item",value:a.item,onChange:d,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Amount:",(0,u.jsx)("input",{className:"field",type:"number",name:"amount",value:a.amount,onChange:d,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Merchant:",(0,u.jsx)("input",{className:"field",type:"text",name:"merchant",value:a.merchant,onChange:d,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Category:",(0,u.jsxs)("select",{className:"field",name:"category",value:a.category,onChange:d,required:!0,children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),l.map((e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,u.jsx)("button",{type:"submit",className:"modal-button save",children:"Add Expense"})]}),(0,u.jsx)("button",{className:"cancel-button",onClick:t,children:"Close"})]})})};const d=function(e){let{closeModal:t,expenseId:n,refreshExpenses:a}=e;const[c,l]=(0,i.useState)({date:"",item:"",amount:"",category:"",merchant:""}),[h,d]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{const e=(0,o.H9)(s.db,"expenses",n),t=await(0,o.x7)(e);t.exists()?l(t.data()):console.error("No such expense found!")}catch(e){console.error("Error fetching expense: ",e)}})()}),[n]),(0,i.useEffect)((()=>{(async()=>{try{const e=(0,o.rJ)(s.db,"categories"),t=(await(0,o.GG)(e)).docs.map((e=>({id:e.id,name:e.data().name||"Unnamed Category"})));d(t)}catch(e){console.error("Error fetching categories: ",e)}})()}),[]);const f=e=>{const{name:t,value:n}=e.target;l((0,r.A)((0,r.A)({},c),{},{[t]:n}))};return(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsx)("h2",{children:"Edit Expense"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,o.H9)(s.db,"expenses",n);await(0,o.mZ)(e,c),console.log("Expense updated successfully"),t(),a&&a()}catch(r){console.error("Error updating document: ",r)}},children:[(0,u.jsxs)("label",{className:"label",children:["Transaction Date:",(0,u.jsx)("input",{className:"field",type:"date",name:"date",value:c.date,onChange:f,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Item Name:",(0,u.jsx)("input",{className:"field",type:"text",name:"item",value:c.item,onChange:f,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Amount:",(0,u.jsx)("input",{className:"field",type:"number",name:"amount",value:c.amount,onChange:f,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Merchant:",(0,u.jsx)("input",{className:"field",type:"text",name:"merchant",value:c.merchant,onChange:f,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Category:",(0,u.jsxs)("select",{className:"field",name:"category",value:c.category,onChange:f,required:!0,children:[(0,u.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),h.map((e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,u.jsx)("button",{type:"submit",className:"modal-button save",children:"Save Changes"})]}),(0,u.jsx)("button",{className:"cancel-button",onClick:t,children:"Close"})]})})};const f=function(e){let{closeModal:t,expenseId:n,refreshExpenses:r}=e;return(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsx)("h2",{children:"Delete Expense"}),(0,u.jsx)("p",{children:"Are you sure you want to delete this expense? This action cannot be undone."}),(0,u.jsxs)("div",{className:"button-group",children:[(0,u.jsx)("button",{className:"modal-button del",onClick:async()=>{try{const e=(0,o.H9)(s.db,"expenses",n);await(0,o.kd)(e),console.log("Expense deleted successfully"),r&&r(),t()}catch(e){console.error("Error deleting expense: ",e)}},children:"Confirm Delete"}),(0,u.jsx)("button",{className:"cancel-button",onClick:t,children:"Cancel"})]})]})})};var p=n(2378),g=n(1286);const m=function(){const[e,t]=(0,i.useState)(!1),[n,m]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null),[A,C]=(0,i.useState)([]),[k,S]=(0,i.useState)(0),x=async()=>{try{const e=(0,o.rJ)(s.db,"expenses"),t=(await(0,o.GG)(e)).docs.map((e=>{const t=e.data();return(0,r.A)((0,r.A)({id:e.id},t),{},{amount:parseFloat(t.amount||0),date:t.date?new Date(t.date).toLocaleDateString():"N/A"})}));C(t);const n=t.reduce(((e,t)=>e+(t.amount||0)),0);S(n)}catch(e){console.error("Error fetching expenses: ",e)}};return(0,i.useEffect)((()=>{x()}),[]),(0,u.jsxs)("div",{className:"page",children:[(0,u.jsx)(a.A,{}),(0,u.jsxs)("div",{className:"page-content",children:[(0,u.jsxs)("div",{className:"header",children:[(0,u.jsx)("h3",{children:"Expense Tracker"}),(0,u.jsx)("img",{src:c.A,alt:"dots",className:"dots"})]}),(0,u.jsx)("div",{className:"revexp-totals",children:(0,u.jsxs)("div",{className:"revexp-header",children:[(0,u.jsx)("span",{className:"yellow-bar exp"}),(0,u.jsx)("h2",{className:"revexp-title",children:"Your total expenses"}),(0,u.jsx)("span",{className:"revexp-total",children:(0,u.jsxs)("strong",{children:["$",k.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})})]})}),(0,u.jsx)("div",{className:"expense-buttons",children:(0,u.jsxs)(p.CSVLink,{filename:"your-expenses.csv",data:A,className:"buttons",children:[(0,u.jsx)(l.Mbn,{}),"Export as CSV"]})}),(0,u.jsxs)("div",{className:"table-container",children:[(0,u.jsxs)("div",{className:"table-header exp",children:[(0,u.jsxs)("div",{className:"exp-spaced",children:[(0,u.jsx)("span",{className:"yellow-bar exp"}),(0,u.jsx)("h2",{className:"table-title",children:"My Expenses"})]}),(0,u.jsx)(g.A,{bg:"white",textColor:"#222222",icon:l.OiG,text:"Add an Expense",onClick:()=>t(!0)})]}),(0,u.jsxs)("table",{className:"global-table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:["Item","Transaction date","Amount","Category","Merchant","Actions"].map((e=>(0,u.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,u.jsx)("tbody",{children:A.length>0?A.map((e=>(0,u.jsxs)("tr",{className:"table-row",children:[(0,u.jsx)("td",{children:e.item||"N/A"}),(0,u.jsx)("td",{children:e.date}),(0,u.jsxs)("td",{children:["$",e.amount.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")]}),(0,u.jsx)("td",{children:e.category||"N/A"}),(0,u.jsx)("td",{children:e.merchant||"N/A"}),(0,u.jsxs)("td",{children:[(0,u.jsx)(l.F7,{className:"icon edit-icon",onClick:()=>{return t=e.id,w(t),void m(!0);var t}}),(0,u.jsx)(l.qbC,{className:"icon delete-icon",onClick:()=>{return t=e.id,w(t),void y(!0);var t}})]})]},e.id))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"6",children:"No expense data available..."})})})]})]})]}),e&&(0,u.jsx)(h,{closeModal:()=>{t(!1),x()}}),n&&(0,u.jsx)(d,{closeModal:()=>{m(!1),x()},expenseId:b}),v&&(0,u.jsx)(f,{closeModal:()=>{y(!1),x()},expenseId:b})]})}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var A=Array.isArray,C=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===o?"."+I(c,0):o,A(s)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),_(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",A(e))for(var l=0;l<e.length;l++){var u=o+I(a=e[l],l);c+=_(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=_(a=a.value,t,i,u=o+I(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function R(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},M={transition:null},F={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)C.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},4251:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4266:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4558:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6562);function i(e,t,n){return e.set((0,r.A)(e,t),n),n}},4636:()=>{},4705:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o})},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5149:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8195);function i(e,t,n){(0,r.A)(e,t),t.set(e,n)}},5173:(e,t,n)=>{e.exports=n(1497)()},5415:(e,t,n)=>{"use strict";var r=n(5886),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,h,d,f){var p,g,m,v,y,b,w,A,C,k=f.bits,S=0,x=0,T=0,E=0,I=0,_=0,R=0,P=0,N=0,M=0,F=null,O=0,D=new r.Buf16(16),L=new r.Buf16(16),j=null,U=0;for(S=0;S<=i;S++)D[S]=0;for(x=0;x<l;x++)D[t[n+x]]++;for(I=k,E=i;E>=1&&0===D[E];E--);if(I>E&&(I=E),0===E)return u[h++]=20971520,u[h++]=20971520,f.bits=1,0;for(T=1;T<E&&0===D[T];T++);for(I<T&&(I=T),P=1,S=1;S<=i;S++)if(P<<=1,(P-=D[S])<0)return-1;if(P>0&&(0===e||1!==E))return-1;for(L[1]=0,S=1;S<i;S++)L[S+1]=L[S]+D[S];for(x=0;x<l;x++)0!==t[n+x]&&(d[L[t[n+x]]++]=x);if(0===e?(F=j=d,b=19):1===e?(F=o,O-=257,j=s,U-=257,b=256):(F=a,j=c,b=-1),M=0,x=0,S=T,y=h,_=I,R=0,m=-1,v=(N=1<<I)-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){w=S-R,d[x]<b?(A=0,C=d[x]):d[x]>b?(A=j[U+d[x]],C=F[O+d[x]]):(A=96,C=0),p=1<<S-R,T=g=1<<_;do{u[y+(M>>R)+(g-=p)]=w<<24|A<<16|C}while(0!==g);for(p=1<<S-1;M&p;)p>>=1;if(0!==p?(M&=p-1,M+=p):M=0,x++,0===--D[S]){if(S===E)break;S=t[n+d[x]]}if(S>I&&(M&v)!==m){for(0===R&&(R=I),y+=T,P=1<<(_=S-R);_+R<E&&!((P-=D[_+R])<=0);)_++,P<<=1;if(N+=1<<_,1===e&&N>852||2===e&&N>592)return 1;u[m=M&v]=I<<24|_<<16|y-h}}return 0!==M&&(u[y+M]=S-R<<24|64<<16),f.bits=I,0}},5472:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>X,gS:()=>za,rJ:()=>Ls,kd:()=>qa,H9:()=>js,x7:()=>Da,GG:()=>ja,aU:()=>qs,P:()=>Ca,BN:()=>Ua,mZ:()=>Ba,_M:()=>Sa});var r,i,o=n(7150),s=n(8812),a=n(443),c=n(7700),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function a(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new o([0|e],0>e?-1:0)})):new o([0|e],0>e?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return g(c(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}var l=a(0),h=a(1),d=a(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function g(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(h)}function m(e,t){return e.add(g(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new y(l,l);if(p(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(p(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=h,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=A(n,1),o=A(r,1);for(r=A(r,2),n=A(n,2);!f(r);){var s=o.add(r);0>=s.l(e)&&(i=i.add(n),o=s),r=A(r,1),n=A(n,1)}return t=m(e,i.j(t)),new y(i,t)}for(i=l;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=c(n)).j(t);p(s)||0<s.l(e);)s=(o=c(n-=r)).j(t);f(o)&&(o=h),i=i.add(o),e=m(e,s)}return new y(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function A(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new o(i,e.h)}(e=o.prototype).m=function(){if(p(this))return-g(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+g(this).toString(e);for(var t=c(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,o=((0<(n=m(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=m(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?g(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.i(i))+(65535&e.i(i)),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new o(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return l;if(p(this))return p(e)?g(this).j(g(e)):g(g(this).j(e));if(p(e))return g(this.j(g(e)));if(0>this.l(d)&&0>e.l(d))return c(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.i(r)>>>16,a=65535&this.i(r),u=e.i(i)>>>16,h=65535&e.i(i);n[2*r+2*i]+=a*h,v(n,2*r+2*i),n[2*r+2*i+1]+=s*h,v(n,2*r+2*i+1),n[2*r+2*i+1]+=a*u,v(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,v(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=c(Math.pow(n,8)),i=l,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=c(Math.pow(n,s)),i=i.j(s).add(c(a))):i=(i=i.j(r)).add(c(a))}return i},r=u.Integer=o}).apply("undefined"!==typeof l?l:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,d,f,p,g,m,v,y,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function l(e,t,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function C(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function k(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function x(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function T(e){return/^[\s\xa0]*$/.test(e)}function E(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function I(e){return I[" "](e),e}I[" "]=function(){};var _=-1!=E().indexOf("Gecko")&&!(-1!=E().toLowerCase().indexOf("webkit")&&-1==E().indexOf("Edge"))&&!(-1!=E().indexOf("Trident")||-1!=E().indexOf("MSIE"))&&-1==E().indexOf("Edge");function R(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<N.length;t++)n=N[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function F(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function O(e){i.setTimeout((()=>{throw e}),0)}function D(){var e=q;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var L=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new j),(e=>e.reset()));class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let U,B=!1,q=new class{constructor(){this.h=this.g=null}add(e,t){const n=L.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},z=()=>{const e=i.Promise.resolve(void 0);U=()=>{e.then(V)}};var V=()=>{for(var e;e=D();){try{e.h.call(e.g)}catch(n){O(n)}var t=L;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}B=!1};function H(){this.s=this.s,this.C=this.C}function W(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},W.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function G(e,t){if(W.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_){e:{try{I(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:X[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&G.aa.h.call(this)}}C(G,W);var X={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),Q=0;function J(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Q,this.da=this.fa=!1}function Z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function ee(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function te(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=te(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new J(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var ne="closure_lm_"+(1e6*Math.random()|0),re={};function ie(e,t,n,r,i){if(r&&r.once)return se(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ie(e,t[o],n,r,i);return null}return n=fe(n),e&&e[Y]?e.K(t,n,s(r)?!!r.capture:!!r,i):oe(e,t,n,!1,r,i)}function oe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,c=he(e);if(c||(e[ne]=c=new $(e)),(n=c.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ue;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)K||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(le(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function se(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)se(e,t[o],n,r,i);return null}return n=fe(n),e&&e[Y]?e.L(t,n,s(r)?!!r.capture:!!r,i):oe(e,t,n,!0,r,i)}function ae(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ae(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=fe(n),e&&e[Y]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=te(o=e.g[t],n,r,i))&&(Z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=he(e))&&(t=e.g[t.toString()],e=-1,t&&(e=te(t,n,r,i)),(n=-1<e?t[e]:null)&&ce(n))}function ce(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[Y])ee(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(le(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=he(t))?(ee(n,e),0==n.h&&(n.src=null,t[ne]=null)):Z(e)}}}function le(e){return e in re?re[e]:re[e]="on"+e}function ue(e,t){if(e.da)e=!0;else{t=new G(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ce(e),e=n.call(r,t)}return e}function he(e){return(e=e[ne])instanceof $?e:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(e){return"function"===typeof e?e:(e[de]||(e[de]=function(t){return e.handleEvent(t)}),e[de])}function pe(){H.call(this),this.i=new $(this),this.M=this,this.F=null}function ge(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new W(t,e);else if(t instanceof W)t.target=t.target||e;else{var i=t;M(t=new W(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=me(s,r,!0,t)&&i}if(i=me(s=t.g=e,r,!0,t)&&i,i=me(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=me(s=t.g=n[o],r,!1,t)&&i}function me(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,c=s.ha||s.src;s.fa&&ee(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function ve(e,t,n){if("function"===typeof e)n&&(e=l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ye(e){e.g=ve((()=>{e.g=null,e.i&&(e.i=!1,ye(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}C(pe,H),pe.prototype[Y]=!0,pe.prototype.removeEventListener=function(e,t,n,r){ae(this,e,t,n,r)},pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Z(n[r]);delete t.g[e],t.h--}}this.F=null},pe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pe.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class be extends H{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ye(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(e){H.call(this),this.h=e,this.g={}}C(we,H);var Ae=[];function Ce(e){R(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ce(e)}),e),e.g={}}we.prototype.N=function(){we.aa.N.call(this),Ce(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=i.JSON.stringify,Se=i.JSON.parse,xe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Te(){}function Ee(e){return e.h||(e.h=e.i())}function Ie(){}Te.prototype.h=null;var _e={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Re(){W.call(this,"d")}function Pe(){W.call(this,"c")}C(Re,W),C(Pe,W);var Ne={},Me=null;function Fe(){return Me=Me||new pe}function Oe(e){W.call(this,Ne.La,e)}function De(e){const t=Fe();ge(t,new Oe(t))}function Le(e,t){W.call(this,Ne.STAT_EVENT,e),this.stat=t}function je(e){const t=Fe();ge(t,new Le(t,e))}function Ue(e,t){W.call(this,Ne.Ma,e),this.size=t}function Be(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function qe(){this.g=!0}function ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ke(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ne.La="serverreachability",C(Oe,W),Ne.STAT_EVENT="statevent",C(Le,W),Ne.Ma="timingevent",C(Ue,W),qe.prototype.xa=function(){this.g=!1},qe.prototype.info=function(){};var Ve,He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ke(){}function Ge(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new we(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}C(Ke,Te),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},Ve=new Ke;var Ye={},Qe={};function Je(e,t,n){e.L=1,e.v=kt(yt(t)),e.m=n,e.P=!0,Ze(e,null)}function Ze(e,t){e.F=Date.now(),tt(e),e.A=yt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Lt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Xe,e.g=xn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new be(l(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(Ae[0]=i.toString()),i=Ae);for(var o=0;o<i.length;o++){var s=ie(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?P(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),De(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function et(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qe:(n=Number(t.substring(n,r)),isNaN(n)?Ye:(r+=1)+n>t.length?Qe:(t=t.slice(r,r+n),e.C=r+n,t))}function tt(e){e.S=Date.now()+e.I,nt(e,e.I)}function nt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Be(l(e.ba,e),t)}function rt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function it(e){0==e.j.G||e.J||wn(e.j,e)}function ot(e){rt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,Ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function st(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ht(n.h,e)))if(!e.K&&ht(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bn(n),ln(n)}mn(n),je(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Be(l(n.Za,n),6e3));if(1>=ut(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else Cn(n,11)}else if((e.K||n.g==e)&&bn(n),!T(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const t=l[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=l[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(dt(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,Ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),s.K){ft(r.h,s);var a=s,c=r.L;c&&(a.I=c),a.B&&(rt(a),tt(a)),r.g=s}else gn(r);0<n.i.length&&hn(n)}else"stop"!=l[0]&&"close"!=l[0]||Cn(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Cn(n,7):cn(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}De()}catch(u){}}Ge.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==rn(e)?t.j():this.Y(e)},Ge.prototype.Y=function(e){try{if(e==this.g)e:{const d=rn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||on(this.g)))){this.J||4!=d||7==t||De(),rt(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=on(this.g);e="";var o=r.length,s=4==rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ot(this),it(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(c)){var u=c;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,je(12),ot(this),it(this);break e}ze(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,st(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=et(this,a),e==Qe){4==d&&(this.s=4,je(14),n=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ye){this.s=4,je(15),ze(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}ze(this.i,this.l,e,null),st(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),vn(h),h.M=!0,je(11))}}else ze(this.i,this.l,a,"[Invalid Chunked Response]"),ot(this),it(this)}else ze(this.i,this.l,a,null),st(this,a);4==d&&ot(this),this.o&&!this.J&&(4==d?wn(this.j,this):(this.o=!1,tt(this)))}else(function(e){const t={};e=(e.g&&2<=rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=F(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),ot(this),it(this)}}}catch(A){}},Ge.prototype.cancel=function(){this.J=!0,ot(this)},Ge.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(De(),je(17)),ot(this),this.s=2,it(this)):nt(this,this.S-e)};var at=class{constructor(e,t){this.g=e,this.map=t}};function ct(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ut(e){return e.h?1:e.g?e.g.size:0}function ht(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dt(e,t){e.g?e.g.add(t):e.h=t}function ft(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return k(e.i)}function gt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}ct.prototype.cancel=function(){if(this.i=pt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var mt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof vt){this.h=e.h,bt(this,e.j),this.o=e.o,this.g=e.g,wt(this,e.s),this.l=e.l;var t=e.i,n=new Mt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),At(this,n),this.m=e.m}else e&&(t=String(e).match(mt))?(this.h=!1,bt(this,t[1]||"",!0),this.o=St(t[2]||""),this.g=St(t[3]||"",!0),wt(this,t[4]),this.l=St(t[5]||"",!0),At(this,t[6]||"",!0),this.m=St(t[7]||"")):(this.h=!1,this.i=new Mt(null,this.h))}function yt(e){return new vt(e)}function bt(e,t,n){e.j=n?St(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function At(e,t,n){t instanceof Mt?(e.i=t,function(e,t){t&&!e.j&&(Ft(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ot(this,t),Lt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=xt(t,Pt)),e.i=new Mt(t,e.h))}function Ct(e,t,n){e.i.set(t,n)}function kt(e){return Ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function St(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Tt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xt(t,It,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(xt(t,It,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xt(n,"/"==n.charAt(0)?Rt:_t,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",xt(n,Nt)),e.join("")};var Et,It=/[#\/\?@]/g,_t=/[#\?:]/g,Rt=/[#\?]/g,Pt=/[#\?@]/g,Nt=/#/g;function Mt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ft(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ot(e,t){Ft(e),t=jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Dt(e,t){return Ft(e),t=jt(e,t),e.g.has(t)}function Lt(e,t,n){Ot(e,t),0<n.length&&(e.i=null,e.g.set(jt(e,t),k(n)),e.h+=n.length)}function jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ut(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Bt(){this.g=new xe}function qt(e,t,n){const r=n||"";try{gt(e,(function(e,n){let i=e;s(e)&&(i=ke(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Vt(e,t){pe.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ht(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Wt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Kt(e)}function Kt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Gt(e){let t="";return R(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Xt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Gt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ct(e,t,n))}function Yt(e){pe.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Mt.prototype).add=function(e,t){Ft(this),this.i=null,e=jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ft(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Ft(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Ft(this);let t=[];if("string"===typeof e)Dt(this,e)&&(t=t.concat(this.g.get(jt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ft(this),this.i=null,Dt(this,e=jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},C(zt,Te),zt.prototype.g=function(){return new Vt(this.l,this.j)},zt.prototype.i=(Et={},function(){return Et}),C(Vt,pe),(e=Vt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Kt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kt(this)),this.g&&(this.readyState=3,Kt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ht(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wt(this):Kt(this),3==this.readyState&&Ht(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Wt(this))},e.Qa=function(e){this.g&&(this.response=e,Wt(this))},e.ga=function(){this.g&&Wt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),C(Yt,pe);var Qt=/^https?$/i,Jt=["POST","PUT"];function Zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),tn(e)}function $t(e){e.A||(e.A=!0,ge(e,"complete"),ge(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=rn(e)||2!=e.Z()))if(e.u&&4==rn(e))ve(e.Ea,0,e);else if(ge(e,"readystatechange"),4==rn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(mt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Qt.test(s?s.toLowerCase():"")}n=o}if(n)ge(e,"complete"),ge(e,"success");else{e.m=6;try{var a=2<rn(e)?e.g.statusText:""}catch(c){a=""}e.l=a+" ["+e.Z()+"]",$t(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ge(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function nn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function rn(e){return e.g?e.g.readyState:0}function on(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(S){return null}}function sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new qe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,e),this.cb=sn("retryDelaySeedMs",1e4,e),this.Wa=sn("forwardChannelMaxRetries",2,e),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ct(e&&e.concurrentRequestLimit),this.Da=new Bt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function cn(e){if(un(e),3==e.G){var t=e.U++,n=yt(e.I);if(Ct(n,"SID",e.K),Ct(n,"RID",t),Ct(n,"TYPE","terminate"),fn(e,n),(t=new Ge(e,e.j,t)).L=2,t.v=kt(yt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=xn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),tt(t)}kn(e)}function ln(e){e.g&&(vn(e),e.g.cancel(),e.g=null)}function un(e){ln(e),e.u&&(i.clearTimeout(e.u),e.u=null),bn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function hn(e){if(!lt(e.h)&&!e.s){e.s=!0;var t=e.Ga;U||z(),B||(U(),B=!0),q.add(t,e),e.B=0}}function dn(e,t){var n;n=t?t.l:e.U++;const r=yt(e.I);Ct(r,"SID",e.K),Ct(r,"RID",n),Ct(r,"AID",e.T),fn(e,r),e.m&&e.o&&Xt(r,e.m,e.o),n=new Ge(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=pn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),dt(e.h,n),Je(n,r,t)}function fn(e,t){e.H&&R(e.H,(function(e,n){Ct(t,n,e)})),e.l&&gt({},(function(e,n){Ct(t,n,e)}))}function pn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?l(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{qt(a,e,"req"+n+"_")}catch(A){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function gn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;U||z(),B||(U(),B=!0),q.add(t,e),e.v=0}}function mn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Be(l(e.Fa,e),An(e,e.v)),e.v++,!0)}function vn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function yn(e){e.g=new Ge(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=yt(e.qa);Ct(t,"RID","rpc"),Ct(t,"SID",e.K),Ct(t,"AID",e.T),Ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&Ct(t,"TO",e.ja),Ct(t,"TYPE","xmlhttp"),fn(e,t),e.m&&e.o&&Xt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=kt(yt(t)),n.m=null,n.P=!0,Ze(n,e)}function bn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function wn(e,t){var n=null;if(e.g==t){bn(e),vn(e),e.g=null;var r=2}else{if(!ht(e.h,t))return;n=t.D,ft(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;ge(r=Fe(),new Ue(r,n)),hn(e)}else gn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(ut(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Be(l(e.Ga,e,t),An(e,e.B)),e.B++,!0))}(e,t)||2==r&&mn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Cn(e,5);break;case 4:Cn(e,10);break;case 3:Cn(e,6);break;default:Cn(e,2)}}function An(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function Cn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.fb,e),r=e.Xa;const t=!r;r=new vt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||bt(r,"https"),kt(r),t?function(e,t){const n=new qe;if(i.Image){const r=new Image;r.onload=u(Ut,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ut,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ut,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ut,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new qe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ut(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ut(0,0,!0,t):Ut(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ut(0,0,!1,t)}))}(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),kn(e),un(e)}function kn(e){if(e.G=0,e.ka=[],e.l){const t=pt(e.h);0==t.length&&0==e.i.length||(x(e.ka,t),x(e.ka,e.i),e.h.i.length=0,k(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof vt?yt(n):new vt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),wt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new vt(null);r&&bt(s,r),t&&(s.g=t),o&&wt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&Ct(r,n,t),Ct(r,"VER",e.la),fn(e,r),r}function xn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Yt(new zt({eb:n})):new Yt(e.pa)).Ha(e.J),t}function Tn(){}function En(){}function In(e,t){pe.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!T(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pn(this)}function _n(e){Re.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rn(){Pe.call(this),this.status=1}function Pn(e){this.g=e}(e=Yt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ve.g(),this.v=this.o?Ee(this.o):Ee(Ve),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Zt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Jt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Zt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ge(this,"complete"),ge(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Yt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch(Et){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Et){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Se(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),hn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ge(this,this.j,e);let o=this.o;if(this.S&&(o?(o=P(o),M(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pn(this,i,t),Ct(n=yt(this.I),"RID",e),Ct(n,"CVER",22),this.D&&Ct(n,"X-HTTP-Session-Id",this.D),fn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Gt(o)))+"&"+t:this.m&&Xt(n,this.m,o)),dt(this.h,i),this.Ua&&Ct(n,"TYPE","init"),this.P?(Ct(n,"$req",t),Ct(n,"SID","null"),i.T=!0,Je(i,n,null)):Je(i,n,t),this.G=2}}else 3==this.G&&(e?dn(this,e):0==this.i.length||lt(this.h)||dn(this))},e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Be(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),ln(this),yn(this))},e.Za=function(){null!=this.C&&(this.C=null,ln(this),mn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Tn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},En.prototype.g=function(e,t){return new In(e,t)},C(In,pe),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){cn(this.g)},In.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ke(e),e=n);t.i.push(new at(t.Ya++,e)),3==t.G&&hn(t)},In.prototype.N=function(){this.g.l=null,delete this.j,cn(this.g),delete this.g,In.aa.N.call(this)},C(_n,Re),C(Rn,Pe),C(Pn,Tn),Pn.prototype.ua=function(){ge(this.g,"a")},Pn.prototype.ta=function(e){ge(this.g,new _n(e))},Pn.prototype.sa=function(e){ge(this.g,new Rn)},Pn.prototype.ra=function(){ge(this.g,"b")},En.prototype.createWebChannel=En.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,y=w.createWebChannelTransport=function(){return new En},v=w.getStatEventTarget=function(){return Fe()},m=w.Event=Ne,g=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,p=w.ErrorCode=He,We.COMPLETE="complete",f=w.EventType=We,Ie.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",pe.prototype.listen=pe.prototype.K,d=w.WebChannel=Ie,w.FetchXmlHttpFactory=zt,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,h=w.XhrIo=Yt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const A="@firebase/firestore";class C{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");let k="10.14.0";const S=new a.Vy("@firebase/firestore");function x(){return S.logLevel}function T(e){if(S.logLevel<=a.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_);S.debug("Firestore (".concat(k,"): ").concat(e),...i)}}function E(e){if(S.logLevel<=a.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_);S.error("Firestore (".concat(k,"): ").concat(e),...i)}}function I(e){if(S.logLevel<=a.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_);S.warn("Firestore (".concat(k,"): ").concat(e),...i)}}function _(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(k,") INTERNAL ASSERTION FAILED: ")+e;throw E(t),new Error(t)}function P(e,t){e||R()}function N(e,t){return e}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class O{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class D{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(C.UNAUTHENTICATED)))}shutdown(){}}class j{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){P(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new O;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new O,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new O)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(P("string"==typeof t.accessToken),new D(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new C(e)}}class B{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=C.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class q{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new B(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(C.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){P(void 0===this.o);const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(P("string"==typeof e.token),this.R=e.token,new z(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function H(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class W{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=H(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function K(e,t){return e<t?-1:e>t?1:0}function G(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class X{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return X.fromMillis(Date.now())}static fromDate(e){return X.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new X(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new X(0,0))}static max(){return new Y(new X(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Q{constructor(e,t,n){void 0===t?t=0:t>e.length&&R(),void 0===n?n=e.length-t:n>e.length-t&&R(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Q.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Q?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class J extends Q{construct(e,t,n){return new J(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new J(e)}static emptyPath(){return new J([])}}const Z=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $ extends Q{construct(e,t,n){return new $(e,t,n)}static isValidIdentifier(e){return Z.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new F(M.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $(t)}static emptyPath(){return new $([])}}class ee{constructor(e){this.path=e}static fromPath(e){return new ee(J.fromString(e))}static fromName(e){return new ee(J.fromString(e).popFirst(5))}static empty(){return new ee(J.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===J.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return J.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new J(e.slice()))}}class te{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}te.UNKNOWN_ID=-1;function ne(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(1e9===r?new X(n+1,0):new X(n,r));return new ie(i,ee.empty(),t)}function re(e){return new ie(e.readTime,e.key,-1)}class ie{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ie(Y.min(),ee.empty(),-1)}static max(){return new ie(Y.max(),ee.empty(),-1)}}function oe(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ee.comparator(e.documentKey,t.documentKey),0!==n?n:K(e.largestBatchId,t.largestBatchId))}const se="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ce(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==se)throw e;T("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(e){return le.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,n)=>{t(e)}))}static reject(e){return new le(((t,n)=>{n(e)}))}static waitFor(e){return new le(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=le.resolve(!1);for(const n of e)t=t.next((e=>e?le.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new le(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new le(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ue(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function he(e){return"IndexedDbTransactionError"===e.name}class de{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function fe(e){return null==e}function pe(e){return 0===e&&1/e==-1/0}function ge(e){return"number"==typeof e&&Number.isInteger(e)&&!pe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}de.oe=-1;const me=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ve=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ye=ve,be=[...ye,"indexConfiguration","indexState","indexEntries"];function we(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ae(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ce(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ke{constructor(e,t){this.comparator=e,this.root=t||xe.EMPTY}insert(e,t){return new ke(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Se(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Se(this.root,e,this.comparator,!1)}getReverseIterator(){return new Se(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Se(this.root,e,this.comparator,!0)}}class Se{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xe{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:xe.RED,this.left=null!=r?r:xe.EMPTY,this.right=null!=i?i:xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new xe(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return xe.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw R();if(this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1,xe.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(e,t,n,r,i){return this}insert(e,t,n){return new xe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Te{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ee(this.data.getIterator())}getIteratorFrom(e){return new Ee(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Te))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Te(this.comparator);return t.data=e,t}}class Ee{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ie{constructor(e){this.fields=e,e.sort($.comparator)}static empty(){return new Ie([])}unionWith(e){let t=new Te($.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ie(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return G(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class _e extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Re{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new _e("Invalid base64 string: "+e):e}}(e);return new Re(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Re(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Re.EMPTY_BYTE_STRING=new Re("");const Pe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ne(e){if(P(!!e),"string"==typeof e){let t=0;const n=Pe.exec(e);if(P(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Me(e.seconds),nanos:Me(e.nanos)}}function Me(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fe(e){return"string"==typeof e?Re.fromBase64String(e):Re.fromUint8Array(e)}function Oe(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function De(e){const t=e.mapValue.fields.__previous_value__;return Oe(t)?De(t):t}function Le(e){const t=Ne(e.mapValue.fields.__local_write_time__.timestampValue);return new X(t.seconds,t.nanos)}class je{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class Ue{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ue("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ue&&e.projectId===this.projectId&&e.database===this.database}}const Be={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qe(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oe(e)?4:rt(e)?9007199254740991:tt(e)?10:11:R()}function ze(e,t){if(e===t)return!0;const n=qe(e);if(n!==qe(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Le(e).isEqual(Le(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ne(e.timestampValue),r=Ne(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fe(e.bytesValue).isEqual(Fe(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Me(e.geoPointValue.latitude)===Me(t.geoPointValue.latitude)&&Me(e.geoPointValue.longitude)===Me(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Me(e.integerValue)===Me(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Me(e.doubleValue),r=Me(t.doubleValue);return n===r?pe(n)===pe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return G(e.arrayValue.values||[],t.arrayValue.values||[],ze);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(we(n)!==we(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ze(n[i],r[i])))return!1;return!0}(e,t);default:return R()}}function Ve(e,t){return void 0!==(e.values||[]).find((e=>ze(e,t)))}function He(e,t){if(e===t)return 0;const n=qe(e),r=qe(t);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Me(e.integerValue||e.doubleValue),r=Me(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return We(e.timestampValue,t.timestampValue);case 4:return We(Le(e),Le(t));case 5:return K(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Fe(e),r=Fe(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=K(n[i],r[i]);if(0!==e)return e}return K(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=K(Me(e.latitude),Me(t.latitude));return 0!==n?n:K(Me(e.longitude),Me(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ke(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},c=null===(n=s.value)||void 0===n?void 0:n.arrayValue,l=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=K((null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0,(null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Ke(c,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Be.mapValue&&t===Be.mapValue)return 0;if(e===Be.mapValue)return 1;if(t===Be.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=K(r[s],o[s]);if(0!==e)return e;const t=He(n[r[s]],i[o[s]]);if(0!==t)return t}return K(r.length,o.length)}(e.mapValue,t.mapValue);default:throw R()}}function We(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return K(e,t);const n=Ne(e),r=Ne(t),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function Ke(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=He(n[i],r[i]);if(e)return e}return K(n.length,r.length)}function Ge(e){return Xe(e)}function Xe(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ne(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Fe(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ee.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xe(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Xe(e.fields[i]));return n+"}"}(e.mapValue):R()}function Ye(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qe(e){return!!e&&"integerValue"in e}function Je(e){return!!e&&"arrayValue"in e}function Ze(e){return!!e&&"nullValue"in e}function $e(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function et(e){return!!e&&"mapValue"in e}function tt(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ae(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=nt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class it{constructor(e){this.value=e}static empty(){return new it({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!et(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nt(t)}setAll(e){let t=$.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());et(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ze(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];et(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ae(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new it(nt(this.value))}}function ot(e){const t=[];return Ae(e.fields,((e,n)=>{const r=new $([e]);if(et(n)){const e=ot(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ie(t)}class st{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new st(e,0,Y.min(),Y.min(),Y.min(),it.empty(),0)}static newFoundDocument(e,t,n,r){return new st(e,1,t,Y.min(),n,r,0)}static newNoDocument(e,t){return new st(e,2,t,Y.min(),Y.min(),it.empty(),0)}static newUnknownDocument(e,t){return new st(e,3,t,Y.min(),Y.min(),it.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=it.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=it.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class at{constructor(e,t){this.position=e,this.inclusive=t}}function ct(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ee.comparator(ee.fromName(s.referenceValue),n.key):He(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function lt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ze(e.position[n],t.position[n]))return!1;return!0}class ut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ht(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class dt{}class ft extends dt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new At(e,t,n):"array-contains"===t?new xt(e,n):"in"===t?new Tt(e,n):"not-in"===t?new Et(e,n):"array-contains-any"===t?new It(e,n):new ft(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ct(e,n):new kt(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(He(t,this.value)):null!==t&&qe(this.value)===qe(t)&&this.matchesComparison(He(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pt extends dt{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new pt(e,t)}matches(e){return gt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gt(e){return"and"===e.op}function mt(e){return vt(e)&&gt(e)}function vt(e){for(const t of e.filters)if(t instanceof pt)return!1;return!0}function yt(e){if(e instanceof ft)return e.field.canonicalString()+e.op.toString()+Ge(e.value);if(mt(e))return e.filters.map((e=>yt(e))).join(",");{const t=e.filters.map((e=>yt(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function bt(e,t){return e instanceof ft?function(e,t){return t instanceof ft&&e.op===t.op&&e.field.isEqual(t.field)&&ze(e.value,t.value)}(e,t):e instanceof pt?function(e,t){return t instanceof pt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&bt(n,t.filters[r])),!0)}(e,t):void R()}function wt(e){return e instanceof ft?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ge(e.value))}(e):e instanceof pt?function(e){return e.op.toString()+" {"+e.getFilters().map(wt).join(" ,")+"}"}(e):"Filter"}class At extends ft{constructor(e,t,n){super(e,t,n),this.key=ee.fromName(n.referenceValue)}matches(e){const t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ct extends ft{constructor(e,t){super(e,"in",t),this.keys=St("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kt extends ft{constructor(e,t){super(e,"not-in",t),this.keys=St("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function St(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ee.fromName(e.referenceValue)))}class xt extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Je(t)&&Ve(t.arrayValue,this.value)}}class Tt extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ve(this.value.arrayValue,t)}}class Et extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ve(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ve(this.value.arrayValue,t)}}class It extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Je(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ve(this.value.arrayValue,e)))}}class _t{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function Rt(e){return new _t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Pt(e){const t=N(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>yt(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),fe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ge(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ge(e))).join(",")),t.ue=e}return t.ue}function Nt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ht(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lt(e.startAt,t.startAt)&&lt(e.endAt,t.endAt)}function Mt(e){return ee.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ft{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ot(e,t,n,r,i,o,s,a){return new Ft(e,t,n,r,i,o,s,a)}function Dt(e){return new Ft(e)}function Lt(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function jt(e){return null!==e.collectionGroup}function Ut(e){const t=N(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Te($.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ut(r,n))})),e.has($.keyField().canonicalString())||t.ce.push(new ut($.keyField(),n))}return t.ce}function Bt(e){const t=N(e);return t.le||(t.le=qt(t,Ut(e))),t.le}function qt(e,t){if("F"===e.limitType)return Rt(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ut(e.field,t)}));const n=e.endAt?new at(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new at(e.startAt.position,e.startAt.inclusive):null;return Rt(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function zt(e,t){const n=e.filters.concat([t]);return new Ft(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vt(e,t,n){return new Ft(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ht(e,t){return Nt(Bt(e),Bt(t))&&e.limitType===t.limitType}function Wt(e){return"".concat(Pt(Bt(e)),"|lt:").concat(e.limitType)}function Kt(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>wt(e))).join(", "),"]")),fe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ge(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ge(e))).join(",")),"Target(".concat(t,")")}(Bt(e)),"; limitType=").concat(e.limitType,")")}function Gt(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ee.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ut(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ct(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ut(e),t))&&!(e.endAt&&!function(e,t,n){const r=ct(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ut(e),t))}(e,t)}function Xt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Yt(e){return(t,n)=>{let r=!1;for(const i of Ut(e)){const e=Qt(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qt(e,t,n){const r=e.field.isKeyField()?ee.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?He(r,i):R()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}class Jt{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ae(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ce(this.inner)}size(){return this.innerSize}}const Zt=new ke(ee.comparator);function $t(){return Zt}const en=new ke(ee.comparator);function tn(){let e=en;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function nn(e){let t=en;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function rn(){return sn()}function on(){return sn()}function sn(){return new Jt((e=>e.toString()),((e,t)=>e.isEqual(t)))}const an=new ke(ee.comparator),cn=new Te(ee.comparator);function ln(){let e=cn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const un=new Te(K);function hn(){return un}function dn(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pe(t)?"-0":t}}function fn(e){return{integerValue:""+e}}function pn(e,t){return ge(t)?fn(t):dn(e,t)}class gn{constructor(){this._=void 0}}function mn(e,t,n){return e instanceof bn?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Oe(t)&&(t=De(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wn?An(e,t):e instanceof Cn?kn(e,t):function(e,t){const n=yn(e,t),r=xn(n)+xn(e.Pe);return Qe(n)&&Qe(e.Pe)?fn(r):dn(e.serializer,r)}(e,t)}function vn(e,t,n){return e instanceof wn?An(e,t):e instanceof Cn?kn(e,t):n}function yn(e,t){return e instanceof Sn?function(e){return Qe(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class bn extends gn{}class wn extends gn{constructor(e){super(),this.elements=e}}function An(e,t){const n=Tn(t);for(const r of e.elements)n.some((e=>ze(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Cn extends gn{constructor(e){super(),this.elements=e}}function kn(e,t){let n=Tn(t);for(const r of e.elements)n=n.filter((e=>!ze(e,r)));return{arrayValue:{values:n}}}class Sn extends gn{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function xn(e){return Me(e.integerValue||e.doubleValue)}function Tn(e){return Je(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class En{constructor(e,t){this.version=e,this.transformResults=t}}class In{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _n(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Rn{}function Pn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qn(e.key,In.none()):new Dn(e.key,e.data,In.none());{const n=e.data,r=it.empty();let i=new Te($.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ln(e.key,r,new Ie(i.toArray()),In.none())}}function Nn(e,t,n){e instanceof Dn?function(e,t,n){const r=e.value.clone(),i=Un(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ln?function(e,t,n){if(!_n(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Un(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(jn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Mn(e,t,n,r){return e instanceof Dn?function(e,t,n,r){if(!_n(e.precondition,t))return n;const i=e.value.clone(),o=Bn(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ln?function(e,t,n,r){if(!_n(e.precondition,t))return n;const i=Bn(e.fieldTransforms,r,t),o=t.data;return o.setAll(jn(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return _n(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Fn(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=yn(r.transform,e||null);null!=i&&(null===n&&(n=it.empty()),n.set(r.field,i))}return n||null}function On(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&G(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wn&&t instanceof wn||e instanceof Cn&&t instanceof Cn?G(e.elements,t.elements,ze):e instanceof Sn&&t instanceof Sn?ze(e.Pe,t.Pe):e instanceof bn&&t instanceof bn}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dn extends Rn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ln extends Rn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jn(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Un(e,t,n){const r=new Map;P(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,vn(s,a,n[i]))}return r}function Bn(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,mn(e,o,t))}return r}class qn extends Rn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zn extends Rn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vn{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nn(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Mn(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Mn(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=on();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Pn(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Y.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ln())}isEqual(e){return this.batchId===e.batchId&&G(this.mutations,e.mutations,((e,t)=>On(e,t)))&&G(this.baseMutations,e.baseMutations,((e,t)=>On(e,t)))}}class Hn{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){P(e.mutations.length===n.length);let r=an;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Hn(e,t,n,r)}}class Wn{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Kn{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gn,Xn;function Yn(e){switch(e){default:return R();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function Qn(e){if(void 0===e)return E("GRPC error has no .code"),M.UNKNOWN;switch(e){case Gn.OK:return M.OK;case Gn.CANCELLED:return M.CANCELLED;case Gn.UNKNOWN:return M.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return M.INTERNAL;case Gn.UNAVAILABLE:return M.UNAVAILABLE;case Gn.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Gn.NOT_FOUND:return M.NOT_FOUND;case Gn.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Gn.ABORTED:return M.ABORTED;case Gn.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Gn.DATA_LOSS:return M.DATA_LOSS;default:return R()}}(Xn=Gn||(Gn={}))[Xn.OK=0]="OK",Xn[Xn.CANCELLED=1]="CANCELLED",Xn[Xn.UNKNOWN=2]="UNKNOWN",Xn[Xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xn[Xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xn[Xn.NOT_FOUND=5]="NOT_FOUND",Xn[Xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xn[Xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xn[Xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xn[Xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xn[Xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xn[Xn.ABORTED=10]="ABORTED",Xn[Xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xn[Xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xn[Xn.INTERNAL=13]="INTERNAL",Xn[Xn.UNAVAILABLE=14]="UNAVAILABLE",Xn[Xn.DATA_LOSS=15]="DATA_LOSS";let Jn=null;function Zn(){return new TextEncoder}const $n=new r([4294967295,4294967295],0);function er(e){const t=Zn().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function tr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,i],0),new r([o,s],0)]}class nr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new rr("Invalid padding: ".concat(t));if(n<0)throw new rr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new rr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new rr("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=r.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare($n)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=er(e),[n,r]=tr(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new nr(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=er(e),[n,r]=tr(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class rr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ir{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,or.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ir(Y.min(),r,new ke(K),$t(),ln())}}class or{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new or(n,t,ln(),ln(),ln())}}class sr{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class ar{constructor(e,t){this.targetId=e,this.me=t}}class cr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class lr{constructor(){this.fe=0,this.ge=dr(),this.pe=Re.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ln(),t=ln(),n=ln();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:R()}})),new or(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=dr()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,P(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ur{constructor(e){this.Le=e,this.Be=new Map,this.ke=$t(),this.qe=hr(),this.Qe=new ke(K)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:R()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Mt(i))if(0===n){const e=new ee(i.path);this.Ue(t,e,st.newNoDocument(e,Y.min()))}else P(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Jn||Jn.et(function(e,t,n,r,i){var o,s,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Fe(n).toUint8Array()}catch(e){if(e instanceof _e)return I("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new nr(o,r,i)}catch(e){return I(e instanceof rr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Mt(i.target)){const t=new ee(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,st.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=ln();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new ir(e,t,this.Qe,this.ke,n);return this.ke=$t(),this.qe=hr(),this.Qe=new ke(K),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new lr,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Te(K),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lr),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function hr(){return new ke(ee.comparator)}function dr(){return new ke(ee.comparator)}const fr={asc:"ASCENDING",desc:"DESCENDING"},pr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gr={and:"AND",or:"OR"};class mr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vr(e,t){return e.useProto3Json||fe(t)?t:{value:t}}function yr(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function br(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wr(e,t){return yr(e,t.toTimestamp())}function Ar(e){return P(!!e),Y.fromTimestamp(function(e){const t=Ne(e);return new X(t.seconds,t.nanos)}(e))}function Cr(e,t){return kr(e,t).canonicalString()}function kr(e,t){const n=function(e){return new J(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Sr(e){const t=J.fromString(e);return P(Hr(t)),t}function xr(e,t){return Cr(e.databaseId,t.path)}function Tr(e,t){const n=Sr(t);if(n.get(1)!==e.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ee(Rr(n))}function Er(e,t){return Cr(e.databaseId,t)}function Ir(e){const t=Sr(e);return 4===t.length?J.emptyPath():Rr(t)}function _r(e){return new J(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rr(e){return P(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Pr(e,t,n){return{name:xr(e,t),fields:n.value.mapValue.fields}}function Nr(e,t){let n;if(t instanceof Dn)n={update:Pr(e,t.key,t.value)};else if(t instanceof qn)n={delete:xr(e,t.key)};else if(t instanceof Ln)n={update:Pr(e,t.key,t.data),updateMask:Vr(t.fieldMask)};else{if(!(t instanceof zn))return R();n={verify:xr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof bn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sn)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw R()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:R()}(e,t.precondition)),n}function Mr(e,t){return{documents:[Er(e,t.path)]}}function Fr(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Er(e,i);const o=function(e){if(0!==e.length)return zr(pt.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Br(e.field),direction:Lr(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=vr(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Or(e){let t=Ir(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Dr(e);return t instanceof pt&&mt(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new ut(qr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,fe(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new at(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new at(n,t)}(n.endAt)),Ot(t,i,s,o,a,"F",c,l)}function Dr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qr(e.unaryFilter.field);return ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qr(e.unaryFilter.field);return ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qr(e.unaryFilter.field);return ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qr(e.unaryFilter.field);return ft.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}(e):void 0!==e.fieldFilter?function(e){return ft.create(qr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pt.create(e.compositeFilter.filters.map((e=>Dr(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return R()}}(e.compositeFilter.op))}(e):R()}function Lr(e){return fr[e]}function jr(e){return pr[e]}function Ur(e){return gr[e]}function Br(e){return{fieldPath:e.canonicalString()}}function qr(e){return $.fromServerFormat(e.fieldPath)}function zr(e){return e instanceof ft?function(e){if("=="===e.op){if($e(e.value))return{unaryFilter:{field:Br(e.field),op:"IS_NAN"}};if(Ze(e.value))return{unaryFilter:{field:Br(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($e(e.value))return{unaryFilter:{field:Br(e.field),op:"IS_NOT_NAN"}};if(Ze(e.value))return{unaryFilter:{field:Br(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Br(e.field),op:jr(e.op),value:e.value}}}(e):e instanceof pt?function(e){const t=e.getFilters().map((e=>zr(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ur(e.op),filters:t}}}(e):R()}function Vr(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Hr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Wr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Y.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Y.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Re.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kr{constructor(e){this.ct=e}}function Gr(e){const t=Or({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vt(t,t.limit,"L"):t}class Xr{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Me(e.integerValue));else if("doubleValue"in e){const n=Me(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),pe(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Ne(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Fe(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?rt(e)?this.dt(t,Number.MAX_SAFE_INTEGER):tt(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):R()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Me(s)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),ee.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Xr.vt=new Xr;class Yr{constructor(){this.un=new Qr}addToCollectionParentIndex(e,t){return this.un.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(ie.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(ie.min())}updateCollectionGroup(e,t,n){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Qr{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Te(J.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Te(J.comparator)).toArray()}}new Uint8Array(0);class Jr{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Jr(e,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(41943040,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);class Zr{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zr(0)}static kn(){return new Zr(-1)}}class $r{constructor(){this.changes=new Jt((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?le.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ei{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ti{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Mn(n.mutation,e,Ie.empty(),X.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ln()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ln();const r=rn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=tn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=rn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ln())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=$t();const o=sn(),s=sn();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ln)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Mn(s.mutation,t,s.mutation.getFieldMask(),X.now())):o.set(t.key,Ie.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ei(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=sn();let r=new ke(((e,t)=>e-t)),i=ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Ie.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||ln()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=on();c.forEach((e=>{if(!i.has(e)){const r=Pn(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return le.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ee.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):le.resolve(rn());let s=-1,a=i;return o.next((t=>le.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?le.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ln()))).next((e=>({batchId:s,changes:nn(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next((e=>{let t=tn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=tn();return this.indexManager.getCollectionParents(e,i).next((s=>le.forEach(s,(s=>{const a=function(e,t){return new Ft(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,st.newInvalidDocument(r)))}));let n=tn();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Mn(o.mutation,r,Ie.empty(),X.now()),Gt(t,r)&&(n=n.insert(e,r))})),n}))}}class ni{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return le.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ar(e.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Gr(e.bundledQuery),readTime:Ar(e.readTime)}}(t)),le.resolve()}}class ri{constructor(){this.overlays=new ke(ee.comparator),this.Ir=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rn();return le.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),le.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),le.resolve()}getOverlaysForCollection(e,t,n){const r=rn(),i=t.length+1,o=new ee(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return le.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ke(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=rn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return le.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Wn(t,n));let i=this.Ir.get(t);void 0===i&&(i=ln(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class ii{constructor(){this.sessionToken=Re.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}class oi{constructor(){this.Tr=new Te(si.Er),this.dr=new Te(si.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new si(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new si(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new ee(new J([])),n=new si(t,e),r=new si(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ee(new J([])),n=new si(t,e),r=new si(t,e+1);let i=ln();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new si(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class si{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ee.comparator(e.key,t.key)||K(e.wr,t.wr)}static Ar(e,t){return K(e.wr,t.wr)||ee.comparator(e.key,t.key)}}class ai{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Te(si.Er)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Vn(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.br=this.br.add(new si(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,t){return le.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new si(t,0),r=new si(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Te(K);return t.forEach((e=>{const t=new si(e,0),r=new si(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),le.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ee.isDocumentKey(i)||(i=i.child(""));const o=new si(new ee(i),0);let s=new Te(K);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.wr)),!0)}),o),le.resolve(this.Cr(s))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){P(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return le.forEach(t.mutations,(r=>{const i=new si(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new si(t,0),r=this.br.firstAfterOrEqual(n);return le.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ci{constructor(e){this.Mr=e,this.docs=new ke(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return le.resolve(n?n.document.mutableCopy():st.newInvalidDocument(t))}getEntries(e,t){let n=$t();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():st.newInvalidDocument(e))})),le.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=$t();const o=t.path,s=new ee(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||oe(re(s),n)<=0||(r.has(s.key)||Gt(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,t,n,r){R()}Or(e,t){return le.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new li(this)}getSize(e){return le.resolve(this.size)}}class li extends $r{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),le.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class ui{constructor(e){this.persistence=e,this.Nr=new Jt((e=>Pt(e)),Nt),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oi,this.targetCount=0,this.kr=Zr.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),le.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Zr(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Kn(t),le.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),le.waitFor(i).next((()=>r))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return le.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),le.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),le.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return le.resolve(n)}containsKey(e,t){return le.resolve(this.Br.containsKey(t))}}class hi{constructor(e,t){this.qr={},this.overlays={},this.Qr=new de(0),this.Kr=!1,this.Kr=!0,this.$r=new ii,this.referenceDelegate=e(this),this.Ur=new ui(this),this.indexManager=new Yr,this.remoteDocumentCache=function(e){return new ci(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Kr(t),this.Gr=new ni(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ri,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new ai(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new di(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return le.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class di extends ae{constructor(e){super(),this.currentSequenceNumber=e}}class fi{constructor(e){this.persistence=e,this.Jr=new oi,this.Yr=null}static Zr(e){return new fi(e)}get Xr(){if(this.Yr)return this.Yr;throw R()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),le.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),le.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,(n=>{const r=ee.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Y.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return le.or([()=>le.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class pi{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ln(),r=ln();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new pi(e,t.fromCache,n,r)}}class gi{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mi{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,c.nr)()?8:ue((0,c.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new gi;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(x()<=a.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Kt(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(x()<=a.$b.DEBUG&&T("QueryEngine","Query:",Kt(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(x()<=a.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Kt(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bt(t))):le.resolve())}Yi(e,t){if(Lt(t))return le.resolve(null);let n=Bt(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Vt(t,null,"F"),n=Bt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ln(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,Vt(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,r){return Lt(t)||r.isEqual(Y.min())?le.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?le.resolve(null):(x()<=a.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kt(t)),this.rs(e,o,t,ne(r,-1)).next((e=>e)))}))}ts(e,t){let n=new Te(Yt(e));return t.forEach(((t,r)=>{Gt(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return x()<=a.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Kt(t)),this.Ji.getDocumentsMatchingQuery(e,t,ie.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class vi{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ke(K),this._s=new Jt((e=>Pt(e)),Nt),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ti(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function yi(e,t,n,r){return new vi(e,t,n,r)}async function bi(e,t){const n=N(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=ln();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function wi(e){const t=N(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Ai(e,t,n){let r=ln(),i=ln();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=$t();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Y.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):T("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Ps:r,Is:i}}))}function Ci(e,t){const n=N(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ki(e,t){const n=N(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,le.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new Wr(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function Si(e,t,n){const r=N(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!he(e))throw e;T("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function xi(e,t,n){const r=N(e);let i=Y.min(),o=ln();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=N(e),i=r._s.get(n);return void 0!==i?le.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Bt(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Y.min(),n?o:ln()))).next((e=>(Ti(r,Xt(t),e),{documents:e,Ts:o})))))}function Ti(e,t,n){let r=e.us.get(t)||Y.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class Ei{constructor(){this.activeTargetIds=hn()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ii{constructor(){this.so=new Ei,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ei,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _i{_o(e){}shutdown(){}}class Ri{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pi=null;function Ni(){return null===Pi?Pi=268435456+Math.round(2147483648*Math.random()):Pi++,"0x"+Pi.toString(16)}const Mi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fi{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Oi="WebChannelConnection";class Di extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const o=Ni(),s=this.xo(e,t.toUriEncodedString());T("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,s,a,n).then((t=>(T("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw I("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+k,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Mi[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Ni();return new Promise(((o,s)=>{const a=new h;a.setWithCredentials(!0),a.listenOnce(f.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case p.NO_ERROR:const t=a.getResponseJson();T(Oi,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case p.TIMEOUT:T(Oi,"RPC '".concat(e,"' ").concat(i," timed out")),s(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=a.getStatus();if(T(Oi,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(t)>=0?t:M.UNKNOWN}(t.status);s(new F(e,t.message))}else s(new F(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new F(M.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{T(Oi,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);T(Oi,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}Bo(e,t,n){const r=Ni(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=y(),s=v(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");T(Oi,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=o.createWebChannel(l,a);let h=!1,f=!1;const p=new Fi({Io:t=>{f?T(Oi,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(T(Oi,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),T(Oi,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),b=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return b(u,d.EventType.OPEN,(()=>{f||(T(Oi,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.yo())})),b(u,d.EventType.CLOSE,(()=>{f||(f=!0,T(Oi,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.So())})),b(u,d.EventType.ERROR,(t=>{f||(f=!0,I(Oi,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.So(new F(M.UNAVAILABLE,"The operation could not be completed")))})),b(u,d.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];P(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){T(Oi,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Gn[e];if(void 0!==t)return Qn(t)}(t),i=s.message;void 0===n&&(n=M.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),f=!0,p.So(new F(n,i)),u.close()}else T(Oi,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.bo(i)}})),b(s,m.STAT_EVENT,(t=>{t.stat===g.PROXY?T(Oi,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&T(Oi,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.wo()}),0),p}}function Li(){return"undefined"!=typeof document?document:null}function ji(e){return new mr(e,!0)}class Ui{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Bi{constructor(e,t,n,r,i,o,s,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ui(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(E(t.toString()),E("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===M.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new F(M.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return T("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qi extends Bi{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:R()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(P(void 0===t||"string"==typeof t),Re.fromBase64String(t||"")):(P(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Re.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?M.UNKNOWN:Qn(e.code);return new F(t,e.message||"")}(s);n=new cr(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tr(e,r.document.name),o=Ar(r.document.updateTime),s=r.document.createTime?Ar(r.document.createTime):Y.min(),a=new it({mapValue:{fields:r.document.fields}}),c=st.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new sr(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Tr(e,r.document),o=r.readTime?Ar(r.readTime):Y.min(),s=st.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sr([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Tr(e,r.document),o=r.removedTargetIds||[];n=new sr([],o,i,null)}else{if(!("filter"in t))return R();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Kn(r,i),s=e.targetId;n=new ar(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Y.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Y.min():t.readTime?Ar(t.readTime):Y.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=_r(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Mt(r)?{documents:Mr(e,r)}:{query:Fr(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=br(e,t.resumeToken);const r=vr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Y.min())>0){n.readTime=yr(e,t.snapshotVersion.toTimestamp());const r=vr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=_r(this.serializer),t.removeTarget=e,this.a_(t)}}class zi extends Bi{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return P(!!e.streamToken),this.lastStreamToken=e.streamToken,P(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(P(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ar(e.updateTime):Ar(t);return n.isEqual(Y.min())&&(n=Ar(t)),new En(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ar(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=_r(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Nr(this.serializer,e)))};this.a_(t)}}class Vi extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Mo(e,kr(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new F(M.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Lo(e,kr(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new F(M.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Hi{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(E(t),this.D_=!1):T("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Wi{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{eo(this)&&(T("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=N(e);t.L_.add(4),await Gi(t),t.q_.set("Unknown"),t.L_.delete(4),await Ki(t)}(this))}))})),this.q_=new Hi(n,r)}}async function Ki(e){if(eo(e))for(const t of e.B_)await t(!0)}async function Gi(e){for(const t of e.B_)await t(!1)}function Xi(e,t){const n=N(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),$i(n)?Zi(n):wo(n).r_()&&Qi(n,t))}function Yi(e,t){const n=N(e),r=wo(n);n.N_.delete(t),r.r_()&&Ji(n,t),0===n.N_.size&&(r.r_()?r.o_():eo(n)&&n.q_.set("Unknown"))}function Qi(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wo(e).A_(t)}function Ji(e,t){e.Q_.xe(t),wo(e).R_(t)}function Zi(e){e.Q_=new ur({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),wo(e).start(),e.q_.v_()}function $i(e){return eo(e)&&!wo(e).n_()&&e.N_.size>0}function eo(e){return 0===N(e).L_.size}function to(e){e.Q_=void 0}async function no(e){e.q_.set("Online")}async function ro(e){e.N_.forEach(((t,n)=>{Qi(e,t)}))}async function io(e,t){to(e),$i(e)?(e.q_.M_(t),Zi(e)):e.q_.set("Unknown")}async function oo(e,t,n){if(e.q_.set("Online"),t instanceof cr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){T("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await so(e,n)}else if(t instanceof sr?e.Q_.Ke(t):t instanceof ar?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Y.min()))try{const t=await wi(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Re.EMPTY_BYTE_STRING,r.snapshotVersion)),Ji(e,t);const i=new Wr(r.target,t,n,r.sequenceNumber);Qi(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T("RemoteStore","Failed to raise snapshot:",t),await so(e,t)}}async function so(e,t,n){if(!he(t))throw t;e.L_.add(1),await Gi(e),e.q_.set("Offline"),n||(n=()=>wi(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{T("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ki(e)}))}function ao(e,t){return t().catch((n=>so(e,n,t)))}async function co(e){const t=N(e),n=Ao(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;lo(t);)try{const e=await Ci(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,uo(t,e)}catch(e){await so(t,e)}ho(t)&&fo(t)}function lo(e){return eo(e)&&e.O_.length<10}function uo(e,t){e.O_.push(t);const n=Ao(e);n.r_()&&n.V_&&n.m_(t.mutations)}function ho(e){return eo(e)&&!Ao(e).n_()&&e.O_.length>0}function fo(e){Ao(e).start()}async function po(e){Ao(e).p_()}async function go(e){const t=Ao(e);for(const n of e.O_)t.m_(n.mutations)}async function mo(e,t,n){const r=e.O_.shift(),i=Hn.from(r,t,n);await ao(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await co(e)}async function vo(e,t){t&&Ao(e).V_&&await async function(e,t){if(function(e){return Yn(e)&&e!==M.ABORTED}(t.code)){const n=e.O_.shift();Ao(e).s_(),await ao(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await co(e)}}(e,t),ho(e)&&fo(e)}async function yo(e,t){const n=N(e);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=eo(n);n.L_.add(3),await Gi(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ki(n)}async function bo(e,t){const n=N(e);t?(n.L_.delete(2),await Ki(n)):t||(n.L_.add(2),await Gi(n),n.q_.set("Unknown"))}function wo(e){return e.K_||(e.K_=function(e,t,n){const r=N(e);return r.w_(),new qi(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:no.bind(null,e),Ro:ro.bind(null,e),mo:io.bind(null,e),d_:oo.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),$i(e)?Zi(e):e.q_.set("Unknown")):(await e.K_.stop(),to(e))}))),e.K_}function Ao(e){return e.U_||(e.U_=function(e,t,n){const r=N(e);return r.w_(),new zi(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:po.bind(null,e),mo:vo.bind(null,e),f_:go.bind(null,e),g_:mo.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await co(e)):(await e.U_.stop(),e.O_.length>0&&(T("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))}))),e.U_}class Co{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new O,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Co(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ko(e,t){if(E("AsyncQueue","".concat(t,": ").concat(e)),he(e))return new F(M.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class So{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ee.comparator(t.key,n.key):(e,t)=>ee.comparator(e.key,t.key),this.keyedMap=tn(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new So(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof So))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new So;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xo{constructor(){this.W_=new ke(ee.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):R():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class To{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new To(e,t,So.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ht(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Eo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Io{constructor(){this.queries=_o(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=N(e),r=n.queries;n.queries=_o(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new F(M.ABORTED,"Firestore shutting down"))}}function _o(){return new Jt((e=>Wt(e)),Ht)}async function Ro(e,t){const n=N(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new Eo,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ko(e,"Initialization of query '".concat(Kt(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&Fo(n)}async function Po(e,t){const n=N(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function No(e,t){const n=N(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Fo(n)}function Mo(e,t,n){const r=N(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function Fo(e){e.Y_.forEach((e=>{e.next()}))}var Oo,Do;(Do=Oo||(Oo={})).ea="default",Do.Cache="cache";class Lo{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new To(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Oo.Cache}}class jo{constructor(e){this.key=e}}class Uo{constructor(e){this.key=e}}class Bo{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ln(),this.mutatedKeys=ln(),this.Aa=Yt(e),this.Ra=new So(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new xo,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Gt(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ga(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Aa(u,a)>0||c&&this.Aa(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:s,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const s=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,c=a!==this.Ea;return this.Ea=a,0!==o.length||c?{snapshot:new To(this.query,e.Ra,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xo,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ln(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Uo(e))})),this.da.forEach((n=>{e.has(n)||t.push(new jo(n))})),t}ba(e){this.Ta=e.Ts,this.da=ln();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return To.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class qo{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zo{constructor(e){this.key=e,this.va=!1}}class Vo{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Jt((e=>Wt(e)),Ht),this.Ma=new Map,this.xa=new Set,this.Oa=new ke(ee.comparator),this.Na=new Map,this.La=new oi,this.Ba={},this.ka=new Map,this.qa=Zr.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Ho(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=hs(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Ko(r,t,n,!0),i}async function Wo(e,t){const n=hs(e);await Ko(n,t,!0,!1)}async function Ko(e,t,n,r){const i=await ki(e.localStore,Bt(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Go(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Xi(e.remoteStore,i),a}async function Go(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await xi(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return os(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const o=await xi(e.localStore,t,!0),s=new Bo(t,o.Ts),a=s.ma(o.documents),c=or.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);os(e,n,l.wa);const u=new qo(t,n,s);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),l.snapshot}async function Xo(e,t,n){const r=N(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((e=>!Ht(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Si(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yi(r.remoteStore,i.targetId),rs(r,i.targetId)})).catch(ce)):(rs(r,i.targetId),await Si(r.localStore,i.targetId,!0))}async function Yo(e,t){const n=N(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yi(n.remoteStore,r.targetId))}async function Qo(e,t){const n=N(e);try{const e=await function(e,t){const n=N(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Re.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.Ur.updateTargetData(e,l))}));let a=$t(),c=ln();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Ai(e,o,t.documentUpdates).next((e=>{a=e.Ps,c=e.Is}))),!r.isEqual(Y.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return le.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(P(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?P(r.va):e.removedDocuments.size>0&&(P(r.va),r.va=!1))})),await cs(n,e,t)}catch(e){await ce(e)}}function Jo(e,t,n){const r=N(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=N(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Fo(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zo(e,t,n){const r=N(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new ke(ee.comparator);e=e.insert(o,st.newNoDocument(o,Y.min()));const n=ln().add(o),i=new ir(Y.min(),new Map,new ke(K),e,n);await Qo(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),as(r)}else await Si(r.localStore,t,!1).then((()=>rs(r,t,n))).catch(ce)}async function $o(e,t){const n=N(e),r=t.batch.batchId;try{const e=await function(e,t){const n=N(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=le.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);P(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ln();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ns(n,r,null),ts(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cs(n,e)}catch(e){await ce(e)}}async function es(e,t,n){const r=N(e);try{const e=await function(e,t){const n=N(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(P(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ns(r,t,n),ts(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cs(r,e)}catch(n){await ce(n)}}function ts(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function ns(e,t,n){const r=N(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||is(e,t)}))}function is(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Yi(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),as(e))}function os(e,t,n){for(const r of n)r instanceof jo?(e.La.addReference(r.key,t),ss(e,r)):r instanceof Uo?(T("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||is(e,r.key)):R()}function ss(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(T("SyncEngine","New document in limbo: "+n),e.xa.add(r),as(e))}function as(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ee(J.fromString(t)),r=e.qa.next();e.Na.set(r,new zo(n)),e.Oa=e.Oa.insert(n,r),Xi(e.remoteStore,new Wr(Bt(Dt(n.path)),r,"TargetPurposeLimboResolution",de.oe))}}async function cs(e,t,n){const r=N(e),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{s.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=pi.Wi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ca.d_(i),await async function(e,t){const n=N(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>le.forEach(t,(t=>le.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>le.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!he(e))throw e;T("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function ls(e,t){const n=N(e);if(!n.currentUser.isEqual(t)){T("SyncEngine","User change. New user:",t.toKey());const e=await bi(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new F(M.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cs(n,e.hs)}}function us(e,t){const n=N(e),r=n.Na.get(t);if(r&&r.va)return ln().add(r.key);{let e=ln();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function hs(e){const t=N(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=us.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zo.bind(null,t),t.Ca.d_=No.bind(null,t.eventManager),t.Ca.$a=Mo.bind(null,t.eventManager),t}function ds(e){const t=N(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$o.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=es.bind(null,t),t}class fs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ji(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return yi(this.persistence,new mi,e.initialUser,this.serializer)}Ga(e){return new hi(fi.Zr,this.serializer)}Wa(e){return new Ii}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fs.provider={build:()=>new fs};class ps{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Jo(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ls.bind(null,this.syncEngine),await bo(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Io}createDatastore(e){const t=ji(e.databaseInfo.databaseId),n=function(e){return new Di(e)}(e.databaseInfo);return function(e,t,n,r){return new Vi(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Wi(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Jo(this.syncEngine,e,0)),Ri.D()?new Ri:new _i)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Vo(e,t,n,r,i,o);return s&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=N(e);T("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Gi(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ps.provider={build:()=>new ps};class gs{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):E("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class ms{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=C.UNAUTHENTICATED,this.clientId=W.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{T("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(T("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new O;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ko(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function vs(e,t){e.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await bi(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ys(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bs(e);T("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>yo(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>yo(t.remoteStore,n))),e._onlineComponents=t}async function bs(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{await vs(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;I("Error using user provided cache. Falling back to memory cache: "+n),await vs(e,new fs)}}else T("FirestoreClient","Using default OfflineComponentProvider"),await vs(e,new fs);return e._offlineComponents}async function ws(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),await ys(e,e._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),await ys(e,new ps))),e._onlineComponents}function As(e){return ws(e).then((e=>e.syncEngine))}async function Cs(e){const t=await ws(e),n=t.eventManager;return n.onListen=Ho.bind(null,t.syncEngine),n.onUnlisten=Xo.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Wo.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yo.bind(null,t.syncEngine),n}function ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new O;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new gs({next:a=>{o.Za(),t.enqueueAndForget((()=>Po(e,s)));const c=a.docs.has(n);!c&&a.fromCache?i.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&a.fromCache&&r&&"server"===r.source?i.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Lo(Dt(n.path),o,{includeMetadataChanges:!0,_a:!0});return Ro(e,s)}(await Cs(e),e.asyncQueue,t,n,r))),r.promise}function Ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new O;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new gs({next:n=>{o.Za(),t.enqueueAndForget((()=>Po(e,s))),n.fromCache&&"server"===r.source?i.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Lo(n,o,{includeMetadataChanges:!0,_a:!0});return Ro(e,s)}(await Cs(e),e.asyncQueue,t,n,r))),r.promise}function xs(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ts=new Map;function Es(e,t,n){if(!n)throw new F(M.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Is(e){if(!ee.isDocumentKey(e))throw new F(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _s(e){if(ee.isDocumentKey(e))throw new F(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":R()}function Ps(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rs(e);throw new F(M.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Ns{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new F(M.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xs(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ms{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ns({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ns(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new L;switch(e.type){case"firstParty":return new q(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ts.get(e);t&&(T("ComponentProvider","Removing Datastore"),Ts.delete(e),t.terminate())}(this),Promise.resolve()}}class Fs{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class Os{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Os(this.firestore,e,this._key)}}class Ds extends Fs{constructor(e,t,n){super(e,t,Dt(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Os(this.firestore,null,new ee(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Ls(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),Es("collection","path",t),e instanceof Ms){const n=J.fromString(t,...r);return _s(n),new Ds(e,null,n)}{if(!(e instanceof Os||e instanceof Ds))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(J.fromString(t,...r));return _s(n),new Ds(e.firestore,null,n)}}function js(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),1===arguments.length&&(t=W.newId()),Es("doc","path",t),e instanceof Ms){const n=J.fromString(t,...r);return Is(n),new Os(e,null,new ee(n))}{if(!(e instanceof Os||e instanceof Ds))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(J.fromString(t,...r));return Is(n),new Os(e.firestore,e instanceof Ds?e.converter:null,new ee(n))}}class Us{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ui(this,"async_queue_retry"),this.Vu=()=>{const e=Li();e&&T("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Li();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Li();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new O;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!he(e))throw e;T("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw E("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Co.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&R()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Bs extends Ms{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Us,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Us(e),this._firestoreClient=void 0,await e}}}function qs(e,t){const n="object"==typeof e?e:(0,o.Sx)(),r="string"==typeof e?e:t||"(default)",i=(0,o.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Ps(e,Ms))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&I("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=C.MOCK_USER;else{t=(0,c.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new C(o)}e._authCredentials=new j(new D(t,n))}}(i,...e)}return i}function zs(e){if(e._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Vs(e),e._firestoreClient}function Vs(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new je(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,xs(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ms(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hs(Re.fromBase64String(e))}catch(e){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hs(Re.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ws{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ks{constructor(e){this._methodName=e}}class Gs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}class Xs{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Ys=/^__.*__$/;class Qs{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dn(e,this.data,t,this.fieldTransforms)}}class Js{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zs(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class $s{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $s(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pa(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Zs(this.Cu)&&Ys.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ea{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ji(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $s({Cu:e,methodName:t,qu:n,path:$.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ta(e){const t=e._freezeSettings(),n=ji(e._databaseId);return new ea(e._databaseId,!!t.ignoreUndefinedProperties,n)}function na(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);ua("Data must be an object, but it was:",s,r);const a=ca(r,s);let c,l;if(o.merge)c=new Ie(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=ha(t,r,n);if(!s.contains(i))throw new F(M.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ga(e,i)||e.push(i)}c=new Ie(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new Qs(new it(a),c,l)}class ra extends Ks{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ra}}function ia(e,t,n,r){const i=e.Qu(1,t,n);ua("Data must be an object, but it was:",i,r);const o=[],s=it.empty();Ae(r,((e,r)=>{const a=fa(t,e,n);r=(0,c.Ku)(r);const l=i.Nu(a);if(r instanceof ra)o.push(a);else{const e=aa(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Ie(o);return new Js(s,a,i.fieldTransforms)}function oa(e,t,n,r,i,o){const s=e.Qu(1,t,n),a=[ha(t,r,n)],l=[i];if(o.length%2!=0)throw new F(M.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<o.length;c+=2)a.push(ha(t,o[c])),l.push(o[c+1]);const u=[],h=it.empty();for(let f=a.length-1;f>=0;--f)if(!ga(u,a[f])){const e=a[f];let t=l[f];t=(0,c.Ku)(t);const n=s.Nu(e);if(t instanceof ra)u.push(e);else{const r=aa(t,n);null!=r&&(u.push(e),h.set(e,r))}}const d=new Ie(u);return new Js(h,d,s.fieldTransforms)}function sa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return aa(n,e.Qu(r?4:3,t))}function aa(e,t){if(la(e=(0,c.Ku)(e)))return ua("Unsupported field value:",t,e),ca(e,t);if(e instanceof Ks)return function(e,t){if(!Zs(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=aa(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=X.fromDate(e);return{timestampValue:yr(t.serializer,n)}}if(e instanceof X){const n=new X(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yr(t.serializer,n)}}if(e instanceof Gs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hs)return{bytesValue:br(t.serializer,e._byteString)};if(e instanceof Os){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Cr(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Xs)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return dn(t.serializer,e)}))}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Rs(e)))}(e,t)}function ca(e,t){const n={};return Ce(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ae(e,((e,r)=>{const i=aa(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function la(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof X||e instanceof Gs||e instanceof Hs||e instanceof Os||e instanceof Ks||e instanceof Xs)}function ua(e,t,n){if(!la(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Rs(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function ha(e,t,n){if((t=(0,c.Ku)(t))instanceof Ws)return t._internalPath;if("string"==typeof t)return fa(e,t);throw pa("Field path arguments must be of type string or ",e,!1,void 0,n)}const da=new RegExp("[~\\*/\\[\\]]");function fa(e,t,n){if(t.search(da)>=0)throw pa("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ws(...t.split("."))._internalPath}catch(r){throw pa("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pa(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new F(M.INVALID_ARGUMENT,a+e+c)}function ga(e,t){return e.some((e=>e.isEqual(t)))}class ma{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Os(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new va(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ya("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class va extends ma{data(){return super.data()}}function ya(e,t){return"string"==typeof t?fa(e,t):t instanceof Ws?t._internalPath:t._delegate._internalPath}function ba(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wa{}class Aa extends wa{}function Ca(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof wa&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof xa)).length,n=e.filter((e=>e instanceof ka)).length;if(t>1||t>0&&n>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class ka extends Aa{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ka(e,t,n)}_apply(e){const t=this._parse(e);return Ia(e._query,t),new Fs(e.firestore,e.converter,zt(e._query,t))}_parse(e){const t=ta(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new F(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Ea(s,o);const t=[];for(const n of s)t.push(Ta(r,e,n));a={arrayValue:{values:t}}}else a=Ta(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ea(s,o),a=sa(n,t,s,"in"===o||"not-in"===o);return ft.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Sa(e,t,n){const r=t,i=ya("where",e);return ka._create(i,r,n)}class xa extends wa{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xa(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:pt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ia(n,i),n=zt(n,i)}(e._query,t),new Fs(e.firestore,e.converter,zt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ta(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jt(t)&&-1!==n.indexOf("/"))throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(J.fromString(n));if(!ee.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ye(e,new ee(r))}if(n instanceof Os)return Ye(e,n._key);throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Rs(n),"."))}function Ea(e,t){if(!Array.isArray(e)||0===e.length)throw new F(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ia(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new F(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new F(M.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class _a{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qe(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fe(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw R()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ae(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Me(e.doubleValue)));return new Xs(i)}convertGeoPoint(e){return new Gs(Me(e.latitude),Me(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=De(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Le(e));default:return null}}convertTimestamp(e){const t=Ne(e);return new X(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=J.fromString(e);P(Hr(n));const r=new Ue(n.get(1),n.get(3)),i=new ee(n.popFirst(5));return r.isEqual(t)||E("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Ra(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends ma{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ma(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ya("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ma extends Na{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Fa{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pa(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ma(this._firestore,this._userDataWriter,n.key,n,new Pa(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ma(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Pa(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ma(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pa(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Oa(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Oa(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}function Da(e){e=Ps(e,Os);const t=Ps(e.firestore,Bs);return ks(zs(t),e._key).then((n=>Ha(t,e,n)))}class La extends _a{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,t)}}function ja(e){e=Ps(e,Fs);const t=Ps(e.firestore,Bs),n=zs(t),r=new La(t);return ba(e._query),Ss(n,e._query).then((n=>new Fa(t,r,e,n)))}function Ua(e,t,n){e=Ps(e,Os);const r=Ps(e.firestore,Bs),i=Ra(e.converter,t,n);return Va(r,[na(ta(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,In.none())])}function Ba(e,t,n){e=Ps(e,Os);const r=Ps(e.firestore,Bs),i=ta(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=(0,c.Ku)(t))||t instanceof Ws?oa(i,"updateDoc",e._key,t,n,a):ia(i,"updateDoc",e._key,t),Va(r,[o.toMutation(e._key,In.exists(!0))])}function qa(e){return Va(Ps(e.firestore,Bs),[new qn(e._key,In.none())])}function za(e,t){const n=Ps(e.firestore,Bs),r=js(e),i=Ra(e.converter,t);return Va(n,[na(ta(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,In.exists(!1))]).then((()=>r))}function Va(e,t){return function(e,t){const n=new O;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ds(e);try{const e=await function(e,t){const n=N(e),r=X.now(),i=t.reduce(((e,t)=>e.add(t.key)),ln());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=$t(),c=ln();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Fn(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Ln(e.key,t,ot(t.value.mapValue),In.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:nn(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ke(K)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await cs(r,e.changes),await co(r.remoteStore)}catch(e){const t=ko(e,"Failed to persist write");n.reject(t)}}(await As(e),t,n))),n.promise}(zs(e),t)}function Ha(e,t,n){const r=n.docs.get(t._key),i=new La(e);return new Na(e,i,t._key,r,new Pa(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){k=e}(o.MF),(0,o.om)(new s.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Bs(new U(e.getProvider("auth-internal")),new V(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ue(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(A,"4.7.3",e),(0,o.KO)(A,"4.7.3","esm2017")}()},5513:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(9379),i=n(5043),o=n(1428),s=(n(2886),n(3134),n(5472)),a=n(574),c=n(9002),l=n(579);const u=e=>{let{isOpen:t,onClose:n,title:r,text:i,children:o}=e;return t?(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("h2",{children:r}),(0,l.jsx)("p",{children:i}),o]})}):null};const h=function(e){let{closeModal:t}=e,n=(0,c.Zp)();const[h,d]=(0,i.useState)({clientName:"",emailAddress:"",phoneNumber:"",companyName:"",websiteUrl:"",industry:"",budget:"",source:"",caseName:"",caseType:"",jurisdiction:"",caseDesc:"",caseNotes:"",leadAttorney:"",supportingAttornies:{attorneyName:"",attorneyContact:""},witnesses:{witnessName:"",witnessContact:""},opposingParty:{opposingPartyName:"",opposingPartyEmailAddress:""}}),[f,p]=(0,i.useState)([]),[g,m]=(0,i.useState)({}),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(!1),[A,C]=(0,i.useState)(null),[k,S]=(0,i.useState)(!1),x=async e=>{try{const t={clientName:h.clientName,emailAddress:h.emailAddress,phoneNumber:h.phoneNumber,companyName:h.companyName||"",websiteUrl:h.websiteUrl||"",industry:h.industry||"",budget:h.budget||"",source:h.source||"",hasConflict:e};console.log("Saving client with data:",t);const n=(0,s.H9)(a.db,"clients",h.emailAddress);await(0,s.BN)(n,t);const r=(0,s.H9)((0,s.rJ)(a.db,"cases")),i={name:h.caseName,type:h.caseType,jurisdiction:h.jurisdiction,case_desc:h.caseDesc||"",notes:h.caseNotes||"",status:"Open",client_id:h.emailAddress,lead_attorney:h.leadAttorney,supportingAttornies:h.supportingAttornies,witnesses:h.witnesses,court_assigned_case_number:h.courtNumber||"",created_at:new Date,has_conflict:e,opposing_party_id:h.opposingParty.opposingPartyEmailAddress,conflict_details:e?{detected_at:new Date,type:"opposing_party_conflict",opposing_party_email:h.opposingParty.opposingPartyEmailAddress}:null};await(0,s.BN)(r,i);const o=(0,s.H9)((0,s.rJ)(a.db,"opposing")),c={opposingPartyName:h.opposingParty.opposingPartyName,opposingPartyEmailAddress:h.opposingParty.opposingPartyEmailAddress,case_id:r.id,client_id:h.emailAddress,has_conflict:e};await(0,s.BN)(o,c),S(!0)}catch(t){console.error("Error during submission:",t),m({submit:"Failed to submit form. Please try again."})}finally{y(!1)}},T=()=>{w(!1),C(null),y(!1)},E=e=>{const{name:t,value:n}=e.target;d((0,r.A)((0,r.A)({},h),{},{[t]:n})),g[t]&&m((0,r.A)((0,r.A)({},g),{},{[t]:null}))};(0,i.useEffect)((()=>{(async()=>{const e=(await(0,s.GG)((0,s.rJ)(a.db,"cases-types"))).docs.map((e=>(0,r.A)({id:e.id},e.data())));p(e)})()}),[]);const I=()=>{S(!1),n("/"),t&&t()};return(0,l.jsxs)("div",{className:"page",children:[(0,l.jsx)(o.A,{}),(0,l.jsx)("div",{className:"page-content",children:(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y(!0),(()=>{let e={},t=!0;return h.clientName.trim()||(e.clientName="Client name is required",t=!1),h.emailAddress.trim()?/\S+@\S+\.\S+/.test(h.emailAddress)||(e.emailAddress="Email is invalid",t=!1):(e.emailAddress="Email is required",t=!1),h.phoneNumber.trim()?/^\d{10}$/.test(h.phoneNumber.replace(/\D/g,""))||(e.phoneNumber="Phone number must be 10 digits",t=!1):(e.phoneNumber="Phone number is required",t=!1),h.caseName.trim()||(e.caseName="Case name is required",t=!1),h.caseType||(e.caseType="Case type is required",t=!1),h.jurisdiction.trim()||(e.jurisdiction="Jurisdiction is required",t=!1),h.leadAttorney.trim()||(e.leadAttorney="Lead attorney is required",t=!1),h.websiteUrl&&!/^https?:\/\/.*/.test(h.websiteUrl)&&(e.websiteUrl="Website URL must start with http:// or https://",t=!1),h.budget&&isNaN(h.budget)&&(e.budget="Budget must be a number",t=!1),m(e),t})())try{const e=await(async e=>{if(console.log("Checking conflicts for:",e),!e.opposingPartyEmailAddress)return!1;try{const t=(0,s.P)((0,s.rJ)(a.db,"clients"),(0,s._M)("emailAddress","==",e.opposingPartyEmailAddress)),n=await(0,s.GG)(t);if(!n.empty){const e=n.docs[0];await(0,s.BN)((0,s.H9)(a.db,"clients",e.id),(0,r.A)((0,r.A)({},e.data()),{},{hasConflict:!0}))}const i=(0,s.P)((0,s.rJ)(a.db,"opposing"),(0,s._M)("opposingPartyEmailAddress","==",e.opposingPartyEmailAddress)),o=await(0,s.GG)(i),c=!n.empty||!o.empty;return console.log("Has conflict:",c),c}catch(t){return console.error("Error checking for conflicts:",t),!1}})(h.opposingParty);if(console.log("Conflict check result:",e),e)return w(!0),C({hasConflict:e}),void y(!1);await x(!1)}catch(t){console.error("Error during submission:",t),m({submit:"Failed to submit form. Please try again."}),y(!1)}else y(!1)},className:"clientSubmit",children:[(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"Client Information"}),(0,l.jsxs)("div",{className:"form-section-content",children:[(0,l.jsxs)("label",{className:"label",children:["Full Name:",(0,l.jsx)("input",{className:"fields ".concat(g.clientName?"error":""),type:"text",name:"clientName",value:h.clientName,onChange:E,required:!0}),g.clientName&&(0,l.jsx)("span",{className:"error-message",children:g.clientName})]}),(0,l.jsxs)("label",{className:"label",children:["Email Address:",(0,l.jsx)("input",{className:"fields ".concat(g.emailAddress?"error":""),type:"email",name:"emailAddress",value:h.emailAddress,onChange:E,required:!0}),g.emailAddress&&(0,l.jsx)("span",{className:"error-message",children:g.emailAddress})]}),(0,l.jsxs)("label",{className:"label",children:["Phone Number:",(0,l.jsx)("input",{className:"fields ".concat(g.phoneNumber?"error":""),type:"tel",name:"phoneNumber",value:h.phoneNumber,onChange:E,required:!0}),g.phoneNumber&&(0,l.jsx)("span",{className:"error-message",children:g.phoneNumber})]}),(0,l.jsxs)("label",{className:"label",children:["Company Name:",(0,l.jsx)("input",{className:"fields",type:"text",name:"companyName",value:h.companyName,onChange:E})]})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"Additional Client Information"}),(0,l.jsxs)("div",{className:"form-section-content",children:[(0,l.jsxs)("label",{className:"label",children:["Website URL:",(0,l.jsx)("input",{className:"fields ".concat(g.websiteUrl?"error":""),type:"url",name:"websiteUrl",value:h.websiteUrl,onChange:E}),g.websiteUrl&&(0,l.jsx)("span",{className:"error-message",children:g.websiteUrl})]}),(0,l.jsxs)("label",{className:"label",children:["Industry:",(0,l.jsx)("input",{className:"fields",type:"text",name:"industry",value:h.industry,onChange:E})]}),(0,l.jsxs)("label",{className:"label",children:["Budget:",(0,l.jsx)("input",{className:"fields ".concat(g.budget?"error":""),type:"text",name:"budget",value:h.budget,onChange:E}),g.budget&&(0,l.jsx)("span",{className:"error-message",children:g.budget})]}),(0,l.jsxs)("label",{className:"label",children:["Client Source:",(0,l.jsx)("input",{className:"fields",type:"text",name:"source",value:h.source,onChange:E})]})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"Case Details"}),(0,l.jsxs)("div",{className:"form-section-content",children:[(0,l.jsxs)("label",{className:"label",children:["Case name:",(0,l.jsx)("input",{className:"fields ".concat(g.caseName?"error":""),type:"text",name:"caseName",value:h.caseName,onChange:E,required:!0}),g.caseName&&(0,l.jsx)("span",{className:"error-message",children:g.caseName})]}),(0,l.jsxs)("label",{className:"label",children:["Case type:",(0,l.jsxs)("select",{className:"fields ".concat(g.caseType?"error":""),name:"caseType",value:h.caseType,onChange:E,required:!0,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Select a case type"}),f.map((e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.id)))]}),g.caseType&&(0,l.jsx)("span",{className:"error-message",children:g.caseType})]}),(0,l.jsxs)("label",{className:"label",children:["Jurisdiction:",(0,l.jsx)("input",{className:"fields ".concat(g.jurisdiction?"error":""),type:"text",name:"jurisdiction",value:h.jurisdiction,onChange:E,required:!0}),g.jurisdiction&&(0,l.jsx)("span",{className:"error-message",children:g.jurisdiction})]}),(0,l.jsxs)("label",{className:"label",children:["Court assigned case number:",(0,l.jsx)("input",{className:"fields",type:"text",name:"courtNumber",value:h.courtNumber,onChange:E})]})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"Case Description"}),(0,l.jsxs)("div",{className:"form-section-content",children:[(0,l.jsxs)("label",{className:"label",children:["Case description:",(0,l.jsx)("textarea",{className:"fields",name:"caseDesc",value:h.caseDesc,onChange:E})]}),(0,l.jsxs)("label",{className:"label",children:["Case notes:",(0,l.jsx)("textarea",{className:"fields",name:"caseNotes",value:h.caseNotes,onChange:E})]})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"Attorney Information"}),(0,l.jsx)("div",{className:"form-section-content",children:(0,l.jsxs)("label",{className:"label",children:["Lead Attorney:",(0,l.jsx)("input",{className:"fields ".concat(g.leadAttorney?"error":""),type:"text",name:"leadAttorney",value:h.leadAttorney,onChange:E,required:!0}),g.leadAttorney&&(0,l.jsx)("span",{className:"error-message",children:g.leadAttorney})]})}),(0,l.jsx)("h4",{children:"Supporting Attorneys"}),(0,l.jsxs)("div",{className:"form-section-content",children:[(0,l.jsxs)("label",{className:"label",children:["Attorney name:",(0,l.jsx)("input",{className:"fields",name:"attorneyName",type:"text",value:h.supportingAttornies.attorneyName,onChange:e=>{d((0,r.A)((0,r.A)({},h),{},{supportingAttornies:(0,r.A)((0,r.A)({},h.supportingAttornies),{},{attorneyName:e.target.value})}))}})]}),(0,l.jsxs)("label",{className:"label",children:["Attorney contact:",(0,l.jsx)("input",{className:"fields",name:"attorneyContact",type:"text",value:h.supportingAttornies.attorneyContact,onChange:e=>{d((0,r.A)((0,r.A)({},h),{},{supportingAttornies:(0,r.A)((0,r.A)({},h.supportingAttornies),{},{attorneyContact:e.target.value})}))}})]})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"Witnesses"}),(0,l.jsxs)("div",{className:"form-section-content",children:[(0,l.jsxs)("label",{className:"label",children:["Witness name:",(0,l.jsx)("input",{className:"fields",name:"witnessName",type:"text",value:h.witnesses.witnessName,onChange:e=>{d((0,r.A)((0,r.A)({},h),{},{witnesses:(0,r.A)((0,r.A)({},h.witnesses),{},{witnessName:e.target.value})}))}})]}),(0,l.jsxs)("label",{className:"label",children:["Witness contact:",(0,l.jsx)("input",{className:"fields",name:"witnessContact",type:"text",value:h.witnesses.witnessContact,onChange:e=>{d((0,r.A)((0,r.A)({},h),{},{witnesses:(0,r.A)((0,r.A)({},h.witnesses),{},{witnessContact:e.target.value})}))}})]})]})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"Opposing Party Information"}),(0,l.jsxs)("div",{className:"form-section-content",children:[(0,l.jsxs)("label",{className:"label",children:["Full Name:",(0,l.jsx)("input",{className:"fields ".concat(g.opposingPartyName?"error":""),type:"text",name:"opposingPartyName",value:h.opposingParty.opposingPartyName||"",onChange:E}),g.opposingPartyName&&(0,l.jsx)("span",{className:"error-message",children:g.opposingPartyName})]}),(0,l.jsxs)("label",{className:"label",children:["Email Address:",(0,l.jsx)("input",{className:"fields",type:"text",name:"opposingPartyEmailAddress",value:h.opposingParty.opposingPartyEmailAddress||"",onChange:E})]})]})]}),g.submit&&(0,l.jsx)("div",{className:"error-message",children:g.submit}),(0,l.jsxs)("div",{className:"button-container",children:[(0,l.jsx)("button",{type:"submit",className:"add-expense-button",disabled:v,children:v?"Submitting...":"Submit"}),(0,l.jsx)("button",{type:"button",className:"add-expense-button demo",onClick:()=>{d({clientName:"Michael Rodriguez",emailAddress:"michael@greenearthcafe.com",phoneNumber:"4161234567",companyName:"Green Earth Cafe",websiteUrl:"https://www.greenearthcafe.com",industry:"Food and Beverage",budget:"100000",source:"Referral",caseName:"Michael Rodriguez v. Jane Doe",caseType:0,jurisdiction:"Federal",caseDesc:"Michael is suing Jane for a contract breach.",caseNotes:"- Get documents from Michael - Prepare opening statement - Contact witness and prepare them",leadAttorney:"Melissa Felicity",courtNumber:"1234567890",supportingAttornies:{attorneyName:"Melissa Stephens",attorneyContact:"4161234567"},witnesses:{witnessName:"Caleb Smith",witnessContact:"5634234567"},opposingParty:{opposingPartyName:"Jane Doe",opposingPartyEmailAddress:"jane@doe.com"}})},children:"Add Client Demo"}),(0,l.jsx)("button",{type:"button",className:"add-expense-button demo",onClick:()=>{d({clientName:"Jane Doe",emailAddress:"jane@doe.com",phoneNumber:"4161234567",companyName:"Jane Doe Inc.",websiteUrl:"https://www.janedoe.com",industry:"Food and Beverage",budget:"100000",source:"Referral",caseName:"Jane Doe v. Michael Rodriguez",caseType:0,jurisdiction:"Ontario",caseDesc:"Jane Doe is counter-suing John Doe for $100,000",caseNotes:"N/A",leadAttorney:"Kelly Smith",courtNumber:"3452341234",supportingAttornies:{attorneyName:"Kevin Sparks",attorneyContact:"6545432345"},witnesses:{witnessName:"Anthony Padilla",witnessContact:"9879877777"},opposingParty:{opposingPartyName:"Michael Rodriguez",opposingPartyEmailAddress:"michael@greenearthcafe.com"}})},children:"Add Opposing Party Demo"})]})]})}),(0,l.jsx)(u,{isOpen:k,onClose:I,title:"Success",text:"Client and case have been successfully added!",children:(0,l.jsx)("div",{className:"button-group",children:(0,l.jsx)("button",{className:"modal-button save",onClick:I,children:"Continue"})})}),(0,l.jsx)(u,{isOpen:b,onClose:T,title:"Conflict Warning",text:"WARNING: Potential conflict detected! This opposing party is either an existing client or involved in another case. Do you want to proceed anyway?",children:(0,l.jsxs)("div",{className:"button-group",children:[(0,l.jsx)("button",{className:"modal-button del",onClick:async()=>{w(!1),y(!0),await x(!0)},children:"Proceed Anyway"}),(0,l.jsx)("button",{className:"cancel-button",onClick:T,children:"Cancel"})]})})]})}},5592:e=>{"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,i){var o=t,s=i+r;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^n[a])];return-1^e}},5668:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(1428),i=(n(2886),n(579));const o=function(){return(0,i.jsxs)("div",{className:"page",children:[(0,i.jsx)(r.A,{}),(0,i.jsx)("div",{className:"page-content"})]})}},5886:(e,t)=>{"use strict";var n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},5960:(e,t,n)=>{"use strict";var r=n(5886),i=n(8374),o=n(5592),s=n(9946),a=n(5415),c=-2,l=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):c}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):c}function m(e,t){var n,r;return e?(r=new d,e.state=r,r.window=null,0!==(n=g(e,t))&&(e.state=null),n):c}var v,y,b=!0;function w(e){if(b){var t;for(v=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=v,e.lenbits=9,e.distcode=y,e.distbits=5}function A(e,t,n,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),r.arraySet(s.window,t,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}t.inflateReset=p,t.inflateReset2=g,t.inflateResetKeep=f,t.inflateInit=function(e){return m(e,15)},t.inflateInit2=m,t.inflate=function(e,t){var n,d,f,p,g,m,v,y,b,C,k,S,x,T,E,I,_,R,P,N,M,F,O,D,L=0,j=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(n=e.state).mode===l&&(n.mode=13),g=e.next_out,f=e.output,v=e.avail_out,p=e.next_in,d=e.input,m=e.avail_in,y=n.hold,b=n.bits,C=m,k=v,F=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,j[0]=255&y,j[1]=y>>>8&255,n.check=o(n.check,j,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=u;break}if(8!==(15&y)){e.msg="unknown compression method",n.mode=u;break}if(b-=4,M=8+(15&(y>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=u;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&y?10:l,y=0,b=0;break;case 2:for(;b<16;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(n.flags=y,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=u;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=u;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(j[0]=255&y,j[1]=y>>>8&255,n.check=o(n.check,j,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(j[0]=255&y,j[1]=y>>>8&255,j[2]=y>>>16&255,j[3]=y>>>24&255,n.check=o(n.check,j,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(j[0]=255&y,j[1]=y>>>8&255,n.check=o(n.check,j,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(j[0]=255&y,j[1]=y>>>8&255,n.check=o(n.check,j,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=n.length)>m&&(S=m),S&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,p,S,M)),512&n.flags&&(n.check=o(n.check,d,S,p)),m-=S,p+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break e;S=0;do{M=d[p+S++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&S<m);if(512&n.flags&&(n.check=o(n.check,d,S,p)),m-=S,p+=S,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break e;S=0;do{M=d[p+S++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&S<m);if(512&n.flags&&(n.check=o(n.check,d,S,p)),m-=S,p+=S,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=u;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=l;break;case 10:for(;b<32;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}e.adler=n.check=h(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=v,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=l;case l:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=u}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if((65535&y)!==(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=u;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(S>m&&(S=m),S>v&&(S=v),0===S)break e;r.arraySet(f,d,p,S,g),m-=S,p+=S,v-=S,g+=S,n.length-=S;break}n.mode=l;break;case 17:for(;b<14;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=u;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}n.lens[U[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},F=a(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,F){e.msg="invalid code lengths set",n.mode=u;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;I=(L=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,_=65535&L,!((E=L>>>24)<=b);){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(_<16)y>>>=E,b-=E,n.lens[n.have++]=_;else{if(16===_){for(D=E+2;b<D;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(y>>>=E,b-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=u;break}M=n.lens[n.have-1],S=3+(3&y),y>>>=2,b-=2}else if(17===_){for(D=E+3;b<D;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}b-=E,M=0,S=3+(7&(y>>>=E)),y>>>=3,b-=3}else{for(D=E+7;b<D;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}b-=E,M=0,S=11+(127&(y>>>=E)),y>>>=7,b-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=u;break}for(;S--;)n.lens[n.have++]=M}}if(n.mode===u)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=u;break}if(n.lenbits=9,O={bits:n.lenbits},F=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,F){e.msg="invalid literal/lengths set",n.mode=u;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},F=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,F){e.msg="invalid distances set",n.mode=u;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(m>=6&&v>=258){e.next_out=g,e.avail_out=v,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,s(e,k),g=e.next_out,f=e.output,v=e.avail_out,p=e.next_in,d=e.input,m=e.avail_in,y=n.hold,b=n.bits,n.mode===l&&(n.back=-1);break}for(n.back=0;I=(L=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,_=65535&L,!((E=L>>>24)<=b);){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(I&&0===(240&I)){for(R=E,P=I,N=_;I=(L=n.lencode[N+((y&(1<<R+P)-1)>>R)])>>>16&255,_=65535&L,!(R+(E=L>>>24)<=b);){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}y>>>=R,b-=R,n.back+=R}if(y>>>=E,b-=E,n.back+=E,n.length=_,0===I){n.mode=26;break}if(32&I){n.back=-1,n.mode=l;break}if(64&I){e.msg="invalid literal/length code",n.mode=u;break}n.extra=15&I,n.mode=22;case 22:if(n.extra){for(D=n.extra;b<D;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;I=(L=n.distcode[y&(1<<n.distbits)-1])>>>16&255,_=65535&L,!((E=L>>>24)<=b);){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(0===(240&I)){for(R=E,P=I,N=_;I=(L=n.distcode[N+((y&(1<<R+P)-1)>>R)])>>>16&255,_=65535&L,!(R+(E=L>>>24)<=b);){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}y>>>=R,b-=R,n.back+=R}if(y>>>=E,b-=E,n.back+=E,64&I){e.msg="invalid distance code",n.mode=u;break}n.offset=_,n.extra=15&I,n.mode=24;case 24:if(n.extra){for(D=n.extra;b<D;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=u;break}n.mode=25;case 25:if(0===v)break e;if(S=k-v,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=u;break}S>n.wnext?(S-=n.wnext,x=n.wsize-S):x=n.wnext-S,S>n.length&&(S=n.length),T=n.window}else T=f,x=g-n.offset,S=n.length;S>v&&(S=v),v-=S,n.length-=S;do{f[g++]=T[x++]}while(--S);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;f[g++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===m)break e;m--,y|=d[p++]<<b,b+=8}if(k-=v,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?o(n.check,f,k,g-k):i(n.check,f,k,g-k)),k=v,(n.flags?y:h(y))!==n.check){e.msg="incorrect data check",n.mode=u;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===m)break e;m--,y+=d[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=u;break}y=0,b=0}n.mode=29;case 29:F=1;break e;case u:F=-3;break e;case 31:return-4;default:return c}return e.next_out=g,e.avail_out=v,e.next_in=p,e.avail_in=m,n.hold=y,n.bits=b,(n.wsize||k!==e.avail_out&&n.mode<u&&(n.mode<27||4!==t))&&A(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(C-=e.avail_in,k-=e.avail_out,e.total_in+=C,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?o(n.check,f,k,e.next_out-k):i(n.check,f,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(n.mode===l?128:0)+(20===n.mode||15===n.mode?256:0),(0===C&&0===k||4===t)&&0===F&&(F=-5),F)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?c:(n.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,t,r,0)!==n.check?-3:A(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},6147:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(1428),i=n(579);const o=function(){return(0,i.jsxs)("div",{className:"page",children:[(0,i.jsx)(r.A,{}),(0,i.jsxs)("div",{className:"page-content",children:[(0,i.jsx)("div",{className:"header",children:(0,i.jsx)("h3",{children:"Document Templates"})}),(0,i.jsx)("div",{className:"content",children:(0,i.jsx)("p",{children:"Document templates functionality coming soon..."})})]})]})}},6528:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(9379),i=n(5043),o=n(5472),s=n(574),a=n(1428),c=(n(9219),n(1054)),l=n(1286),u=n(579);const h=function(e){let{closeModal:t}=e;const[n,a]=(0,i.useState)({date:"",source:"",amount:"",note:""}),c=e=>{const{name:t,value:i}=e.target;a((0,r.A)((0,r.A)({},n),{},{[t]:i}))};return(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsx)("h2",{children:"Add an Revenue"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,o.rJ)(s.db,"revenue");await(0,o.gS)(e,(0,r.A)((0,r.A)({},n),{},{date:o.Dc.fromDate(new Date(n.date)),amount:parseFloat(n.amount)})),console.log("Revenue added successfully"),t()}catch(i){console.error("Error adding document: ",i)}},children:[(0,u.jsxs)("label",{className:"label",children:["Transaction Date:",(0,u.jsx)("input",{className:"field",type:"date",name:"date",value:n.date,onChange:c,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Source:",(0,u.jsx)("input",{className:"field",type:"text",name:"source",value:n.source,onChange:c,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Amount:",(0,u.jsx)("input",{className:"field",type:"number",name:"amount",value:n.amount,onChange:c,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Note:",(0,u.jsx)("input",{className:"field",type:"text",name:"note",value:n.note,onChange:c,required:!0})]}),(0,u.jsx)("button",{type:"submit",className:"modal-button save",children:"Add Revenue"})]}),(0,u.jsx)("button",{className:"cancel-button",onClick:t,children:"Close"})]})})};const d=function(e){let{closeModal:t,revenueId:n}=e;const[a,c]=(0,i.useState)({date:"",source:"",amount:"",note:""});(0,i.useEffect)((()=>{(async()=>{try{const e=(0,o.H9)(s.db,"revenue",n),t=await(0,o.x7)(e);if(t.exists()){const e=t.data();c((0,r.A)((0,r.A)({},e),{},{amount:parseFloat(e.amount).toFixed(2),date:e.date?new Date(e.date).toISOString().split("T")[0]:""}))}else console.error("No such revenue found!")}catch(e){console.error("Error fetching revenue: ",e)}})()}),[n]);const l=e=>{const{name:t,value:n}=e.target;c((0,r.A)((0,r.A)({},a),{},{[t]:n}))};return(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsx)("h2",{children:"Edit Revenue"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,o.H9)(s.db,"revenue",n);await(0,o.mZ)(e,(0,r.A)((0,r.A)({},a),{},{amount:parseFloat(a.amount)})),console.log("Revenue updated successfully"),t()}catch(i){console.error("Error updating document: ",i)}},children:[(0,u.jsxs)("label",{className:"label",children:["Transaction Date:",(0,u.jsx)("input",{className:"field",type:"date",name:"date",value:a.date,onChange:l,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Source:",(0,u.jsx)("input",{className:"field",type:"text",name:"source",value:a.source,onChange:l,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Amount:",(0,u.jsx)("input",{className:"field",type:"number",name:"amount",value:a.amount,onChange:l,required:!0})]}),(0,u.jsxs)("label",{className:"label",children:["Note:",(0,u.jsx)("input",{className:"field",type:"text",name:"note",value:a.note,onChange:l,required:!0})]}),(0,u.jsx)("button",{type:"submit",className:"modal-button save",children:"Save Changes"})]}),(0,u.jsx)("button",{className:"cancel-button",onClick:t,children:"Close"})]})})};const f=function(e){let{closeModal:t,revenueId:n,refreshRevenue:r}=e;return(0,u.jsx)("div",{className:"modal-overlay",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsx)("h2",{children:"Delete Revenue"}),(0,u.jsx)("p",{children:"Are you sure you want to delete this revenue? This action cannot be undone."}),(0,u.jsxs)("div",{className:"button-group",children:[(0,u.jsx)("button",{className:"modal-button del",onClick:async()=>{try{const e=(0,o.H9)(s.db,"revenue",n);await(0,o.kd)(e),console.log("Revenue deleted successfully"),r&&r(),t()}catch(e){console.error("Error deleting revenue: ",e)}},children:"Confirm Delete"}),(0,u.jsx)("button",{className:"cancel-button",onClick:t,children:"Cancel"})]})]})})};var p=n(3204);const g=function(){const[e,t]=(0,i.useState)([]),[n,g]=(0,i.useState)(0),[m,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),[w,A]=(0,i.useState)(!1),[C,k]=(0,i.useState)(null),S=e=>{if(!e)return"N/A";try{return"function"===typeof e.toDate?e.toDate().toLocaleDateString():new Date(e).toLocaleDateString()}catch(t){return"N/A"}},x=async()=>{try{const e=(0,o.rJ)(s.db,"revenue"),n=(await(0,o.GG)(e)).docs.map((e=>{const t=e.data();return(0,r.A)((0,r.A)({id:e.id},t),{},{amount:parseFloat(t.amount),date:S(t.date)})}));t(n);const i=n.reduce(((e,t)=>e+(t.amount||0)),0);g(i)}catch(e){console.error("Error fetching revenue data: ",e)}};return(0,i.useEffect)((()=>{x()}),[]),(0,u.jsxs)("div",{className:"page",children:[(0,u.jsx)(a.A,{}),(0,u.jsxs)("div",{className:"page-content",children:[(0,u.jsxs)("div",{className:"header",children:[(0,u.jsx)("h3",{children:"Revenue Tracker"}),(0,u.jsx)("img",{src:c.A,alt:"dots",className:"dots"})]}),(0,u.jsx)("div",{className:"revexp-totals",children:(0,u.jsxs)("div",{className:"revexp-header",children:[(0,u.jsx)("span",{className:"yellow-bar rev"}),(0,u.jsx)("h2",{className:"revexp-title",children:"Your total revenue"}),(0,u.jsx)("span",{className:"revexp-total",children:(0,u.jsxs)("strong",{children:["$",n.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})})]})}),(0,u.jsxs)("div",{className:"table-container",children:[(0,u.jsxs)("div",{className:"table-header rev",children:[(0,u.jsxs)("div",{className:"rev-spaced",children:[(0,u.jsx)("span",{className:"yellow-bar rev"}),(0,u.jsx)("h2",{className:"table-title",children:"My Revenue"})]}),(0,u.jsx)(l.A,{bg:"white",textColor:"#222222",icon:p.OiG,text:"Add a Revenue",onClick:()=>v(!0)})]}),(0,u.jsxs)("table",{className:"global-table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:["Source","Transaction date","Amount","Note","Actions"].map((e=>(0,u.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,u.jsx)("tbody",{children:e.length>0?e.map((e=>(0,u.jsxs)("tr",{className:"table-row",children:[(0,u.jsx)("td",{children:e.source||"N/A"}),(0,u.jsx)("td",{children:e.date}),(0,u.jsxs)("td",{children:["$",e.amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),(0,u.jsx)("td",{children:e.note||"N/A"}),(0,u.jsxs)("td",{children:[(0,u.jsx)(p.F7,{className:"icon edit-icon",onClick:()=>{return t=e.id,k(t),void b(!0);var t}}),(0,u.jsx)(p.qbC,{className:"icon delete-icon",onClick:()=>{return t=e.id,k(t),void A(!0);var t}})]})]},e.id))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"5",children:"No revenue data available..."})})})]})]}),m&&(0,u.jsx)(h,{closeModal:()=>{v(!1),x()}}),y&&(0,u.jsx)(d,{closeModal:()=>{b(!1),x()},revenueId:C}),w&&(0,u.jsx)(f,{closeModal:()=>{A(!1),x()},revenueId:C})]})]})}},6562:(e,t,n)=>{"use strict";function r(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}n.d(t,{A:()=>r})},6720:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(1428),i=n(579);const o=function(){return(0,i.jsxs)("div",{className:"page",children:[(0,i.jsx)(r.A,{}),(0,i.jsxs)("div",{className:"page-content",children:[(0,i.jsx)("div",{className:"header",children:(0,i.jsx)("h3",{children:"Document Library"})}),(0,i.jsx)("div",{className:"content",children:(0,i.jsx)("p",{children:"Document library functionality coming soon..."})})]})]})}},7150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>he,j6:()=>se,xZ:()=>ae,om:()=>oe,Sx:()=>fe,Wp:()=>de,KO:()=>pe});var r=n(8812),i=n(443),o=n(7700),s=n(9379);let a,c;const l=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||h.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),v(l.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(y(this),t,...r);return h.set(o,t.sort?t.sort():[t]),v(o)}}function m(e){return"function"===typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));u.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,p):e);var t}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(v(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&l.set(t,e)})).catch((()=>{})),f.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=m(e);return t!==e&&(d.set(e,t),f.set(t,e)),t}const y=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],A=new Map;function C(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(A.get(t))return A.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return A.set(t,o),o}p=(e=>(0,s.A)((0,s.A)({},e),{},{get:(t,n,r)=>C(t,n)||e.get(t,n,r),has:(t,n)=>!!C(t,n)||e.has(t,n)}))(p);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const S="@firebase/app",x="0.10.13",T=new i.Vy("@firebase/app"),E="@firebase/app-compat",I="@firebase/analytics-compat",_="@firebase/analytics",R="@firebase/app-check-compat",P="@firebase/app-check",N="@firebase/auth",M="@firebase/auth-compat",F="@firebase/database",O="@firebase/data-connect",D="@firebase/database-compat",L="@firebase/functions",j="@firebase/functions-compat",U="@firebase/installations",B="@firebase/installations-compat",q="@firebase/messaging",z="@firebase/messaging-compat",V="@firebase/performance",H="@firebase/performance-compat",W="@firebase/remote-config",K="@firebase/remote-config-compat",G="@firebase/storage",X="@firebase/storage-compat",Y="@firebase/firestore",Q="@firebase/vertexai-preview",J="@firebase/firestore-compat",Z="firebase",$="[DEFAULT]",ee={[S]:"fire-core",[E]:"fire-core-compat",[_]:"fire-analytics",[I]:"fire-analytics-compat",[P]:"fire-app-check",[R]:"fire-app-check-compat",[N]:"fire-auth",[M]:"fire-auth-compat",[F]:"fire-rtdb",[O]:"fire-data-connect",[D]:"fire-rtdb-compat",[L]:"fire-fn",[j]:"fire-fn-compat",[U]:"fire-iid",[B]:"fire-iid-compat",[q]:"fire-fcm",[z]:"fire-fcm-compat",[V]:"fire-perf",[H]:"fire-perf-compat",[W]:"fire-rc",[K]:"fire-rc-compat",[G]:"fire-gcs",[X]:"fire-gcs-compat",[Y]:"fire-fst",[J]:"fire-fst-compat",[Q]:"fire-vertex","fire-js":"fire-js",[Z]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){T.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function oe(e){const t=e.name;if(re.has(t))return T.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e){return void 0!==e.settings}const ce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},le=new o.FA("app","Firebase",ce);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw le.create("app-deleted",{appName:this._name})}}const he="10.14.1";function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:$,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!==typeof s||!s)throw le.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.T9)()),!n)throw le.create("no-options");const a=te.get(s);if(a){if((0,o.bD)(n,a.options)&&(0,o.bD)(i,a.config))return a;throw le.create("duplicate-app",{appName:s})}const c=new r.h1(s);for(const r of re.values())c.addComponent(r);const l=new ue(n,i,c);return te.set(s,l),l}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;const t=te.get(e);if(!t&&e===$&&(0,o.T9)())return de();if(!t)throw le.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let o=null!==(i=ee[e])&&void 0!==i?i:e;n&&(o+="-".concat(n));const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void T.warn(e.join(" "))}oe(new r.uA("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}const ge="firebase-heartbeat-store";let me=null;function ve(){return me||(me=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=v(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(v(s.result),e.oldVersion,e.newVersion,v(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ge)}catch(n){console.warn(n)}}}).catch((e=>{throw le.create("idb-open",{originalErrorMessage:e.message})}))),me}async function ye(e,t){try{const n=(await ve()).transaction(ge,"readwrite"),r=n.objectStore(ge);await r.put(t,be(e)),await n.done}catch(n){if(n instanceof o.g)T.warn(n.message);else{const e=le.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});T.warn(e.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class we{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ce(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ae();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){T.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ae(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ke(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return T.warn(t),""}}}function Ae(){return(new Date).toISOString().substring(0,10)}class Ce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ve()).transaction(ge),n=await t.objectStore(ge).get(be(e));return await t.done,n}catch(t){if(t instanceof o.g)T.warn(t.message);else{const e=le.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});T.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Se;Se="",oe(new r.uA("platform-logger",(e=>new k(e)),"PRIVATE")),oe(new r.uA("heartbeat",(e=>new we(e)),"PRIVATE")),pe(S,x,Se),pe(S,x,"esm2017"),pe("fire-js","")},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function A(e){if(m=!1,w(e),!g)if(null!==r(l))g=!0,M(C);else{var t=r(u);null!==t&&F(A,t.startTime-e)}}function C(e,n){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var o=f;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!_());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&F(A,h.startTime-n),c=!1}return c}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,x=null,T=-1,E=5,I=-1;function _(){return!(t.unstable_now()-I<E)}function R(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?k():(S=!1,x=null)}}else S=!1}if("function"===typeof b)k=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=R,k=function(){N.postMessage(null)}}else k=function(){v(R,0)};function M(e){x=e,S||(S=!0,k())}function F(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(m?(y(T),T=-1):m=!0,F(A,o-s))):(e.sortIndex=a,n(l,e),g||p||(g=!0,M(C))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7686:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>h});var i=n(9379),o=n(5043),s=n(2460),a=(n(3909),n(579)),c=e([s]);function u(e){let{pdfData:t,onClose:n}=e;const[r,c]=(0,o.useState)(!1),[l,u]=(0,o.useState)(null),[h,d]=(0,o.useState)([]);(0,o.useEffect)((()=>{(async()=>{try{const e=await s.$(t.url);if(d(e),console.log(e),0===e.length)return void u("No form fields found in this PDF")}catch(e){console.error("Error converting PDF to JSON:",e),u("Failed to parse form fields")}})()}),[t]);const f=(e,t)=>{d((n=>{var r;if(!n||!n[e]||!n[e].inputField)return console.warn("Invalid index or missing inputField at index ".concat(e)),n;const o=[...n],s=null===(r=o[e].inputField.inputType)||void 0===r?void 0:r.toLowerCase();return o[e]=(0,i.A)((0,i.A)({},o[e]),{},{inputField:(0,i.A)((0,i.A)({},o[e].inputField),{},{value:"chk"===s?"Off"!==t&&t?t:"":"ch"===s?"-- select --"===t||0===t.length?[]:[t]:t})}),o}))};return null!==t&&void 0!==t&&t.formFields&&0!==t.formFields.length?(0,a.jsx)("div",{className:"fill-form-modal",children:(0,a.jsxs)("div",{className:"fill-form-content",style:{padding:"20px"},children:[(0,a.jsxs)("h2",{children:["Fill Form: ",t.name]}),(0,a.jsx)("div",{className:"form-fields",children:0===h.length?(0,a.jsx)("p",{children:"Attempting to load form\u2026"}):h.map(((e,t)=>{var n;const{label:r,inputField:i}=e,o=i.fieldName,s=(i.inputType||"").toLowerCase();let c=null!==(n=i.value)&&void 0!==n?n:"";const l=i.options||[],{width:u,height:h}=i;return""===s||/^field\s?\d+$/i.test(r.trim().toLowerCase())?null:("ch"===s&&Array.isArray(c)&&(c=c[0]||""),(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:o,className:"field-label",children:Array.isArray(r)?r[0]:r}),"chk"===s?(0,a.jsxs)("div",{className:"checkbox-container",children:[(0,a.jsx)("input",{type:"checkbox",id:o,checked:"Off"!==c&&!!c,onChange:e=>f(t,e.target.checked),className:"field-input"}),Array.isArray(r)&&r[1]&&(0,a.jsx)("span",{className:"checkbox-label",children:r[1]})]}):"ch"===s?(0,a.jsxs)("select",{id:o,value:c||"",onChange:e=>f(t,e.target.value),className:"field-input select-dropdown",children:[(0,a.jsx)("option",{value:"",children:"-- select --"}),l.map((e=>(0,a.jsx)("option",{value:e.exportValue,children:e.displayValue},e.exportValue)))]}):h>20?(0,a.jsx)("textarea",{id:o,value:c,onChange:e=>f(t,e.target.value),className:"field-input",style:{height:"".concat(h+60,"px"),width:"".concat(u+60,"px"),maxWidth:"100%",boxSizing:"border-box",padding:"6px",lineHeight:"1"}}):(0,a.jsx)("input",{type:"text",id:o,value:c,onChange:e=>f(t,e.target.value),className:"field-input",style:{height:"".concat(2*h,"px"),width:"".concat(1.5*u,"px"),maxWidth:"100%"}})]},t))}))}),l&&(0,a.jsx)("div",{className:"error",children:l}),(0,a.jsxs)("div",{className:"button-group",style:{marginTop:"24px"},children:[(0,a.jsx)("button",{className:"generate-button",onClick:async()=>{c(!0),u(null);try{await s.R(t,h),n()}catch(l){console.error("Error generating PDF:",l),"AbortError"===l.name?u("Request timed out while loading the PDF"):l.message.includes("Failed to load PDF")?u("Unable to access the PDF file. Please check if the file exists and is accessible."):u("Error generating filled PDF: "+l.message)}finally{c(!1)}},disabled:r,children:r?"Generating PDF\u2026":"Generate Filled PDF"}),(0,a.jsx)("button",{className:"cancel-button",onClick:n,disabled:r,children:"Cancel"})]})]})}):(0,a.jsx)("div",{className:"fill-form-modal",children:(0,a.jsxs)("div",{className:"fill-form-content",children:[(0,a.jsx)("h2",{children:"Error"}),(0,a.jsx)("p",{children:"No form fields found in this PDF."}),(0,a.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})]})})}s=(c.then?(await c)():c)[0];const h=u;r()}catch(l){r(l)}}))},7700:(e,t,n)=>{"use strict";n.d(t,{Am:()=>P,FA:()=>T,Fy:()=>g,I9:()=>N,Im:()=>I,Ku:()=>L,T9:()=>d,Tj:()=>u,Uj:()=>s,XA:()=>f,ZQ:()=>m,bD:()=>_,c1:()=>y,cY:()=>p,eX:()=>S,g:()=>x,hp:()=>M,jZ:()=>v,lT:()=>A,lV:()=>w,nr:()=>C,sr:()=>b,tD:()=>F,u:()=>a,yU:()=>h,zW:()=>k});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==c)throw new o;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==c){const e=a<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const c=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return c()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK2Sg8j4EvdRsazXLJtuWD_z1aI5nQGog",REACT_APP_API_URL:"https://expenser-server-829602228195.us-central1.run.app",REACT_APP_APP_ID:"1:829602228195:web:851194b850a6be96ee62d6",REACT_APP_AUTH_DOMAIN:"expenser-2335.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"829602228195",REACT_APP_PROJECT_ID:"expenser-2335",REACT_APP_STORAGE_BUCKET:"expenser-2335.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=l())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},h=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},d=()=>{var e;return null===(e=l())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=l())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function A(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return!function(){var e;const t=null===(e=l())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){try{return"object"===typeof indexedDB}catch(e){return!1}}function S(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class x extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(E,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new x(n,o,t)}}const E=/\{\$([^}]+)}/g;function I(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(R(n)&&R(o)){if(!_(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R(e){return null!==e&&"object"===typeof e}function P(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function N(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function M(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function F(e,t){const n=new O(e,t);return n.subscribe.bind(n)}class O{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function D(){}function L(e){return e&&e._delegate?e._delegate:e}},7717:(e,t,n)=>{"use strict";var r={};(0,n(5886).assign)(r,n(3706),n(898),n(4266)),e.exports=r},7798:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5043),i=n(9002),o=n(9786),s=n(574),a=n(579);const c=function(){const[e,t]=(0,r.useState)(""),[n,c]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),h=s.j.currentUser;let d=(0,i.Zp)();return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"page",id:"signin-page",children:(0,a.jsxs)("div",{className:"signin-container",children:[(0,a.jsx)("div",{className:"form-heading",children:(0,a.jsx)("h1",{className:"form-title",children:"Sign in"})}),(0,a.jsxs)("form",{id:"signin-form",onSubmit:async t=>{t.preventDefault();try{await(0,o.x9)(s.j,e,n),console.log("Welcome, ",h.uid),d("/")}catch(r){console.log("Could not validate credentials")}},children:[(0,a.jsx)("input",{name:"email",type:"email",value:e,className:"email",placeholder:"Your Email",onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)("input",{name:"password",type:"password",value:n,className:"password",placeholder:"Password",onChange:e=>c(e.target.value)}),(0,a.jsx)("button",{type:"submit",className:"form-submit",children:"Submit"})]}),(0,a.jsxs)("p",{className:"form-description",children:["If you don't have an account ",(0,a.jsx)("a",{href:"/signup",children:"Signup"}),(0,a.jsx)("br",{}),"If you don't remember your password ",(0,a.jsx)("a",{href:"/forgotpassword",children:"Forgot Password"})]}),(0,a.jsx)("section",{})]})})})}},7813:(e,t,n)=>{"use strict";var r=n(5886),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(l){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,t.string2buf=function(e){var t,n,i,o,s,a=e.length,c=0;for(o=0;o<a;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),s=0,o=0;s<c;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,a=t||e.length,l=new Array(2*a);for(r=0,n=0;n<a;)if((i=e[n++])<128)l[r++]=i;else if((o=s[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&e[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return c(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},7907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},o=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)}))},s=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},a=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(r(e),r(t)))}),[]))},c=t.jsons2arrays=function(e,t){var n=t=t||a(e),i=t;o(t)&&(n=t.map((function(e){return e.label})),i=t.map((function(e){return e.key})));var s=e.map((function(e){return i.map((function(t){return l(t,e)}))}));return[n].concat(r(s))},l=t.getHeaderValue=function(e,t){var n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,n,r){var i=e[t];if(void 0!==i&&null!==i)return i;r.splice(1)}),t);return void 0===n?e in t?t[e]:"":n},u=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},h=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return u(e)})).map((function(e){return""+n+e+n})).join(t)})).join("\n")},d=t.arrays2csv=function(e,t,n,i){return h(t?[t].concat(r(e)):e,n,i)},f=t.jsons2csv=function(e,t,n,r){return h(c(e,t),n,r)},p=t.string2csv=function(e,t,n,r){return t?t.join(n)+"\n"+e:e.replace(/"/g,'""')},g=t.toCSV=function(e,t,n,r){if(o(e))return f(e,t,n,r);if(s(e))return d(e,t,n,r);if("string"===typeof e)return p(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,n,r,o){var s=g(e,n,r,o),a=i()?"application/csv":"text/csv",c=new Blob([t?"\ufeff":"",s],{type:a}),l="data:"+a+";charset=utf-8,"+(t?"\ufeff":"")+s,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?l:u.createObjectURL(c)}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8135:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8147:(e,t,n)=>{"use strict";n.d(t,{XR:()=>Ue,q5:()=>Fe,qk:()=>je,yb:()=>De,c7:()=>qe,_w:()=>Le,KR:()=>Be,D:()=>Oe});var r=n(7150),i=n(7700),o=n(8812);const s="firebasestorage.googleapis.com",a="storageBucket";class c extends i.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(h(e),"Firebase Storage: ".concat(t," (").concat(h(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,c.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return h(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var l,u;function h(e){return"storage/"+e}function d(){return new c(l.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function f(){return new c(l.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p(){return new c(l.CANCELED,"User canceled the upload/download.")}function g(){return new c(l.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(e){return new c(l.INVALID_ARGUMENT,e)}function v(){return new c(l.APP_DELETED,"The Firebase app was deleted.")}function y(e,t){return new c(l.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function b(e){throw new c(l.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(l||(l={}));class w{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=w.makeFromUrl(e,t)}catch(i){return new w(e,"")}if(""===n.path)return n;throw r=e,new c(l.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===s?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let s=0;s<u.length;s++){const t=u[s],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new w(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new c(l.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class A{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function C(e){return"string"===typeof e||e instanceof String}function k(e){return S()&&e instanceof Blob}function S(){return"undefined"!==typeof Blob}function x(e,t,n,r){if(r<t)throw m("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw m("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function T(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function E(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function I(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class _{constructor(e,t,n,r,i,o,s,a,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new R(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!t||I(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new R(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new R(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=d();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?v():p())}else{r(f())}};this.canceled_?t(0,new R(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||s)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function g(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class R{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function P(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function N(){const e=P();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(S())return new Blob(n);throw new c(l.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function M(e){if("undefined"===typeof atob)throw t="base-64",new c(l.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const F="raw",O="base64",D="base64url",L="data_url";class j{constructor(e,t){this.data=e,this.contentType=t||null}}function U(e,t){switch(e){case F:return new j(B(t));case O:case D:return new j(q(e,t));case L:return new j(function(e){const t=new z(e);return t.base64?q(O,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw y(L,"Malformed data URL.")}return B(t)}(t.rest)}(t),new z(t).contentType)}throw d()}function B(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function q(e,t){switch(e){case O:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw y(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case D:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw y(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=M(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw y(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class z{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw y(L,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class V{constructor(e,t){let n=0,r="";k(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(k(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new V(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new V(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(S()){const e=t.map((e=>e instanceof V?e.data_:e));return new V(N.apply(null,e))}{const e=t.map((e=>C(e)?U(F,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new V(r,!0)}}uploadData(){return this.data_}}function H(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function W(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function K(e,t){return t}class G{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||K}}let X=null;function Y(){if(X)return X;const e=[];e.push(new G("bucket")),e.push(new G("generation")),e.push(new G("metageneration")),e.push(new G("name","fullPath",!0));const t=new G("name");t.xform=function(e,t){return function(e){return!C(e)||e.length<2?e:W(e)}(t)},e.push(t);const n=new G("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new G("timeCreated")),e.push(new G("updated")),e.push(new G("md5Hash",null,!0)),e.push(new G("cacheControl",null,!0)),e.push(new G("contentDisposition",null,!0)),e.push(new G("contentEncoding",null,!0)),e.push(new G("contentLanguage",null,!0)),e.push(new G("contentType",null,!0)),e.push(new G("metadata","customMetadata",!0)),X=e,X}function Q(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new w(n,r);return t._makeStorageReference(i)}})}(r,e),r}function J(e,t,n){const r=H(t);if(null===r)return null;return Q(e,r,n)}function Z(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const $="prefixes",ee="items";function te(e,t,n){const r=H(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$])for(const i of n[$]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new w(t,n));r.prefixes.push(o)}if(n[ee])for(const i of n[ee]){const n=e._makeStorageReference(new w(t,i.name));r.items.push(n)}return r}(e,t,r)}class ne{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function re(e){if(!e)throw d()}function ie(e,t){return function(n,r){const i=J(e,r,t);return re(null!==i),i}}function oe(e,t){return function(n,r){const i=J(e,r,t);return re(null!==i),function(e,t,n,r){const i=H(t);if(null===i)return null;if(!C(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return T("/b/"+s(i)+"/o/"+s(o),n,r)+E({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function se(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new c(l.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new c(l.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new c(l.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new c(l.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ae(e){const t=se(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new c(l.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ce(e,t,n){const r=T(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ne(r,"GET",ie(e,n),i);return o.errorHandler=ae(t),o}function le(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=T(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new ne(s,"GET",function(e,t){return function(n,r){const i=te(e,t,r);return re(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=se(t),c}function ue(e,t,n){const r=T(t.fullServerUrl(),e.host,e._protocol)+"?alt=media",i=e.maxOperationRetryTime,o=new ne(r,"GET",((e,t)=>t),i);return o.errorHandler=ae(t),void 0!==n&&(o.headers.Range="bytes=0-".concat(n),o.successCodes=[200,206]),o}function he(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function de(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=he(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Z(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=V.getBlob(l,r,u);if(null===h)throw g();const d={name:c.fullPath},f=T(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ne(f,"POST",ie(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=se(t),m}let fe=null;class pe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=u.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=u.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=u.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw b("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw b("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw b("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw b("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw b("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ge extends pe{initXhr(){this.xhr_.responseType="text"}}function me(){return fe?fe():new ge}class ve extends pe{initXhr(){this.xhr_.responseType="arraybuffer"}}function ye(){return new ve}class be{constructor(e,t){this._service=e,this._location=t instanceof w?t:w.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new be(e,t)}get root(){const e=new w(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new w(this._location.bucket,e);return new be(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new c(l.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function we(e,t,n){e._throwIfRoot("uploadBytes");const r=de(e.storage,e._location,Y(),new V(t,!0),n);return e.storage.makeRequestWithTokens(r,me).then((t=>({metadata:t,ref:e})))}function Ae(e){const t={prefixes:[],items:[]};return Ce(e,t).then((()=>t))}async function Ce(e,t,n){const r={pageToken:n},i=await ke(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await Ce(e,t,i.nextPageToken)}function ke(e,t){null!=t&&"number"===typeof t.maxResults&&x("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=le(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,me)}function Se(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=T(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ne(r,"GET",oe(e,n),i);return o.errorHandler=ae(t),o}(e.storage,e._location,Y());return e.storage.makeRequestWithTokens(t,me).then((e=>{if(null===e)throw new c(l.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function xe(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=T(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ne(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ae(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,me)}function Te(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new w(e._location.bucket,n);return new be(e.storage,r)}function Ee(e,t){if(e instanceof Re){const n=e;if(null==n._bucket)throw new c(l.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+a+"' property when initializing the app?");const r=new be(n,n._bucket);return null!=t?Ee(r,t):r}return void 0!==t?Te(e,t):e}function Ie(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Re)return new be(e,t);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return Ee(e,t)}function _e(e,t){const n=null===t||void 0===t?void 0:t[a];return null==n?null:w.makeFromBucketSpec(n,e)}class Re{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?w.makeFromBucketSpec(r,this._host):_e(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=w.makeFromBucketSpec(this._url,e):this._bucket=_e(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){x("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){x("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new be(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new A(v());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=E(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new _(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Pe="@firebase/storage",Ne="0.13.2",Me="storage";function Fe(e,t){return function(e,t){e._throwIfRoot("getBytes");const n=ue(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,ye).then((e=>void 0!==t?e.slice(0,t):e))}(e=(0,i.Ku)(e),t)}function Oe(e,t,n){return we(e=(0,i.Ku)(e),t,n)}function De(e){return function(e){e._throwIfRoot("getMetadata");const t=ce(e.storage,e._location,Y());return e.storage.makeRequestWithTokens(t,me)}(e=(0,i.Ku)(e))}function Le(e){return Ae(e=(0,i.Ku)(e))}function je(e){return Se(e=(0,i.Ku)(e))}function Ue(e){return xe(e=(0,i.Ku)(e))}function Be(e,t){return Ie(e=(0,i.Ku)(e),t)}function qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,i.Ku)(e);const n=(0,r.j6)(e,Me).getImmediate({identifier:t}),o=(0,i.yU)("storage");return o&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:(0,i.Fy)(o,e.app.options.projectId))}(e,t,n,r)}(n,...o),n}function ze(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Re(i,o,s,n,r.MF)}(0,r.om)(new o.uA(Me,ze,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(Pe,Ne,""),(0,r.KO)(Pe,Ne,"esm2017")},8195:(e,t,n)=>{"use strict";function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}n.d(t,{A:()=>r})},8302:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(5043);var r=n(5472),i=n(574),o=n(8147),s=n(579);const a=function(e){let{closeModal:t,pdf:n,refreshAllPdfs:a,onDeleteStart:c}=e;return(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsx)("h2",{children:"Delete PDF"}),(0,s.jsxs)("p",{children:["Are you sure you want to delete ",n.name,"? This action cannot be undone."]}),(0,s.jsxs)("div",{className:"button-group",children:[(0,s.jsx)("button",{className:"modal-button del",onClick:async()=>{try{c&&c(n.id),t(),(async()=>{try{await new Promise((e=>setTimeout(e,100)));const e=(0,o.c7)(),t=(0,o.KR)(e,"pdfs/".concat(n.name));await(0,o.XR)(t),await(0,r.kd)((0,r.H9)(i.db,"pdfs",n.id)),!c&&a&&a()}catch(e){console.error("Error deleting PDF:",e),alert("Failed to delete ".concat(n.name,". Please try again.")),a&&a()}})()}catch(e){console.error("Error in delete operation:",e),alert("Failed to start delete operation. Please try again.")}},children:"Confirm Delete"}),(0,s.jsx)("button",{className:"cancel-button",onClick:t,children:"Cancel"})]})]})})}},8374:e=>{"use strict";e.exports=function(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16}},8458:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6562);function i(e,t){return e.get((0,r.A)(e,t))}},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>i});var r=n(7700);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9002:(e,t,n)=>{"use strict";n.d(t,{BV:()=>Ie,Kd:()=>lt,N_:()=>ht,Zp:()=>ue,g:()=>he,qh:()=>Te,zy:()=>ae});var r=n(3986),i=n(9379),o=n(5043);n(3175);const s=["sri"],a=["page"],c=["page","matches"],l=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var d="popstate";function f(){return w((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return v("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:y(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,i.A)((0,i.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:s=!1}=r,a=o.history,c="POP",l=null,u=h();function h(){return(a.state||{idx:null}).idx}function f(){c="POP";let e=h(),t=null==e?null:e-u;u=e,l&&l({action:c,location:g.location,delta:t})}function p(e){return A(e)}null==u&&(u=0,a.replaceState((0,i.A)((0,i.A)({},a.state),{},{idx:u}),""));let g={get action(){return c},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(d,f),l=e,()=>{o.removeEventListener(d,f),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=v(g.location,e,t);n&&n(r,e),u=h()+1;let i=m(r,u),d=g.createHref(r);try{a.pushState(i,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(d)}s&&l&&l({action:c,location:g.location,delta:1})},replace:function(e,t){c="REPLACE";let r=v(g.location,e,t);n&&n(r,e),u=h();let i=m(r,u),o=g.createHref(r);a.replaceState(i,"",o),s&&l&&l({action:c,location:g.location,delta:0})},go:e=>a.go(e)};return g}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),p(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:y(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return k(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function k(e,t,n,r){let i=j(("string"===typeof t?b(t):t).pathname||"/",n);if(null==i)return null;let o=S(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=L(i);s=F(o[a],e,r)}return s}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(p(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let a=V([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),S(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:M(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=x(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var T=/^:[\w-]+$/,E=3,I=2,_=1,R=10,P=-2,N=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=P),t&&(r+=I),n.filter((e=>!N(e))).reduce(((e,t)=>e+(T.test(t)?E:""===t?_:R)),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],c=a===r.length-1,l="/"===o?t:t.slice(o.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),h=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:V([o,u.pathname]),pathnameBase:H(V([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=V([o,u.pathnameBase]))}return s}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=D(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function U(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function B(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function q(e){let t=B(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function z(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=b(e):(r=(0,i.A)({},e),p(!r.pathname||!r.pathname.includes("?"),U("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),U("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),U("#","search","hash",r)));let s,a=""===e||""===r.pathname,c=a?"/":r.pathname;if(null==c)s=n;else{let e=t.length-1;if(!o&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?b(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:W(r),hash:K(i)}}(r,s),u=c&&"/"!==c&&c.endsWith("/"),h=(a||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}var V=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],Y=(new Set(X),["GET",...X]);new Set(Y),Symbol("ResetLoaderData");var Q=o.createContext(null);Q.displayName="DataRouter";var J=o.createContext(null);J.displayName="DataRouterState";var Z=o.createContext({isTransitioning:!1});Z.displayName="ViewTransition";var $=o.createContext(new Map);$.displayName="Fetchers";var ee=o.createContext(null);ee.displayName="Await";var te=o.createContext(null);te.displayName="Navigation";var ne=o.createContext(null);ne.displayName="Location";var re=o.createContext({outlet:null,matches:[],isDataRoute:!1});re.displayName="Route";var ie=o.createContext(null);ie.displayName="RouteError";var oe=!0;function se(){return null!=o.useContext(ne)}function ae(){return p(se(),"useLocation() may be used only in the context of a <Router> component."),o.useContext(ne).location}var ce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function le(e){o.useContext(te).static||o.useLayoutEffect(e)}function ue(){let{isDataRoute:e}=o.useContext(re);return e?function(){let{router:e}=we("useNavigate"),t=Ce("useNavigate"),n=o.useRef(!1);le((()=>{n.current=!0}));let r=o.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(n.current,ce),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,(0,i.A)({fromRouteId:t},o)))}),[e,t]);return r}():function(){p(se(),"useNavigate() may be used only in the context of a <Router> component.");let e=o.useContext(Q),{basename:t,navigator:n}=o.useContext(te),{matches:r}=o.useContext(re),{pathname:i}=ae(),s=JSON.stringify(q(r)),a=o.useRef(!1);le((()=>{a.current=!0}));let c=o.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(a.current,ce),!a.current)return;if("number"===typeof r)return void n.go(r);let c=z(r,JSON.parse(s),i,"path"===o.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:V([t,c.pathname])),(o.replace?n.replace:n.push)(c,o.state,o)}),[t,n,s,i,e]);return c}()}o.createContext(null);function he(){let{matches:e}=o.useContext(re),t=e[e.length-1];return t?t.params:{}}function de(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=o.useContext(re),{pathname:r}=ae(),i=JSON.stringify(q(n));return o.useMemo((()=>z(e,JSON.parse(i),r,"path"===t)),[e,i,r,t])}function fe(e,t,n,r){p(se(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=o.useContext(te),{matches:c}=o.useContext(re),l=c[c.length-1],u=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;if(oe){let e=f&&f.path||"";xe(h,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,v=ae();if(t){var y;let e="string"===typeof t?b(t):t;p("/"===d||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=v;let w=m.pathname||"/",A=w;if("/"!==d){let e=d.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let k=!a&&n&&n.matches&&n.matches.length>0?n.matches:C(e,{pathname:A});oe&&(g(f||null!=k,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),g(null==k||void 0!==k[k.length-1].route.element||void 0!==k[k.length-1].route.Component||void 0!==k[k.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.')));let S=ye(k&&k.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:V([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:V([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,n,r);return t&&S?o.createElement(ne.Provider,{value:{location:(0,i.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},S):S}function pe(){let e=ke(),t=G(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return oe&&(console.error("Error handled by React Router default ErrorBoundary:",e),a=o.createElement(o.Fragment,null,o.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),o.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",o.createElement("code",{style:s},"ErrorBoundary")," or"," ",o.createElement("code",{style:s},"errorElement")," prop on your route."))),o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:i},n):null,a)}var ge=o.createElement(pe,null),me=class extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(re.Provider,{value:this.props.routeContext},o.createElement(ie.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ve(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(Q);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(re.Provider,{value:t},r)}function ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,a=-1;if(n)for(let o=0;o<r.length;o++){let e=r[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=o),e.route.id){let{loaderData:t,errors:i}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||o){s=!0,r=a>=0?r.slice(0,a+1):[r[0]];break}}}return r.reduceRight(((e,c,l)=>{let u,h=!1,d=null,f=null;n&&(u=i&&c.route.id?i[c.route.id]:void 0,d=c.route.errorElement||ge,s&&(a<0&&0===l?(xe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):a===l&&(h=!0,f=c.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,l+1)),g=()=>{let t;return t=u?d:h?f:c.route.Component?o.createElement(c.route.Component,null):c.route.element?c.route.element:e,o.createElement(ve,{match:c,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===l)?o.createElement(me,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(e){let t=o.useContext(Q);return p(t,be(e)),t}function Ae(e){let t=o.useContext(J);return p(t,be(e)),t}function Ce(e){let t=function(e){let t=o.useContext(re);return p(t,be(e)),t}(e),n=t.matches[t.matches.length-1];return p(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function ke(){var e;let t=o.useContext(ie),n=Ae("useRouteError"),r=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Se={};function xe(e,t,n){t||Se[e]||(Se[e]=!0,g(!1,n))}o.memo((function(e){let{routes:t,future:n,state:r}=e;return fe(t,void 0,r,n)}));function Te(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ee(e){let{basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:s,static:a=!1}=e;p(!se(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),l=o.useMemo((()=>({basename:c,navigator:s,static:a,future:{}})),[c,s,a]);"string"===typeof r&&(r=b(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:m="default"}=r,v=o.useMemo((()=>{let e=j(u,c);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:m},navigationType:i}}),[c,u,h,d,f,m,i]);return g(null!=v,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==v?null:o.createElement(te.Provider,{value:l},o.createElement(ne.Provider,{children:n,value:v}))}function Ie(e){let{children:t,location:n}=e;return fe(_e(t),n)}o.Component;function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,_e(e.props.children,i));p(e.type===Te,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=_e(e.props.children,i)),n.push(s)})),n}var Re="get",Pe="application/x-www-form-urlencoded";function Ne(e){return null!=e&&"string"===typeof e.tagName}var Me=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oe(e){return null==e||Fe.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Pe,'"')),null)}function De(e,t){let n,r,i,o,s;if(Ne(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?j(s,t):null,n=e.getAttribute("method")||Re,i=Oe(e.getAttribute("enctype"))||Pe,o=new FormData(e)}else if(function(e){return Ne(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ne(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?j(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Re,i=Oe(e.getAttribute("formenctype"))||Oe(s.getAttribute("enctype"))||Pe,o=new FormData(s,e),!function(){if(null===Me)try{new FormData(document.createElement("form"),0),Me=!1}catch(e){Me=!0}return Me}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(Ne(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,r=null,i=Pe,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Le(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function je(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ue(e){return null!=e&&"string"===typeof e.page}function Be(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var l;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(l=n[0])||void 0===l?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function ze(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Ve(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ue(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function He(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var We=new Set([100,101,204,205]);function Ke(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===j(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}o.Component;function Ge(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,i=o.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(G(t))return o.createElement(Xe,{title:"Unhandled Thrown Response!"},o.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),oe?i:null);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return o.createElement(Xe,{title:"Application Error!",isOutsideRemixApp:n},o.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),o.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function Xe(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=e,{routeModules:a}=$e();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!i?s:o.createElement("html",{lang:"en"},o.createElement("head",null,o.createElement("meta",{charSet:"utf-8"}),o.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),o.createElement("title",null,n)),o.createElement("body",null,o.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?o.createElement(st,null):null)))}function Ye(e,t){return"lazy"===e.mode&&!0===t}function Qe(){let e=o.useContext(Q);return Le(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Je(){let e=o.useContext(J);return Le(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=o.createContext(void 0);function $e(){let e=o.useContext(Ze);return Le(e,"You must render this element inside a <HydratedRouter> element"),e}function et(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tt(e,t,n){if(n&&!ot)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function nt(e){let{page:t}=e,n=(0,r.A)(e,a),{router:s}=Qe(),c=o.useMemo((()=>C(s.routes,t,s.basename)),[s.routes,t,s.basename]);return c?o.createElement(it,(0,i.A)({page:t,matches:c},n)):null}function rt(e){let{manifest:t,routeModules:n}=$e(),[r,s]=o.useState([]);return o.useEffect((()=>{let r=!1;return async function(e,t,n){return Ve((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await je(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Be).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?(0,i.A)((0,i.A)({},e),{},{rel:"prefetch",as:"style"}):(0,i.A)((0,i.A)({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),r}function it(e){let{page:t,matches:n}=e,s=(0,r.A)(e,c),a=ae(),{manifest:l,routeModules:u}=$e(),{basename:h}=Qe(),{loaderData:d,matches:f}=Je(),p=o.useMemo((()=>qe(t,n,f,l,a,"data")),[t,n,f,l,a]),g=o.useMemo((()=>qe(t,n,f,l,a,"assets")),[t,n,f,l,a]),m=o.useMemo((()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let i=l.routes[t.route.id];i&&i.hasLoader&&(!p.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(n=u[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Ke(t,h);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[h,d,a,l,p,n,t,u]),v=o.useMemo((()=>ze(g,l)),[g,l]),y=rt(g);return o.createElement(o.Fragment,null,m.map((e=>o.createElement("link",(0,i.A)({key:e,rel:"prefetch",as:"fetch",href:e},s)))),v.map((e=>o.createElement("link",(0,i.A)({key:e,rel:"modulepreload",href:e},s)))),y.map((e=>{let{key:t,link:n}=e;return o.createElement("link",(0,i.A)({key:t},n))})))}Ze.displayName="FrameworkContext";var ot=!1;function st(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:c,routeDiscovery:l,ssr:u}=$e(),{router:h,static:d,staticContext:f}=Qe(),{matches:p}=Je(),g=Ye(l,u);c&&(c.didRenderScripts=!0);let m=tt(p,null,a);o.useEffect((()=>{ot=!0}),[]);let v=o.useMemo((()=>{var a;let c=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=d?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(m.map(((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Le(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:c,module:l}=i,u=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...c?[{module:c,varName:"".concat(r,"_HydrateFallback")}]:[],{module:l,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(l),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,o=(0,r.A)(e,s),a=new Set(t.state.matches.map((e=>e.route.id))),c=t.state.location.pathname.split("/").filter(Boolean),l=["/"];for(c.pop();c.length>0;)l.push("/".concat(c.join("/"))),c.pop();l.forEach((e=>{let n=C(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let u=[...a].reduce(((e,t)=>Object.assign(e,{[t]:o.routes[t]})),{});return(0,i.A)((0,i.A)({},o),{},{routes:u,sri:!!n||void 0})}(t,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(m.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return o.createElement(o.Fragment,null,o.createElement("script",(0,i.A)((0,i.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:He(c),type:void 0})),o.createElement("script",(0,i.A)((0,i.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:He(l),type:"module",async:!0})))}),[]),y=ot?[]:(b=t.entry.imports.concat(ze(m,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return ot?null:o.createElement(o.Fragment,null,"object"===typeof t.sri?o.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:o.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),o.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),y.map((t=>o.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0}))),v)}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.6.0")}catch(yt){}function lt(e){let{basename:t,children:n,window:r}=e,i=o.useRef();null==i.current&&(i.current=f({window:r,v5Compat:!0}));let s=i.current,[a,c]=o.useState({action:s.action,location:s.location}),l=o.useCallback((e=>{o.startTransition((()=>c(e)))}),[c]);return o.useLayoutEffect((()=>s.listen(l)),[s,l]),o.createElement(Ee,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var ut=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=o.forwardRef((function(e,t){let n,{onClick:s,discover:a="render",prefetch:c="none",relative:u,reloadDocument:h,replace:d,state:f,target:m,to:v,preventScrollReset:b,viewTransition:w}=e,A=(0,r.A)(e,l),{basename:C}=o.useContext(te),k="string"===typeof v&&ut.test(v),S=!1;if("string"===typeof v&&k&&(n=v,ct))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),n=j(t.pathname,C);t.origin===e.origin&&null!=n?v=n+t.search+t.hash:S=!0}catch(yt){g(!1,'<Link to="'.concat(v,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(se(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=o.useContext(te),{hash:i,pathname:s,search:a}=de(e,{relative:t}),c=s;return"/"!==n&&(c="/"===s?n:V([n,s])),r.createHref({pathname:c,search:a,hash:i})}(v,{relative:u}),[T,E,I]=function(e,t){let n=o.useContext(Ze),[r,i]=o.useState(!1),[s,a]=o.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=o.useRef(null);o.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),o.useEffect((()=>{if(r){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let p=()=>{i(!0)},g=()=>{i(!1),a(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:et(c,p),onBlur:et(l,g),onMouseEnter:et(u,p),onMouseLeave:et(h,g),onTouchStart:et(d,p)}]:[!1,f,{}]}(c,A),_=function(e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ue(),l=ae(),u=de(e,{relative:s});return o.useCallback((o=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(o,t)){o.preventDefault();let t=void 0!==n?n:y(l)===y(u);c(e,{replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a})}}),[l,c,u,n,r,t,e,i,s,a])}(v,{replace:d,state:f,target:m,preventScrollReset:b,relative:u,viewTransition:w});let R=o.createElement("a",(0,i.A)((0,i.A)((0,i.A)({},A),I),{},{href:n||x,onClick:S||h?s:function(e){s&&s(e),e.defaultPrevented||_(e)},ref:at(t,E),target:m,"data-discover":k||"render"!==a?void 0:"true"}));return T&&!k?o.createElement(o.Fragment,null,R,o.createElement(nt,{page:x})):R}));ht.displayName="Link",o.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:c=!1,style:l,to:h,viewTransition:d,children:f}=e,g=(0,r.A)(e,u),m=de(h,{relative:g.relative}),v=ae(),y=o.useContext(J),{navigator:b,basename:w}=o.useContext(te),A=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.useContext(Z);p(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pt("useViewTransitionState"),i=de(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=j(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=j(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=O(i.pathname,a)||null!=O(i.pathname,s)}(m)&&!0===d,C=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=v.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(k=k.toLowerCase(),S=S?S.toLowerCase():null,C=C.toLowerCase()),S&&w&&(S=j(S,w)||S);const x="/"!==C&&C.endsWith("/")?C.length-1:C.length;let T,E=k===C||!c&&k.startsWith(C)&&"/"===k.charAt(x),I=null!=S&&(S===C||!c&&S.startsWith(C)&&"/"===S.charAt(C.length)),_={isActive:E,isPending:I,isTransitioning:A},R=E?n:void 0;T="function"===typeof a?a(_):[a,E?"active":null,I?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(_):l;return o.createElement(ht,(0,i.A)((0,i.A)({},g),{},{"aria-current":R,className:T,ref:t,style:P,to:h,viewTransition:d}),"function"===typeof f?f(_):f)})).displayName="NavLink";var dt=o.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:s,navigate:a,reloadDocument:c,replace:l,state:u,method:d=Re,action:f,onSubmit:g,relative:m,preventScrollReset:v,viewTransition:b}=e,w=(0,r.A)(e,h),A=vt(),C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=o.useContext(te),r=o.useContext(re);p(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a=(0,i.A)({},de(e||".",{relative:t})),c=ae();if(null==e){a.search=c.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:V([n,a.pathname]));return y(a)}(f,{relative:m}),k="get"===d.toLowerCase()?"get":"post",S="string"===typeof f&&ut.test(f);return o.createElement("form",(0,i.A)((0,i.A)({ref:t,method:k,action:C,onSubmit:c?g:e=>{if(g&&g(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;A(t||e.currentTarget,{fetcherKey:s,method:n,navigate:a,replace:l,state:u,relative:m,preventScrollReset:v,viewTransition:b})}},w),{},{"data-discover":S||"render"!==n?void 0:"true"}))}));function ft(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function pt(e){let t=o.useContext(Q);return p(t,ft(e)),t}dt.displayName="Form";var gt=0,mt=()=>"__".concat(String(++gt),"__");function vt(){let{router:e}=pt("useSubmit"),{basename:t}=o.useContext(te),n=Ce("useRouteId");return o.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:c,body:l}=De(r,t);if(!1===i.navigate){let t=i.fetcherKey||mt();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}},9017:()=>{},9031:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))}},9140:(e,t,n)=>{"use strict";var r,i=n(5886),o=n(3422),s=n(8374),a=n(5592),c=n(8135),l=-2,u=258,h=262,d=103,f=113,p=666;function g(e,t){return e.msg=c[t],t}function m(e){return(e<<1)-(e>4?9:0)}function v(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function A(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function C(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=s(e.adler,t,o,n):2===e.state.wrap&&(e.adler=a(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function k(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,l=e.window,d=e.w_mask,f=e.prev,p=e.strstart+u,g=l[o+s-1],m=l[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(n=t)+s]===m&&l[n+s-1]===g&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(r=u-(p-o),o=p-u,r>s){if(e.match_start=t,s=r,r>=a)break;g=l[o+s-1],m=l[o+s]}}}while((t=f[t&d])>c&&0!==--i);return s<=e.lookahead?s:e.lookahead}function S(e){var t,n,r,o,s,a=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-h)){i.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);o+=a}if(0===e.strm.avail_in)break;if(n=C(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function x(e,t){for(var n,r;;){if(e.lookahead<h){if(S(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=k(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function T(e,t){for(var n,r,i;;){if(e.lookahead<h){if(S(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=k(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):g(e,l)}function R(e){var t,n=_(e);return 0===n&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function P(e,t,n,r,o,s){if(!e)return l;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||s<0||s>4)return g(e,l);8===r&&(r=9);var c=new I;return e.state=c,c.strm=e,c.wrap=a,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=s,c.method=n,R(e)}r=[new E(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(S(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,x),new E(4,5,16,8,x),new E(4,6,32,32,x),new E(4,4,16,16,T),new E(8,16,32,32,T),new E(8,16,128,128,T),new E(8,32,128,256,T),new E(32,128,258,1024,T),new E(32,258,258,4096,T)],t.deflateInit=function(e,t){return P(e,t,8,15,8,0)},t.deflateInit2=P,t.deflateReset=R,t.deflateResetKeep=_,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var n,i,s,c;if(!e||!e.state||t>5||t<0)return e?g(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return g(e,0===e.avail_out?-5:l);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=f);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=f,A(i,h),0!==i.strstart&&(A(i,e.adler>>>16),A(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),y(e),s=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),y(e),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),y(e),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&m(t)<=m(n)&&4!==t)return g(e,-5);if(i.status===p&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var C=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(S(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,s,a=e.window;;){if(e.lookahead<=u){if(S(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=e.strstart+u;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=u-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==C&&4!==C||(i.status=p),1===C||3===C)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===C&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(A(i,e.adler>>>16),A(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?g(e,l):(e.state=null,t===f?g(e,-3):0):l},t.deflateSetDictionary=function(e,t){var n,r,o,a,c,u,h,d,f=t.length;if(!e||!e.state)return l;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return l;for(1===a&&(e.adler=s(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),c=e.avail_in,u=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,S(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,S(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=h,e.avail_in=c,n.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},9170:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>w});var i=n(5043),o=n(5472),s=n(8147),a=n(574),c=n(1428),l=(n(2886),n(4636),n(1054)),u=n(3204),h=n(1582),d=n(1286),f=n(7686),p=n(8302),g=n(579),m=e([h,f]);function y(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[m,v]=(0,i.useState)(!1),[y,w]=(0,i.useState)(!0),[A,C]=(0,i.useState)(new Set),[k,S]=(0,i.useState)(null),[x,T]=(0,i.useState)([]),E=async()=>{try{const e=(0,s.c7)(),t=(0,s.KR)(e,"pdfs"),n=(0,o.rJ)(a.db,"pdfs"),r=await(0,o.GG)(n),i=await(0,s._w)(t),c=new Map;for(const o of i.items){const e=await(0,s.qk)(o),t=await(0,s.yb)(o);c.set(o.name,{url:e,metadata:t})}const l=r.docs.map((e=>{var t,n,r;const i=e.data(),o=c.get(i.name)||{url:null,metadata:null};return{id:e.id,name:i.name,url:o.url,size:null===(t=o.metadata)||void 0===t?void 0:t.size,contentType:null===(n=o.metadata)||void 0===n?void 0:n.contentType,updated:null===(r=o.metadata)||void 0===r?void 0:r.updated,formFields:i.formFields||[],originalPdfUrl:i.originalPdfUrl}}));T(l),w(!1)}catch(e){console.error("Error fetching pdf files: ",e)}};(0,i.useEffect)((()=>{E()}),[]);return(0,g.jsxs)("div",{className:"page",children:[(0,g.jsx)(c.A,{}),(0,g.jsxs)("div",{className:"page-content",children:[(0,g.jsxs)("div",{className:"header",children:[(0,g.jsx)("h3",{children:"Dynamic PDF Field Retrieval"}),(0,g.jsx)("img",{src:l.A,alt:"dots",className:"dots"})]}),(0,g.jsxs)("div",{className:"table-container",children:[(0,g.jsxs)("div",{className:"table-header exp",children:[(0,g.jsxs)("div",{className:"exp-spaced",children:[(0,g.jsx)("span",{className:"yellow-bar exp"}),(0,g.jsx)("h2",{className:"table-title",children:"My PDF Documents"})]}),(0,g.jsx)(d.A,{bg:"white",textColor:"#222222",icon:u.OiG,text:"Upload PDF File",onClick:()=>t(!0)})]}),(0,g.jsxs)("table",{className:"global-table",children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{children:["Name","Size","Type","Last Updated Date","Preview","Actions"].map((e=>(0,g.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,g.jsx)("tbody",{children:x.length>0?x.map((e=>(0,g.jsxs)("tr",{className:"table-row",children:[(0,g.jsx)("td",{children:e.name||"N/A"}),(0,g.jsx)("td",{children:b(e.size)||"N/A"}),(0,g.jsx)("td",{children:e.contentType?e.contentType.split("/")[1]:"N/A"}),(0,g.jsx)("td",{children:e.updated||"N/A"}),(0,g.jsx)("td",{children:e.url?(0,g.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Preview"}):"N/A"}),(0,g.jsxs)("td",{children:[(0,g.jsx)(u.F7,{className:"icon edit-icon",onClick:()=>{var t;(t=e).formFields&&0!==t.formFields.length?(S(t),r(!0)):alert("This PDF has no form fields to fill out.")},style:{opacity:A.has(e.id)?.5:1}}),(0,g.jsx)(u.qbC,{className:"icon delete-icon",onClick:()=>{return t=e,void(A.has(t.id)||(S(t),v(!0)));var t},style:{opacity:A.has(e.id)?.5:1,cursor:A.has(e.id)?"not-allowed":"pointer"}})]})]},e.id||e.name))):y?(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"6",children:"Loading PDF Documents"})}):!y&&0===x.length&&(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"6",children:"No PDF Documents available"})})})]})]})]}),e&&(0,g.jsx)(h.A,{closeModal:()=>{t(!1),E()},refreshUploadPDF:E}),n&&k&&(0,g.jsx)(f.A,{pdfData:k,onClose:()=>{r(!1),S(null)}}),m&&k&&(0,g.jsx)(p.A,{closeModal:()=>{v(!1),S(null)},pdf:k,refreshAllPdfs:E,onDeleteStart:e=>{C((t=>{if(t.has(e))return t;const n=new Set(t);return n.add(e),n})),T((t=>t.filter((t=>t.id!==e)))),v(!1),S(null)}})]})}function b(e){if(void 0===e||null===e)return"N/A";const t=["bytes","KB","MB","GB","TB"];let n=0;for(;e>=1024&&n<t.length-1;)e/=1024,n++;return"".concat(e.toFixed(2)," ").concat(t[n])}[h,f]=m.then?(await m)():m;const w=y;r()}catch(v){r(v)}}))},9219:()=>{},9355:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{EA:()=>m,YE:()=>y,jq:()=>v,rE:()=>b});var i=n(1579),o=n(9379),s=n(4705),a=n(3205),c=n(9790),l=n(6562),u=n(5149),h=n(8458),d=n(4558),f={640:(e,t,n)=>{n.d(t,{AnnotationLayer:()=>Re,FreeTextAnnotationElement:()=>ie,InkAnnotationElement:()=>me,StampAnnotationElement:()=>Ae});var r=n(266),i=n(473),o=n(780);function s(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function a(e){return Math.max(0,Math.min(255,255*e))}class f{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=a(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=s(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(a)}static RGB_HTML(e){return"#".concat(e.map(s).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,r,i]=e;return[a(1-Math.min(1,t+i)),a(1-Math.min(1,r+i)),a(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,o=1-n,s=1-r;return["CMYK",i,o,s,Math.min(i,o,s)]}}var p=n(160);const g=1e3,m=new WeakSet;function v(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class y{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new C(e);case r.AnnotationType.TEXT:return new T(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new I(e);case"Btn":return e.data.radioButton?new P(e):e.data.checkBox?new R(e):new N(e);case"Ch":return new M(e);case"Sig":return new _(e)}return new E(e);case r.AnnotationType.POPUP:return new F(e);case r.AnnotationType.FREETEXT:return new ie(e);case r.AnnotationType.LINE:return new se(e);case r.AnnotationType.SQUARE:return new ce(e);case r.AnnotationType.CIRCLE:return new ue(e);case r.AnnotationType.POLYLINE:return new de(e);case r.AnnotationType.CARET:return new pe(e);case r.AnnotationType.INK:return new me(e);case r.AnnotationType.POLYGON:return new fe(e);case r.AnnotationType.HIGHLIGHT:return new ve(e);case r.AnnotationType.UNDERLINE:return new ye(e);case r.AnnotationType.SQUIGGLY:return new be(e);case r.AnnotationType.STRIKEOUT:return new we(e);case r.AnnotationType.STAMP:return new Ae(e);case r.AnnotationType.FILEATTACHMENT:return new Se(e);default:return new w(e)}}}var b=new WeakMap;class w{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u.A)(this,b,!1),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==r&&void 0!==r&&r.str)}get hasPopupData(){return w._hasPopupData(this.data)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof E||(o.tabIndex=g),o.style.zIndex=this.parent.zIndex++,this.data.popupRef&&o.setAttribute("aria-haspopup","dialog"),t.noRotate&&o.classList.add("norotate");const{pageWidth:s,pageHeight:a,pageX:c,pageY:l}=i.rawDims;if(!t.rect||this instanceof F){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,o),o}const{width:u,height:h}=v(t.rect),f=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){o.style.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");o.style.borderRadius=t}else if(this instanceof P){const e="calc(".concat(u,"px * var(--scale-factor)) / calc(").concat(h,"px * var(--scale-factor))");o.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}const i=t.borderColor||null;i?((0,d.A)(b,this,!0),o.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2])):o.style.borderWidth=0}o.style.left="".concat(100*(f[0]-c)/s,"%"),o.style.top="".concat(100*(f[1]-l)/a,"%");const{rotation:p}=t;return t.hasOwnCanvas||0===p?(o.style.width="".concat(100*u/s,"%"),o.style.height="".concat(100*h/a,"%")):this.setRotation(p,o),o}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:o}=v(this.data.rect);let s,a;e%180===0?(s=100*i/n,a=100*o/r):(s=100*o/n,a=100*i/r),t.style.width="".concat(s,"%"),t.style.height="".concat(a,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],o=r.slice(1);n.target.style[t]=f["".concat(i,"_HTML")](o),this.annotationStorage.setValue(this.data.id,{[t]:f["".concat(i,"_rgb")](o)})};return(0,r.shadow)(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const o=n[r];if(o){o({detail:{[r]:i},target:e}),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect;if(1===e.length){const[,{x:o,y:s},{x:a,y:c}]=e[0];if(r===o&&i===s&&t===a&&n===c)return}const{style:o}=this.container;let s;if((0,h.A)(b,this)){const{borderColor:e,borderWidth:t}=o;o.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const a=r-t,c=i-n,{svgFactory:l}=this,u=l.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=l.createElement("defs");u.append(d);const f=l.createElement("clipPath"),p="clippath_".concat(this.data.id);f.setAttribute("id",p),f.setAttribute("clipPathUnits","objectBoundingBox"),d.append(f);for(const[,{x:h,y:m},{x:v,y:y}]of e){var g;const e=l.createElement("rect"),n=(v-t)/a,r=(i-m)/c,o=(h-v)/a,u=(m-y)/c;e.setAttribute("x",n),e.setAttribute("y",r),e.setAttribute("width",o),e.setAttribute("height",u),f.append(e),null===(g=s)||void 0===g||g.push('<rect vector-effect="non-scaling-stroke" x="'.concat(n,'" y="').concat(r,'" width="').concat(o,'" height="').concat(u,'"/>'))}(0,h.A)(b,this)&&(s.push("</g></svg>')"),o.backgroundImage=s.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=new F({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:o,exportValues:s}of i){if(-1===e)continue;if(o===t)continue;const i="string"===typeof s?s:null,a=document.querySelector('[data-element-id="'.concat(o,'"]'));!a||m.has(a)?n.push({id:o,exportValue:i,domElement:a}):(0,r.warn)("_getElementsByName - element not allowed: ".concat(o))}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&(m.has(r)&&n.push({id:i,exportValue:e,domElement:r}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}var A=new WeakSet;class C extends w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),(0,c.A)(this,A),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?((0,l.A)(A,this,S).call(this,n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?((0,l.A)(A,this,x).call(this,n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(0,l.A)(A,this,k).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),(0,l.A)(A,this,k).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),(0,l.A)(A,this,k).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),(0,l.A)(A,this,k).call(this),!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:i,include:o}=t,s=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===o&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const a=this.annotationStorage,c=[];for(const t of s){const{id:e}=t;switch(c.push(e),t.type){case"text":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;a.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(m.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}));return!1}}}function k(){this.container.setAttribute("data-internal-link","")}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},(0,l.A)(A,this,k).call(this)}function x(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),(0,l.A)(A,this,k).call(this)}class T extends w{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class E extends w{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return r.FeatureTest.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{var o;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(o=this.linkService.eventBus)||void 0===o||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}}))}))}_setEventListeners(e,t,n,r){for(const[a,c]of n){var i,o,s;if("Action"===c||null!==(i=this.data.actions)&&void 0!==i&&i[c])"Focus"!==c&&"Blur"!==c||t||(t={focused:!1}),this._setEventListener(e,t,a,c,r),"Focus"!==c||null!==(o=this.data.actions)&&void 0!==o&&o.Blur?"Blur"!==c||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,o=e.style;let s;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(r.LINE_FACTOR*i))||1);s=Math.min(i,a(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(i,a(e/r.LINE_FACTOR))}o.fontSize="calc(".concat(s,"px * var(--scale-factor))"),o.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class I extends E{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),i.setValue(o.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var r;const o=e.getValue(t,{value:this.data.fieldValue});let s=o.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let c=o.formattedValue||(null===(r=this.data.textContent)||void 0===r?void 0:r.join("\n"))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==c&&void 0!==c?c:s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==c&&void 0!==c?c:s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),m.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=g,this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),l.formattedValue=null})),n.addEventListener("resetform",(e=>{var t;const r=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=l.userValue=r,l.formattedValue=null}));let u=e=>{const{formattedValue:t}=l;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;n.addEventListener("focus",(e=>{var t;if(l.focused)return;const{target:n}=e;l.userValue&&(n.value=l.userValue),l.lastCommittedValue=n.value,l.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(l.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){var r;l.userValue=null!==(r=n.detail.value)&&void 0!==r?r:"",e.setValue(t,{value:l.userValue.toString()}),n.target.value=l.userValue},formattedValue(n){const{formattedValue:r}=n.detail;l.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var r;const{charLimit:i}=n.detail,{target:o}=n;if(0===i)return void o.removeAttribute("maxLength");o.setAttribute("maxLength",i);let s=l.userValue;!s||s.length<=i||(s=s.slice(0,i),o.value=l.userValue=s,e.setValue(t,{value:s}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:o.selectionStart,selEnd:o.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{var n;l.commitKey=1;let r=-1;if("Escape"===e.key?r=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(l.commitKey=3):r=2,-1===r)return;const{value:i}=e.target;l.lastCommittedValue!==i&&(l.lastCommittedValue=i,l.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=u;u=null,n.addEventListener("blur",(e=>{var n;if(!l.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(l.focused=!1);const{value:i}=e.target;var o;(l.userValue=i,l.lastCommittedValue!==i)&&(null===(o=this.linkService.eventBus)||void 0===o||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:l.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));r(e)})),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&n.addEventListener("beforeinput",(e=>{var n;l.lastCommittedValue=null;const{data:r,target:i}=e,{value:o,selectionStart:s,selectionEnd:a}=i;let c=s,u=a;switch(e.inputType){case"deleteWordBackward":{const e=o.substring(0,s).match(/\w*[^\w]*$/);e&&(c-=e[0].length);break}case"deleteWordForward":{const e=o.substring(s).match(/^[^\w]*\w*/);e&&(u+=e[0].length);break}case"deleteContentBackward":s===a&&(c-=1);break;case"deleteContentForward":s===a&&(u+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:r||"",willCommit:!1,selStart:c,selEnd:u}})})),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(u&&n.addEventListener("blur",u),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class _ extends E{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class R extends E{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return m.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=g,i.addEventListener("change",(r=>{const{name:i,checked:o}=r.target;for(const s of this._getElementsByName(i,n)){const n=o&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n),e.setValue(s.id,{value:n})}e.setValue(n,{value:o})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class P extends E{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(m.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=g,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const o of this._getElementsByName(r,n))e.setValue(o.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class N extends C{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class M extends E{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");m.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=g;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const l of this.data.options){const e=document.createElement("option");e.textContent=l.displayValue,e.value=l.exportValue,n.value.includes(l.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let o=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),o=()=>{e.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let a=s(!1);const c=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){var i;null===(i=o)||void 0===i||i();const c=n.detail.value,l=new Set(Array.isArray(c)?c:[c]);for(const e of r.options)e.selected=l.has(e.value);e.setValue(t,{value:s(!0)}),a=s(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,o=n.detail.remove;if(i[o].selected=!1,r.remove(o),i.length>0){-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0)}e.setValue(t,{value:s(!0),items:c(n)}),a=s(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),a=s(!1)},insert(n){const{index:i,displayValue:o,exportValue:l}=n.detail.insert,u=r.children[i],h=document.createElement("option");h.textContent=o,h.value=l,u?u.before(h):r.append(h),e.setValue(t,{value:s(!0),items:c(n)}),a=s(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(!0),items:c(n)}),a=s(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(!0)}),a=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{var r;const i=s(!0);e.setValue(t,{value:i}),n.preventDefault(),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:s(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class F extends w{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:w._hasPopupData(t)}),this.elements=n}render(){this.container.classList.add("popupAnnotation");const e=new $({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>"".concat(r.AnnotationPrefix).concat(e))).join(",")),this.container}}var O=new WeakMap,D=new WeakMap,L=new WeakMap,j=new WeakMap,U=new WeakMap,B=new WeakMap,q=new WeakMap,z=new WeakMap,V=new WeakMap,H=new WeakMap,W=new WeakMap,K=new WeakMap,G=new WeakMap,X=new WeakMap,Y=new WeakMap,Q=new WeakMap,J=new WeakMap,Z=new WeakSet;class ${constructor(e){let{container:t,color:n,elements:r,titleObj:o,modificationDate:s,contentsObj:a,richText:f,parent:p,rect:g,parentRect:m,open:v}=e;(0,c.A)(this,Z),(0,u.A)(this,O,(0,l.A)(Z,this,ee).bind(this)),(0,u.A)(this,D,(0,l.A)(Z,this,re).bind(this)),(0,u.A)(this,L,(0,l.A)(Z,this,ne).bind(this)),(0,u.A)(this,j,(0,l.A)(Z,this,te).bind(this)),(0,u.A)(this,U,null),(0,u.A)(this,B,null),(0,u.A)(this,q,null),(0,u.A)(this,z,null),(0,u.A)(this,V,null),(0,u.A)(this,H,null),(0,u.A)(this,W,null),(0,u.A)(this,K,!1),(0,u.A)(this,G,null),(0,u.A)(this,X,null),(0,u.A)(this,Y,null),(0,u.A)(this,Q,null),(0,u.A)(this,J,!1),(0,d.A)(B,this,t),(0,d.A)(Q,this,o),(0,d.A)(q,this,a),(0,d.A)(Y,this,f),(0,d.A)(H,this,p),(0,d.A)(U,this,n),(0,d.A)(X,this,g),(0,d.A)(W,this,m),(0,d.A)(V,this,r),(0,d.A)(z,this,i.PDFDateString.toDateObject(s)),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const i of this.trigger)i.addEventListener("click",(0,h.A)(j,this)),i.addEventListener("mouseenter",(0,h.A)(L,this)),i.addEventListener("mouseleave",(0,h.A)(D,this)),i.classList.add("popupTriggerArea");for(const i of r){var y;null===(y=i.container)||void 0===y||y.addEventListener("keydown",(0,h.A)(O,this))}(0,h.A)(B,this).hidden=!0,v&&(0,l.A)(Z,this,te).call(this)}render(){if((0,h.A)(G,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:o}}}=(0,h.A)(H,this),s=(0,d.A)(G,this,document.createElement("div"));if(s.className="popup",(0,h.A)(U,this)){const e=s.style.outlineColor=r.Util.makeHexColor(...(0,h.A)(U,this));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))s.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)");else{const e=.7;s.style.backgroundColor=r.Util.makeHexColor(...(0,h.A)(U,this).map((t=>Math.floor(e*(255-t)+t))))}}const a=document.createElement("span");a.className="header";const c=document.createElement("h1");if(a.append(c),({dir:c.dir,str:c.textContent}=(0,h.A)(Q,this)),s.append(a),(0,h.A)(z,this)){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),e.setAttribute("data-l10n-args",JSON.stringify({date:(0,h.A)(z,this).toLocaleDateString(),time:(0,h.A)(z,this).toLocaleTimeString()})),a.append(e)}const l=(0,h.A)(q,this),u=(0,h.A)(Y,this);if(null===u||void 0===u||!u.str||null!==l&&void 0!==l&&l.str&&l.str!==u.str){const e=this._formatContents(l);s.append(e)}else p.XfaLayer.render({xfaHtml:u.html,intent:"richText",div:s}),s.lastChild.classList.add("richText","popupContent");let f=!!(0,h.A)(W,this),g=f?(0,h.A)(W,this):(0,h.A)(X,this);for(const d of(0,h.A)(V,this))if(!g||null!==r.Util.intersect(d.data.rect,g)){g=d.data.rect,f=!0;break}const m=r.Util.normalizeRect([g[0],e[3]-g[1]+e[1],g[2],e[3]-g[3]+e[1]]),v=f?g[2]-g[0]+5:0,y=m[0]+v,b=m[1],{style:w}=(0,h.A)(B,this);w.left="".concat(100*(y-i)/t,"%"),w.top="".concat(100*(b-o)/n,"%"),(0,h.A)(B,this).append(s)}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let o=0,s=i.length;o<s;++o){const e=i[o];r.append(document.createTextNode(e)),o<s-1&&r.append(document.createElement("br"))}return r}forceHide(){(0,d.A)(J,this,this.isVisible),(0,h.A)(J,this)&&((0,h.A)(B,this).hidden=!0)}maybeShow(){(0,h.A)(J,this)&&((0,d.A)(J,this,!1),(0,h.A)(B,this).hidden=!1)}get isVisible(){return!1===(0,h.A)(B,this).hidden}}function ee(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&(0,h.A)(K,this))&&(0,l.A)(Z,this,te).call(this)}function te(){(0,d.A)(K,this,!(0,h.A)(K,this)),(0,h.A)(K,this)?((0,l.A)(Z,this,ne).call(this),(0,h.A)(B,this).addEventListener("click",(0,h.A)(j,this)),(0,h.A)(B,this).addEventListener("keydown",(0,h.A)(O,this))):((0,l.A)(Z,this,re).call(this),(0,h.A)(B,this).removeEventListener("click",(0,h.A)(j,this)),(0,h.A)(B,this).removeEventListener("keydown",(0,h.A)(O,this)))}function ne(){(0,h.A)(G,this)||this.render(),this.isVisible?(0,h.A)(K,this)&&(0,h.A)(B,this).classList.add("focused"):((0,h.A)(B,this).hidden=!1,(0,h.A)(B,this).style.zIndex=parseInt((0,h.A)(B,this).style.zIndex)+1e3)}function re(){(0,h.A)(B,this).classList.remove("focused"),!(0,h.A)(K,this)&&this.isVisible&&((0,h.A)(B,this).hidden=!0,(0,h.A)(B,this).style.zIndex=parseInt((0,h.A)(B,this).style.zIndex)-1e3)}class ie extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var oe=new WeakMap;class se extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,u.A)(this,oe,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0),i=(0,d.A)(oe,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,h.A)(oe,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var ae=new WeakMap;class ce extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,u.A)(this,ae,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,o=(0,d.A)(ae,this,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",t-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,h.A)(ae,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var le=new WeakMap;class ue extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,u.A)(this,le,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,o=(0,d.A)(le,this,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,h.A)(le,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var he=new WeakMap;class de extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,u.A)(this,he,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const s of e.vertices){const t=s.x-e.rect[0],n=e.rect[3]-s.y;i.push(t+","+n)}i=i.join(" ");const o=(0,d.A)(he,this,this.svgFactory.createElement(this.svgElementName));return o.setAttribute("points",i),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,h.A)(he,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class fe extends de{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class pe extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ge=new WeakMap;class me extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),(0,u.A)(this,ge,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=v(e.rect),r=this.svgFactory.create(t,n,!0);for(const i of e.inkLists){let t=[];for(const r of i){const n=r.x-e.rect[0],i=e.rect[3]-r.y;t.push("".concat(n,",").concat(i))}t=t.join(" ");const n=this.svgFactory.createElement(this.svgElementName);(0,h.A)(ge,this).push(n),n.setAttribute("points",t),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),r.append(n)}return this.container.append(r),this.container}getElementsToTriggerPopup(){return(0,h.A)(ge,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class ve extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ye extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class be extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class we extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ae extends w{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ce=new WeakMap,ke=new WeakSet;class Se extends w{constructor(e){var t;super(e,{isRenderable:!0}),(0,c.A)(this,ke),(0,u.A)(this,Ce,null);const{filename:n,content:r}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(n,!0),this.content=r,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:this,filename:n,content:r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",(0,l.A)(ke,this,xe).bind(this)),(0,d.A)(Ce,this,n);const{isMac:i}=r.FeatureTest.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&(0,l.A)(ke,this,xe).call(this)})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return(0,h.A)(Ce,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function xe(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var Te=new WeakMap,Ee=new WeakMap,Ie=new WeakMap,_e=new WeakSet;class Re{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,page:i,viewport:o}=e;(0,c.A)(this,_e),(0,u.A)(this,Te,null),(0,u.A)(this,Ee,null),(0,u.A)(this,Ie,new Map),this.div=t,(0,d.A)(Te,this,n),(0,d.A)(Ee,this,r),this.page=i,this.viewport=o,this.zIndex=0}async render(e){const{annotations:t}=e,n=this.div;(0,i.setLayerDimensions)(n,this.viewport);const s=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new o.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const i of t){if(i.noHTML)continue;const e=i.annotationType===r.AnnotationType.POPUP;if(e){const e=s.get(i.id);if(!e)continue;a.elements=e}else{const{width:e,height:t}=v(i.rect);if(e<=0||t<=0)continue}a.data=i;const t=y.create(a);if(!t.isRenderable)continue;if(!e&&i.popupRef){const e=s.get(i.popupRef);e?e.push(t):s.set(i.popupRef,[t])}t.annotationEditorType>0&&(0,h.A)(Ie,this).set(t.data.id,t);const n=t.render();i.hidden&&(n.style.visibility="hidden"),(0,l.A)(_e,this,Pe).call(this,n,i.id)}(0,l.A)(_e,this,Ne).call(this)}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,(0,i.setLayerDimensions)(n,{rotation:t.rotation}),(0,l.A)(_e,this,Ne).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from((0,h.A)(Ie,this).values())}getEditableAnnotation(e){return(0,h.A)(Ie,this).get(e)}}function Pe(e,t){var n;const i=e.firstChild||e;i.id="".concat(r.AnnotationPrefix).concat(t),this.div.append(e),null===(n=(0,h.A)(Te,this))||void 0===n||n.moveElementInDOM(this.div,e,i,!1)}function Ne(){if(!(0,h.A)(Ee,this))return;const e=this.div;for(const[t,n]of(0,h.A)(Ee,this)){const r=e.querySelector('[data-annotation-id="'.concat(t,'"]'));if(!r)continue;const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.before(n):r.append(n)}(0,h.A)(Ee,this).clear()}},780:(e,t,n)=>{n.d(t,{AnnotationStorage:()=>g,PrintAnnotationStorage:()=>y,SerializableEmpty:()=>s});var r=n(266),i=n(115),o=n(825);const s=Object.freeze({map:null,hash:"",transfer:void 0});var a=new WeakMap,f=new WeakMap,p=new WeakSet;class g{constructor(){(0,c.A)(this,p),(0,u.A)(this,a,!1),(0,u.A)(this,f,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=(0,h.A)(f,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return(0,h.A)(f,this).get(e)}remove(e){if((0,h.A)(f,this).delete(e),0===(0,h.A)(f,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of(0,h.A)(f,this).values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=(0,h.A)(f,this).get(e);let r=!1;if(void 0!==n)for(const[i,o]of Object.entries(t))n[i]!==o&&(r=!0,n[i]=o);else r=!0,(0,h.A)(f,this).set(e,t);r&&(0,l.A)(p,this,m).call(this),t instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return(0,h.A)(f,this).has(e)}getAll(){return(0,h.A)(f,this).size>0?(0,r.objectFromMap)((0,h.A)(f,this)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return(0,h.A)(f,this).size}resetModified(){(0,h.A)(a,this)&&((0,d.A)(a,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new y(this)}get serializable(){if(0===(0,h.A)(f,this).size)return s;const e=new Map,t=new o.MurmurHash3_64,n=[],r=Object.create(null);let a=!1;for(const[o,s]of(0,h.A)(f,this)){const n=s instanceof i.AnnotationEditor?s.serialize(!1,r):s;n&&(e.set(o,n),t.update("".concat(o,":").concat(JSON.stringify(n))),a||(a=!!n.bitmap))}if(a)for(const i of e.values())i.bitmap&&n.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:s}}function m(){(0,h.A)(a,this)||((0,d.A)(a,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var v=new WeakMap;class y extends g{constructor(e){super(),(0,u.A)(this,v,void 0);const{map:t,hash:n,transfer:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);(0,d.A)(v,this,{map:i,hash:n,transfer:r})}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return(0,h.A)(v,this)}}},406:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{PDFDataRangeTransport:()=>ne,PDFWorker:()=>le,build:()=>ye,getDocument:()=>J,version:()=>ve});var i=n(266),o=n(780),s=n(473),f=n(742),p=n(738),g=n(250),m=n(368),v=n(694),y=n(472),b=n(890),w=n(92),A=n(171),C=n(474),k=n(498),S=n(521),x=e([p,k]);[p,k]=x.then?(await x)():x;const H=65536,W=100,K=5e3,G=i.isNodeJS?p.NodeCanvasFactory:s.DOMCanvasFactory,X=i.isNodeJS?p.NodeCMapReaderFactory:s.DOMCMapReaderFactory,Y=i.isNodeJS?p.NodeFilterFactory:s.DOMFilterFactory,Q=i.isNodeJS?p.NodeStandardFontDataFactory:s.DOMStandardFontDataFactory;function J(e){var t,n;if("string"===typeof e||e instanceof URL?e={url:e}:(0,i.isArrayBuffer)(e)&&(e={data:e}),"object"!==typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const r=new te,{docId:o}=r,a=e.url?$(e.url):null,c=e.data?ee(e.data):null,l=e.httpHeaders||null,u=!0===e.withCredentials,h=null!==(t=e.password)&&void 0!==t?t:null,d=e.range instanceof ne?e.range:null,f=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:H;let p=e.worker instanceof le?e.worker:null;const g=e.verbosity,y="string"!==typeof e.docBaseUrl||(0,s.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,b="string"===typeof e.cMapUrl?e.cMapUrl:null,S=!1!==e.cMapPacked,x=e.CMapReaderFactory||X,T="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,E=e.StandardFontDataFactory||Q,I=!0!==e.stopAtErrors,_=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,R=!1!==e.isEvalSupported,P="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!i.isNodeJS,N=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,M="boolean"===typeof e.disableFontFace?e.disableFontFace:i.isNodeJS,F=!0===e.fontExtraProperties,O=!0===e.enableXfa,D=e.ownerDocument||globalThis.document,L=!0===e.disableRange,j=!0===e.disableStream,U=!0===e.disableAutoFetch,B=!0===e.pdfBug,q=d?d.length:null!==(n=e.length)&&void 0!==n?n:NaN,z="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!i.isNodeJS&&!M,V="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:x===s.DOMCMapReaderFactory&&E===s.DOMStandardFontDataFactory&&b&&T&&(0,s.isValidFetchUrl)(b,document.baseURI)&&(0,s.isValidFetchUrl)(T,document.baseURI),W=e.canvasFactory||new G({ownerDocument:D}),K=e.filterFactory||new Y({docId:o,ownerDocument:D});(0,i.setVerbosityLevel)(g);const J={canvasFactory:W,filterFactory:K};if(V||(J.cMapReaderFactory=new x({baseUrl:b,isCompressed:S}),J.standardFontDataFactory=new E({baseUrl:T})),!p){const e={verbosity:g,port:m.GlobalWorkerOptions.workerPort};p=e.port?le.fromPort(e):new le(e),r._worker=p}const re={docId:o,apiVersion:"4.0.379",data:c,password:h,disableAutoFetch:U,rangeChunkSize:f,length:q,docBaseUrl:y,enableXfa:O,evaluatorOptions:{maxImageSize:_,disableFontFace:M,ignoreErrors:I,isEvalSupported:R,isOffscreenCanvasSupported:P,canvasMaxAreaInBytes:N,fontExtraProperties:F,useSystemFonts:z,cMapUrl:V?b:null,standardFontDataUrl:V?T:null}},ie={ignoreErrors:I,isEvalSupported:R,disableFontFace:M,fontExtraProperties:F,enableXfa:O,ownerDocument:D,disableAutoFetch:U,pdfBug:B,styleElement:null};return p.promise.then((function(){if(r.destroyed)throw new Error("Loading aborted");const e=Z(p,re),t=new Promise((function(e){let t;if(d)t=new w.PDFDataTransportStream({length:q,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:L,disableStream:j},d);else if(!c){t=(e=>i.isNodeJS?new k.PDFNodeStream(e):(0,s.isValidFetchUrl)(e.url)?new A.PDFFetchStream(e):new C.PDFNetworkStream(e))({url:a,length:q,httpHeaders:l,withCredentials:u,rangeChunkSize:f,disableRange:L,disableStream:j})}e(t)}));return Promise.all([e,t]).then((function(e){let[t,n]=e;if(r.destroyed)throw new Error("Loading aborted");const i=new v.MessageHandler(o,t,p.port),s=new he(i,r,n,ie,J);r._transport=s,i.send("Ready",null)}))})).catch(r._capability.reject),r}async function Z(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function $(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(i.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ee(e){if(i.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,i.stringToBytes)(e);if("object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length)||(0,i.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class te{constructor(){var e,t;this._capability=new i.PromiseCapability,this._transport=null,this._worker=null,this.docId="d".concat((T._=(e=T._,t=e++,e),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var e,t;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(t=this._transport)||void 0===t?void 0:t.destroy())}catch(r){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var T={_:0};class ne{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new i.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,i.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class re{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var E=new WeakMap,I=new WeakMap,_=new WeakSet;class ie{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,c.A)(this,_),(0,u.A)(this,E,null),(0,u.A)(this,I,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new s.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new fe,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new s.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:r,viewport:o,intent:s="display",annotationMode:a=i.AnnotationMode.ENABLE,transform:c=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const m=this._transport.getRenderingIntent(s,a,g);(0,d.A)(I,this,!1),(0,l.A)(_,this,se).call(this),h||(h=this._transport.getOptionalContentConfig());let v=this._intentStates.get(m.cacheKey);v||(v=Object.create(null),this._intentStates.set(m.cacheKey,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const y=!!(m.renderingIntent&i.RenderingIntentFlag.PRINT);var b;v.displayReadyCapability||(v.displayReadyCapability=new i.PromiseCapability,v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(b=this._stats)||void 0===b||b.time("Page Request"),this._pumpOperatorList(m));const w=e=>{var t,n;v.renderTasks.delete(A),(this._maybeCleanupAfterRender||y)&&(0,d.A)(I,this,!0),(0,l.A)(_,this,oe).call(this,!y),e?(A.capability.reject(e),this._abortOperatorList({intentState:v,reason:e instanceof Error?e:new Error(e)})):A.capability.resolve(),null===(t=this._stats)||void 0===t||t.timeEnd("Rendering"),null===(n=this._stats)||void 0===n||n.timeEnd("Overall")},A=new me({callback:w,params:{canvasContext:r,viewport:o,transform:c,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:p});((n=v).renderTasks||(n.renderTasks=new Set)).add(A);const C=A.task;return Promise.all([v.displayReadyCapability.promise,h]).then((e=>{var t;let[n,r]=e;this.destroyed?w():(null===(t=this._stats)||void 0===t||t.time("Rendering"),A.initializeGraphics({transparency:n,optionalContentConfig:r}),A.operatorListChanged())})).catch(w),C}getOperatorList(){let{intent:e="display",annotationMode:t=i.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let o,s=this._intentStates.get(r.cacheKey);var a,c;(s||(s=Object.create(null),this._intentStates.set(r.cacheKey,s)),s.opListReadCapability)||(o=Object.create(null),o.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(o))},s.opListReadCapability=new i.PromiseCapability,((a=s).renderTasks||(a.renderTasks=new Set)).add(o),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(c=this._stats)||void 0===c||c.time("Page Request"),this._pumpOperatorList(r));return s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>S.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){let{value:r,done:o}=n;o?e(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),(0,d.A)(I,this,!1),(0,l.A)(_,this,se).call(this),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,d.A)(I,this,!0);const t=(0,l.A)(_,this,oe).call(this,!1);return e&&t&&this._stats&&(this._stats=new s.StatTimer),t}_startRenderPage(e,t){var n,r;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&(0,l.A)(_,this,oe).call(this,!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r}=e;const{map:i,transfer:o}=r,s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:i},o).getReader(),a=this._intentStates.get(n);a.streamReader=s;const c=()=>{s.read().then((e=>{let{value:t,done:n}=e;n?a.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,a),c())}),(e=>{if(a.streamReader=null,!this._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;for(const e of a.renderTasks)e.operatorListChanged();(0,l.A)(_,this,oe).call(this,!0)}if(a.displayReadyCapability)a.displayReadyCapability.reject(e);else{if(!a.opListReadCapability)throw e;a.opListReadCapability.reject(e)}}}))};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof s.RenderingCancelledException){let e=W;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new i.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function oe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,l.A)(_,this,se).call(this),!(0,h.A)(I,this)||this.destroyed)return!1;if(e)return(0,d.A)(E,this,setTimeout((()=>{(0,d.A)(E,this,null),(0,l.A)(_,this,oe).call(this,!1)}),K)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),(0,d.A)(I,this,!1),!0}function se(){(0,h.A)(E,this)&&(clearTimeout((0,h.A)(E,this)),(0,d.A)(E,this,null))}var R=new WeakMap,P=new WeakMap;class ae{constructor(){(0,u.A)(this,R,new Set),(0,u.A)(this,P,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};(0,h.A)(P,this).then((()=>{for(const e of(0,h.A)(R,this))e.call(this,n)}))}addEventListener(e,t){(0,h.A)(R,this).add(t)}removeEventListener(e,t){(0,h.A)(R,this).delete(t)}terminate(){(0,h.A)(R,this).clear()}}const ce={isWorkerDisabled:!1,fakeWorkerId:0};var N;if(i.isNodeJS)ce.isWorkerDisabled=!0,(N=m.GlobalWorkerOptions).workerSrc||(N.workerSrc="./pdf.worker.mjs");ce.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(i){return!1}const r=new URL(t,n);return n.origin===r.origin},ce.createCDNWrapper=function(e){const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};class le{constructor(){let{name:e=null,port:t=null,verbosity:n=(0,i.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=new i.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t){var r;if(null!==(r=M._)&&void 0!==r&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(M._||(M._=new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new v.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!ce.isWorkerDisabled&&!ue(le)){let{workerSrc:t}=le;try{ce.isSameOrigin(window.location.href,t)||(t=ce.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new v.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",i),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};e.addEventListener("error",i),n.on("test",(t=>{e.removeEventListener("error",i),this.destroyed?r():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())})),n.on("ready",(t=>{if(e.removeEventListener("error",i),this.destroyed)r();else try{o()}catch(n){this._setupFakeWorker()}}));const o=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void o()}catch(e){(0,i.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){ce.isWorkerDisabled||((0,i.warn)("Setting up fake worker."),ce.isWorkerDisabled=!0),le._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new ae;this._port=t;const n="fake".concat(ce.fakeWorkerId++),r=new v.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new v.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=M._)||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(t=(0,l.A)(le,this,M)._)||void 0===t?void 0:t.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new le(e)}static get workerSrc(){if(m.GlobalWorkerOptions.workerSrc)return m.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return(0,i.shadow)(this,"_setupFakeWorkerGlobal",(async()=>{if((0,a.A)(le,this,ue))return(0,a.A)(le,this,ue);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function ue(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}var M={_:void 0},F=new WeakMap,O=new WeakMap,D=new WeakMap,L=new WeakMap,j=new WeakSet;class he{constructor(e,t,n,r,o){(0,c.A)(this,j),(0,u.A)(this,F,new Map),(0,u.A)(this,O,new Map),(0,u.A)(this,D,new Map),(0,u.A)(this,L,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new fe,this.fontLoader=new f.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new i.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,i.shadow)(this,"annotationStorage",new o.AnnotationStorage)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=i.RenderingIntentFlag.DISPLAY,a=o.SerializableEmpty;switch(e){case"any":s=i.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=i.RenderingIntentFlag.PRINT;break;default:(0,i.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case i.AnnotationMode.DISABLE:s+=i.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case i.AnnotationMode.ENABLE:break;case i.AnnotationMode.ENABLE_FORMS:s+=i.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case i.AnnotationMode.ENABLE_STORAGE:s+=i.RenderingIntentFlag.ANNOTATIONS_STORAGE;a=(s&i.RenderingIntentFlag.PRINT&&n instanceof o.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,i.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return r&&(s+=i.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:"".concat(s,"_").concat(a.hash),annotationStorageSerializable:a}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new i.PromiseCapability,null===(e=(0,h.A)(L,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of(0,h.A)(O,this).values())t.push(r._destroy());(0,h.A)(O,this).clear(),(0,h.A)(D,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((()=>{var e;this.commonObjs.clear(),this.fontLoader.clear(),(0,h.A)(F,this).clear(),this.filterFactory.destroy(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new i.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,i.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,i.assert)(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=new i.PromiseCapability,r=this._fullReader;return r.headersReady.then((()=>{if(!r.isStreamingSupported||!r.isRangeSupported){var e;if(this._lastProgress)null===(e=t.onProgress)||void 0===e||e.call(t,this._lastProgress);r.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,i.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,i.assert)(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new re(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new i.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new i.InvalidPDFException(e.message);break;case"MissingPDFException":n=new i.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new i.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new i.UnknownErrorException(e.message,e.details);break;default:(0,i.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if((0,d.A)(L,this,new i.PromiseCapability),t.onPassword){const r=e=>{e instanceof Error?(0,h.A)(L,this).reject(e):(0,h.A)(L,this).resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){(0,h.A)(L,this).reject(n)}}else(0,h.A)(L,this).reject(new i.PasswordException(e.message,e.code));return(0,h.A)(L,this).promise})),e.on("DataLoaded",(e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;(0,h.A)(O,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{var n;let[r,o,s]=t;if(this.destroyed)return null;if(this.commonObjs.has(r))return null;switch(o){case"Font":const t=this._params;if("error"in s){const e=s.error;(0,i.warn)("Error during font loading: ".concat(e)),this.commonObjs.resolve(r,e);break}const a=t.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,c=new f.FontFaceObject(s,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,inspectFont:a});this.fontLoader.bind(c).catch((t=>e.sendWithPromise("FontFallback",{id:r}))).finally((()=>{!t.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(r,c)}));break;case"CopyLocalImage":const{imageRef:l}=s;(0,i.assert)(l,"The imageRef must be defined.");for(const e of(0,h.A)(O,this).values())for(const[,t]of e.objs)if(t.ref===l)return t.dataLen?(this.commonObjs.resolve(r,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error("Got unknown common object type ".concat(o))}return null})),e.on("obj",(e=>{let[t,n,r,o]=e;if(this.destroyed)return;const s=(0,h.A)(O,this).get(n);var a;if(!s.objs.has(t))if(0!==s._intentStates.size)switch(r){case"Image":s.objs.resolve(t,o),(null===o||void 0===o?void 0:o.dataLen)>i.MAX_IMAGE_SIZE_TO_CACHE&&(s._maybeCleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(t,o);break;default:throw new Error("Got unknown object type ".concat(r))}else null===o||void 0===o||null===(a=o.bitmap)||void 0===a||a.close()})),e.on("DocProgress",(e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&(0,i.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},r).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=(0,h.A)(D,this).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new ie(t,e,this,this._params.pdfBug);return(0,h.A)(O,this).set(t,n),n}));return(0,h.A)(D,this).set(t,r),r}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return(0,l.A)(j,this,de).call(this,"GetFieldObjects")}hasJSActions(){return(0,l.A)(j,this,de).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return(0,l.A)(j,this,de).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new b.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=(0,h.A)(F,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>{var t,n,r,i;return{info:e[0],metadata:e[1]?new y.Metadata(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(r=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==r?r:null}}));return(0,h.A)(F,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of(0,h.A)(O,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),(0,h.A)(F,this).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,i.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,h.A)(F,this).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return(0,h.A)(F,this).set(e,r),r}var U=new WeakMap,B=new WeakSet;class fe{constructor(){(0,c.A)(this,B),(0,u.A)(this,U,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=(0,l.A)(B,this,pe).call(this,e);return n.capability.promise.then((()=>t(n.data))),null}const n=(0,h.A)(U,this)[e];if(null===n||void 0===n||!n.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){var t;const n=(0,h.A)(U,this)[e];return null!==(t=null===n||void 0===n?void 0:n.capability.settled)&&void 0!==t&&t}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,l.A)(B,this,pe).call(this,e);n.data=t,n.capability.resolve()}clear(){for(const t in(0,h.A)(U,this)){var e;const{data:n}=(0,h.A)(U,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}(0,d.A)(U,this,Object.create(null))}*[Symbol.iterator](){for(const e in(0,h.A)(U,this)){const{capability:t,data:n}=(0,h.A)(U,this)[e];t.settled&&(yield[e,n])}}}function pe(e){var t;return(t=(0,h.A)(U,this))[e]||(t[e]={capability:new i.PromiseCapability,data:null})}var q=new WeakMap;class ge{constructor(e){(0,u.A)(this,q,null),(0,d.A)(q,this,e),this.onContinue=null}get promise(){return(0,h.A)(q,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,h.A)(q,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=(0,h.A)(q,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=(0,h.A)(q,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}class me{constructor(e){let{callback:t,params:n,objs:r,commonObjs:o,annotationCanvasMap:s,operatorList:a,pageIndex:c,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=o,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=c,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!==typeof window,this.cancelled=!1,this.capability=new i.PromiseCapability,this.task=new ge(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){var t,n;let{transparency:r=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(z._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");z._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:s,transform:a,background:c}=this.params;this.gfx=new g.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:r,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),z._.delete(this._canvas),this.callback(t||new s.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),z._.delete(this._canvas),this.callback())))}}var z={_:new WeakSet};const ve="4.0.379",ye="9e14d04fd";r()}catch(V){r(V)}}))},822:(e,t,n)=>{n.d(t,{BaseCMapReaderFactory:()=>s,BaseCanvasFactory:()=>o,BaseFilterFactory:()=>i,BaseSVGFactory:()=>c,BaseStandardFontDataFactory:()=>a});var r=n(266);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addHighlightHCMFilter(e,t,n,r){return"none"}destroy(){}}class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}class s{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,i).catch((e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}class a{constructor(e){let{baseUrl:t=null}=e;this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetchData(n).catch((e=>{throw new Error("Unable to load font data at: ".concat(n))}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}class c{constructor(){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}},250:(e,t,n)=>{n.d(t,{CanvasGraphics:()=>q});var r=n(266),i=n(473);const o="Fill",a="Stroke",u="Shading";function h(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class f extends d{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let c;if(s===a||s===o){const o=t.current.getClippedPathBoundingBox(s,(0,i.getCurrentTransform)(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),n=r.Util.transform(n,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),h(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),c=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(n);c.setTransform(f)}else h(e,this._bbox),c=this._createGradient(e);return c}}function p(e,t,n,r,i,o,s,a){const c=t.coords,l=t.colors,u=e.data,h=4*e.width;let d;c[n+1]>c[r+1]&&(d=n,n=r,r=d,d=o,o=s,s=d),c[r+1]>c[i+1]&&(d=r,r=i,i=d,d=s,s=a,a=d),c[n+1]>c[r+1]&&(d=n,n=r,r=d,d=o,o=s,s=d);const f=(c[n]+t.offsetX)*t.scaleX,p=(c[n+1]+t.offsetY)*t.scaleY,g=(c[r]+t.offsetX)*t.scaleX,m=(c[r+1]+t.offsetY)*t.scaleY,v=(c[i]+t.offsetX)*t.scaleX,y=(c[i+1]+t.offsetY)*t.scaleY;if(p>=y)return;const b=l[o],w=l[o+1],A=l[o+2],C=l[s],k=l[s+1],S=l[s+2],x=l[a],T=l[a+1],E=l[a+2],I=Math.round(p),_=Math.round(y);let R,P,N,M,F,O,D,L;for(let j=I;j<=_;j++){if(j<m){const e=j<p?0:(p-j)/(p-m);R=f-(f-g)*e,P=b-(b-C)*e,N=w-(w-k)*e,M=A-(A-S)*e}else{let e;e=j>y?1:m===y?0:(m-j)/(m-y),R=g-(g-v)*e,P=C-(C-x)*e,N=k-(k-T)*e,M=S-(S-E)*e}let e;e=j<p?0:j>y?1:(p-j)/(p-y),F=f-(f-v)*e,O=b-(b-x)*e,D=w-(w-T)*e,L=A-(A-E)*e;const t=Math.round(Math.min(R,F)),n=Math.round(Math.max(R,F));let r=h*j+4*t;for(let i=t;i<=n;i++)e=(R-i)/(R-F),e<0?e=0:e>1&&(e=1),u[r++]=P-(P-O)*e|0,u[r++]=N-(N-D)*e|0,u[r++]=M-(M-L)*e|0,u[r++]=255}}function g(e,t,n){const r=t.coords,i=t.colors;let o,s;switch(t.type){case"lattice":const a=t.verticesPerRow,c=Math.floor(r.length/a)-1,l=a-1;for(o=0;o<c;o++){let t=o*a;for(let o=0;o<l;o++,t++)p(e,n,r[t],r[t+1],r[t+a],i[t],i[t+1],i[t+a]),p(e,n,r[t+a+1],r[t+1],r[t+a],i[t+a+1],i[t+1],i[t+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)p(e,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class m extends d{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,a=Math.min(Math.ceil(Math.abs(o*e[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),l=o/a,u=s/c,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/l,scaleY:1/u},d=a+4,f=c+4,p=n.getCanvas("mesh",d,f,!1),m=p.context,v=m.createImageData(a,c);if(t){const e=v.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const y of this._figures)g(v,y,h);m.putImageData(v,2,2);return{canvas:p.canvas,offsetX:r-2*l,offsetY:i-2*u,scaleX:l,scaleY:u}}getPattern(e,t,n,o){let s;if(h(e,this._bbox),o===u)s=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(s=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);s=[s[0]*e[0],s[1]*e[1]]}const a=this._createMeshCanvas(s,o===u?null:this._background,t.cachedCanvases);return o!==u&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class v extends d{getPattern(){return"hotpink"}}const y=1,b=2;class w{constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,o=this.xstep,s=this.ystep,a=this.paintType,c=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+c);const h=n[0],d=n[1],f=n[2],p=n[3],g=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),v=[g[0]*m[0],g[1]*m[1]],y=this.getSizeAndScale(o,this.ctx.canvas.width,v[0]),b=this.getSizeAndScale(s,this.ctx.canvas.height,v[1]),w=e.cachedCanvases.getCanvas("pattern",y.size,b.size,!0),A=w.context,C=u.createCanvasGraphics(A);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,a,l);let k=h,S=d,x=f,T=p;return h<0&&(k=0,x+=Math.abs(h)),d<0&&(S=0,T+=Math.abs(d)),A.translate(-y.scale*k,-b.scale*S),C.transform(y.scale,0,0,b.scale,0,0),A.save(),this.clipBbox(C,k,S,x,T),C.baseTransform=(0,i.getCurrentTransform)(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:w.canvas,scaleX:y.scale,scaleY:b.scale,offsetX:k,offsetY:S}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(w.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,o){const s=r-t,a=o-n;e.ctx.rect(t,n,s,a),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,o=e.current;switch(t){case y:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,o.fillColor=e.fillStyle,o.strokeColor=e.strokeStyle;break;case b:const s=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,o.fillColor=s,o.strokeColor=s;break;default:throw new r.FormatError("Unsupported paint type: ".concat(t))}}getPattern(e,t,n,i){let o=n;i!==u&&(o=r.Util.transform(o,t.baseTransform),this.matrix&&(o=r.Util.transform(o,this.matrix)));const s=this.createPatternCanvas(t);let a=new DOMMatrix(o);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const c=e.createPattern(s.canvas,"repeat");return c.setTransform(a),c}}function A(e){let{src:t,srcPos:n=0,dest:i,width:o,height:s,nonBlackColor:a=4294967295,inverseDecode:c=!1}=e;const l=r.FeatureTest.isLittleEndian?4278190080:255,[u,h]=c?[a,l]:[l,a],d=o>>3,f=7&o,p=t.length;i=new Uint32Array(i.buffer);let g=0;for(let r=0;r<s;r++){for(const r=n+d;n<r;n++){const e=n<p?t[n]:255;i[g++]=128&e?h:u,i[g++]=64&e?h:u,i[g++]=32&e?h:u,i[g++]=16&e?h:u,i[g++]=8&e?h:u,i[g++]=4&e?h:u,i[g++]=2&e?h:u,i[g++]=1&e?h:u}if(0===f)continue;const e=n<p?t[n++]:255;for(let t=0;t<f;t++)i[g++]=e&1<<7-t?h:u}return{srcPos:n,destPos:g}}(0,s.A)(w,"MAX_PATTERN_SIZE",3e3);const C=4096,k=16;class S{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function x(e,t,n,r,o,s,a,c,l,u){const[h,d,f,p,g,m]=(0,i.getCurrentTransform)(e);if(0===d&&0===f){const i=a*h+g,v=Math.round(i),y=c*p+m,b=Math.round(y),w=(a+l)*h+g,A=Math.abs(Math.round(w)-v)||1,C=(c+u)*p+m,k=Math.abs(Math.round(C)-b)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(p),v,b),e.drawImage(t,n,r,o,s,0,0,A,k),e.setTransform(h,d,f,p,g,m),[A,k]}if(0===h&&0===p){const i=c*f+g,v=Math.round(i),y=a*d+m,b=Math.round(y),w=(c+u)*f+g,A=Math.abs(Math.round(w)-v)||1,C=(a+l)*d+m,k=Math.abs(Math.round(C)-b)||1;return e.setTransform(0,Math.sign(d),Math.sign(f),0,v,b),e.drawImage(t,n,r,o,s,0,0,k,A),e.setTransform(h,d,f,p,g,m),[k,A]}e.drawImage(t,n,r,o,s,a,c,l,u);return[Math.hypot(h,d)*l,Math.hypot(f,p)*u]}class T{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=r.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=r.Util.applyTransform(t,e),i=r.Util.applyTransform(t.slice(2),e),o=r.Util.applyTransform([t[0],t[3]],e),s=r.Util.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],o[0],s[0]),this.minY=Math.min(this.minY,n[1],i[1],o[1],s[1]),this.maxX=Math.max(this.maxX,n[0],i[0],o[0],s[0]),this.maxY=Math.max(this.maxY,n[1],i[1],o[1],s[1])}updateScalingPathMinMax(e,t){r.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,o,s,a,c,l,u){const h=r.Util.bezierBoundingBox(t,n,i,o,s,a,c,l);if(u)return u[0]=Math.min(u[0],h[0],h[2]),u[1]=Math.max(u[1],h[0],h[2]),u[2]=Math.min(u[2],h[1],h[3]),void(u[3]=Math.max(u[3],h[1],h[3]));this.updateRectMinMax(e,h)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===a){t||(0,r.unreachable)("Stroke bounding box must include transform.");const e=r.Util.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,o=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=o,n[2]+=i,n[3]+=o}return n}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function E(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,o=n%k,s=(n-o)/k,a=0===o?s:s+1,c=e.createImageData(i,k);let l,u=0;const h=t.data,d=c.data;let f,p,g,m;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){const t=h.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),m=n.length,v=i+7>>3,y=4294967295,b=r.FeatureTest.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?k:o,l=0,p=0;p<g;p++){const e=t-u;let r=0;const o=e>v?i:8*e-7,s=-8&o;let a=0,c=0;for(;r<s;r+=8)c=h[u++],n[l++]=128&c?y:b,n[l++]=64&c?y:b,n[l++]=32&c?y:b,n[l++]=16&c?y:b,n[l++]=8&c?y:b,n[l++]=4&c?y:b,n[l++]=2&c?y:b,n[l++]=1&c?y:b;for(;r<o;r++)0===a&&(c=h[u++],a=128),n[l++]=c&a?y:b,a>>=1}for(;l<m;)n[l++]=0;e.putImageData(c,0,f*k)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(p=0,m=i*k*4,f=0;f<s;f++)d.set(h.subarray(u,u+m)),u+=m,e.putImageData(c,0,p),p+=k;f<a&&(m=i*o*4,d.set(h.subarray(u,u+m)),e.putImageData(c,0,p))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(g=k,m=i*g,f=0;f<a;f++){for(f>=s&&(g=o,m=i*g),l=0,p=m;p--;)d[l++]=h[u++],d[l++]=h[u++],d[l++]=h[u++],d[l++]=255;e.putImageData(c,0,f*k)}}}function I(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%k,o=(n-i)/k,s=0===i?o:o+1,a=e.createImageData(r,k);let c=0;const l=t.data,u=a.data;for(let h=0;h<s;h++){const t=h<o?k:i;({srcPos:c}=A({src:l,srcPos:c,dest:u,width:r,height:t,nonBlackColor:0})),e.putImageData(a,0,h*k)}}function _(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function R(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!r.isNodeJS){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function P(e,t,n,r){const i=e.length;for(let o=3;o<i;o+=4){const i=e[o];if(0===i)e[o-3]=t,e[o-2]=n,e[o-1]=r;else if(i<255){const s=255-i;e[o-3]=e[o-3]*i+t*s>>8,e[o-2]=e[o-2]*i+n*s>>8,e[o-1]=e[o-1]*i+r*s>>8}}}function N(e,t,n){const r=e.length,i=1/255;for(let o=3;o<r;o+=4){const r=n?n[e[o]]:e[o];t[o]=t[o]*r*i|0}}function M(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function F(e,t,n,r){const i=r[0],o=r[1],s=r[2]-i,a=r[3]-o;0!==s&&0!==a&&(!function(e,t,n,r,i,o,s,a,c,l,u){const h=!!o,d=h?o[0]:0,f=h?o[1]:0,p=h?o[2]:0,g="Luminosity"===i?M:N,m=Math.min(r,Math.ceil(1048576/n));for(let v=0;v<r;v+=m){const i=Math.min(m,r-v),o=e.getImageData(a-l,v+(c-u),n,i),y=t.getImageData(a,v+c,n,i);h&&P(o.data,d,f,p),g(o.data,y.data,s),t.putImageData(y,a,v+c)}}(t.context,n,s,a,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function O(e,t){const n=r.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=o||n[1]<=o}const D=["butt","round","square"],L=["miter","round","bevel"],j={},U={};var B=new WeakSet;class q{constructor(e,t,n,r,i,o,s,a){let{optionalContentConfig:l,markedContentStack:u=null}=o;(0,c.A)(this,B),this.ctx=e,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new S(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=a,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:o=null}=e;const s=this.ctx.canvas.width,a=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=c,r){const e=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),R(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,n,i){const o=e.argsArray,s=e.fnArray;let a=t||0;const c=o.length;if(c===a)return a;const l=c-a>10&&"function"===typeof n,u=l?Date.now()+15:0;let h=0;const d=this.commonObjs,f=this.objs;let p;for(;;){if(void 0!==i&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(p=s[a],p!==r.OPS.dependency)this[p].apply(this,o[a]);else for(const e of o[a]){const t=e.startsWith("g_")?d:f;if(!t.has(e))return t.get(e,n),a}if(a++,a===c)return a;if(l&&++h>10){if(Date.now()>u)return n(),a;h=0}}}endDrawing(){(0,l.A)(B,this,z).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),(0,l.A)(B,this,V).call(this)}_scaleImage(e,t){const n=e.width,r=e.height;let i,o,s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),c=n,l=r,u="prescale1";for(;s>2&&c>1||a>2&&l>1;){let t=c,n=l;s>2&&c>1&&(t=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/t),a>2&&l>1&&(n=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/n),i=this.cachedCanvases.getCanvas(u,t,n),o=i.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,c,l,0,0,t,n),e=i.canvas,c=t,l=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,a=this.current.fillColor,c=this.current.patternFill,l=(0,i.getCurrentTransform)(t);let u,h,d,f;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(c?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(t),u||(u=new Map,this._cachedBitmapsMap.set(t,u));const n=u.get(h);if(n&&!c){return{canvas:n,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])}}d=n}d||(f=this.cachedCanvases.getCanvas("maskCanvas",n,s),I(f.context,e));let p=r.Util.transform(l,[1/n,0,0,-1/s,0,0]);p=r.Util.transform(p,[1,0,0,1,0,-s]);const[g,m,v,y]=r.Util.getAxialAlignedBoundingBox([0,0,n,s],p),b=Math.round(v-g)||1,w=Math.round(y-m)||1,A=this.cachedCanvases.getCanvas("fillCanvas",b,w),C=A.context,k=g,S=m;C.translate(-k,-S),C.transform(...p),d||(d=this._scaleImage(f.canvas,(0,i.getCurrentTransformInverse)(C)),d=d.img,u&&c&&u.set(h,d)),C.imageSmoothingEnabled=O((0,i.getCurrentTransform)(C),e.interpolate),x(C,d,0,0,d.width,d.height,0,0,n,s),C.globalCompositeOperation="source-in";const T=r.Util.transform((0,i.getCurrentTransformInverse)(C),[1,0,0,1,-k,-S]);return C.fillStyle=c?a.getPattern(t,this,T,o):a,C.fillRect(0,0,n,s),u&&!c&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,A.canvas)),{canvas:A.canvas,offsetX:Math.round(k),offsetY:Math.round(S)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=D[e]}setLineJoin(e){this.ctx.lineJoin=L[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),_(this.suspendedCtx,o),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,o,s){t.transform(e,n,r,i,o,s),this.__originalTransform(e,n,r,i,o,s)},e.setTransform=function(e,n,r,i,o,s){t.setTransform(e,n,r,i,o,s),this.__originalSetTransform(e,n,r,i,o,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,o,s){t.bezierCurveTo(e,n,r,i,o,s),this.__originalBezierCurveTo(e,n,r,i,o,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;F(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,o){this.ctx.transform(e,t,n,r,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const o=this.ctx,s=this.current;let a,c,l=s.x,u=s.y;const h=(0,i.getCurrentTransform)(o),d=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],f=d?n.slice(0):null;for(let i=0,p=0,g=e.length;i<g;i++)switch(0|e[i]){case r.OPS.rectangle:l=t[p++],u=t[p++];const e=t[p++],n=t[p++],i=l+e,g=u+n;o.moveTo(l,u),0===e||0===n?o.lineTo(i,g):(o.lineTo(i,u),o.lineTo(i,g),o.lineTo(l,g)),d||s.updateRectMinMax(h,[l,u,i,g]),o.closePath();break;case r.OPS.moveTo:l=t[p++],u=t[p++],o.moveTo(l,u),d||s.updatePathMinMax(h,l,u);break;case r.OPS.lineTo:l=t[p++],u=t[p++],o.lineTo(l,u),d||s.updatePathMinMax(h,l,u);break;case r.OPS.curveTo:a=l,c=u,l=t[p+4],u=t[p+5],o.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],l,u),s.updateCurvePathMinMax(h,a,c,t[p],t[p+1],t[p+2],t[p+3],l,u,f),p+=6;break;case r.OPS.curveTo2:a=l,c=u,o.bezierCurveTo(l,u,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(h,a,c,l,u,t[p],t[p+1],t[p+2],t[p+3],f),l=t[p+2],u=t[p+3],p+=4;break;case r.OPS.curveTo3:a=l,c=u,l=t[p+2],u=t[p+3],o.bezierCurveTo(t[p],t[p+1],l,u,l,u),s.updateCurvePathMinMax(h,a,c,t[p],t[p+1],l,u,l,u,f),p+=4;break;case r.OPS.closePath:o.closePath()}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(l,u)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),o),r=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=j}eoClip(){this.pendingClip=U}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const i=this.commonObjs.get(e),o=this.current;if(!i)throw new Error("Can't find font for ".concat(e));if(o.fontMatrix=i.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==o.fontMatrix[0]&&0!==o.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",a=(null===(n=i.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(s,'", ').concat(i.fallbackName);let c="normal";i.black?c="900":i.bold&&(c="bold");const l=i.italic?"italic":"normal";let u=t;t<16?u=16:t>100&&(u=100),this.current.fontSizeScale=t/u,this.ctx.font="".concat(l," ").concat(c," ").concat(u,"px ").concat(a)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,o){this.current.textMatrix=[e,t,n,r,i,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,o){const s=this.ctx,a=this.current,c=a.font,l=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,h=l&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(l&r.TextRenderingMode.ADD_TO_PATH_FLAG),f=a.patternFill&&!c.missingFile;let p;if((c.disableFontFace||d||f)&&(p=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||f?(s.save(),s.translate(t,n),s.beginPath(),p(s,u),o&&s.setTransform(...o),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),d){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(s),x:t,y:n,fontSize:u,addToPath:p})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(0===s)return;const a=this.ctx,c=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,f=e.length,p=n.vertical,g=p?1:-1,m=n.defaultVMetrics,v=s*t.fontMatrix[0],y=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let b;if(a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),h>0?a.scale(d,-1):a.scale(d,1),t.patternFill){a.save();const e=t.fillColor.getPattern(a,this,(0,i.getCurrentTransformInverse)(a),o);b=(0,i.getCurrentTransform)(a),a.restore(),a.fillStyle=e}let w=t.lineWidth;const A=t.textMatrixScale;if(0===A||0===w){const e=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;e!==r.TextRenderingMode.STROKE&&e!==r.TextRenderingMode.FILL_STROKE||(w=this.getSinglePixelWidth())}else w/=A;if(1!==c&&(a.scale(c,c),w/=c),a.lineWidth=w,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return a.fillText(n.join(""),0,0),t.x+=r*v*d,a.restore(),void this.compose()}let C,k=0;for(C=0;C<f;++C){const t=e[C];if("number"===typeof t){k+=g*t*s/1e3;continue}let r=!1;const i=(t.isSpace?u:0)+l,o=t.fontChar,d=t.accent;let f,w,A=t.width;if(p){const e=t.vmetric||m,n=-(t.vmetric?e[1]:.5*A)*v,r=e[2]*v;A=e?-e[0]:A,f=n/c,w=(k+r)/c}else f=k/c,w=0;if(n.remeasure&&A>0){const e=1e3*a.measureText(o).width/s*c;if(A<e&&this.isFontSubpixelAAEnabled){const t=A/e;r=!0,a.save(),a.scale(t,1),f/=t}else A!==e&&(f+=(A-e)/2e3*s/c)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(y&&!d)a.fillText(o,f,w);else if(this.paintChar(o,f,w,b),d){const e=f+s*d.offset.x/c,t=w-s*d.offset.y/c;this.paintChar(d.fontChar,e,t,b)}k+=p?A*v-i*h:A*v+i*h,r&&a.restore()}p?t.y-=k:t.x+=k*d,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,o=n.fontSize,s=n.fontDirection,a=i.vertical?1:-1,c=n.charSpacing,l=n.wordSpacing,u=n.textHScale*s,h=n.fontMatrix||r.FONT_IDENTITY_MATRIX,d=e.length;let f,p,g,m;if(!(n.textRenderingMode===r.TextRenderingMode.INVISIBLE)&&0!==o){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,s),f=0;f<d;++f){if(p=e[f],"number"===typeof p){m=a*p*o/1e3,this.ctx.translate(m,0),n.x+=m*u;continue}const s=(p.isSpace?l:0)+c,d=i.charProcOperatorList[p.operatorListId];if(!d){(0,r.warn)('Type3 character "'.concat(p.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=p,this.save(),t.scale(o,o),t.transform(...h),this.executeOperatorList(d),this.restore());g=r.Util.applyTransform([p.width,0],h)[0]*o+s,t.translate(g,0),n.x+=g*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),o={createCanvasGraphics:e=>new q(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new w(e,n,this.ctx,o,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new f(e);case"Mesh":return new m(e);case"Dummy":return new v}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),u);const o=(0,i.getCurrentTransformInverse)(t);if(o){const{width:e,height:n}=t.canvas,[i,s,a,c]=r.Util.getAxialAlignedBoundingBox([0,0,e,n],o);this.ctx.fillRect(i,s,a-i,c-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,i.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=r.Util.getAxialAlignedBoundingBox(e.bbox,(0,i.getCurrentTransform)(t));const s=[0,0,t.canvas.width,t.canvas.height];o=r.Util.intersect(o,s)||[0,0,0,0];const a=Math.floor(o[0]),c=Math.floor(o[1]);let l=Math.max(Math.ceil(o[2])-a,1),u=Math.max(Math.ceil(o[3])-c,1),h=1,d=1;l>C&&(h=l/C,l=C),u>C&&(d=u/C,u=C),this.current.startNewPathAndClipBox([0,0,l,u]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,l,u),g=p.context;g.scale(1/h,1/d),g.translate(-a,-c),g.transform(...n),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:a,offsetY:c,scaleX:h,scaleY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,c),t.scale(h,d),t.save()),_(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=r.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,o,s){if((0,l.A)(B,this,z).call(this),R(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=o,t[3]=a;const[s,c]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:l}=this,u=Math.ceil(o*this.outputScaleX*l),h=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:d,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(s,0,0,-c,0,a*c),R(this.ctx)}else R(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),(0,l.A)(B,this,V).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let o,s,a,c=new Uint8Array(i*(n+1));const l=t+7&-8;let u=new Uint8Array(l*n),h=0;for(const g of e.data){let e=128;for(;e>0;)u[h++]=g&e?0:255,e>>=1}let d=0;for(h=0,0!==u[h]&&(c[0]=1,++d),s=1;s<t;s++)u[h]!==u[h+1]&&(c[s]=u[h]?2:1,++d),h++;for(0!==u[h]&&(c[s]=2,++d),o=1;o<n;o++){h=o*l,a=o*i,u[h-l]!==u[h]&&(c[a]=u[h]?1:8,++d);let e=(u[h]?4:0)+(u[h-l]?8:0);for(s=1;s<t;s++)e=(e>>2)+(u[h+1]?4:0)+(u[h-l+1]?8:0),r[e]&&(c[a+s]=r[e],++d),h++;if(u[h-l]!==u[h]&&(c[a+s]=u[h]?2:4,++d),d>1e3)return null}for(h=l*(n-1),a=o*i,0!==u[h]&&(c[a]=8,++d),s=1;s<t;s++)u[h]!==u[h+1]&&(c[a+s]=u[h]?4:8,++d),h++;if(0!==u[h]&&(c[a+s]=4,++d),d>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]),p=new Path2D;for(o=0;d&&o<=n;o++){let e=o*i;const n=e+t;for(;e<n&&!c[e];)e++;if(e===n)continue;p.moveTo(e%i,o);const r=e;let s=c[e];do{const t=f[s];do{e+=t}while(!c[e]);const n=c[e];5!==n&&10!==n?(s=n,c[e]=0):(s=n&51*s>>4,c[e]&=s>>2|s<<2),p.lineTo(e%i,e/i|0),c[e]||--d}while(r!==e);--o}return u=null,c=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(p),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),o=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const l=(0,i.getCurrentTransform)(c);c.transform(t,n,o,s,0,0);const u=this._createMaskCanvas(e);c.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let i=0,h=a.length;i<h;i+=2){const e=r.Util.transform(l,[t,n,o,s,a[i],a[i+1]]),[h,d]=r.Util.applyTransform([0,0],e);c.drawImage(u.canvas,h,d)}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:e,width:a,height:c,transform:l}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,c),h=u.context;h.save();I(h,this.getObject(e,s)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,i.getCurrentTransformInverse)(t),o):n,h.fillRect(0,0,a,c),h.restore(),t.save(),t.transform(...l),t.scale(1,-1),x(t,u.canvas,0,0,a,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const o=this.getObject(e);if(!o)return void(0,r.warn)("Dependent image isn't ready yet");const s=o.width,a=o.height,c=[];for(let r=0,l=i.length;r<l;r+=2)c.push({transform:[t,0,0,n,i[r],i[r+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,c)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,o=this.ctx;if(this.save(),!r.isNodeJS){const{filter:e}=o;"none"!==e&&""!==e&&(o.filter="none")}let s;if(o.scale(1/t,-1/n),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;E(r,e),s=this.applyTransferMapsToCanvas(r)}const a=this._scaleImage(s,(0,i.getCurrentTransformInverse)(o));o.imageSmoothingEnabled=O((0,i.getCurrentTransform)(o),e.interpolate),x(o,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;E(i,e),r=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),x(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===U?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,i.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let o,s;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)o=s=1/n;else{const t=n*e;o=s=t<1?1/t:1}else if(0===e)o=1/n,s=1/r;else{const t=n*e,i=r*e;o=t<1?1/t:1,s=i<1?1/i:1}}else{const a=Math.abs(t*i-n*r),c=Math.hypot(t,n),l=Math.hypot(r,i);if(0===e)o=l/a,s=c/a;else{const t=e*a;o=l>t?l/t:1,s=c>t?c/t:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===i)return void t.stroke();const o=t.getLineDash();if(e&&t.save(),t.scale(r,i),o.length>0){const e=Math.max(r,i);t.setLineDash(o.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function z(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function V(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}for(const s in r.OPS)void 0!==q.prototype[s]&&(q.prototype[r.OPS[s]]=q.prototype[s])},473:(e,t,n)=>{var r;n.d(t,{DOMCMapReaderFactory:()=>L,DOMCanvasFactory:()=>O,DOMFilterFactory:()=>E,DOMSVGFactory:()=>U,DOMStandardFontDataFactory:()=>j,PDFDateString:()=>Q,PageViewport:()=>B,PixelsPerInch:()=>p,RenderingCancelledException:()=>q,StatTimer:()=>K,fetchData:()=>D,getColorValues:()=>$,getCurrentTransform:()=>ee,getCurrentTransformInverse:()=>te,getFilenameFromUrl:()=>H,getPdfFilenameFromUrl:()=>W,getRGB:()=>Z,getXfaPageViewport:()=>J,isDataScheme:()=>z,isPdfFile:()=>V,isValidFetchUrl:()=>G,noContextMenu:()=>X,setLayerDimensions:()=>ne});var i=n(822),o=n(266);const f="http://www.w3.org/2000/svg";class p{}r=p,(0,s.A)(p,"CSS",96),(0,s.A)(p,"PDF",72),(0,s.A)(p,"PDF_TO_CSS_UNITS",r.CSS/r.PDF);var g=new WeakMap,m=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,A=new WeakMap,C=new WeakMap,k=new WeakMap,S=new WeakMap,x=new WeakMap,T=new WeakSet;class E extends i.BaseFilterFactory{constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),(0,c.A)(this,T),(0,u.A)(this,g,void 0),(0,u.A)(this,m,void 0),(0,u.A)(this,v,void 0),(0,u.A)(this,y,void 0),(0,u.A)(this,b,void 0),(0,u.A)(this,w,void 0),(0,u.A)(this,A,void 0),(0,u.A)(this,C,void 0),(0,u.A)(this,k,void 0),(0,u.A)(this,S,void 0),(0,u.A)(this,x,0),(0,d.A)(v,this,e),(0,d.A)(y,this,t)}addFilter(e){var t,n;if(!e)return"none";let r,i,o,s,c=(0,a.A)(T,this,I).get(e);if(c)return c;if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;s=r=i=o=n.join(",")}else{const[t,n,a]=e,c=new Array(256),l=new Array(256),u=new Array(256);for(let e=0;e<256;e++)c[e]=t[e]/255,l[e]=n[e]/255,u[e]=a[e]/255;r=c.join(","),i=l.join(","),o=u.join(","),s="".concat(r).concat(i).concat(o)}if(c=(0,a.A)(T,this,I).get(s),c)return(0,a.A)(T,this,I).set(e,c),c;const u="g_".concat((0,h.A)(v,this),"_transfer_map_").concat(((0,d.A)(x,this,(t=(0,h.A)(x,this),n=t++,t)),n)),f="url(#".concat(u,")");(0,a.A)(T,this,I).set(e,f),(0,a.A)(T,this,I).set(s,f);const p=(0,l.A)(T,this,P).call(this,u);return(0,l.A)(T,this,M).call(this,r,i,o,p),f}addHCMFilter(e,t){var n;const r="".concat(e,"-").concat(t);if((0,h.A)(w,this)===r)return(0,h.A)(A,this);if((0,d.A)(w,this,r),(0,d.A)(A,this,"none"),null===(n=(0,h.A)(b,this))||void 0===n||n.remove(),!e||!t)return(0,h.A)(A,this);const i=(0,l.A)(T,this,F).call(this,e);e=o.Util.makeHexColor(...i);const s=(0,l.A)(T,this,F).call(this,t);if(t=o.Util.makeHexColor(...s),(0,a.A)(T,this,_).style.color="","#000000"===e&&"#ffffff"===t||e===t)return(0,h.A)(A,this);const c=new Array(256);for(let o=0;o<=255;o++){const e=o/255;c[o]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const u=c.join(","),f="g_".concat((0,h.A)(v,this),"_hcm_filter"),p=(0,d.A)(C,this,(0,l.A)(T,this,P).call(this,f));(0,l.A)(T,this,M).call(this,u,u,u,p),(0,l.A)(T,this,R).call(this,p);const g=(e,t)=>{const n=i[e]/255,r=s[e]/255,o=new Array(t+1);for(let i=0;i<=t;i++)o[i]=n+i/t*(r-n);return o.join(",")};return(0,l.A)(T,this,M).call(this,g(0,5),g(1,5),g(2,5),p),(0,d.A)(A,this,"url(#".concat(f,")")),(0,h.A)(A,this)}addHighlightHCMFilter(e,t,n,r){var i;const o="".concat(e,"-").concat(t,"-").concat(n,"-").concat(r);if((0,h.A)(k,this)===o)return(0,h.A)(S,this);if((0,d.A)(k,this,o),(0,d.A)(S,this,"none"),null===(i=(0,h.A)(C,this))||void 0===i||i.remove(),!e||!t)return(0,h.A)(S,this);const[s,c]=[e,t].map((0,l.A)(T,this,F).bind(this));let u=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,g]=[n,r].map((0,l.A)(T,this,F).bind(this));f<u&&([u,f,p,g]=[f,u,g,p]),(0,a.A)(T,this,_).style.color="";const m=(e,t,n)=>{const r=new Array(256),i=(f-u)/n,o=e/255,s=(t-e)/(255*n);let a=0;for(let c=0;c<=n;c++){const e=Math.round(u+c*i),t=o+c*s;for(let n=a;n<=e;n++)r[n]=t;a=e+1}for(let c=a;c<256;c++)r[c]=r[a-1];return r.join(",")},y="g_".concat((0,h.A)(v,this),"_hcm_highlight_filter"),b=(0,d.A)(C,this,(0,l.A)(T,this,P).call(this,y));return(0,l.A)(T,this,R).call(this,b),(0,l.A)(T,this,M).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),b),(0,d.A)(S,this,"url(#".concat(y,")")),(0,h.A)(S,this)}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&((0,h.A)(A,this)||(0,h.A)(S,this))||((0,h.A)(m,this)&&((0,h.A)(m,this).parentNode.parentNode.remove(),(0,d.A)(m,this,null)),(0,h.A)(g,this)&&((0,h.A)(g,this).clear(),(0,d.A)(g,this,null)),(0,d.A)(x,this,0))}}function I(e){return(0,h.A)(g,e)||(0,d.A)(g,e,new Map)}function _(e){if(!(0,h.A)(m,e)){const t=(0,h.A)(y,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=(0,h.A)(y,e).createElementNS(f,"svg");r.setAttribute("width",0),r.setAttribute("height",0),(0,d.A)(m,e,(0,h.A)(y,e).createElementNS(f,"defs")),t.append(r),r.append((0,h.A)(m,e)),(0,h.A)(y,e).body.append(t)}return(0,h.A)(m,e)}function R(e){const t=(0,h.A)(y,this).createElementNS(f,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function P(e){const t=(0,h.A)(y,this).createElementNS(f,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),(0,a.A)(T,this,_).append(t),t}function N(e,t,n){const r=(0,h.A)(y,this).createElementNS(f,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}function M(e,t,n,r){const i=(0,h.A)(y,this).createElementNS(f,"feComponentTransfer");r.append(i),(0,l.A)(T,this,N).call(this,i,"feFuncR",e),(0,l.A)(T,this,N).call(this,i,"feFuncG",t),(0,l.A)(T,this,N).call(this,i,"feFuncB",n)}function F(e){return(0,a.A)(T,this,_).style.color=e,Z(getComputedStyle((0,a.A)(T,this,_)).getPropertyValue("color"))}class O extends i.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(G(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){let e;switch(t){case"arraybuffer":case"blob":case"json":e=i.response;break;default:e=i.responseText}if(e)return void n(e)}r(new Error(i.statusText))}},i.send(null)}))}class L extends i.BaseCMapReaderFactory{_fetchData(e,t){return D(e,this.isCompressed?"arraybuffer":"text").then((e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):(0,o.stringToBytes)(e),compressionType:t})))}}class j extends i.BaseStandardFontDataFactory{_fetchData(e){return D(e,"arraybuffer").then((e=>new Uint8Array(e)))}}class U extends i.BaseSVGFactory{_createSVG(e){return document.createElementNS(f,e)}}class B{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=o;const a=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let l,u,h,d,f,p,g,m;switch(r%=360,r<0&&(r+=360),r){case 180:l=-1,u=0,h=0,d=1;break;case 90:l=0,u=1,h=1,d=0;break;case 270:l=0,u=-1,h=-1,d=0;break;case 0:l=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(h=-h,d=-d),0===l?(f=Math.abs(c-t[1])*n+i,p=Math.abs(a-t[0])*n+o,g=(t[3]-t[1])*n,m=(t[2]-t[0])*n):(f=Math.abs(a-t[0])*n+i,p=Math.abs(c-t[1])*n+o,g=(t[2]-t[0])*n,m=(t[3]-t[1])*n),this.transform=[l*n,u*n,h*n,d*n,f-l*n*a-h*n*c,p-u*n*a-d*n*c],this.width=g,this.height=m}get rawDims(){const{viewBox:e}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new B({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return o.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=o.Util.applyTransform([e[0],e[1]],this.transform),n=o.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return o.Util.applyInverseTransform([e,t],this.transform)}}class q extends o.BaseException{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function z(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function V(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function H(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)}function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(z(e))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(s){}return i||t}class K{constructor(){(0,s.A)(this,"started",Object.create(null)),(0,s.A)(this,"times",[])}time(e){e in this.started&&(0,o.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,o.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-r,"ms\n"));return e.join("")}}function G(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(n){return!1}}function X(e){e.preventDefault()}let Y;class Q{static toDateObject(e){if(!e||"string"!==typeof e)return null;Y||(Y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Y.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let a=parseInt(t[6],10);a=a>=0&&a<=59?a:0;const c=t[7]||"Z";let l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===c?(o+=l,s+=u):"+"===c&&(o-=l,s-=u),new Date(Date.UTC(n,r,i,o,s,a))}}function J(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:o}=e.attributes.style,s=[0,0,parseInt(i),parseInt(o)];return new B({viewBox:s,scale:n,rotation:r})}function Z(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,o.warn)('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function $(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,Z(r))}t.remove()}function ee(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e.getTransform();return[t,n,r,i,o,s]}function te(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e.getTransform().invertSelf();return[t,n,r,i,o,s]}function ne(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof B){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:s}=e,a=o.FeatureTest.isCSSRoundSupported,c="var(--scale-factor) * ".concat(r,"px"),l="var(--scale-factor) * ".concat(i,"px"),u=a?"round(".concat(c,", 1px)"):"calc(".concat(c,")"),h=a?"round(".concat(l,", 1px)"):"calc(".concat(l,")");n&&t.rotation%180!==0?(s.width=h,s.height=u):(s.width=u,s.height=h)}r&&e.setAttribute("data-main-rotation",t.rotation)}},423:(e,t,n)=>{var r;n.d(t,{DrawLayer:()=>g});var i=n(473),o=n(266),s=new WeakMap,a=new WeakMap,f=new WeakMap,p=new WeakSet;class g{constructor(e){let{pageIndex:t}=e;(0,c.A)(this,p),(0,u.A)(this,s,null),(0,u.A)(this,a,0),(0,u.A)(this,f,new Map),this.pageIndex=t}setParent(e){if((0,h.A)(s,this)){if((0,h.A)(s,this)!==e){if((0,h.A)(f,this).size>0)for(const t of(0,h.A)(f,this).values())t.remove(),e.append(t);(0,d.A)(s,this,e)}}else(0,d.A)(s,this,e)}static get _svgFactory(){return(0,o.shadow)(this,"_svgFactory",new i.DOMSVGFactory)}highlight(e,t,n){var r,i;let{outlines:o,box:s}=e;const c=((0,d.A)(a,this,(r=(0,h.A)(a,this),i=r++,r)),i),u=(0,l.A)(p,this,v).call(this,s);u.classList.add("highlight");const m=g._svgFactory.createElement("defs");u.append(m);const b=g._svgFactory.createElement("path");m.append(b);const w="path_p".concat(this.pageIndex,"_").concat(c);b.setAttribute("id",w),b.setAttribute("d",y.call(g,o));const A=g._svgFactory.createElement("clipPath");m.append(A);const C="clip_".concat(w);A.setAttribute("id",C),A.setAttribute("clipPathUnits","objectBoundingBox");const k=g._svgFactory.createElement("use");A.append(k),k.setAttribute("href","#".concat(w)),k.classList.add("clip");const S=g._svgFactory.createElement("use");return u.append(S),u.setAttribute("fill",t),u.setAttribute("fill-opacity",n),S.setAttribute("href","#".concat(w)),(0,h.A)(f,this).set(c,u),{id:c,clipPathId:"url(#".concat(C,")")}}highlightOutline(e){var t,n;let{outlines:r,box:i}=e;const o=((0,d.A)(a,this,(t=(0,h.A)(a,this),n=t++,t)),n),s=(0,l.A)(p,this,v).call(this,i);s.classList.add("highlightOutline");const c=g._svgFactory.createElement("defs");s.append(c);const u=g._svgFactory.createElement("path");c.append(u);const m="path_p".concat(this.pageIndex,"_").concat(o);u.setAttribute("id",m),u.setAttribute("d",y.call(g,r)),u.setAttribute("vector-effect","non-scaling-stroke");const b=g._svgFactory.createElement("use");s.append(b),b.setAttribute("href","#".concat(m));const w=b.cloneNode();return s.append(w),b.classList.add("mainOutline"),w.classList.add("secondaryOutline"),(0,h.A)(f,this).set(o,s),o}updateBox(e,t){m.call(g,(0,h.A)(f,this).get(e),t)}rotate(e,t){(0,h.A)(f,this).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){(0,h.A)(f,this).get(e).setAttribute("fill",t)}changeOpacity(e,t){(0,h.A)(f,this).get(e).setAttribute("fill-opacity",t)}addClass(e,t){(0,h.A)(f,this).get(e).classList.add(t)}removeClass(e,t){(0,h.A)(f,this).get(e).classList.remove(t)}remove(e){null!==(0,h.A)(s,this)&&((0,h.A)(f,this).get(e).remove(),(0,h.A)(f,this).delete(e))}destroy(){(0,d.A)(s,this,null);for(const e of(0,h.A)(f,this).values())e.remove();(0,h.A)(f,this).clear()}}function m(e,t){let{x:n,y:r,width:i,height:o}=t;const{style:s}=e;s.top="".concat(100*r,"%"),s.left="".concat(100*n,"%"),s.width="".concat(100*i,"%"),s.height="".concat(100*o,"%")}function v(e){const t=r._svgFactory.create(1,1,!0);return(0,h.A)(s,this).append(t),m.call(r,t,e),t}function y(e){const t=[];for(const n of e){let[e,r]=n;t.push("M".concat(e," ").concat(r));for(let i=2;i<n.length;i+=2){const o=n[i],s=n[i+1];o===e?(t.push("V".concat(s)),r=s):s===r&&(t.push("H".concat(o)),e=o)}t.push("Z")}return t.join(" ")}r=g},629:(e,t,n)=>{var r,f,p;n.d(t,{AnnotationEditorLayer:()=>Pt});var g=n(266),m=n(115),v=n(812),y=n(640),b=new WeakMap,w=new WeakMap,A=new WeakMap,C=new WeakMap,k=new WeakMap,S=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,I=new WeakSet;class _ extends m.AnnotationEditor{static get _keyboardManager(){const e=_.prototype,t=e=>e.isEmpty(),n=v.AnnotationEditorUIManager.TRANSLATE_SMALL,r=v.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,g.shadow)(this,"_keyboardManager",new v.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}constructor(e){super((0,o.A)((0,o.A)({},e),{},{name:"freeTextEditor"})),(0,c.A)(this,I),(0,u.A)(this,b,this.editorDivBlur.bind(this)),(0,u.A)(this,w,this.editorDivFocus.bind(this)),(0,u.A)(this,A,this.editorDivInput.bind(this)),(0,u.A)(this,C,this.editorDivKeydown.bind(this)),(0,u.A)(this,k,void 0),(0,u.A)(this,S,""),(0,u.A)(this,x,"".concat(this.id,"-editor")),(0,u.A)(this,T,void 0),(0,u.A)(this,E,null),(0,d.A)(k,this,e.color||_._defaultColor||m.AnnotationEditor._defaultLineColor),(0,d.A)(T,this,e.fontSize||_._defaultFontSize)}static initialize(e){m.AnnotationEditor.initialize(e,{strings:["pdfjs-free-text-default-content"]});const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case g.AnnotationEditorParamsType.FREETEXT_SIZE:_._defaultFontSize=t;break;case g.AnnotationEditorParamsType.FREETEXT_COLOR:_._defaultColor=t}}updateParams(e,t){switch(e){case g.AnnotationEditorParamsType.FREETEXT_SIZE:(0,l.A)(I,this,R).call(this,t);break;case g.AnnotationEditorParamsType.FREETEXT_COLOR:(0,l.A)(I,this,P).call(this,t)}}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.FREETEXT_SIZE,_._defaultFontSize],[g.AnnotationEditorParamsType.FREETEXT_COLOR,_._defaultColor||m.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[g.AnnotationEditorParamsType.FREETEXT_SIZE,(0,h.A)(T,this)],[g.AnnotationEditorParamsType.FREETEXT_COLOR,(0,h.A)(k,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-_._internalPadding*e,-(_._internalPadding+(0,h.A)(T,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(g.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",(0,h.A)(C,this)),this.editorDiv.addEventListener("focus",(0,h.A)(w,this)),this.editorDiv.addEventListener("blur",(0,h.A)(b,this)),this.editorDiv.addEventListener("input",(0,h.A)(A,this)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",(0,h.A)(x,this)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",(0,h.A)(C,this)),this.editorDiv.removeEventListener("focus",(0,h.A)(w,this)),this.editorDiv.removeEventListener("blur",(0,h.A)(b,this)),this.editorDiv.removeEventListener("input",(0,h.A)(A,this)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width?(0,l.A)(I,this,D).call(this):(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=(0,h.A)(S,this),t=(0,d.A)(S,this,(0,l.A)(I,this,N).call(this).trimEnd());if(e===t)return;const n=e=>{(0,d.A)(S,this,e),e?((0,l.A)(I,this,F).call(this),this._uiManager.rebuild(this),(0,l.A)(I,this,M).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),(0,l.A)(I,this,M).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){_._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",(0,h.A)(x,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),m.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then((e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("default-content",e)})),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat((0,h.A)(T,this),"px * var(--scale-factor))"),n.color=(0,h.A)(k,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,v.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=(0,h.A)(E,this);let[o,s]=this.getInitialTranslation();[o,s]=this.pageTranslationToScreen(o,s);const[a,c]=this.pageDimensions,[l,u]=this.pageTranslation;let d,f;switch(this.rotation){case 0:d=e+(i[0]-l)/a,f=t+this.height-(i[1]-u)/c;break;case 90:d=e+(i[0]-l)/a,f=t-(i[1]-u)/c,[o,s]=[s,-o];break;case 180:d=e-this.width+(i[0]-l)/a,f=t-(i[1]-u)/c,[o,s]=[-o,-s];break;case 270:d=e+(i[0]-l-this.height*c)/a,f=t+(i[1]-u-this.width*a)/c,[o,s]=[-s,o]}this.setAt(d*n,f*r,o,s)}else this.setAt(e*n,t*r,this.width*n,this.height*r);(0,l.A)(I,this,F).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let r=null;if(e instanceof y.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:o,id:s},textContent:a,textPosition:c,parent:{page:{pageNumber:l}}}=e;if(!a||0===a.length)return null;r=e={annotationType:g.AnnotationEditorType.FREETEXT,color:Array.from(n),fontSize:t,value:a.join("\n"),position:c,pageIndex:l-1,rect:i,rotation:o,id:s,deleted:!1}}const i=super.deserialize(e,t,n);return(0,d.A)(T,i,e.fontSize),(0,d.A)(k,i,g.Util.makeHexColor(...e.color)),(0,d.A)(S,i,e.value),i.annotationElementId=e.id||null,(0,d.A)(E,i,r),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=_._internalPadding*this.parentScale,n=this.getRect(t,t),r=m.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:(0,h.A)(k,this)),i={annotationType:g.AnnotationEditorType.FREETEXT,color:r,fontSize:(0,h.A)(T,this),value:(0,h.A)(S,this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?i:this.annotationElementId&&!(0,l.A)(I,this,O).call(this,i)?null:(i.id=this.annotationElementId,i)}}function R(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),this.translate(0,-(e-(0,h.A)(T,this))*this.parentScale),(0,d.A)(T,this,e),(0,l.A)(I,this,M).call(this)},n=(0,h.A)(T,this);this.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:g.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function P(e){const t=(0,h.A)(k,this);this.addCommands({cmd:()=>{(0,d.A)(k,this,this.editorDiv.style.color=e)},undo:()=>{(0,d.A)(k,this,this.editorDiv.style.color=t)},mustExec:!0,type:g.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function N(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const n of e)t.push(n.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}function M(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display;t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function F(){if(this.editorDiv.replaceChildren(),(0,h.A)(S,this))for(const e of(0,h.A)(S,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function O(e){const{value:t,fontSize:n,color:r,rect:i,pageIndex:o}=(0,h.A)(E,this);return e.value!==t||e.fontSize!==n||e.rect.some(((e,t)=>Math.abs(e-i[t])>=1))||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==o}function D(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.annotationElementId)return;if((0,l.A)(I,this,M).call(this),!e&&(0===this.width||0===this.height))return void setTimeout((()=>(0,l.A)(I,this,D).call(this,!0)),0);const t=r._internalPadding*this.parentScale;(0,h.A)(E,this).rect=this.getRect(t,t)}r=_,(0,s.A)(_,"_freeTextDefaultContent",""),(0,s.A)(_,"_internalPadding",0),(0,s.A)(_,"_defaultColor",null),(0,s.A)(_,"_defaultFontSize",10),(0,s.A)(_,"_type","freetext"),(0,s.A)(_,"_editorType",g.AnnotationEditorType.FREETEXT);var L=n(97),j=n(405),U=new WeakMap,B=new WeakMap,q=new WeakMap,z=new WeakMap,V=new WeakMap,H=new WeakMap,W=new WeakMap,K=new WeakMap,G=new WeakMap,X=new WeakMap,Y=new WeakSet;class Q extends m.AnnotationEditor{constructor(e){var t;super((0,o.A)((0,o.A)({},e),{},{name:"highlightEditor"})),(0,c.A)(this,Y),(0,u.A)(this,U,void 0),(0,u.A)(this,B,null),(0,u.A)(this,q,null),(0,u.A)(this,z,null),(0,u.A)(this,V,null),(0,u.A)(this,H,null),(0,u.A)(this,W,null),(0,u.A)(this,K,null),(0,u.A)(this,G,void 0),(0,u.A)(this,X,null),Q._defaultColor||(Q._defaultColor=(null===(t=this._uiManager.highlightColors)||void 0===t?void 0:t.values().next().value)||"#fff066"),this.color=e.color||Q._defaultColor,(0,d.A)(G,this,e.opacity||Q._defaultOpacity),(0,d.A)(U,this,e.boxes||null),this._isDraggable=!1,(0,l.A)(Y,this,J).call(this),(0,l.A)(Y,this,ee).call(this),this.rotate(this.rotation)}static initialize(e){m.AnnotationEditor.initialize(e)}static updateDefaultParams(e,t){if(e===g.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)Q._defaultColor=t}get toolbarPosition(){return(0,h.A)(K,this)}updateParams(e,t){if(e===g.AnnotationEditorParamsType.HIGHLIGHT_COLOR)(0,l.A)(Y,this,Z).call(this,t)}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Q._defaultColor]]}get propertiesToUpdate(){return[[g.AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Q._defaultColor]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&((0,d.A)(q,this,new L.ColorPicker({editor:this})),e.addColorPicker((0,h.A)(q,this))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(0)}getRect(e,t){return super.getRect(e,t,0)}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){super.remove(),(0,l.A)(Y,this,$).call(this)}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&((0,l.A)(Y,this,ee).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)(0,l.A)(Y,this,$).call(this);else if(e){var n;(0,l.A)(Y,this,ee).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;t.rotate((0,h.A)(W,this),e),t.rotate((0,h.A)(X,this),e),t.updateBox((0,h.A)(W,this),te.call(Q,this,e)),t.updateBox((0,h.A)(X,this),te.call(Q,(0,h.A)(z,this).box,e))}render(){if(this.div)return this.div;const e=super.render(),t=(0,d.A)(V,this,document.createElement("div"));e.append(t),t.className="internal",t.style.clipPath=(0,h.A)(B,this);const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),(0,v.bindEvents)(this,(0,h.A)(V,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass((0,h.A)(X,this),"hovered")}pointerleave(){this.parent.drawLayer.removeClass((0,h.A)(X,this),"hovered")}select(){var e,t;super.select(),null===(e=this.parent)||void 0===e||e.drawLayer.removeClass((0,h.A)(X,this),"hovered"),null===(t=this.parent)||void 0===t||t.drawLayer.addClass((0,h.A)(X,this),"selected")}unselect(){var e;super.unselect(),null===(e=this.parent)||void 0===e||e.drawLayer.removeClass((0,h.A)(X,this),"selected")}static deserialize(e,t,n){const r=super.deserialize(e,t,n),{rect:i,color:o,quadPoints:s}=e;r.color=g.Util.makeHexColor(...o),(0,d.A)(G,r,e.opacity);const[a,c]=r.pageDimensions;r.width=(i[2]-i[0])/a,r.height=(i[3]-i[1])/c;const u=(0,d.A)(U,r,[]);for(let l=0;l<s.length;l+=8)u.push({x:s[4]/a,y:1-s[l+5]/c,width:(s[l+2]-s[l])/a,height:(s[l+5]-s[l+1])/c});return(0,l.A)(Y,r,J).call(r),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;const t=this.getRect(0,0),n=m.AnnotationEditor._colorManager.convert(this.color);return{annotationType:g.AnnotationEditorType.HIGHLIGHT,color:n,opacity:(0,h.A)(G,this),quadPoints:(0,l.A)(Y,this,ne).call(this),outlines:(0,l.A)(Y,this,re).call(this),pageIndex:this.pageIndex,rect:t,rotation:0,structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}function J(){const e=new j.Outliner((0,h.A)(U,this),.001);(0,d.A)(H,this,e.getOutlines()),({x:this.x,y:this.y,width:this.width,height:this.height}=(0,h.A)(H,this).box);const t=new j.Outliner((0,h.A)(U,this),.0025,.001,"ltr"===this._uiManager.direction);(0,d.A)(z,this,t.getOutlines());const{lastPoint:n}=(0,h.A)(z,this).box;(0,d.A)(K,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function Z(e){const t=this.color;this.addCommands({cmd:()=>{var t;this.color=e,this.parent.drawLayer.changeColor((0,h.A)(W,this),e),null===(t=(0,h.A)(q,this))||void 0===t||t.updateColor(e)},undo:()=>{var e;this.color=t,this.parent.drawLayer.changeColor((0,h.A)(W,this),t),null===(e=(0,h.A)(q,this))||void 0===e||e.updateColor(t)},mustExec:!0,type:g.AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function $(){null!==(0,h.A)(W,this)&&this.parent&&(this.parent.drawLayer.remove((0,h.A)(W,this)),(0,d.A)(W,this,null),this.parent.drawLayer.remove((0,h.A)(X,this)),(0,d.A)(X,this,null))}function ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===(0,h.A)(W,this)&&(({id:(0,i.A)(d.A,[W,this])._,clipPathId:(0,i.A)(d.A,[B,this])._}=e.drawLayer.highlight((0,h.A)(H,this),this.color,(0,h.A)(G,this))),(0,h.A)(V,this)&&((0,h.A)(V,this).style.clipPath=(0,h.A)(B,this)),(0,d.A)(X,this,e.drawLayer.highlightOutline((0,h.A)(z,this))))}function te(e,t){let{x:n,y:r,width:i,height:o}=e;switch(t){case 90:return{x:1-r-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-r-o,width:i,height:o};case 270:return{x:r,y:1-n-i,width:o,height:i}}return{x:n,y:r,width:i,height:o}}function ne(){const[e,t]=this.pageDimensions,n=(0,h.A)(U,this),r=new Array(8*n.length);let i=0;for(const{x:o,y:s,width:a,height:c}of n){const n=o*e,l=(1-s-c)*t;r[i]=r[i+4]=n,r[i+1]=r[i+3]=l,r[i+2]=r[i+6]=n+a*e,r[i+5]=r[i+7]=l+c*t,i+=8}return r}function re(){const[e,t]=this.pageDimensions,n=this.width*e,r=this.height*t,i=this.x*e,o=(1-this.y-this.height)*t,s=[];for(const a of(0,h.A)(H,this).outlines){const e=new Array(a.length);for(let t=0;t<a.length;t+=2)e[t]=i+a[t]*n,e[t+1]=o+(1-a[t+1])*r;s.push(e)}return s}(0,s.A)(Q,"_defaultColor",null),(0,s.A)(Q,"_defaultOpacity",1),(0,s.A)(Q,"_l10nPromise",void 0),(0,s.A)(Q,"_type","highlight"),(0,s.A)(Q,"_editorType",g.AnnotationEditorType.HIGHLIGHT);var ie=n(473),oe=new WeakMap,se=new WeakMap,ae=new WeakMap,ce=new WeakMap,le=new WeakMap,ue=new WeakMap,he=new WeakMap,de=new WeakMap,fe=new WeakMap,pe=new WeakMap,ge=new WeakMap,me=new WeakMap,ve=new WeakMap,ye=new WeakMap,be=new WeakMap,we=new WeakSet;class Ae extends m.AnnotationEditor{constructor(e){super((0,o.A)((0,o.A)({},e),{},{name:"inkEditor"})),(0,c.A)(this,we),(0,u.A)(this,oe,0),(0,u.A)(this,se,0),(0,u.A)(this,ae,this.canvasPointermove.bind(this)),(0,u.A)(this,ce,this.canvasPointerleave.bind(this)),(0,u.A)(this,le,this.canvasPointerup.bind(this)),(0,u.A)(this,ue,this.canvasPointerdown.bind(this)),(0,u.A)(this,he,null),(0,u.A)(this,de,new Path2D),(0,u.A)(this,fe,!1),(0,u.A)(this,pe,!1),(0,u.A)(this,ge,!1),(0,u.A)(this,me,null),(0,u.A)(this,ve,0),(0,u.A)(this,ye,0),(0,u.A)(this,be,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e){m.AnnotationEditor.initialize(e)}static updateDefaultParams(e,t){switch(e){case g.AnnotationEditorParamsType.INK_THICKNESS:Ae._defaultThickness=t;break;case g.AnnotationEditorParamsType.INK_COLOR:Ae._defaultColor=t;break;case g.AnnotationEditorParamsType.INK_OPACITY:Ae._defaultOpacity=t/100}}updateParams(e,t){switch(e){case g.AnnotationEditorParamsType.INK_THICKNESS:(0,l.A)(we,this,Ce).call(this,t);break;case g.AnnotationEditorParamsType.INK_COLOR:(0,l.A)(we,this,ke).call(this,t);break;case g.AnnotationEditorParamsType.INK_OPACITY:(0,l.A)(we,this,Se).call(this,t)}}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.INK_THICKNESS,Ae._defaultThickness],[g.AnnotationEditorParamsType.INK_COLOR,Ae._defaultColor||m.AnnotationEditor._defaultLineColor],[g.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*Ae._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[g.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ae._defaultThickness],[g.AnnotationEditorParamsType.INK_COLOR,this.color||Ae._defaultColor||m.AnnotationEditor._defaultLineColor],[g.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:Ae._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||((0,l.A)(we,this,De).call(this),(0,l.A)(we,this,Le).call(this)),this.isAttachedToDOM||(this.parent.add(this),(0,l.A)(we,this,je).call(this)),(0,l.A)(we,this,Ge).call(this)))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,(0,h.A)(he,this)&&(clearTimeout((0,h.A)(he,this)),(0,d.A)(he,this,null)),(0,h.A)(me,this).disconnect(),(0,d.A)(me,this,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){(0,h.A)(fe,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",(0,h.A)(ue,this)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",(0,h.A)(ue,this)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){(0,h.A)(fe,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),(0,d.A)(fe,this,!0),this.div.classList.add("disabled"),(0,l.A)(we,this,Ge).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!(0,h.A)(fe,this)&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),(0,l.A)(we,this,Ee).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),(0,l.A)(we,this,Ie).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),(0,l.A)(we,this,Oe).call(this,e)}canvasPointerleave(e){(0,l.A)(we,this,Oe).call(this,e)}get isResizable(){return!this.isEmpty()&&(0,h.A)(fe,this)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,r,i,o]=(0,l.A)(we,this,xe).call(this);if(this.setAt(n,r,0,0),this.setDims(i,o),(0,l.A)(we,this,De).call(this),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),(0,d.A)(ge,this,!0),(0,l.A)(we,this,je).call(this),this.setDims(this.width*n,this.height*r),(0,l.A)(we,this,Fe).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return(0,l.A)(we,this,Le).call(this),this.div}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if((0,h.A)(ve,this)===n&&(0,h.A)(ye,this)===r)return;(0,d.A)(ve,this,n),(0,d.A)(ye,this,r),this.canvas.style.visibility="hidden";const[i,o]=this.parentDimensions;this.width=e/i,this.height=t/o,this.fixAndSetPosition(),(0,h.A)(fe,this)&&(0,l.A)(we,this,Ue).call(this,e,t),(0,l.A)(we,this,je).call(this),(0,l.A)(we,this,Fe).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,t,n){if(e instanceof y.InkAnnotationElement)return null;const r=super.deserialize(e,t,n);r.thickness=e.thickness,r.color=g.Util.makeHexColor(...e.color),r.opacity=e.opacity;const[i,o]=r.pageDimensions,s=r.width*i,a=r.height*o,c=r.parentScale,u=e.thickness/2;(0,d.A)(fe,r,!0),(0,d.A)(ve,r,Math.round(s)),(0,d.A)(ye,r,Math.round(a));const{paths:h,rect:f,rotation:p}=e;for(let{bezier:d}of h){d=Ve.call(Ae,d,f,p);const e=[];r.paths.push(e);let t=c*(d[0]-u),n=c*(d[1]-u);for(let r=2,o=d.length;r<o;r+=6){const i=c*(d[r]-u),o=c*(d[r+1]-u),s=c*(d[r+2]-u),a=c*(d[r+3]-u),l=c*(d[r+4]-u),h=c*(d[r+5]-u);e.push([[t,n],[i,o],[s,a],[l,h]]),t=l,n=h}const i=(0,l.A)(Ae,this,qe).call(this,e);r.bezierPath2D.push(i)}const v=(0,l.A)(we,r,We).call(r);return(0,d.A)(se,r,Math.max(m.AnnotationEditor.MIN_SIZE,v[2]-v[0])),(0,d.A)(oe,r,Math.max(m.AnnotationEditor.MIN_SIZE,v[3]-v[1])),(0,l.A)(we,r,Ue).call(r,s,a),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=m.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:g.AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:(0,l.A)(we,this,He).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function Ce(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,(0,l.A)(we,this,Ge).call(this)},undo:()=>{this.thickness=t,(0,l.A)(we,this,Ge).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function ke(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,(0,l.A)(we,this,Fe).call(this)},undo:()=>{this.color=t,(0,l.A)(we,this,Fe).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Se(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,(0,l.A)(we,this,Fe).call(this)},undo:()=>{this.opacity=t,(0,l.A)(we,this,Fe).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function xe(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}function Te(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:o}=this;e.lineWidth=r*i/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat((0,v.opacityToHex)(n))}function Ee(e,t){var n;(this.canvas.addEventListener("contextmenu",ie.noContextMenu),this.canvas.addEventListener("pointerleave",(0,h.A)(ce,this)),this.canvas.addEventListener("pointermove",(0,h.A)(ae,this)),this.canvas.addEventListener("pointerup",(0,h.A)(le,this)),this.canvas.removeEventListener("pointerdown",(0,h.A)(ue,this)),this.isEditing=!0,(0,h.A)(ge,this))||((0,d.A)(ge,this,!0),(0,l.A)(we,this,je).call(this),this.thickness||(this.thickness=f._defaultThickness),this.color||(this.color=f._defaultColor||m.AnnotationEditor._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=f._defaultOpacity));this.currentPath.push([e,t]),(0,d.A)(pe,this,!1),(0,l.A)(we,this,Te).call(this),(0,d.A)(be,this,(()=>{(0,l.A)(we,this,Pe).call(this),(0,h.A)(be,this)&&window.requestAnimationFrame((0,h.A)(be,this))})),window.requestAnimationFrame((0,h.A)(be,this))}function Ie(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const i=this.currentPath;let o=(0,h.A)(de,this);if(i.push([e,t]),(0,d.A)(pe,this,!0),i.length<=2)return o.moveTo(...i[0]),void o.lineTo(e,t);3===i.length&&((0,d.A)(de,this,o=new Path2D),o.moveTo(...i[0])),(0,l.A)(we,this,Ne).call(this,o,...i.at(-3),...i.at(-2),e,t)}function _e(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);(0,h.A)(de,this).lineTo(...e)}function Re(e,t){let n;if((0,d.A)(be,this,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),(0,l.A)(we,this,Ie).call(this,e,t),(0,l.A)(we,this,_e).call(this),1!==this.currentPath.length)n=(0,l.A)(we,this,Me).call(this);else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=(0,h.A)(de,this),i=this.currentPath;this.currentPath=[],(0,d.A)(de,this,new Path2D);this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||((0,l.A)(we,this,De).call(this),(0,l.A)(we,this,Le).call(this)),(0,l.A)(we,this,Ge).call(this))},mustExec:!0})}function Pe(){if(!(0,h.A)(pe,this))return;(0,d.A)(pe,this,!1);const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),r=t.map((e=>e[1])),{ctx:i}=(Math.min(...n),Math.max(...n),Math.min(...r),Math.max(...r),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)i.stroke(o);i.stroke((0,h.A)(de,this)),i.restore()}function Ne(e,t,n,r,i,o,s){const a=(t+r)/2,c=(n+i)/2,l=(r+o)/2,u=(i+s)/2;e.bezierCurveTo(a+2*(r-a)/3,c+2*(i-c)/3,l+2*(r-l)/3,u+2*(i-u)/3,l,u)}function Me(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,i]=e[0];for(n=1;n<e.length-2;n++){const[o,s]=e[n],[a,c]=e[n+1],l=(o+a)/2,u=(s+c)/2,h=[r+2*(o-r)/3,i+2*(s-i)/3],d=[l+2*(o-l)/3,u+2*(s-u)/3];t.push([[r,i],h,d,[l,u]]),[r,i]=[l,u]}const[o,s]=e[n],[a,c]=e[n+1],l=[r+2*(o-r)/3,i+2*(s-i)/3],u=[a+2*(o-a)/3,c+2*(s-c)/3];return t.push([[r,i],l,u,[a,c]]),t}function Fe(){if(this.isEmpty())return void(0,l.A)(we,this,Be).call(this);(0,l.A)(we,this,Te).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),(0,l.A)(we,this,Be).call(this);for(const n of this.bezierPath2D)t.stroke(n)}function Oe(e){this.canvas.removeEventListener("pointerleave",(0,h.A)(ce,this)),this.canvas.removeEventListener("pointermove",(0,h.A)(ae,this)),this.canvas.removeEventListener("pointerup",(0,h.A)(le,this)),this.canvas.addEventListener("pointerdown",(0,h.A)(ue,this)),(0,h.A)(he,this)&&clearTimeout((0,h.A)(he,this)),(0,d.A)(he,this,setTimeout((()=>{(0,d.A)(he,this,null),this.canvas.removeEventListener("contextmenu",ie.noContextMenu)}),10)),(0,l.A)(we,this,Re).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function De(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Le(){(0,d.A)(me,this,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}))),(0,h.A)(me,this).observe(this.div)}function je(){if(!(0,h.A)(ge,this))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),(0,l.A)(we,this,Be).call(this)}function Ue(e,t){const n=(0,l.A)(we,this,Ke).call(this),r=(e-n)/(0,h.A)(se,this),i=(t-n)/(0,h.A)(oe,this);this.scaleFactor=Math.min(r,i)}function Be(){const e=(0,l.A)(we,this,Ke).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function qe(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,o,s]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],o[0],o[1],s[0],s[1])}return t}function ze(e,t,n){const[r,i,o,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=o-e[t],e[t+1]+=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=o-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}function Ve(e,t,n){const[r,i,o,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-i,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=o-e[t],e[t+1]-=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=o-n}break;default:throw new Error("Invalid rotation")}return e}function He(e,t,n,r){const i=[],o=this.thickness/2,s=e*t+o,a=e*n+o;for(const c of this.paths){const t=[],n=[];for(let r=0,i=c.length;r<i;r++){const[o,l,u,h]=c[r],d=e*o[0]+s,f=e*o[1]+a,p=e*l[0]+s,g=e*l[1]+a,m=e*u[0]+s,v=e*u[1]+a,y=e*h[0]+s,b=e*h[1]+a;0===r&&(t.push(d,f),n.push(d,f)),t.push(p,g,m,v,y,b),n.push(p,g),r===i-1&&n.push(y,b)}i.push({bezier:ze.call(f,t,r,this.rotation),points:ze.call(f,n,r,this.rotation)})}return i}function We(){let e=1/0,t=-1/0,n=1/0,r=-1/0;for(const i of this.paths)for(const[o,s,a,c]of i){const i=g.Util.bezierBoundingBox(...o,...s,...a,...c);e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[2]),r=Math.max(r,i[3])}return[e,n,t,r]}function Ke(){return(0,h.A)(fe,this)?Math.ceil(this.thickness*this.parentScale):0}function Ge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!(0,h.A)(fe,this))return void(0,l.A)(we,this,Fe).call(this);const t=(0,l.A)(we,this,We).call(this),n=(0,l.A)(we,this,Ke).call(this);(0,d.A)(se,this,Math.max(m.AnnotationEditor.MIN_SIZE,t[2]-t[0])),(0,d.A)(oe,this,Math.max(m.AnnotationEditor.MIN_SIZE,t[3]-t[1]));const r=Math.ceil(n+(0,h.A)(se,this)*this.scaleFactor),i=Math.ceil(n+(0,h.A)(oe,this)*this.scaleFactor),[o,s]=this.parentDimensions;this.width=r/o,this.height=i/s,this.setAspectRatio(r,i);const a=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],(0,l.A)(we,this,je).call(this),(0,l.A)(we,this,Fe).call(this),(0,d.A)(ve,this,r),(0,d.A)(ye,this,i),this.setDims(r,i);const u=e?n/this.scaleFactor/2:0;this.translate(a-this.translationX-u,c-this.translationY-u)}f=Ae,(0,s.A)(Ae,"_defaultColor",null),(0,s.A)(Ae,"_defaultOpacity",1),(0,s.A)(Ae,"_defaultThickness",1),(0,s.A)(Ae,"_type","ink"),(0,s.A)(Ae,"_editorType",g.AnnotationEditorType.INK);var Xe=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,Je=new WeakMap,Ze=new WeakMap,$e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,ot=new WeakSet;class st extends m.AnnotationEditor{constructor(e){super((0,o.A)((0,o.A)({},e),{},{name:"stampEditor"})),(0,c.A)(this,ot),(0,u.A)(this,Xe,null),(0,u.A)(this,Ye,null),(0,u.A)(this,Qe,null),(0,u.A)(this,Je,null),(0,u.A)(this,Ze,null),(0,u.A)(this,$e,""),(0,u.A)(this,et,null),(0,u.A)(this,tt,null),(0,u.A)(this,nt,null),(0,u.A)(this,rt,!1),(0,u.A)(this,it,!1),(0,d.A)(Je,this,e.bitmapUrl),(0,d.A)(Ze,this,e.bitmapFile)}static initialize(e){m.AnnotationEditor.initialize(e)}static get supportedTypes(){return(0,g.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>"image/".concat(e))))}static get supportedTypesStr(){return(0,g.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(g.AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,t;(0,h.A)(Ye,this)&&((0,d.A)(Xe,this,null),this._uiManager.imageManager.deleteId((0,h.A)(Ye,this)),null===(e=(0,h.A)(et,this))||void 0===e||e.remove(),(0,d.A)(et,this,null),null===(t=(0,h.A)(tt,this))||void 0===t||t.disconnect(),(0,d.A)(tt,this,null),(0,h.A)(nt,this)&&(clearTimeout((0,h.A)(nt,this)),(0,d.A)(nt,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&((0,h.A)(Ye,this)&&(0,l.A)(ot,this,lt).call(this),this.isAttachedToDOM||this.parent.add(this))):(0,h.A)(Ye,this)&&(0,l.A)(ot,this,lt).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!((0,h.A)(Qe,this)||(0,h.A)(Xe,this)||(0,h.A)(Je,this)||(0,h.A)(Ze,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,(0,h.A)(Xe,this)?(0,l.A)(ot,this,ut).call(this):(0,l.A)(ot,this,lt).call(this),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}getImageForAltText(){return(0,h.A)(et,this)}static deserialize(e,t,n){if(e instanceof y.StampAnnotationElement)return null;const r=super.deserialize(e,t,n),{rect:i,bitmapUrl:o,bitmapId:s,isSvg:a,accessibilityData:c}=e;s&&n.imageManager.isValidId(s)?(0,d.A)(Ye,r,s):(0,d.A)(Je,r,o),(0,d.A)(rt,r,a);const[l,u]=r.pageDimensions;return r.width=(i[2]-i[0])/l,r.height=(i[3]-i[1])/u,c&&(r.altTextData=c),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:g.AnnotationEditorType.STAMP,bitmapId:(0,h.A)(Ye,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:(0,h.A)(rt,this),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=(0,l.A)(ot,this,pt).call(this,!0),n.accessibilityData=this.altTextData,n;const{decorative:r,altText:i}=this.altTextData;if(!r&&i&&(n.accessibilityData={type:"Figure",alt:i}),null===t)return n;t.stamps||(t.stamps=new Map);const o=(0,h.A)(rt,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has((0,h.A)(Ye,this))){if((0,h.A)(rt,this)){const e=t.stamps.get((0,h.A)(Ye,this));o>e.area&&(e.area=o,e.serialized.bitmap.close(),e.serialized.bitmap=(0,l.A)(ot,this,pt).call(this,!1))}}else t.stamps.set((0,h.A)(Ye,this),{area:o,serialized:n}),n.bitmap=(0,l.A)(ot,this,pt).call(this,!1);return n}}function at(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?((0,d.A)(Xe,this,e.bitmap),t||((0,d.A)(Ye,this,e.id),(0,d.A)(rt,this,e.isSvg)),e.file&&(0,d.A)($e,this,e.file.name),(0,l.A)(ot,this,ut).call(this)):this.remove()}function ct(){(0,d.A)(Qe,this,null),this._uiManager.enableWaiting(!1),(0,h.A)(et,this)&&this.div.focus()}function lt(){if((0,h.A)(Ye,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId((0,h.A)(Ye,this)).then((e=>(0,l.A)(ot,this,at).call(this,e,!0))).finally((()=>(0,l.A)(ot,this,ct).call(this)));if((0,h.A)(Je,this)){const e=(0,h.A)(Je,this);return(0,d.A)(Je,this,null),this._uiManager.enableWaiting(!0),void(0,d.A)(Qe,this,this._uiManager.imageManager.getFromUrl(e).then((e=>(0,l.A)(ot,this,at).call(this,e))).finally((()=>(0,l.A)(ot,this,ct).call(this))))}if((0,h.A)(Ze,this)){const e=(0,h.A)(Ze,this);return(0,d.A)(Ze,this,null),this._uiManager.enableWaiting(!0),void(0,d.A)(Qe,this,this._uiManager.imageManager.getFromFile(e).then((e=>(0,l.A)(ot,this,at).call(this,e))).finally((()=>(0,l.A)(ot,this,ct).call(this))))}const e=document.createElement("input");e.type="file",e.accept=p.supportedTypesStr,(0,d.A)(Qe,this,new Promise((t=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);(0,l.A)(ot,this,at).call(this,t)}else this.remove();t()})),e.addEventListener("cancel",(()=>{this.remove(),t()}))})).finally((()=>(0,l.A)(ot,this,ct).call(this)))),e.click()}function ut(){const{div:e}=this;let{width:t,height:n}=(0,h.A)(Xe,this);const[r,i]=this.pageDimensions,o=.75;if(this.width)t=this.width*r,n=this.height*i;else if(t>o*r||n>o*i){const e=Math.min(o*r/t,o*i/n);t*=e,n*=e}const[s,a]=this.parentDimensions;this.setDims(t*s/r,n*a/i),this._uiManager.enableWaiting(!1);const c=(0,d.A)(et,this,document.createElement("canvas"));e.append(c),e.hidden=!1,(0,l.A)(ot,this,ft).call(this,t,n),(0,l.A)(ot,this,gt).call(this),(0,h.A)(it,this)||(this.parent.addUndoableEditor(this),(0,d.A)(it,this,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),(0,h.A)($e,this)&&c.setAttribute("aria-label",(0,h.A)($e,this))}function ht(e,t){var n;const[r,i]=this.parentDimensions;this.width=e/r,this.height=t/i,this.setDims(e,t),null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==(0,h.A)(nt,this)&&clearTimeout((0,h.A)(nt,this));(0,d.A)(nt,this,setTimeout((()=>{(0,d.A)(nt,this,null),(0,l.A)(ot,this,ft).call(this,e,t)}),200))}function dt(e,t){const{width:n,height:r}=(0,h.A)(Xe,this);let i=n,o=r,s=(0,h.A)(Xe,this);for(;i>2*e||o>2*t;){const n=i,r=o;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const a=new OffscreenCanvas(i,o);a.getContext("2d").drawImage(s,0,0,n,r,0,0,i,o),s=a.transferToImageBitmap()}return s}function ft(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=(0,h.A)(et,this);if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const r=(0,h.A)(rt,this)?(0,h.A)(Xe,this):(0,l.A)(ot,this,dt).call(this,e,t),i=n.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,e,t)}function pt(e){if(e){if((0,h.A)(rt,this)){const e=this._uiManager.imageManager.getSvgUrl((0,h.A)(Ye,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=(0,h.A)(Xe,this));return e.getContext("2d").drawImage((0,h.A)(Xe,this),0,0),e.toDataURL()}if((0,h.A)(rt,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*ie.PixelsPerInch.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*ie.PixelsPerInch.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage((0,h.A)(Xe,this),0,0,(0,h.A)(Xe,this).width,(0,h.A)(Xe,this).height,0,0,n,r),i.transferToImageBitmap()}return structuredClone((0,h.A)(Xe,this))}function gt(){(0,d.A)(tt,this,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&(0,l.A)(ot,this,ht).call(this,t.width,t.height)}))),(0,h.A)(tt,this).observe(this.div)}p=st,(0,s.A)(st,"_type","stamp"),(0,s.A)(st,"_editorType",g.AnnotationEditorType.STAMP);var mt=new WeakMap,vt=new WeakMap,yt=new WeakMap,bt=new WeakMap,wt=new WeakMap,At=new WeakMap,Ct=new WeakMap,kt=new WeakMap,St=new WeakMap,xt=new WeakMap,Tt=new WeakMap,Et=new WeakMap,It=new WeakMap,_t=new WeakMap,Rt=new WeakSet;class Pt{constructor(e){let{uiManager:t,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:o,drawLayer:s,textLayer:a,viewport:l,l10n:f}=e;(0,c.A)(this,Rt),(0,u.A)(this,mt,void 0),(0,u.A)(this,vt,!1),(0,u.A)(this,yt,null),(0,u.A)(this,bt,this.pointerup.bind(this)),(0,u.A)(this,wt,this.pointerUpAfterSelection.bind(this)),(0,u.A)(this,At,this.pointerdown.bind(this)),(0,u.A)(this,Ct,null),(0,u.A)(this,kt,this.selectionStart.bind(this)),(0,u.A)(this,St,new Map),(0,u.A)(this,xt,!1),(0,u.A)(this,Tt,!1),(0,u.A)(this,Et,!1),(0,u.A)(this,It,null),(0,u.A)(this,_t,void 0);const p=[...Lt._.values()];if(!Pt._initialized){Pt._initialized=!0;for(const e of p)e.initialize(f)}t.registerEditorTypes(p),(0,d.A)(_t,this,t),this.pageIndex=n,this.div=r,(0,d.A)(mt,this,i),(0,d.A)(yt,this,o),this.viewport=l,(0,d.A)(It,this,a),this.drawLayer=s,(0,h.A)(_t,this).addLayer(this)}get isEmpty(){return 0===(0,h.A)(St,this).size}updateToolbar(e){(0,h.A)(_t,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,h.A)(_t,this).getMode();switch((0,l.A)(Rt,this,Dt).call(this),e){case g.AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;case g.AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case g.AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}if(e!==g.AnnotationEditorType.NONE){const{classList:t}=this.div;for(const n of Lt._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}}addInkEditorIfNeeded(e){if((0,h.A)(_t,this).getMode()!==g.AnnotationEditorType.INK)return;if(!e)for(const t of(0,h.A)(St,this).values())if(t.isEmpty())return void t.setInBackground();(0,l.A)(Rt,this,Ft).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){(0,h.A)(_t,this).setEditingState(e)}addCommands(e){(0,h.A)(_t,this).addCommands(e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}enable(){this.togglePointerEvents(!0);const e=new Set;for(const n of(0,h.A)(St,this).values())n.enableEditing(),n.annotationElementId&&e.add(n.annotationElementId);if(!(0,h.A)(yt,this))return;const t=(0,h.A)(yt,this).getEditableAnnotations();for(const n of t){if(n.hide(),(0,h.A)(_t,this).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){(0,d.A)(Et,this,!0),this.togglePointerEvents(!1);const e=new Set;for(const r of(0,h.A)(St,this).values()){var t;r.disableEditing(),r.annotationElementId&&null===r.serialize()?(null===(t=this.getEditableAnnotation(r.annotationElementId))||void 0===t||t.show(),r.remove()):e.add(r.annotationElementId)}if((0,h.A)(yt,this)){const t=(0,h.A)(yt,this).getEditableAnnotations();for(const n of t){const{id:t}=n.data;e.has(t)||(0,h.A)(_t,this).isDeletedAnnotationElement(t)||n.show()}}(0,l.A)(Rt,this,Dt).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of Lt._.values())n.remove("".concat(r._type,"Editing"));this.disableTextSelection(),(0,d.A)(Et,this,!1)}getEditableAnnotation(e){var t;return(null===(t=(0,h.A)(yt,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){(0,h.A)(_t,this).getActive()!==e&&(0,h.A)(_t,this).setActiveEditor(e)}enableTextSelection(){var e;null!==(e=(0,h.A)(It,this))&&void 0!==e&&e.div&&document.addEventListener("selectstart",(0,h.A)(kt,this))}disableTextSelection(){var e;null!==(e=(0,h.A)(It,this))&&void 0!==e&&e.div&&document.removeEventListener("selectstart",(0,h.A)(kt,this))}enableClick(){this.div.addEventListener("pointerdown",(0,h.A)(At,this)),this.div.addEventListener("pointerup",(0,h.A)(bt,this))}disableClick(){this.div.removeEventListener("pointerdown",(0,h.A)(At,this)),this.div.removeEventListener("pointerup",(0,h.A)(bt,this))}attach(e){(0,h.A)(St,this).set(e.id,e);const{annotationElementId:t}=e;t&&(0,h.A)(_t,this).isDeletedAnnotationElement(t)&&(0,h.A)(_t,this).removeDeletedAnnotationElement(e)}detach(e){var t;(0,h.A)(St,this).delete(e.id),null===(t=(0,h.A)(mt,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!(0,h.A)(Et,this)&&e.annotationElementId&&(0,h.A)(_t,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),(0,h.A)(_t,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,(0,h.A)(Tt,this)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.annotationElementId&&((0,h.A)(_t,this).addDeletedAnnotationElement(e.annotationElementId),m.AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.changeParent(e),(0,h.A)(_t,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),(0,h.A)(_t,this).addToAnnotationStorage(e)}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!(0,h.A)(Ct,this)&&(e._focusEventsAllowed=!1,(0,d.A)(Ct,this,setTimeout((()=>{(0,d.A)(Ct,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),n.focus())}),0))),e._structTreeParentId=null===(t=(0,h.A)(mt,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return(0,h.A)(_t,this).getId()}canCreateNewEmptyEditor(){var e;return null===(e=(0,a.A)(Rt,this,Nt))||void 0===e?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){(0,h.A)(_t,this).updateToolbar(e),(0,h.A)(_t,this).updateMode(e);const{offsetX:n,offsetY:r}=(0,l.A)(Rt,this,Ot).call(this),i=this.getNextId(),s=(0,l.A)(Rt,this,Mt).call(this,(0,o.A)({parent:this,id:i,x:n,y:r,uiManager:(0,h.A)(_t,this),isCentered:!0},t));s&&this.add(s)}deserialize(e){var t,n;return(null===(t=Lt._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,(0,h.A)(_t,this)))||null}addNewEditor(){(0,l.A)(Rt,this,Ft).call(this,(0,l.A)(Rt,this,Ot).call(this),!0)}setSelected(e){(0,h.A)(_t,this).setSelected(e)}toggleSelected(e){(0,h.A)(_t,this).toggleSelected(e)}isSelected(e){return(0,h.A)(_t,this).isSelected(e)}unselect(e){(0,h.A)(_t,this).unselect(e)}selectionStart(e){var t;null===(t=(0,h.A)(It,this))||void 0===t||t.div.addEventListener("pointerup",(0,h.A)(wt,this),{once:!0})}pointerUpAfterSelection(e){var t;const n=document.getSelection();if(0===n.rangeCount)return;const r=n.getRangeAt(0);if(r.collapsed)return;if(null===(t=(0,h.A)(It,this))||void 0===t||!t.div.contains(r.commonAncestorContainer))return;const{x:i,y:o,width:s,height:a}=(0,h.A)(It,this).div.getBoundingClientRect(),c=r.getClientRects();let u;switch(this.viewport.rotation){case 90:u=(e,t,n,r)=>({x:(t-o)/a,y:1-(e+n-i)/s,width:r/a,height:n/s});break;case 180:u=(e,t,n,r)=>({x:1-(e+n-i)/s,y:1-(t+r-o)/a,width:n/s,height:r/a});break;case 270:u=(e,t,n,r)=>({x:1-(t+r-o)/a,y:(e-i)/s,width:r/a,height:n/s});break;default:u=(e,t,n,r)=>({x:(e-i)/s,y:(t-o)/a,width:n/s,height:r/a})}const d=[];for(const{x:l,y:h,width:f,height:p}of c)0!==f&&0!==p&&d.push(u(l,h,f,p));0!==d.length&&(0,l.A)(Rt,this,Ft).call(this,e,!1,{boxes:d}),n.empty()}pointerup(e){const{isMac:t}=g.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&(0,h.A)(xt,this)&&((0,d.A)(xt,this,!1),(0,h.A)(vt,this)?(0,h.A)(_t,this).getMode()!==g.AnnotationEditorType.STAMP?(0,l.A)(Rt,this,Ft).call(this,e,!1):(0,h.A)(_t,this).unselectAll():(0,d.A)(vt,this,!0))}pointerdown(e){if((0,h.A)(_t,this).getMode()===g.AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),(0,h.A)(xt,this))return void(0,d.A)(xt,this,!1);const{isMac:t}=g.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;(0,d.A)(xt,this,!0);const n=(0,h.A)(_t,this).getActive();(0,d.A)(vt,this,!n||n.isEmpty())}findNewParent(e,t,n){const r=(0,h.A)(_t,this).findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){var e;(null===(e=(0,h.A)(_t,this).getActive())||void 0===e?void 0:e.parent)===this&&((0,h.A)(_t,this).commitOrRemove(),(0,h.A)(_t,this).setActiveEditor(null)),(0,h.A)(Ct,this)&&(clearTimeout((0,h.A)(Ct,this)),(0,d.A)(Ct,this,null));for(const n of(0,h.A)(St,this).values()){var t;null===(t=(0,h.A)(mt,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,(0,h.A)(St,this).clear(),(0,h.A)(_t,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,(0,ie.setLayerDimensions)(this.div,t);for(const n of(0,h.A)(_t,this).getEditors(this.pageIndex))this.add(n);this.updateMode()}update(e){let{viewport:t}=e;(0,h.A)(_t,this).commitOrRemove();const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,(0,ie.setLayerDimensions)(this.div,{rotation:r}),n!==r)for(const i of(0,h.A)(St,this).values())i.rotate(r);this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}function Nt(e){return Lt._.get((0,h.A)(_t,e).getMode())}function Mt(e){const t=(0,a.A)(Rt,this,Nt);return t?new t.prototype.constructor(e):null}function Ft(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=(0,l.A)(Rt,this,Mt).call(this,(0,o.A)({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:(0,h.A)(_t,this),isCentered:t},n));return i&&this.add(i),i}function Ot(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,t),s=(i+Math.min(window.innerWidth,e+n))/2-e,a=(o+Math.min(window.innerHeight,t+r))/2-t,[c,l]=this.viewport.rotation%180===0?[s,a]:[a,s];return{offsetX:c,offsetY:l}}function Dt(){(0,d.A)(Tt,this,!0);for(const e of(0,h.A)(St,this).values())e.isEmpty()&&e.remove();(0,d.A)(Tt,this,!1)}(0,s.A)(Pt,"_initialized",!1);var Lt={_:new Map([_,Ae,st,Q].map((e=>[e._editorType,e])))}},97:(e,t,n)=>{var r;n.d(t,{ColorPicker:()=>C});var i=n(266),o=n(812),s=n(473),a=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,A=new WeakSet;class C{static get _keyboardManager(){return(0,i.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["Escape","mac+Escape"],C.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],C.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],C.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],C.prototype._moveToPrevious],[["Home","mac+Home"],C.prototype._moveToBeginning],[["End","mac+End"],C.prototype._moveToEnd]]))}constructor(e){var t;let{editor:n=null,uiManager:r=null}=e;(0,c.A)(this,A),(0,u.A)(this,a,(0,l.A)(A,this,x).bind(this)),(0,u.A)(this,f,null),(0,u.A)(this,p,null),(0,u.A)(this,g,void 0),(0,u.A)(this,m,null),(0,u.A)(this,v,!1),(0,u.A)(this,y,!1),(0,u.A)(this,b,void 0),(0,u.A)(this,w,null),(0,d.A)(y,this,!n),(0,d.A)(w,this,(null===n||void 0===n?void 0:n._uiManager)||r),(0,d.A)(b,this,(0,h.A)(w,this)._eventBus),(0,d.A)(g,this,(null===n||void 0===n?void 0:n.color)||(null===(t=(0,h.A)(w,this))||void 0===t?void 0:t.highlightColors.values().next().value)||"#FFFF98")}renderButton(){const e=(0,d.A)(f,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",(0,l.A)(A,this,T).bind(this));const t=(0,d.A)(p,this,document.createElement("span"));return t.className="swatch",t.style.backgroundColor=(0,h.A)(g,this),e.append(t),e}renderMainDropdown(){const e=(0,d.A)(m,this,(0,l.A)(A,this,k).call(this,i.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){const t=e.target.getAttribute("data-color");t&&(0,l.A)(A,this,S).call(this,t,e)}_moveToNext(e){var t,n;e.target!==(0,h.A)(f,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=(0,h.A)(m,this).firstChild)||void 0===n||n.focus()}_moveToPrevious(e){var t;null===(t=e.target.previousSibling)||void 0===t||t.focus()}_moveToBeginning(){var e;null===(e=(0,h.A)(m,this).firstChild)||void 0===e||e.focus()}_moveToEnd(){var e;null===(e=(0,h.A)(m,this).lastChild)||void 0===e||e.focus()}hideDropdown(){var e;null===(e=(0,h.A)(m,this))||void 0===e||e.classList.add("hidden")}_hideDropdownFromKeyboard(){(0,h.A)(y,this)||!(0,h.A)(m,this)||(0,h.A)(m,this).classList.contains("hidden")||(this.hideDropdown(),(0,h.A)(f,this).removeEventListener("keydown",(0,h.A)(a,this)),(0,h.A)(f,this).focus({preventScroll:!0,focusVisible:(0,h.A)(v,this)}))}updateColor(e){if((0,h.A)(p,this)&&((0,h.A)(p,this).style.backgroundColor=e),!(0,h.A)(m,this))return;const t=(0,h.A)(w,this).highlightColors.values();for(const n of(0,h.A)(m,this).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;null===(e=(0,h.A)(f,this))||void 0===e||e.remove(),(0,d.A)(f,this,null),(0,d.A)(p,this,null),null===(t=(0,h.A)(m,this))||void 0===t||t.remove(),(0,d.A)(m,this,null)}}function k(e){const t=document.createElement("div");t.addEventListener("contextmenu",s.noContextMenu),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of(0,h.A)(w,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-".concat(n));const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=r,i.setAttribute("aria-selected",r===(0,h.A)(g,this)),i.addEventListener("click",(0,l.A)(A,this,S).bind(this,e,r)),t.append(i)}return t.addEventListener("keydown",(0,h.A)(a,this)),t}function S(e,t,n){n.stopPropagation(),(0,h.A)(b,this).dispatch("switchannotationeditorparams",{source:this,type:e,value:t})}function x(e){r._keyboardManager.exec(this,e)}function T(e){if((0,h.A)(m,this)&&!(0,h.A)(m,this).classList.contains("hidden"))return void this.hideDropdown();if((0,h.A)(f,this).addEventListener("keydown",(0,h.A)(a,this)),(0,d.A)(v,this,0===e.detail),(0,h.A)(m,this))return void(0,h.A)(m,this).classList.remove("hidden");const t=(0,d.A)(m,this,(0,l.A)(A,this,k).call(this,i.AnnotationEditorParamsType.HIGHLIGHT_COLOR));(0,h.A)(f,this).append(t)}r=C},115:(e,t,n)=>{var r,i;n.d(t,{AnnotationEditor:()=>ee});var o=n(812),f=n(266),p=n(473),g=new WeakMap,m=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,A=new WeakMap,C=new WeakSet;class k{constructor(e){(0,c.A)(this,C),(0,u.A)(this,g,""),(0,u.A)(this,m,!1),(0,u.A)(this,v,null),(0,u.A)(this,y,null),(0,u.A)(this,b,null),(0,u.A)(this,w,!1),(0,u.A)(this,A,null),(0,d.A)(A,this,e)}static initialize(e){k._l10nPromise||(k._l10nPromise=e)}async render(){const e=(0,d.A)(v,this,document.createElement("button"));e.className="altText";const t=await k._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",p.noContextMenu),e.addEventListener("pointerdown",(e=>e.stopPropagation()));const n=e=>{e.preventDefault(),(0,h.A)(A,this)._uiManager.editAltText((0,h.A)(A,this))};return e.addEventListener("click",n,{capture:!0}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&((0,d.A)(w,this,!0),n(t))})),await(0,l.A)(C,this,S).call(this),e}finish(){(0,h.A)(v,this)&&((0,h.A)(v,this).focus({focusVisible:(0,h.A)(w,this)}),(0,d.A)(w,this,!1))}get data(){return{altText:(0,h.A)(g,this),decorative:(0,h.A)(m,this)}}set data(e){let{altText:t,decorative:n}=e;(0,h.A)(g,this)===t&&(0,h.A)(m,this)===n||((0,d.A)(g,this,t),(0,d.A)(m,this,n),(0,l.A)(C,this,S).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,h.A)(v,this)&&(!e&&(0,h.A)(b,this)&&(clearTimeout((0,h.A)(b,this)),(0,d.A)(b,this,null)),(0,h.A)(v,this).disabled=!e)}destroy(){var e;null===(e=(0,h.A)(v,this))||void 0===e||e.remove(),(0,d.A)(v,this,null),(0,d.A)(y,this,null)}}async function S(){const e=(0,h.A)(v,this);if(!e)return;var t;if(!(0,h.A)(g,this)&&!(0,h.A)(m,this))return e.classList.remove("done"),void(null===(t=(0,h.A)(y,this))||void 0===t||t.remove());e.classList.add("done"),r._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((t=>{e.setAttribute("aria-label",t)}));let n=(0,h.A)(y,this);if(!n){(0,d.A)(y,this,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const t=n.id="alt-text-tooltip-".concat((0,h.A)(A,this).id);e.setAttribute("aria-describedby",t);const r=100;e.addEventListener("mouseenter",(()=>{(0,d.A)(b,this,setTimeout((()=>{(0,d.A)(b,this,null),(0,h.A)(y,this).classList.add("show"),(0,h.A)(A,this)._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:(0,h.A)(A,this).editorType,data:{action:"alt_text_tooltip"}}})}),r))})),e.addEventListener("mouseleave",(()=>{var e;(0,h.A)(b,this)&&(clearTimeout((0,h.A)(b,this)),(0,d.A)(b,this,null)),null===(e=(0,h.A)(y,this))||void 0===e||e.classList.remove("show")}))}n.innerText=(0,h.A)(m,this)?await r._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):(0,h.A)(g,this),n.parentNode||e.append(n);const i=(0,h.A)(A,this).getImageForAltText();null===i||void 0===i||i.setAttribute("aria-describedby",n.id)}r=k,(0,s.A)(k,"_l10nPromise",null);var x=new WeakMap,T=new WeakMap,E=new WeakMap,I=new WeakMap,_=new WeakSet;class R{constructor(e){(0,c.A)(this,_),(0,u.A)(this,x,null),(0,u.A)(this,T,null),(0,u.A)(this,E,void 0),(0,u.A)(this,I,null),(0,d.A)(E,this,e)}render(){const e=(0,d.A)(x,this,document.createElement("div"));e.className="editToolbar",e.addEventListener("contextmenu",p.noContextMenu),e.addEventListener("pointerdown",P);const t=(0,d.A)(I,this,document.createElement("div"));t.className="buttons",e.append(t);const n=(0,h.A)(E,this).toolbarPosition;if(n){const{style:t}=e,r="ltr"===(0,h.A)(E,this)._uiManager.direction?1-n[0]:n[0];t.insetInlineEnd="".concat(100*r,"%"),t.top="calc(".concat(100*n[1],"% + var(--editor-toolbar-vert-offset))")}return(0,l.A)(_,this,O).call(this),e}hide(){var e;(0,h.A)(x,this).classList.add("hidden"),null===(e=(0,h.A)(T,this))||void 0===e||e.hideDropdown()}show(){(0,h.A)(x,this).classList.remove("hidden")}addAltTextButton(e){(0,l.A)(_,this,F).call(this,e),(0,h.A)(I,this).prepend(e,(0,a.A)(_,this,D))}addColorPicker(e){(0,d.A)(T,this,e);const t=e.renderButton();(0,l.A)(_,this,F).call(this,t),(0,h.A)(I,this).prepend(t,(0,a.A)(_,this,D))}remove(){var e;(0,h.A)(x,this).remove(),null===(e=(0,h.A)(T,this))||void 0===e||e.destroy(),(0,d.A)(T,this,null)}}function P(e){e.stopPropagation()}function N(e){(0,h.A)(E,this)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}function M(e){(0,h.A)(E,this)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}function F(e){e.addEventListener("focusin",(0,l.A)(_,this,N).bind(this),{capture:!0}),e.addEventListener("focusout",(0,l.A)(_,this,M).bind(this),{capture:!0}),e.addEventListener("contextmenu",p.noContextMenu)}function O(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-editor-remove-".concat((0,h.A)(E,this).editorType,"-button")),(0,l.A)(_,this,F).call(this,e),e.addEventListener("click",(e=>{(0,h.A)(E,this)._uiManager.delete()})),(0,h.A)(I,this).append(e)}function D(e){const t=document.createElement("div");return t.className="divider",t}var L=new WeakMap,j=new WeakMap,U=new WeakMap,B=new WeakMap,q=new WeakMap,z=new WeakMap,V=new WeakMap,H=new WeakMap,W=new WeakMap,K=new WeakMap,G=new WeakMap,X=new WeakMap,Y=new WeakMap,Q=new WeakMap,J=new WeakMap,Z=new WeakMap,$=new WeakSet;class ee{static get _resizerKeyboardManager(){const e=ee.prototype._resizeWithKeyboard,t=o.AnnotationEditorUIManager.TRANSLATE_SMALL,n=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,f.shadow)(this,"_resizerKeyboardManager",new o.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],ee.prototype._stopResizingWithKeyboard]]))}constructor(e){(0,c.A)(this,$),(0,u.A)(this,L,null),(0,u.A)(this,j,null),(0,u.A)(this,U,!1),(0,u.A)(this,B,null),(0,u.A)(this,q,null),(0,u.A)(this,z,this.focusin.bind(this)),(0,u.A)(this,V,this.focusout.bind(this)),(0,u.A)(this,H,null),(0,u.A)(this,W,""),(0,u.A)(this,K,!1),(0,u.A)(this,G,!1),(0,u.A)(this,X,!1),(0,u.A)(this,Y,!1),(0,u.A)(this,Q,null),(0,s.A)(this,"_initialOptions",Object.create(null)),(0,s.A)(this,"_uiManager",null),(0,s.A)(this,"_focusEventsAllowed",!0),(0,s.A)(this,"_l10nPromise",null),(0,u.A)(this,J,!1),(0,u.A)(this,Z,ee._zIndex++),this.constructor===ee&&(0,f.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,f.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new me({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(ee._l10nPromise||(ee._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((t=>[t,e.get(t.replaceAll(/([A-Z])/g,(e=>"-".concat(e.toLowerCase()))))])))),null!==t&&void 0!==t&&t.strings)for(const r of t.strings)ee._l10nPromise.set(r,e.get(r));if(-1!==ee._borderLineWidth)return;const n=getComputedStyle(document.documentElement);ee._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){(0,f.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return(0,h.A)(J,this)}set _isDraggable(e){var t;(0,d.A)(J,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=(0,h.A)(Z,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(0,l.A)($,this,ge).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&((0,h.A)(K,this)?(0,d.A)(K,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){(0,l.A)($,this,te).call(this,this.parentDimensions,e,t)}translateInPage(e,t){(0,l.A)($,this,te).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:o}=this;const[s,a]=(0,l.A)($,this,ne).call(this);i+=s,o+=a,this.div.style.left="".concat((100*i).toFixed(2),"%"),this.div.style.top="".concat((100*o).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:r,y:i,width:o,height:s}=this;switch(o*=t,s*=n,r*=t,i*=n,e){case 0:r=Math.max(0,Math.min(t-o,r)),i=Math.max(0,Math.min(n-s,i));break;case 90:r=Math.max(0,Math.min(t-s,r)),i=Math.min(n,Math.max(o,i));break;case 180:r=Math.min(t,Math.max(o,r)),i=Math.min(n,Math.max(s,i));break;case 270:r=Math.min(t,Math.max(s,r)),i=Math.max(0,Math.min(n-o,i))}this.x=r/=t,this.y=i/=n;const[a,c]=(0,l.A)($,this,ne).call(this);r+=a,i+=c;const{style:u}=this.div;u.left="".concat((100*r).toFixed(2),"%"),u.top="".concat((100*i).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return re.call(ee,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return re.call(ee,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,i=n*e;return f.FeatureTest.isCSSRoundSupported?[Math.round(r),Math.round(i)]:[r,i]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width="".concat((100*e/n).toFixed(2),"%"),(0,h.A)(U,this)||(this.div.style.height="".concat((100*t/r).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!(0,h.A)(U,this)&&t.endsWith("%");if(r&&i)return;const[o,s]=this.parentDimensions;r||(e.width="".concat((100*parseFloat(n)/o).toFixed(2),"%")),(0,h.A)(U,this)||i||(e.height="".concat((100*parseFloat(t)/s).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}altTextFinish(){var e;null===(e=(0,h.A)(j,this))||void 0===e||e.finish()}async addEditToolbar(){return(0,h.A)(H,this)||(0,h.A)(X,this)||((0,d.A)(H,this,new R(this)),this.div.append((0,h.A)(H,this).render()),(0,h.A)(j,this)&&(0,h.A)(H,this).addAltTextButton(await(0,h.A)(j,this).render())),(0,h.A)(H,this)}removeEditToolbar(){var e;(0,h.A)(H,this)&&((0,h.A)(H,this).remove(),(0,d.A)(H,this,null),null===(e=(0,h.A)(j,this))||void 0===e||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){(0,h.A)(j,this)||(k.initialize(ee._l10nPromise),(0,d.A)(j,this,new k(this)),await this.addEditToolbar())}get altTextData(){var e;return null===(e=(0,h.A)(j,this))||void 0===e?void 0:e.data}set altTextData(e){(0,h.A)(j,this)&&((0,h.A)(j,this).data=e)}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",(0,h.A)(z,this)),this.div.addEventListener("focusout",(0,h.A)(V,this));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*t/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/t).toFixed(2),"%"));const[n,r]=this.getInitialTranslation();return this.translate(n,r),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=f.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():((0,d.A)(K,this,!0),this._isDraggable?(0,l.A)($,this,ue).call(this,e):(0,l.A)($,this,le).call(this,e))}moveInDOM(){(0,h.A)(Q,this)&&clearTimeout((0,h.A)(Q,this)),(0,d.A)(Q,this,setTimeout((()=>{var e;(0,d.A)(Q,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)}),0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,o]=this.pageDimensions,[s,a]=this.pageTranslation,c=e/r,l=t/r,u=this.x*i,h=this.y*o,d=this.width*i,f=this.height*o;switch(n){case 0:return[u+c+s,o-h-l-f+a,u+c+d+s,o-h-l+a];case 90:return[u+l+s,o-h+c+a,u+l+f+s,o-h+c+d+a];case 180:return[u-c-d+s,o-h+l+a,u-c+s,o-h+l+f+a];case 270:return[u-l-f+s,o-h-c-d+a,u-l+s,o-h-c+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,o]=e,s=i-n,a=o-r;switch(this.rotation){case 0:return[n,t-o,s,a];case 90:return[n,t-r,a,s];case 180:return[i,t-r,s,a];case 270:return[i,t-o,a,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){(0,d.A)(X,this,!0)}disableEditMode(){(0,d.A)(X,this,!1)}isInEditMode(){return(0,h.A)(X,this)}shouldGetKeyboardEvents(){return(0,h.A)(Y,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;null===(e=this.div)||void 0===e||e.addEventListener("focusin",(0,h.A)(z,this)),null===(t=this.div)||void 0===t||t.addEventListener("focusout",(0,h.A)(V,this))}rotate(e){}serialize(){(0,f.unreachable)("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation;const[i,o]=r.pageDimensions,[s,a,c,l]=r.getRectInCurrentCoords(e.rect,o);return r.x=s/i,r.y=a/o,r.width=c/i,r.height=l/o,r}remove(){this.div.removeEventListener("focusin",(0,h.A)(z,this)),this.div.removeEventListener("focusout",(0,h.A)(V,this)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(0,h.A)(Q,this)&&(clearTimeout((0,h.A)(Q,this)),(0,d.A)(Q,this,null)),(0,l.A)($,this,ge).call(this),this.removeEditToolbar()}get isResizable(){return!1}makeResizable(){this.isResizable&&((0,l.A)($,this,oe).call(this),(0,h.A)(B,this).classList.remove("hidden"),(0,o.bindEvents)(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),(0,d.A)(q,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=(0,h.A)(B,this).children;if(!(0,h.A)(L,this)){(0,d.A)(L,this,Array.from(t));const e=(0,l.A)($,this,he).bind(this),n=(0,l.A)($,this,de).bind(this);for(const t of(0,h.A)(L,this)){const r=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e),t.addEventListener("blur",n),t.addEventListener("focus",(0,l.A)($,this,fe).bind(this,r)),ee._l10nPromise.get("pdfjs-editor-resizer-label-".concat(r)).then((e=>t.setAttribute("aria-label",e)))}}const n=(0,h.A)(L,this)[0];let r=0;for(const o of t){if(o===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*((0,h.A)(L,this).length/4);if(i!==r){if(i<r)for(let t=0;t<r-i;t++)(0,h.A)(B,this).append((0,h.A)(B,this).firstChild);else if(i>r)for(let t=0;t<i-r;t++)(0,h.A)(B,this).firstChild.before((0,h.A)(B,this).lastChild);let e=0;for(const n of t){const t=(0,h.A)(L,this)[e++].getAttribute("data-resizer-name");ee._l10nPromise.get("pdfjs-editor-resizer-label-".concat(t)).then((e=>n.setAttribute("aria-label",e)))}}(0,l.A)($,this,pe).call(this,0),(0,d.A)(Y,this,!0),(0,h.A)(B,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){(0,h.A)(Y,this)&&(0,l.A)($,this,ce).call(this,(0,h.A)(W,this),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){(0,l.A)($,this,ge).call(this),this.div.focus()}select(){var e,t;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),(0,h.A)(H,this)?null===(t=(0,h.A)(H,this))||void 0===t||t.show():this.addEditToolbar().then((()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=(0,h.A)(H,this))||void 0===t||t.show())}))}unselect(){var e,t,n,r;null===(e=(0,h.A)(B,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus(),null===(r=(0,h.A)(H,this))||void 0===r||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return(0,h.A)(G,this)}set isEditing(e){(0,d.A)(G,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){(0,d.A)(U,this,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}}function te(e,t,n){let[r,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/i,this.fixAndSetPosition()}function ne(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=i,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}function re(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function ie(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function oe(){if((0,h.A)(B,this))return;(0,d.A)(B,this,document.createElement("div")),(0,h.A)(B,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const e=document.createElement("div");(0,h.A)(B,this).append(e),e.classList.add("resizer",t),e.setAttribute("data-resizer-name",t),e.addEventListener("pointerdown",(0,l.A)($,this,se).bind(this,t)),e.addEventListener("contextmenu",p.noContextMenu),e.tabIndex=-1}this.div.prepend((0,h.A)(B,this))}function se(e,t){var n;t.preventDefault();const{isMac:r}=f.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&r)return;null===(n=(0,h.A)(j,this))||void 0===n||n.toggle(!1);const i=(0,l.A)($,this,ce).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const s={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,s);const a=this.x,c=this.y,u=this.width,d=this.height,p=this.parent.div.style.cursor,g=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var e;this.parent.togglePointerEvents(!0),null===(e=(0,h.A)(j,this))||void 0===e||e.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,s),this.parent.div.style.cursor=p,this.div.style.cursor=g,(0,l.A)($,this,ae).call(this,a,c,u,d)};window.addEventListener("pointerup",m),window.addEventListener("blur",m)}function ae(e,t,n,r){const i=this.x,o=this.y,s=this.width,a=this.height;i===e&&o===t&&s===n&&a===r||this.addCommands({cmd:()=>{this.width=s,this.height=a,this.x=i,this.y=o;const[e,t]=this.parentDimensions;this.setDims(e*s,t*a),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[i,o]=this.parentDimensions;this.setDims(i*n,o*r),this.fixAndSetPosition()},mustExec:!0})}function ce(e,t){const[n,r]=this.parentDimensions,o=this.x,s=this.y,a=this.width,c=this.height,u=i.MIN_SIZE/n,h=i.MIN_SIZE/r,d=e=>Math.round(1e4*e)/1e4,f=(0,l.A)($,this,ie).call(this,this.rotation),p=(e,t)=>[f[0]*e+f[2]*t,f[1]*e+f[3]*t],g=(0,l.A)($,this,ie).call(this,360-this.rotation);let m,v,y=!1,b=!1;switch(e){case"topLeft":y=!0,m=(e,t)=>[0,0],v=(e,t)=>[e,t];break;case"topMiddle":m=(e,t)=>[e/2,0],v=(e,t)=>[e/2,t];break;case"topRight":y=!0,m=(e,t)=>[e,0],v=(e,t)=>[0,t];break;case"middleRight":b=!0,m=(e,t)=>[e,t/2],v=(e,t)=>[0,t/2];break;case"bottomRight":y=!0,m=(e,t)=>[e,t],v=(e,t)=>[0,0];break;case"bottomMiddle":m=(e,t)=>[e/2,t],v=(e,t)=>[e/2,0];break;case"bottomLeft":y=!0,m=(e,t)=>[0,t],v=(e,t)=>[e,0];break;case"middleLeft":b=!0,m=(e,t)=>[0,t/2],v=(e,t)=>[e,t/2]}const w=m(a,c),A=v(a,c);let C=p(...A);const k=d(o+C[0]),S=d(s+C[1]);let x=1,T=1,[E,I]=this.screenToPageTranslation(t.movementX,t.movementY);var _,R;if([E,I]=(_=E/n,R=I/r,[g[0]*_+g[2]*R,g[1]*_+g[3]*R]),y){const e=Math.hypot(a,c);x=T=Math.max(Math.min(Math.hypot(A[0]-w[0]-E,A[1]-w[1]-I)/e,1/a,1/c),u/a,h/c)}else b?x=Math.max(u,Math.min(1,Math.abs(A[0]-w[0]-E)))/a:T=Math.max(h,Math.min(1,Math.abs(A[1]-w[1]-I)))/c;const P=d(a*x),N=d(c*T);C=p(...v(P,N));const M=k-C[0],F=S-C[1];this.width=P,this.height=N,this.x=M,this.y=F,this.setDims(n*P,r*N),this.fixAndSetPosition()}function le(e){const{isMac:t}=f.FeatureTest.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function ue(e){const t=this._uiManager.isSelected(this);let n,r;this._uiManager.setUpDragSession(),t&&(n={passive:!0,capture:!0},r=e=>{const[t,n]=this.screenToPageTranslation(e.movementX,e.movementY);this._uiManager.dragSelectedEditors(t,n)},window.addEventListener("pointermove",r,n));const i=()=>{window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),t&&window.removeEventListener("pointermove",r,n),(0,d.A)(K,this,!1),this._uiManager.endDragSession()||(0,l.A)($,this,le).call(this,e)};window.addEventListener("pointerup",i),window.addEventListener("blur",i)}function he(e){i._resizerKeyboardManager.exec(this,e)}function de(e){var t;(0,h.A)(Y,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==(0,h.A)(B,this)&&(0,l.A)($,this,ge).call(this)}function fe(e){(0,d.A)(W,this,(0,h.A)(Y,this)?e:"")}function pe(e){if((0,h.A)(L,this))for(const t of(0,h.A)(L,this))t.tabIndex=e}function ge(){if((0,d.A)(Y,this,!1),(0,l.A)($,this,pe).call(this,-1),(0,h.A)(q,this)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=(0,h.A)(q,this);(0,l.A)($,this,ae).call(this,e,t,n,r),(0,d.A)(q,this,null)}}i=ee,(0,s.A)(ee,"_borderLineWidth",-1),(0,s.A)(ee,"_colorManager",new o.ColorManager),(0,s.A)(ee,"_zIndex",1);class me extends ee{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},405:(e,t,n)=>{n.d(t,{Outliner:()=>a});var r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakSet;class a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(0,c.A)(this,s),(0,u.A)(this,r,void 0),(0,u.A)(this,i,[]),(0,u.A)(this,o,[]);let l=1/0,f=-1/0,p=1/0,g=-1/0;const m=10**-4;for(const{x:r,y:o,width:s,height:c}of e){const e=Math.floor((r-t)/m)*m,n=Math.ceil((r+s+t)/m)*m,a=Math.floor((o-t)/m)*m,u=Math.ceil((o+c+t)/m)*m,d=[e,a,u,!0],v=[n,a,u,!1];(0,h.A)(i,this).push(d,v),l=Math.min(l,e),f=Math.max(f,n),p=Math.min(p,a),g=Math.max(g,u)}const v=f-l+2*n,y=g-p+2*n,b=l-n,w=p-n,A=(0,h.A)(i,this).at(a?-1:-2),C=[A[0],A[2]];for(const r of(0,h.A)(i,this)){const[e,t,n]=r;r[0]=(e-b)/v,r[1]=(t-w)/y,r[2]=(n-w)/y}(0,d.A)(r,this,{x:b,y:w,width:v,height:y,lastPoint:C})}getOutlines(){(0,h.A)(i,this).sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of(0,h.A)(i,this))t[3]?(e.push(...(0,l.A)(s,this,v).call(this,t)),(0,l.A)(s,this,g).call(this,t)):((0,l.A)(s,this,m).call(this,t),e.push(...(0,l.A)(s,this,v).call(this,t)));return(0,l.A)(s,this,f).call(this,e)}}function f(e){const t=[],n=new Set;for(const r of e){const[e,n,i]=r;t.push([e,n,r],[e,i,r])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let r=0,s=t.length;r<s;r+=2){const e=t[r][2],i=t[r+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let o;for(;n.size>0;){const e=n.values().next().value;let[t,r,s,a,c]=e;n.delete(e);let l=t,u=r;for(o=[t,s],i.push(o);;){let e;if(n.has(a))e=a;else{if(!n.has(c))break;e=c}n.delete(e),[t,r,s,a,c]=e,l!==t&&(o.push(l,u,t,u===r?r:s),l=t),u=u===r?s:r}o.push(l,u)}return{outlines:i,box:(0,h.A)(r,this)}}function p(e){const t=(0,h.A)(o,this);let n=0,r=t.length-1;for(;n<=r;){const i=n+r>>1,o=t[i][0];if(o===e)return i;o<e?n=i+1:r=i-1}return r+1}function g(e){let[,t,n]=e;const r=(0,l.A)(s,this,p).call(this,t);(0,h.A)(o,this).splice(r,0,[t,n])}function m(e){let[,t,n]=e;const r=(0,l.A)(s,this,p).call(this,t);for(let i=r;i<(0,h.A)(o,this).length;i++){const[e,r]=(0,h.A)(o,this)[i];if(e!==t)break;if(e===t&&r===n)return void(0,h.A)(o,this).splice(i,1)}for(let i=r-1;i>=0;i--){const[e,r]=(0,h.A)(o,this)[i];if(e!==t)break;if(e===t&&r===n)return void(0,h.A)(o,this).splice(i,1)}}function v(e){const[t,n,r]=e,i=[[t,n,r]],a=(0,l.A)(s,this,p).call(this,r);for(let s=0;s<a;s++){const[e,n]=(0,h.A)(o,this)[s];for(let r=0,o=i.length;r<o;r++){const[,s,a]=i[r];if(!(n<=s||a<=e))if(s>=e)if(a>n)i[r][1]=n;else{if(1===o)return[];i.splice(r,1),r--,o--}else i[r][2]=e,a>n&&i.push([t,n,a])}}return i}},812:(e,t,n)=>{var r;n.d(t,{AnnotationEditorUIManager:()=>ge,ColorManager:()=>R,KeyboardManager:()=>I,bindEvents:()=>a,opacityToHex:()=>f});var i=n(266),o=n(473);function a(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}function f(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}var p=new WeakMap;class g{constructor(){(0,u.A)(this,p,0)}getId(){var e,t;return"".concat(i.AnnotationEditorPrefix).concat(((0,d.A)(p,this,(e=(0,h.A)(p,this),t=e++,e)),t))}}var m=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakSet;class w{constructor(){(0,c.A)(this,b),(0,u.A)(this,m,(0,i.getUuid)()),(0,u.A)(this,v,0),(0,u.A)(this,y,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d"),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const n=t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])));return(0,i.shadow)(this,"_isSVGFittingCanvas",n)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return(0,l.A)(b,this,A).call(this,"".concat(t,"_").concat(n,"_").concat(r,"_").concat(i),e)}async getFromUrl(e){return(0,l.A)(b,this,A).call(this,e,e)}async getFromId(e){(0,h.A)(y,this)||(0,d.A)(y,this,new Map);const t=(0,h.A)(y,this).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=(0,h.A)(y,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){(0,h.A)(y,this)||(0,d.A)(y,this,new Map);const t=(0,h.A)(y,this).get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith("image_".concat((0,h.A)(m,this),"_"))}}async function A(e,t){var n;(0,h.A)(y,this)||(0,d.A)(y,this,new Map);let i=(0,h.A)(y,this).get(e);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var s,a;let e;if(i||(i={bitmap:null,id:"image_".concat((0,h.A)(m,this),"_").concat(((0,d.A)(v,this,(s=(0,h.A)(v,this),a=s++,s)),a)),refCounter:0,isSvg:!1}),"string"===typeof t?(i.url=t,e=await(0,o.fetchData)(t,"blob")):e=i.file=t,"image/svg+xml"===e.type){const t=r._isSVGFittingCanvas,n=new FileReader,o=new Image,s=new Promise(((e,r)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,e()},n.onload=async()=>{const e=i.svgUrl=n.result;o.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},o.onerror=n.onerror=r}));n.readAsDataURL(e),await s}else i.bitmap=await createImageBitmap(e);i.refCounter=1}catch(c){console.error(c),i=null}return(0,h.A)(y,this).set(e,i),i&&(0,h.A)(y,this).set(i.id,i),i}r=w;var C=new WeakMap,k=new WeakMap,S=new WeakMap,x=new WeakMap;class T{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;(0,u.A)(this,C,[]),(0,u.A)(this,k,!1),(0,u.A)(this,S,void 0),(0,u.A)(this,x,-1),(0,d.A)(S,this,e)}add(e){let{cmd:t,undo:n,mustExec:r,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:s=!1}=e;if(r&&t(),(0,h.A)(k,this))return;const a={cmd:t,undo:n,type:i};if(-1===(0,h.A)(x,this))return(0,h.A)(C,this).length>0&&((0,h.A)(C,this).length=0),(0,d.A)(x,this,0),void(0,h.A)(C,this).push(a);if(o&&(0,h.A)(C,this)[(0,h.A)(x,this)].type===i)return s&&(a.undo=(0,h.A)(C,this)[(0,h.A)(x,this)].undo),void((0,h.A)(C,this)[(0,h.A)(x,this)]=a);const c=(0,h.A)(x,this)+1;c===(0,h.A)(S,this)?(0,h.A)(C,this).splice(0,1):((0,d.A)(x,this,c),c<(0,h.A)(C,this).length&&(0,h.A)(C,this).splice(c)),(0,h.A)(C,this).push(a)}undo(){-1!==(0,h.A)(x,this)&&((0,d.A)(k,this,!0),(0,h.A)(C,this)[(0,h.A)(x,this)].undo(),(0,d.A)(k,this,!1),(0,d.A)(x,this,(0,h.A)(x,this)-1))}redo(){(0,h.A)(x,this)<(0,h.A)(C,this).length-1&&((0,d.A)(x,this,(0,h.A)(x,this)+1),(0,d.A)(k,this,!0),(0,h.A)(C,this)[(0,h.A)(x,this)].cmd(),(0,d.A)(k,this,!1))}hasSomethingToUndo(){return-1!==(0,h.A)(x,this)}hasSomethingToRedo(){return(0,h.A)(x,this)<(0,h.A)(C,this).length-1}destroy(){(0,d.A)(C,this,null)}}var E=new WeakSet;class I{constructor(e){(0,c.A)(this,E),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=i.FeatureTest.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get((0,l.A)(E,this,_).call(this,t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:o=[],checker:s=null}}=n;s&&!s(e,t)||(r.bind(e,...o,t)(),i||(t.stopPropagation(),t.preventDefault()))}}function _(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class R{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(e),(0,i.shadow)(this,"_colors",e)}convert(e){const t=(0,o.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return R._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?i.Util.makeHexColor(...t):e}}(0,s.A)(R,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var P=new WeakMap,N=new WeakMap,M=new WeakMap,F=new WeakMap,O=new WeakMap,D=new WeakMap,L=new WeakMap,j=new WeakMap,U=new WeakMap,B=new WeakMap,q=new WeakMap,z=new WeakMap,V=new WeakMap,H=new WeakMap,W=new WeakMap,K=new WeakMap,G=new WeakMap,X=new WeakMap,Y=new WeakMap,Q=new WeakMap,J=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,oe=new WeakMap,se=new WeakMap,ae=new WeakMap,ce=new WeakMap,le=new WeakMap,ue=new WeakMap,he=new WeakMap,de=new WeakMap,fe=new WeakMap,pe=new WeakSet;class ge{static get _keyboardManager(){const e=ge.prototype,t=e=>(0,h.A)(de,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new I([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&(0,h.A)(de,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:e=>(0,h.A)(de,e).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}constructor(e,t,n,r,s,a,l){(0,c.A)(this,pe),(0,u.A)(this,P,null),(0,u.A)(this,N,new Map),(0,u.A)(this,M,new Map),(0,u.A)(this,F,null),(0,u.A)(this,O,null),(0,u.A)(this,D,new T),(0,u.A)(this,L,0),(0,u.A)(this,j,new Set),(0,u.A)(this,U,null),(0,u.A)(this,B,null),(0,u.A)(this,q,new Set),(0,u.A)(this,z,null),(0,u.A)(this,V,null),(0,u.A)(this,H,null),(0,u.A)(this,W,new g),(0,u.A)(this,K,!1),(0,u.A)(this,G,!1),(0,u.A)(this,X,null),(0,u.A)(this,Y,null),(0,u.A)(this,Q,i.AnnotationEditorType.NONE),(0,u.A)(this,J,new Set),(0,u.A)(this,Z,null),(0,u.A)(this,$,this.blur.bind(this)),(0,u.A)(this,ee,this.focus.bind(this)),(0,u.A)(this,te,this.copy.bind(this)),(0,u.A)(this,ne,this.cut.bind(this)),(0,u.A)(this,re,this.paste.bind(this)),(0,u.A)(this,ie,this.keydown.bind(this)),(0,u.A)(this,oe,this.onEditingAction.bind(this)),(0,u.A)(this,se,this.onPageChanging.bind(this)),(0,u.A)(this,ae,this.onScaleChanging.bind(this)),(0,u.A)(this,ce,this.onRotationChanging.bind(this)),(0,u.A)(this,le,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}),(0,u.A)(this,ue,[0,0]),(0,u.A)(this,he,null),(0,u.A)(this,de,null),(0,u.A)(this,fe,null),(0,d.A)(de,this,e),(0,d.A)(fe,this,t),(0,d.A)(F,this,n),this._eventBus=r,this._eventBus._on("editingaction",(0,h.A)(oe,this)),this._eventBus._on("pagechanging",(0,h.A)(se,this)),this._eventBus._on("scalechanging",(0,h.A)(ae,this)),this._eventBus._on("rotationchanging",(0,h.A)(ce,this)),(0,d.A)(O,this,s.annotationStorage),(0,d.A)(z,this,s.filterFactory),(0,d.A)(Z,this,a),(0,d.A)(H,this,l||null),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){var e;(0,l.A)(pe,this,be).call(this),(0,l.A)(pe,this,ve).call(this),this._eventBus._off("editingaction",(0,h.A)(oe,this)),this._eventBus._off("pagechanging",(0,h.A)(se,this)),this._eventBus._off("scalechanging",(0,h.A)(ae,this)),this._eventBus._off("rotationchanging",(0,h.A)(ce,this));for(const t of(0,h.A)(M,this).values())t.destroy();(0,h.A)(M,this).clear(),(0,h.A)(N,this).clear(),(0,h.A)(q,this).clear(),(0,d.A)(P,this,null),(0,h.A)(J,this).clear(),(0,h.A)(D,this).destroy(),null===(e=(0,h.A)(F,this))||void 0===e||e.destroy(),(0,h.A)(V,this)&&(clearTimeout((0,h.A)(V,this)),(0,d.A)(V,this,null)),(0,h.A)(he,this)&&(clearTimeout((0,h.A)(he,this)),(0,d.A)(he,this,null))}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",(0,h.A)(Z,this)?(0,h.A)(z,this).addHCMFilter((0,h.A)(Z,this).foreground,(0,h.A)(Z,this).background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle((0,h.A)(de,this)).direction)}get highlightColors(){return(0,i.shadow)(this,"highlightColors",(0,h.A)(H,this)?new Map((0,h.A)(H,this).split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}setMainHighlightColorPicker(e){(0,d.A)(Y,this,e)}editAltText(e){var t;null===(t=(0,h.A)(F,this))||void 0===t||t.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;(0,d.A)(L,this,t-1)}focusMainContainer(){(0,h.A)(de,this).focus()}findParent(e,t){for(const n of(0,h.A)(M,this).values()){const{x:r,y:i,width:o,height:s}=n.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=i&&t<=i+s)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,h.A)(fe,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){(0,h.A)(q,this).add(e)}removeShouldRescale(e){(0,h.A)(q,this).delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const n of(0,h.A)(q,this))n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}addToAnnotationStorage(e){e.isEmpty()||!(0,h.A)(O,this)||(0,h.A)(O,this).has(e.id)||(0,h.A)(O,this).setValue(e.id,e)}blur(){if(!this.hasSelection)return;const{activeElement:e}=document;for(const t of(0,h.A)(J,this))if(t.div.contains(e)){(0,d.A)(X,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!(0,h.A)(X,this))return;const[e,t]=(0,h.A)(X,this);(0,d.A)(X,this,null),t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),t.focus()}addEditListeners(){(0,l.A)(pe,this,ye).call(this),(0,l.A)(pe,this,we).call(this)}removeEditListeners(){(0,l.A)(pe,this,be).call(this),(0,l.A)(pe,this,Ae).call(this)}copy(e){var t;if(e.preventDefault(),null===(t=(0,h.A)(P,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of(0,h.A)(J,this)){const e=r.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const e of(0,h.A)(B,this))if(e.isHandlingMimeForPasting(i.type))return void e.paste(i,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){return void(0,i.warn)('paste: "'.concat(o.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const o of n){const t=r.deserialize(o);if(!t)return;e.push(t)}const t=()=>{for(const t of e)(0,l.A)(pe,this,Te).call(this,t);(0,l.A)(pe,this,Ie).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(o){(0,i.warn)('paste: "'.concat(o.message,'".'))}}keydown(e){this.isEditorHandlingKeyboard||ge._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}setEditingState(e){e?((0,l.A)(pe,this,me).call(this),(0,l.A)(pe,this,ye).call(this),(0,l.A)(pe,this,we).call(this),(0,l.A)(pe,this,Ce).call(this,{isEditing:(0,h.A)(Q,this)!==i.AnnotationEditorType.NONE,isEmpty:(0,l.A)(pe,this,Ee).call(this),hasSomethingToUndo:(0,h.A)(D,this).hasSomethingToUndo(),hasSomethingToRedo:(0,h.A)(D,this).hasSomethingToRedo(),hasSelectedEditor:!1})):((0,l.A)(pe,this,ve).call(this),(0,l.A)(pe,this,be).call(this),(0,l.A)(pe,this,Ae).call(this),(0,l.A)(pe,this,Ce).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!(0,h.A)(B,this)){(0,d.A)(B,this,e);for(const e of(0,h.A)(B,this))(0,l.A)(pe,this,ke).call(this,e.defaultPropertiesToUpdate)}}getId(){return(0,h.A)(W,this).getId()}get currentLayer(){return(0,h.A)(M,this).get((0,h.A)(L,this))}getLayer(e){return(0,h.A)(M,this).get(e)}get currentPageIndex(){return(0,h.A)(L,this)}addLayer(e){(0,h.A)(M,this).set(e.pageIndex,e),(0,h.A)(K,this)?e.enable():e.disable()}removeLayer(e){(0,h.A)(M,this).delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,h.A)(Q,this)!==e){if((0,d.A)(Q,this,e),e===i.AnnotationEditorType.NONE)return this.setEditingState(!1),void(0,l.A)(pe,this,xe).call(this);this.setEditingState(!0),(0,l.A)(pe,this,Se).call(this),this.unselectAll();for(const t of(0,h.A)(M,this).values())t.updateMode(e);if(t||!n){if(t)for(const e of(0,h.A)(N,this).values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==(0,h.A)(Q,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if((0,h.A)(B,this)){switch(e){case i.AnnotationEditorParamsType.CREATE:return void this.currentLayer.addNewEditor();case i.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:null===(n=(0,h.A)(Y,this))||void 0===n||n.updateColor(t)}for(const n of(0,h.A)(J,this))n.updateParams(e,t);for(const n of(0,h.A)(B,this))n.updateDefaultParams(e,t)}}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,h.A)(G,this)!==e){(0,d.A)(G,this,e);for(const t of(0,h.A)(M,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of(0,h.A)(N,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return(0,h.A)(N,this).get(e)}addEditor(e){(0,h.A)(N,this).set(e.id,e)}removeEditor(e){var t;(e.div.contains(document.activeElement)&&((0,h.A)(V,this)&&clearTimeout((0,h.A)(V,this)),(0,d.A)(V,this,setTimeout((()=>{this.focusMainContainer(),(0,d.A)(V,this,null)}),0))),(0,h.A)(N,this).delete(e.id),this.unselect(e),e.annotationElementId&&(0,h.A)(j,this).has(e.annotationElementId))||(null===(t=(0,h.A)(O,this))||void 0===t||t.remove(e.id))}addDeletedAnnotationElement(e){(0,h.A)(j,this).add(e.annotationElementId),e.deleted=!0}isDeletedAnnotationElement(e){return(0,h.A)(j,this).has(e)}removeDeletedAnnotationElement(e){(0,h.A)(j,this).delete(e.annotationElementId),e.deleted=!1}setActiveEditor(e){(0,h.A)(P,this)!==e&&((0,d.A)(P,this,e),e&&(0,l.A)(pe,this,ke).call(this,e.propertiesToUpdate))}toggleSelected(e){if((0,h.A)(J,this).has(e))return(0,h.A)(J,this).delete(e),e.unselect(),void(0,l.A)(pe,this,Ce).call(this,{hasSelectedEditor:this.hasSelection});(0,h.A)(J,this).add(e),e.select(),(0,l.A)(pe,this,ke).call(this,e.propertiesToUpdate),(0,l.A)(pe,this,Ce).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of(0,h.A)(J,this))t!==e&&t.unselect();(0,h.A)(J,this).clear(),(0,h.A)(J,this).add(e),e.select(),(0,l.A)(pe,this,ke).call(this,e.propertiesToUpdate),(0,l.A)(pe,this,Ce).call(this,{hasSelectedEditor:!0})}isSelected(e){return(0,h.A)(J,this).has(e)}get firstSelectedEditor(){return(0,h.A)(J,this).values().next().value}unselect(e){e.unselect(),(0,h.A)(J,this).delete(e),(0,l.A)(pe,this,Ce).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==(0,h.A)(J,this).size}get isEnterHandled(){return 1===(0,h.A)(J,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){(0,h.A)(D,this).undo(),(0,l.A)(pe,this,Ce).call(this,{hasSomethingToUndo:(0,h.A)(D,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:(0,l.A)(pe,this,Ee).call(this)})}redo(){(0,h.A)(D,this).redo(),(0,l.A)(pe,this,Ce).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:(0,h.A)(D,this).hasSomethingToRedo(),isEmpty:(0,l.A)(pe,this,Ee).call(this)})}addCommands(e){(0,h.A)(D,this).add(e),(0,l.A)(pe,this,Ce).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:(0,l.A)(pe,this,Ee).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...(0,h.A)(J,this)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)(0,l.A)(pe,this,Te).call(this,t)},mustExec:!0})}commitOrRemove(){var e;null===(e=(0,h.A)(P,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return(0,h.A)(P,this)||this.hasSelection}selectAll(){for(const e of(0,h.A)(J,this))e.commit();(0,l.A)(pe,this,Ie).call(this,(0,h.A)(N,this).values())}unselectAll(){if((!(0,h.A)(P,this)||((0,h.A)(P,this).commitOrRemove(),(0,h.A)(Q,this)===i.AnnotationEditorType.NONE))&&this.hasSelection){for(const e of(0,h.A)(J,this))e.unselect();(0,h.A)(J,this).clear(),(0,l.A)(pe,this,Ce).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;(0,h.A)(ue,this)[0]+=e,(0,h.A)(ue,this)[1]+=t;const[n,r]=(0,h.A)(ue,this),i=[...(0,h.A)(J,this)];(0,h.A)(he,this)&&clearTimeout((0,h.A)(he,this)),(0,d.A)(he,this,setTimeout((()=>{(0,d.A)(he,this,null),(0,h.A)(ue,this)[0]=(0,h.A)(ue,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)(0,h.A)(N,this).has(e.id)&&e.translateInPage(n,r)},undo:()=>{for(const e of i)(0,h.A)(N,this).has(e.id)&&e.translateInPage(-n,-r)},mustExec:!1})}),1e3));for(const o of i)o.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),(0,d.A)(U,this,new Map);for(const e of(0,h.A)(J,this))(0,h.A)(U,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!(0,h.A)(U,this))return!1;this.disableUserSelect(!1);const e=(0,h.A)(U,this);(0,d.A)(U,this,null);let t=!1;for(const[{x:r,y:i,pageIndex:o},s]of e)s.newX=r,s.newY=i,s.newPageIndex=o,t||(t=r!==s.savedX||i!==s.savedY||o!==s.savedPageIndex);if(!t)return!1;const n=(e,t,n,r)=>{if((0,h.A)(N,this).has(e.id)){const i=(0,h.A)(M,this).get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:o}]of e)n(t,r,i,o)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:o}]of e)n(t,r,i,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if((0,h.A)(U,this))for(const n of(0,h.A)(U,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===(0,h.A)(J,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return(0,h.A)(P,this)===e}getActive(){return(0,h.A)(P,this)}getMode(){return(0,h.A)(Q,this)}get imageManager(){return(0,i.shadow)(this,"imageManager",new w)}}function me(){window.addEventListener("focus",(0,h.A)(ee,this)),window.addEventListener("blur",(0,h.A)($,this))}function ve(){window.removeEventListener("focus",(0,h.A)(ee,this)),window.removeEventListener("blur",(0,h.A)($,this))}function ye(){window.addEventListener("keydown",(0,h.A)(ie,this))}function be(){window.removeEventListener("keydown",(0,h.A)(ie,this))}function we(){document.addEventListener("copy",(0,h.A)(te,this)),document.addEventListener("cut",(0,h.A)(ne,this)),document.addEventListener("paste",(0,h.A)(re,this))}function Ae(){document.removeEventListener("copy",(0,h.A)(te,this)),document.removeEventListener("cut",(0,h.A)(ne,this)),document.removeEventListener("paste",(0,h.A)(re,this))}function Ce(e){Object.entries(e).some((e=>{let[t,n]=e;return(0,h.A)(le,this)[t]!==n}))&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign((0,h.A)(le,this),e)})}function ke(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}function Se(){if(!(0,h.A)(K,this)){(0,d.A)(K,this,!0);for(const e of(0,h.A)(M,this).values())e.enable()}}function xe(){if(this.unselectAll(),(0,h.A)(K,this)){(0,d.A)(K,this,!1);for(const e of(0,h.A)(M,this).values())e.disable()}}function Te(e){const t=(0,h.A)(M,this).get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}function Ee(){if(0===(0,h.A)(N,this).size)return!0;if(1===(0,h.A)(N,this).size)for(const e of(0,h.A)(N,this).values())return e.isEmpty();return!1}function Ie(e){(0,h.A)(J,this).clear();for(const t of e)t.isEmpty()||((0,h.A)(J,this).add(t),t.select());(0,l.A)(pe,this,Ce).call(this,{hasSelectedEditor:!0})}(0,s.A)(ge,"TRANSLATE_SMALL",1),(0,s.A)(ge,"TRANSLATE_BIG",10)},171:(e,t,n)=>{n.d(t,{PDFFetchStream:()=>c});var r=n(266),i=n(253);function o(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function s(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function a(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,r.warn)("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class c{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new u(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class l{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new r.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=s(this._stream.httpHeaders);const n=t.url;fetch(n,o(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:a(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class u{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(t,"-").concat(n-1));const c=a.url;fetch(c,o(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,c);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:a(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}},742:(e,t,n)=>{n.d(t,{FontFaceObject:()=>s,FontLoader:()=>o});var r=n(266),i=new WeakMap;class o{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;(0,u.A)(this,i,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),(0,h.A)(i,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!(0,h.A)(i,this).has(t.loadedName))if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:s,style:a}=t,c=new FontFace(e,s,a);this.addNativeFontFace(c);try{await c.load(),(0,h.A)(i,this).add(e),null===n||void 0===n||n(t)}catch(o){(0,r.warn)("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(c)}}else(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw(0,r.warn)("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){var e;const t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){var e;let t=!1;return(r.isNodeJS||"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let o,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let l=0;const u="lt".concat(Date.now()).concat(this.loadTestFontId++);let h=this._loadTestFont;h=i(h,976,u.length,u);const d=1482184792;let f=n(h,16);for(o=0,s=u.length-3;o<s;o+=4)f=f-d+n(u,o)|0;o<u.length&&(f=f-d+n(u+"XXX",o)|0),h=i(h,16,4,(0,r.string32)(f));const p="url(data:font/opentype;base64,".concat(btoa(h),");"),g='@font-face {font-family:"'.concat(u,'";src:').concat(p,"}");this.insertRule(g);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const r of[e.loadedName,u]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=r,m.append(e)}this._document.body.append(m),function e(t,n){if(++l>30)return(0,r.warn)("Load test font never loaded."),void n();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(u,(()=>{m.remove(),t.complete()}))}}class s{constructor(e,t){let{isEvalSupported:n=!0,disableFontFace:r=!1,ignoreErrors:i=!1,inspectFont:o=null}=t;this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.isEvalSupported=!1!==n,this.disableFontFace=!0===r,this.ignoreErrors=!0===i,this._inspectFont=o}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=(0,r.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");let i;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),i='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(n,"}")}else i='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,n),i}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){if(!this.ignoreErrors)throw i;return(0,r.warn)('getPathGenerator - ignoring character: "'.concat(i,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},472:(e,t,n)=>{n.d(t,{Metadata:()=>s});var r=n(266),i=new WeakMap,o=new WeakMap;class s{constructor(e){let{parsedData:t,rawData:n}=e;(0,u.A)(this,i,void 0),(0,u.A)(this,o,void 0),(0,d.A)(i,this,t),(0,d.A)(o,this,n)}getRaw(){return(0,h.A)(o,this)}get(e){var t;return null!==(t=(0,h.A)(i,this).get(e))&&void 0!==t?t:null}getAll(){return(0,r.objectFromMap)((0,h.A)(i,this))}has(e){return(0,h.A)(i,this).has(e)}}},474:(e,t,n)=>{n.d(t,{PDFNetworkStream:()=>s});var r=n(266),i=n(253);class o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const e=this.httpHeaders[i];void 0!==e&&t.setRequestHeader(i,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;var o;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void(null===(o=n.onError)||void 0===o||o.call(n,i.status));const s=i.status||200;var a;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void(null===(a=n.onError)||void 0===a||a.call(n,i.status));const c=function(e){const t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===s){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:c})}else if(c)n.onDone({begin:0,chunk:c});else{var l;null===(l=n.onError)||void 0===l||l.call(n,i.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class s{constructor(e){this._source=e,this._manager=new o(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new c(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class a{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:o}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},253:(e,t,n)=>{n.d(t,{createResponseStatusError:()=>a,extractFilenameFromHeader:()=>s,validateRangeRequestCapabilities:()=>o,validateResponseStatus:()=>c});var r=n(266);var i=n(473);function o(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);if(!Number.isInteger(s))return o;if(o.suggestedLength=s,s<=2*r)return o;if(i||!n)return o;if("bytes"!==t("Accept-Ranges"))return o;return"identity"!==(t("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o}function s(e){const t=e("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=c(e),e=l(e),s(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const o=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=a(n),e&&(n=unescape(n),0===i&&(n=c(n))),o.push(n)}return o.join("")}(e),n)return s(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),o=(0,r.stringToBytes)(n);n=i.decode(o),t=!1}catch(i){}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),t&&(e=o("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function c(e){const t=e.indexOf("'");return-1===t?e:o(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return o(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return o(t,r)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if((0,i.isPdfFile)(e))return e}return null}function a(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function c(e){return 200===e||206===e}},498:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{PDFNodeStream:()=>f});var i=n(266),o=n(253);let a,c,l,u;i.isNodeJS&&(a=await import("fs"),c=await import("http"),l=await import("https"),u=await import("url"));const h=/^file:\/\/\/[a-zA-Z]:\//;function d(e){const t=u.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?u.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}class f{constructor(e){this.source=e,this.url=d(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new v(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new w(this,e,t):new y(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class p{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=new i.PromiseCapability,this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class g{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=new i.PromiseCapability,this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class v extends p{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new i.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:r,suggestedLength:s}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=s||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=c.request(m(this._url,e.httpHeaders),t):this._request=l.request(m(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class y extends g{constructor(e,t,n){super(e),this._httpHeaders={};for(const i in e.httpHeaders){const t=e.httpHeaders[i];void 0!==t&&(this._httpHeaders[i]=t)}this._httpHeaders.Range="bytes=".concat(t,"-").concat(n-1);const r=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new i.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=c.request(m(this._url,this._httpHeaders),r):this._request=l.request(m(this._url,this._httpHeaders),r),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class b extends p{constructor(e){super(e);let t=decodeURIComponent(this._url.path);h.test(this._url.href)&&(t=t.replace(/^\//,"")),a.lstat(t,((e,n)=>{if(e)return"ENOENT"===e.code&&(e=new i.MissingPDFException('Missing PDF "'.concat(t,'".'))),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(a.createReadStream(t)),this._headersCapability.resolve()}))}}class w extends g{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);h.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(a.createReadStream(r,{start:t,end:n-1}))}}r()}catch(s){r(s)}}),1)},738:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{NodeCMapReaderFactory:()=>d,NodeCanvasFactory:()=>h,NodeFilterFactory:()=>u,NodeStandardFontDataFactory:()=>f});var i=n(822);let e,a,c;if(n(266).isNodeJS){e=await import("fs");try{a=await import("canvas")}catch(o){}try{c=await import("path2d-polyfill")}catch(s){}}const l=function(t){return new Promise(((n,r)=>{e.readFile(t,((e,t)=>{!e&&t?n(new Uint8Array(t)):r(new Error(e))}))}))};class u extends i.BaseFilterFactory{}class h extends i.BaseCanvasFactory{_createCanvas(e,t){return a.createCanvas(e,t)}}class d extends i.BaseCMapReaderFactory{_fetchData(e,t){return l(e).then((e=>({cMapData:e,compressionType:t})))}}class f extends i.BaseStandardFontDataFactory{_fetchData(e){return l(e)}}r()}catch(a){r(a)}}),1)},890:(e,t,n)=>{n.d(t,{OptionalContentConfig:()=>y});var r=n(266),i=n(825);const o=Symbol("INTERNAL");var s=new WeakMap;class a{constructor(e,t){(0,u.A)(this,s,!0),this.name=e,this.intent=t}get visible(){return(0,h.A)(s,this)}_setVisible(e,t){e!==o&&(0,r.unreachable)("Internal method `_setVisible` called."),(0,d.A)(s,this,t)}}var f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakSet;class y{constructor(e){if((0,c.A)(this,v),(0,u.A)(this,f,null),(0,u.A)(this,p,new Map),(0,u.A)(this,g,null),(0,u.A)(this,m,null),this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,(0,d.A)(m,this,e.order);for(const t of e.groups)(0,h.A)(p,this).set(t.id,new a(t.name,t.intent));if("OFF"===e.baseState)for(const e of(0,h.A)(p,this).values())e._setVisible(o,!1);for(const t of e.on)(0,h.A)(p,this).get(t)._setVisible(o,!0);for(const t of e.off)(0,h.A)(p,this).get(t)._setVisible(o,!1);(0,d.A)(g,this,this.getHash())}}isVisible(e){if(0===(0,h.A)(p,this).size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return(0,h.A)(p,this).has(e.id)?(0,h.A)(p,this).get(e.id).visible:((0,r.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return(0,l.A)(v,this,b).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!(0,h.A)(p,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if((0,h.A)(p,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!(0,h.A)(p,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if(!(0,h.A)(p,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!(0,h.A)(p,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if(!(0,h.A)(p,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!(0,h.A)(p,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;if((0,h.A)(p,this).get(t).visible)return!1}return!0}return(0,r.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,h.A)(p,this).has(e)?((0,h.A)(p,this).get(e)._setVisible(o,!!t),(0,d.A)(f,this,null)):(0,r.warn)("Optional content group not found: ".concat(e))}get hasInitialVisibility(){return null===(0,h.A)(g,this)||this.getHash()===(0,h.A)(g,this)}getOrder(){return(0,h.A)(p,this).size?(0,h.A)(m,this)?(0,h.A)(m,this).slice():[...(0,h.A)(p,this).keys()]:null}getGroups(){return(0,h.A)(p,this).size>0?(0,r.objectFromMap)((0,h.A)(p,this)):null}getGroup(e){return(0,h.A)(p,this).get(e)||null}getHash(){if(null!==(0,h.A)(f,this))return(0,h.A)(f,this);const e=new i.MurmurHash3_64;for(const[t,n]of(0,h.A)(p,this))e.update("".concat(t,":").concat(n.visible));return(0,d.A)(f,this,e.hexdigest())}}function b(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let o;if(Array.isArray(t))o=(0,l.A)(v,this,b).call(this,t);else{if(!(0,h.A)(p,this).has(t))return(0,r.warn)("Optional content group not found: ".concat(t)),!0;o=(0,h.A)(p,this).get(t).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}},739:(e,t,n)=>{n.d(t,{renderTextLayer:()=>h,updateTextLayer:()=>d});var r=n(266),i=n(473);const o=30,s=new Map;function a(e,t){let n;if(t&&r.FeatureTest.isOffscreenCanvasSupported)n=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,n=t.getContext("2d",{alpha:!1})}return n}function c(e,t,n){const i=document.createElement("span"),c={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(i);const l=r.Util.transform(e._transform,t.transform);let u=Math.atan2(l[1],l[0]);const h=n[t.fontName];h.vertical&&(u+=Math.PI/2);const d=e._fontInspectorEnabled&&h.fontSubstitution||h.fontFamily,f=Math.hypot(l[2],l[3]),p=f*function(e,t){const n=s.get(e);if(n)return n;const r=a(o,t);r.font="".concat(o,"px ").concat(e);const i=r.measureText("");let c=i.fontBoundingBoxAscent,l=Math.abs(i.fontBoundingBoxDescent);if(c){const t=c/(c+l);return s.set(e,t),r.canvas.width=r.canvas.height=0,t}r.strokeStyle="red",r.clearRect(0,0,o,o),r.strokeText("g",0,0);let u=r.getImageData(0,0,o,o).data;l=0;for(let s=u.length-1-3;s>=0;s-=4)if(u[s]>0){l=Math.ceil(s/4/o);break}r.clearRect(0,0,o,o),r.strokeText("A",0,o),u=r.getImageData(0,0,o,o).data,c=0;for(let s=0,a=u.length;s<a;s+=4)if(u[s]>0){c=o-Math.floor(s/4/o);break}if(r.canvas.width=r.canvas.height=0,c){const t=c/(c+l);return s.set(e,t),t}return s.set(e,.8),.8}(d,e._isOffscreenCanvasSupported);let g,m;0===u?(g=l[4],m=l[5]-p):(g=l[4]+p*Math.sin(u),m=l[5]-p*Math.cos(u));const v="calc(var(--scale-factor)*",y=i.style;e._container===e._rootContainer?(y.left="".concat((100*g/e._pageWidth).toFixed(2),"%"),y.top="".concat((100*m/e._pageHeight).toFixed(2),"%")):(y.left="".concat(v).concat(g.toFixed(2),"px)"),y.top="".concat(v).concat(m.toFixed(2),"px)")),y.fontSize="".concat(v).concat(f.toFixed(2),"px)"),y.fontFamily=d,c.fontSize=f,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=h.fontSubstitutionLoadedName||t.fontName),0!==u&&(c.angle=u*(180/Math.PI));let b=!1;if(t.str.length>1)b=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(b=!0)}b&&(c.canvasWidth=h.vertical?t.height:t.width),e._textDivProperties.set(i,c),e._isReadableStream&&e._layoutText(i)}function l(e){const{div:t,scale:n,properties:r,ctx:i,prevFontSize:o,prevFontFamily:s}=e,{style:a}=t;let c="";if(0!==r.canvasWidth&&r.hasText){const{fontFamily:l}=a,{canvasWidth:u,fontSize:h}=r;o===h&&s===l||(i.font="".concat(h*n,"px ").concat(l),e.prevFontSize=h,e.prevFontFamily=l);const{width:d}=i.measureText(t.textContent);d>0&&(c="scaleX(".concat(u*n/d,")"))}0!==r.angle&&(c="rotate(".concat(r.angle,"deg) ").concat(c)),c.length>0&&(a.transform=c)}class u{constructor(e){var t;let{textContentSource:n,container:o,viewport:s,textDivs:c,textDivProperties:l,textContentItemsStr:u,isOffscreenCanvasSupported:h}=e;this._textContentSource=n,this._isReadableStream=n instanceof ReadableStream,this._container=this._rootContainer=o,this._textDivs=c||[],this._textContentItemsStr=u||[],this._isOffscreenCanvasSupported=h,this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._textDivProperties=l||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:s.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:a(0,h)};const{pageWidth:d,pageHeight:f,pageX:p,pageY:g}=s.rawDims;this._transform=[1,0,0,-1,-p,g+f],this._pageWidth=d,this._pageHeight=f,(0,i.setLayerDimensions)(o,s),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const n of e)if(void 0!==n.str)this._textContentItemsStr.push(n.str),c(this,n,t);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id","".concat(n.id)),e.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,l(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=new r.PromiseCapability;let t=Object.create(null);if(this._isReadableStream){const n=()=>{this._reader.read().then((r=>{let{value:i,done:o}=r;o?e.resolve():(Object.assign(t,i.styles),this._processItems(i.items,t),n())}),e.reject)};this._reader=this._textContentSource.getReader(),n()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:n}=this._textContentSource;this._processItems(t,n),e.resolve()}}e.promise.then((()=>{t=null,function(e){if(e._canceled)return;const t=e._textDivs,n=e._capability;if(t.length>1e5)n.resolve();else{if(!e._isReadableStream)for(const n of t)e._layoutText(n);n.resolve()}}(this)}),this._capability.reject)}}function h(e){const t=new u(e);return t._render(),t}function d(e){let{container:t,viewport:n,textDivs:r,textDivProperties:o,isOffscreenCanvasSupported:s,mustRotate:c=!0,mustRescale:u=!0}=e;if(c&&(0,i.setLayerDimensions)(t,{rotation:n.rotation}),u){const e=a(0,s),t={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const n of r)t.properties=o.get(n),t.div=n,l(t)}}},92:(e,t,n)=>{n.d(t,{PDFDataTransportStream:()=>o});var r=n(266),i=n(473);class o{constructor(e,t){let{length:n,initialData:i,progressiveDone:o=!1,contentDispositionFilename:s=null,disableRange:a=!1,disableStream:c=!1}=e;if((0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=s,(null===i||void 0===i?void 0:i.length)>0){const e=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!c,this._isRangeSupported=!a,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const e=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)}));(0,r.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,r,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new s(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new a(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},368:(e,t,n)=>{n.d(t,{GlobalWorkerOptions:()=>r});const r=Object.create(null);r.workerPort=null,r.workerSrc=""},160:(e,t,n)=>{n.d(t,{XfaLayer:()=>i});var r=n(521);class i{static setupStorage(e,t,n,r,i){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(e.textContent=o.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==o.value&&e.setAttribute("value",o.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==o.value){e.setAttribute("value",o.value);for(const e of n.children)e.attributes.value===o.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:o}=e;const{attributes:s}=n,a=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(i));for(const[c,l]of Object.entries(s))if(null!==l&&void 0!==l)switch(c){case"class":l.length&&t.setAttribute(c,l.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",l);break;case"style":Object.assign(t.style,l);break;case"textContent":t.textContent=l;break;default:(!a||"href"!==c&&"newWindow"!==c)&&t.setAttribute(c,l)}a&&o.addLinkAttributes(t,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(t,s.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:n});const a="richText"!==o,c=e.div;if(c.append(s),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");c.style.transform=t}a&&c.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);s.append(e),a&&r.XfaText.shouldBuildText(i.name)&&l.push(e)}return{textDivs:l}}const u=[[i,-1,s]];for(;u.length>0;){var h,d;const[e,i,s]=u.at(-1);if(i+1===e.children.length){u.pop();continue}const c=e.children[++u.at(-1)[1]];if(null===c)continue;const{name:f}=c;if("#text"===f){const e=document.createTextNode(c.value);l.push(e),s.append(e);continue}const p=null!==c&&void 0!==c&&null!==(h=c.attributes)&&void 0!==h&&h.xmlns?document.createElementNS(c.attributes.xmlns,f):document.createElement(f);if(s.append(p),c.attributes&&this.setAttributes({html:p,element:c,storage:t,intent:o,linkService:n}),(null===(d=c.children)||void 0===d?void 0:d.length)>0)u.push([c,-1,p]);else if(c.value){const e=document.createTextNode(c.value);a&&r.XfaText.shouldBuildText(f)&&l.push(e),p.append(e)}}for(const r of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}},521:(e,t,n)=>{n.d(t,{XfaText:()=>r});class r{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var i;if(!n)return;let o=null;const s=n.name;if("#text"===s)o=n.value;else{if(!r.shouldBuildText(s))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?o=n.attributes.textContent:n.value&&(o=n.value)}if(null!==o&&t.push({str:o}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}},907:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{AbortException:()=>i.AbortException,AnnotationEditorLayer:()=>c.AnnotationEditorLayer,AnnotationEditorParamsType:()=>i.AnnotationEditorParamsType,AnnotationEditorType:()=>i.AnnotationEditorType,AnnotationEditorUIManager:()=>l.AnnotationEditorUIManager,AnnotationLayer:()=>u.AnnotationLayer,AnnotationMode:()=>i.AnnotationMode,CMapCompressionType:()=>i.CMapCompressionType,ColorPicker:()=>h.ColorPicker,DOMSVGFactory:()=>s.DOMSVGFactory,DrawLayer:()=>d.DrawLayer,FeatureTest:()=>i.FeatureTest,GlobalWorkerOptions:()=>f.GlobalWorkerOptions,ImageKind:()=>i.ImageKind,InvalidPDFException:()=>i.InvalidPDFException,MissingPDFException:()=>i.MissingPDFException,OPS:()=>i.OPS,Outliner:()=>p.Outliner,PDFDataRangeTransport:()=>o.PDFDataRangeTransport,PDFDateString:()=>s.PDFDateString,PDFWorker:()=>o.PDFWorker,PasswordResponses:()=>i.PasswordResponses,PermissionFlag:()=>i.PermissionFlag,PixelsPerInch:()=>s.PixelsPerInch,PromiseCapability:()=>i.PromiseCapability,RenderingCancelledException:()=>s.RenderingCancelledException,UnexpectedResponseException:()=>i.UnexpectedResponseException,Util:()=>i.Util,VerbosityLevel:()=>i.VerbosityLevel,XfaLayer:()=>g.XfaLayer,build:()=>o.build,createValidAbsoluteUrl:()=>i.createValidAbsoluteUrl,fetchData:()=>s.fetchData,getDocument:()=>o.getDocument,getFilenameFromUrl:()=>s.getFilenameFromUrl,getPdfFilenameFromUrl:()=>s.getPdfFilenameFromUrl,getXfaPageViewport:()=>s.getXfaPageViewport,isDataScheme:()=>s.isDataScheme,isPdfFile:()=>s.isPdfFile,noContextMenu:()=>s.noContextMenu,normalizeUnicode:()=>i.normalizeUnicode,renderTextLayer:()=>a.renderTextLayer,setLayerDimensions:()=>s.setLayerDimensions,shadow:()=>i.shadow,updateTextLayer:()=>a.updateTextLayer,version:()=>o.version});var i=n(266),o=n(406),s=n(473),a=n(739),c=n(629),l=n(812),u=n(640),h=n(97),d=n(423),f=n(368),p=n(405),g=n(160),m=e([o]);o=(m.then?(await m)():m)[0];r()}catch(v){r(v)}}))},694:(e,t,n)=>{n.d(t,{MessageHandler:()=>y});var r=n(266);const i=1,o=2,s=1,a=2,u=3,h=4,d=5,f=6,p=7,g=8;function m(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}var v=new WeakSet;class y{constructor(e,t,n){(0,c.A)(this,v),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void(0,l.A)(v,this,w).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===i)n.resolve(t.data);else{if(t.callback!==o)throw new Error("Unexpected callback case");n.reject(m(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:s,callback:i,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:s,callback:o,callbackId:t.callbackId,reason:m(r)})}))}else t.streamId?(0,l.A)(v,this,b).call(this,t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,o=new r.PromiseCapability;this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,t,n,i){const o=this.streamId++,a=this.sourceName,c=this.targetName,l=this.comObj;return new ReadableStream({start:n=>{const s=new r.PromiseCapability;return this.streamControllers[o]={controller:n,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:c,action:e,streamId:o,data:t,desiredSize:n.desiredSize},i),s.promise},pull:e=>{const t=new r.PromiseCapability;return this.streamControllers[o].pullCall=t,l.postMessage({sourceName:a,targetName:c,stream:f,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=new r.PromiseCapability;return this.streamControllers[o].cancelCall=t,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:a,targetName:c,stream:s,streamId:o,reason:m(e)}),t.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}function b(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],c={enqueue(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const c=this.desiredSize;this.desiredSize-=s,c>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:u,streamId:t}),delete s.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,reason:m(e)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise((function(t){t(a(e.data,c))})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:g,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:i,stream:g,streamId:t,reason:m(e)})}))}function w(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,o=this.comObj,c=this.streamControllers[t],y=this.streamSinks[t];switch(e.stream){case g:e.success?c.startCall.resolve():c.startCall.reject(m(e.reason));break;case p:e.success?c.pullCall.resolve():c.pullCall.reject(m(e.reason));break;case f:if(!y){o.postMessage({sourceName:n,targetName:i,stream:p,streamId:t,success:!0});break}y.desiredSize<=0&&e.desiredSize>0&&y.sinkCapability.resolve(),y.desiredSize=e.desiredSize,new Promise((function(e){var t;e(null===(t=y.onPull)||void 0===t?void 0:t.call(y))})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:p,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:i,stream:p,streamId:t,reason:m(e)})}));break;case h:if((0,r.assert)(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case u:if((0,r.assert)(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),(0,l.A)(v,this,A).call(this,c,t);break;case d:(0,r.assert)(c,"error should have stream controller"),c.controller.error(m(e.reason)),(0,l.A)(v,this,A).call(this,c,t);break;case a:e.success?c.cancelCall.resolve():c.cancelCall.reject(m(e.reason)),(0,l.A)(v,this,A).call(this,c,t);break;case s:if(!y)break;new Promise((function(t){var n;t(null===(n=y.onCancel)||void 0===n?void 0:n.call(y,m(e.reason)))})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:a,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:i,stream:a,streamId:t,reason:m(e)})})),y.sinkCapability.reject(m(e.reason)),y.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function A(e,t){var n,r,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(r=e.pullCall)||void 0===r?void 0:r.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}},825:(e,t,n)=>{n.d(t,{MurmurHash3_64:()=>a});var r=n(266);const i=3285377520,o=4294901760,s=65535;class a{constructor(e){this.h1=e?4294967295&e:i,this.h2=e?4294967295&e:i}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const i=n>>2,a=n-4*i,c=new Uint32Array(t.buffer,0,i);let l=0,u=0,h=this.h1,d=this.h2;const f=3432918353,p=461845907,g=11601,m=13715;for(let r=0;r<i;r++)1&r?(l=c[r],l=l*f&o|l*g&s,l=l<<15|l>>>17,l=l*p&o|l*m&s,h^=l,h=h<<13|h>>>19,h=5*h+3864292196):(u=c[r],u=u*f&o|u*g&s,u=u<<15|u>>>17,u=u*p&o|u*m&s,d^=u,d=d<<13|d>>>19,d=5*d+3864292196);switch(l=0,a){case 3:l^=t[4*i+2]<<16;case 2:l^=t[4*i+1]<<8;case 1:l^=t[4*i],l=l*f&o|l*g&s,l=l<<15|l>>>17,l=l*p&o|l*m&s,1&i?h^=l:d^=l}this.h1=h,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&o|36045*e&s,t=4283543511*t&o|(2950163797*(t<<16|e>>>16)&o)>>>16,e^=t>>>1,e=444984403*e&o|60499*e&s,t=3301882366*t&o|(3120437893*(t<<16|e>>>16)&o)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},266:(e,t,n)=>{n.d(t,{AbortException:()=>q,AnnotationBorderStyleType:()=>w,AnnotationEditorParamsType:()=>g,AnnotationEditorPrefix:()=>f,AnnotationEditorType:()=>p,AnnotationMode:()=>l,AnnotationPrefix:()=>ne,AnnotationType:()=>b,BaseException:()=>F,CMapCompressionType:()=>C,FONT_IDENTITY_MATRIX:()=>o,FeatureTest:()=>K,FormatError:()=>B,IDENTITY_MATRIX:()=>i,ImageKind:()=>y,InvalidPDFException:()=>L,LINE_FACTOR:()=>a,MAX_IMAGE_SIZE_TO_CACHE:()=>s,MissingPDFException:()=>j,OPS:()=>k,PasswordException:()=>O,PasswordResponses:()=>S,PermissionFlag:()=>m,PromiseCapability:()=>J,RenderingIntentFlag:()=>c,TextRenderingMode:()=>v,UnexpectedResponseException:()=>U,UnknownErrorException:()=>D,Util:()=>X,VerbosityLevel:()=>A,assert:()=>P,bytesToString:()=>z,createValidAbsoluteUrl:()=>N,getUuid:()=>te,getVerbosityLevel:()=>E,info:()=>I,isArrayBuffer:()=>Y,isNodeJS:()=>r,normalizeUnicode:()=>ee,objectFromMap:()=>W,setVerbosityLevel:()=>T,shadow:()=>M,string32:()=>H,stringToBytes:()=>V,unreachable:()=>R,warn:()=>_});const r="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),i=[1,0,0,1,0,0],o=[.001,0,0,.001,0,0],s=1e7,a=1.35,c={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},f="pdfjs_internal_editor_",p={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},g={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32},m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},v={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},A={ERRORS:0,WARNINGS:1,INFOS:5},C={NONE:0,BINARY:1},k={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},S={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let x=A.WARNINGS;function T(e){Number.isInteger(e)&&(x=e)}function E(){return x}function I(e){x>=A.INFOS&&console.log("Info: ".concat(e))}function _(e){x>=A.WARNINGS&&console.log("Warning: ".concat(e))}function R(e){throw new Error(e)}function P(e,t){e||R(t)}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(r){}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(i){}return null}function M(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const F=function(){function e(t,n){this.constructor===e&&R("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class O extends F{constructor(e,t){super(e,"PasswordException"),this.code=t}}class D extends F{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class L extends F{constructor(e){super(e,"InvalidPDFException")}}class j extends F{constructor(e){super(e,"MissingPDFException")}}class U extends F{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class B extends F{constructor(e){super(e,"FormatError")}}class q extends F{constructor(e){super(e,"AbortException")}}function z(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||R("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const o=Math.min(i+n,t),s=e.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function V(e){"string"!==typeof e&&R("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function H(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function W(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t}class K{static get isLittleEndian(){return M(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return M(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return M(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){var e;return"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.platform)?M(this,"platform",{isMac:navigator.platform.includes("Mac")}):M(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return M(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const G=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class X{static makeHexColor(e,t,n){return"#".concat(G[e]).concat(G[t]).concat(G[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],s=(n+o)/2,a=Math.sqrt((n+o)**2-4*(n*o-i*r))/2,c=s+a||1,l=s-a||1;return[Math.sqrt(c),Math.sqrt(l)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[n,i,r,o]}static bezierBoundingBox(e,t,n,r,i,o,s,a){const c=[],l=[[],[]];let u,h,d,f,p,g,m,v;for(let A=0;A<2;++A)if(0===A?(h=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*s,d=3*n-3*e):(h=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*a,d=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(h)<1e-12)continue;f=-d/h,0<f&&f<1&&c.push(f)}else m=h*h-4*d*u,v=Math.sqrt(m),m<0||(p=(-h+v)/(2*u),0<p&&p<1&&c.push(p),g=(-h-v)/(2*u),0<g&&g<1&&c.push(g));let y,b=c.length;const w=b;for(;b--;)f=c[b],y=1-f,l[0][b]=y*y*y*e+3*y*y*f*n+3*y*f*f*i+f*f*f*s,l[1][b]=y*y*y*t+3*y*y*f*r+3*y*f*f*o+f*f*f*a;return l[0][w]=e,l[1][w]=t,l[0][w+1]=s,l[1][w+1]=a,l[0].length=l[1].length=w+2,[Math.min(...l[0]),Math.min(...l[1]),Math.max(...l[0]),Math.max(...l[1])]}}function Y(e){return"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.byteLength)}var Q=new WeakMap;class J{constructor(){(0,u.A)(this,Q,!1),this.promise=new Promise(((e,t)=>{this.resolve=t=>{(0,d.A)(Q,this,!0),e(t)},this.reject=e=>{(0,d.A)(Q,this,!0),t(e)}}))}get settled(){return(0,h.A)(Q,this)}}let Z=null,$=null;function ee(e){return Z||(Z=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,$=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Z,((e,t,n)=>t?t.normalize("NFKC"):$.get(n)))}function te(){var e,t;if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.getRandomValues))crypto.getRandomValues(n);else for(let r=0;r<32;r++)n[r]=Math.floor(255*Math.random());return z(n)}const ne="pdfjs_internal_id_"}},p={};function A(e){var t=p[e];if(void 0!==t)return t.exports;var n=p[e]={exports:{}};return f[e](n,n.exports,A),n.exports}(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};A.a=(i,o,s)=>{var a;s&&((a=[]).d=-1);var c,l,u,h=new Set,d=i.exports,f=new Promise(((e,t)=>{u=t,l=e}));f[t]=d,f[e]=e=>(a&&e(a),h.forEach(e),f.catch((e=>{}))),i.exports=f,o((i=>{var o;c=(i=>i.map((i=>{if(null!==i&&"object"===typeof i){if(i[e])return i;if(i.then){var o=[];o.d=0,i.then((e=>{s[t]=e,r(o)}),(e=>{s[n]=e,r(o)}));var s={};return s[e]=e=>e(o),s}}var a={};return a[e]=e=>{},a[t]=i,a})))(i);var s=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(o=()=>t(s)).r=0;var n=e=>e!==a&&!h.has(e)&&(h.add(e),e&&!e.d&&(o.r++,e.push(o)));c.map((t=>t[e](n)))}));return o.r?l:s()}),(e=>(e?u(f[n]=e):l(d),r(a)))),a&&a.d<0&&(a.d=0)}})(),A.d=(e,t)=>{for(var n in t)A.o(t,n)&&!A.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},A.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var g=A(907),m=((g=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=g)).AbortException,g.AnnotationEditorLayer,g.AnnotationEditorParamsType,g.AnnotationEditorType,g.AnnotationEditorUIManager,g.AnnotationLayer,g.AnnotationMode,g.CMapCompressionType,g.ColorPicker,g.DOMSVGFactory,g.DrawLayer,g.FeatureTest,g.GlobalWorkerOptions),v=(g.ImageKind,g.InvalidPDFException,g.MissingPDFException,g.OPS,g.Outliner,g.PDFDataRangeTransport,g.PDFDateString,g.PDFWorker,g.PasswordResponses,g.PermissionFlag,g.PixelsPerInch,g.PromiseCapability,g.RenderingCancelledException,g.UnexpectedResponseException,g.Util,g.VerbosityLevel,g.XfaLayer,g.build),y=(g.createValidAbsoluteUrl,g.fetchData,g.getDocument),b=(g.getFilenameFromUrl,g.getPdfFilenameFromUrl,g.getXfaPageViewport,g.isDataScheme,g.isPdfFile,g.noContextMenu,g.normalizeUnicode,g.renderTextLayer,g.setLayerDimensions,g.shadow,g.updateTextLayer,g.version);r()}catch(w){r(w)}}),1)},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4705);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9555:()=>{},9786:(e,t,n)=>{"use strict";n.d(t,{eJ:()=>st,xI:()=>Sn,J1:()=>ot,x9:()=>at});var r=n(7150),i=n(7700),o=n(443);function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(8812);function c(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l=c,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new o.Vy("@firebase/auth");function d(e){if(h.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];h.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw v(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e,...n)}function g(e,t,n){const r=Object.assign(Object.assign({},l()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function m(e){return g(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function y(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw v(t,...r)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function w(e,t){e||b(t)}function A(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class S{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class T{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const E={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},I=new S(3e4,6e4);function _(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function R(e,t,n,r){return P(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=(0,i.Am)(Object.assign({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:c},o);return(0,i.c1)()||(l.referrerPolicy="no-referrer"),T.fetch()(M(e,e.config.apiHost,n,a),l)}))}async function P(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},E),t);try{const t=new O(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw D(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw D(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw D(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw D(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw g(e,a,s);f(e,a)}}catch(o){if(o instanceof i.g)throw o;f(e,"network-request-failed",{message:String(o)})}}async function N(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await R(e,t,n,r,i);return"mfaPendingCredential"in o&&f(e,"multi-factor-auth-required",{_serverResponse:o}),o}function M(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?x(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function F(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(p(this.auth,"network-request-failed"))),I.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function D(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function L(e){return void 0!==e&&void 0!==e.enterprise}class j{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function U(e,t){return R(e,"GET","/v2/recaptchaConfig",_(e,t))}async function B(e,t){return R(e,"POST","/v1/accounts:lookup",t)}function q(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function z(e){return 1e3*Number(e)}function V(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(o){return d("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function H(e){const t=V(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class G{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=q(this.lastLoginAt),this.creationTime=q(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function X(e){var t;const n=e.auth,r=await e.getIdToken(),i=await W(e,B(n,{idToken:r}));y(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Y(o.providerUserInfo):[],a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new G(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Y(e){return e.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):H(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=H(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await P(e,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=M(e,r,"/v1/token","key=".concat(o)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Q;return n&&(y("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(y("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(y("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return b("not implemented")}}function J(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Z{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),o=V(r);y(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:q(z(o.auth_time)),issuedAtTime:q(z(o.iat)),expirationTime:q(z(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await X(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Z(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await X(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(m(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return R(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:w,isAnonymous:A,providerData:C,stsTokenManager:k}=t;y(b&&k,e,"internal-error");const S=Q.fromJSON(this.name,k);y("string"===typeof b,e,"internal-error"),J(u,e.name),J(h,e.name),y("boolean"===typeof w,e,"internal-error"),y("boolean"===typeof A,e,"internal-error"),J(d,e.name),J(f,e.name),J(p,e.name),J(g,e.name),J(m,e.name),J(v,e.name);const x=new Z({uid:b,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:A,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:v});return C&&Array.isArray(C)&&(x.providerData=C.map((e=>Object.assign({},e)))),g&&(x._redirectEventId=g),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Q;r.updateFromServerResponse(t);const i=new Z({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await X(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];y(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Y(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Q;s.updateFromIdToken(n);const a=new Z({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new G(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const $=new Map;function ee(e){w(e instanceof Function,"Expected a class definition");let t=$.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$.set(e,t),t)}class te{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}te.type="NONE";const ne=te;function re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=re(this.userKey,r.apiKey,i),this.fullPersistenceKey=re("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Z._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(ee(ne),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ee(ne);const o=re(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Z._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new ie(i,e,n)):new ie(i,e,n)}}function oe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(le(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(se(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(de(t))return"Webos";if(ae(t))return"Safari";if((t.includes("chrome/")||ce(t))&&!t.includes("edge/"))return"Chrome";if(ue(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function ae(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return fe(e)||ue(e)||de(e)||he(e)||/windows phone/i.test(e)||le(e)}function ge(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oe((0,i.ZQ)());break;case"Worker":t="".concat(oe((0,i.ZQ)()),"-").concat(e);break;default:t=e}const o=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(o)}class me{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ve{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ye{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new we(this),this.idTokenSubscription=new we(this),this.beforeStateQueue=new me(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ee(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await B(this,{idToken:e}),n=await Z._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==r||!(null===s||void 0===s?void 0:s.user)||(i=s.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await X(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(m(this));const t=e?(0,i.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(m(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(m(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ee(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return R(e,"GET","/v2/passwordPolicy",_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ve(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return R(e,"POST","/v2/accounts:revokeToken",_(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ee(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[ee(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ge(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(h.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];h.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function be(e){return(0,i.Ku)(e)}class we{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)((e=>this.observer=e))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ae={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ce(e){return Ae.loadJS(e)}function ke(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Se{constructor(e){this.type="recaptcha-enterprise",this.auth=be(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;L(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{U(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new j(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&L(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ae.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ce(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function xe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Se(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Te(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xe(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await xe(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ee(e,t,n){const r=be(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ie(t),{host:s,port:a}=function(e){const t=Ie(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:_e(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:_e(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ie(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _e(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Re{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Pe(e,t){return R(e,"POST","/v1/accounts:signUp",t)}async function Ne(e,t){return N(e,"POST","/v1/accounts:signInWithPassword",_(e,t))}async function Me(e,t){return R(e,"POST","/v1/accounts:sendOobCode",_(e,t))}async function Fe(e,t){return Me(e,t)}class Oe extends Re{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Oe(e,t,"password")}static _fromEmailAndCode(e,t){return new Oe(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Te(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ne);case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",_(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Te(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pe);case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",_(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function De(e,t){return N(e,"POST","/v1/accounts:signInWithIdp",_(e,t))}class Le extends Re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Le(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Le(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return De(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,De(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,De(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}const je={USER_NOT_FOUND:"user-not-found"};class Ue extends Re{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ue({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ue({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",_(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await N(e,"POST","/v1/accounts:signInWithPhoneNumber",_(e,t));if(n.temporaryProof)throw D(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),je)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ue({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Be{constructor(e){var t,n,r,o,s,a;const c=(0,i.I9)((0,i.hp)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);y(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Be(t)}catch(n){return null}}}class qe{constructor(){this.providerId=qe.PROVIDER_ID}static credential(e,t){return Oe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Be.parseLink(t);return y(n,"argument-error"),Oe._fromEmailAndCode(e,n.code,n.tenantId)}}qe.PROVIDER_ID="password",qe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ze{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ve extends ze{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class He extends Ve{constructor(){super("facebook.com")}static credential(e){return Le._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return He.credential(t.oauthAccessToken)}catch(n){return null}}}He.FACEBOOK_SIGN_IN_METHOD="facebook.com",He.PROVIDER_ID="facebook.com";class We extends Ve{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Le._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return We.credential(n,r)}catch(i){return null}}}We.GOOGLE_SIGN_IN_METHOD="google.com",We.PROVIDER_ID="google.com";class Ke extends Ve{constructor(){super("github.com")}static credential(e){return Le._fromParams({providerId:Ke.PROVIDER_ID,signInMethod:Ke.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ke.credentialFromTaggedObject(e)}static credentialFromError(e){return Ke.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ke.credential(t.oauthAccessToken)}catch(n){return null}}}Ke.GITHUB_SIGN_IN_METHOD="github.com",Ke.PROVIDER_ID="github.com";class Ge extends Ve{constructor(){super("twitter.com")}static credential(e,t){return Le._fromParams({providerId:Ge.PROVIDER_ID,signInMethod:Ge.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ge.credentialFromTaggedObject(e)}static credentialFromError(e){return Ge.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ge.credential(n,r)}catch(i){return null}}}async function Xe(e,t){return N(e,"POST","/v1/accounts:signUp",_(e,t))}Ge.TWITTER_SIGN_IN_METHOD="twitter.com",Ge.PROVIDER_ID="twitter.com";class Ye{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Z._fromIdTokenResponse(e,n,r),o=Qe(n);return new Ye({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qe(n);return new Ye({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Je extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Je.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Je(e,t,n,r)}}function Ze(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Je._fromErrorAndOperation(e,n,t,r);throw n}))}async function $e(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ye._forOperation(e,"link",r)}async function et(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(m(i));const o="reauthenticate";try{const r=await W(e,Ze(i,o,t,e),n);y(r.idToken,i,"internal-error");const s=V(r.idToken);y(s,i,"internal-error");const{sub:a}=s;return y(e.uid===a,i,"user-mismatch"),Ye._forOperation(e,o,r)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&f(i,"user-mismatch"),s}}async function tt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(m(e));const i="signIn",o=await Ze(e,i,t),s=await Ye._fromIdTokenResponse(e,i,o);return n||await e._updateCurrentUser(s.user),s}async function nt(e,t){return tt(be(e),t)}function rt(e,t,n){var r;y((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),y("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function it(e){const t=be(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ot(e,t,n){const r=be(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&rt(r,i,n),await Te(r,i,"getOobCode",Fe)}async function st(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(m(e));const i=be(e),o=Te(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xe),s=await o.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&it(e),t})),a=await Ye._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(a.user),a}function at(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(m(e)):nt((0,i.Ku)(e),qe.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&it(e),t}))}new WeakMap;const ct="__sak";class lt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ct,"1"),this.storage.removeItem(ct),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ut extends lt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ut.type="LOCAL";const ht=ut;class dt extends lt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dt.type="SESSION";const ft=dt;class pt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new pt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function gt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pt.receivers=[];class mt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=gt("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function vt(){return window}function yt(){return"undefined"!==typeof vt().WorkerGlobalScope&&"function"===typeof vt().importScripts}const bt="firebaseLocalStorageDb",wt="firebaseLocalStorage",At="fbase_key";class Ct{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function kt(e,t){return e.transaction([wt],t?"readwrite":"readonly").objectStore(wt)}function St(){const e=indexedDB.open(bt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(wt,{keyPath:At})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(wt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(bt);return new Ct(e).toPromise()}(),t(await St()))}))}))}async function xt(e,t,n){const r=kt(e,!0).put({[At]:t,value:n});return new Ct(r).toPromise()}function Tt(e,t){const n=kt(e,!0).delete(t);return new Ct(n).toPromise()}class Et{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await St()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pt._getInstance(yt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new mt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await St();return await xt(e,ct,"1"),await Tt(e,ct),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>xt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=kt(e,!1).get(t),r=await new Ct(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Tt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=kt(e,!1).getAll();return new Ct(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Et.type="LOCAL";const It=Et;ke("rcb"),new S(3e4,6e4);const _t="recaptcha";async function Rt(e,t,n){var r;const i=await n.verify();try{let o;if(y("string"===typeof i,e,"argument-error"),y(n.type===_t,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){y("enroll"===t.type,e,"internal-error");const n=await function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",_(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;y(n,e,"missing-multi-factor-info");const s=await function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",_(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",_(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Pt{constructor(e){this.providerId=Pt.PROVIDER_ID,this.auth=be(e)}verifyPhoneNumber(e,t){return Rt(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Ue._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pt.credentialFromTaggedObject(t)}static credentialFromError(e){return Pt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ue._fromTokenResponse(n,r):null}}function Nt(e,t){return t?ee(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pt.PROVIDER_ID="phone",Pt.PHONE_SIGN_IN_METHOD="phone";class Mt extends Re{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return De(e,this._buildIdpRequest())}_linkToIdToken(e,t){return De(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return De(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ft(e){return tt(e.auth,new Mt(e),e.bypassAuthState)}function Ot(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),et(n,new Mt(e),e.bypassAuthState)}async function Dt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),$e(n,new Mt(e),e.bypassAuthState)}class Lt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ft;case"linkViaPopup":case"linkViaRedirect":return Dt;case"reauthViaPopup":case"reauthViaRedirect":return Ot;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jt=new S(2e3,1e4);class Ut extends Lt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ut.currentPopupAction&&Ut.currentPopupAction.cancel(),Ut.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=gt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ut.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,jt.get())};e()}}Ut.currentPopupAction=null;const Bt=new Map;class qt extends Lt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Bt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ht(t),r=Vt(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Bt.set(this.auth._key(),e)}return this.bypassAuthState||Bt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function zt(e,t){Bt.set(e._key(),t)}function Vt(e){return ee(e._redirectPersistence)}function Ht(e){return re("pendingRedirect",e.config.apiKey,e.name)}async function Wt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(m(e));const i=be(e),o=Nt(i,t),s=new qt(i,o,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}class Kt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gt(e))}saveEventToCache(e){this.cachedEventUids.add(Gt(e)),this.lastProcessedEventTime=Date.now()}}function Gt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Xt(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Yt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qt=/^https?/;async function Jt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return R(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Zt(r))return}catch(n){}f(e,"unauthorized-domain")}function Zt(e){const t=A(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qt.test(n))return!1;if(Yt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $t=new S(3e4,6e4);function en(){const e=vt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function tn(e){return new Promise(((t,n)=>{var r,i,o;function s(){en(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{en(),n(p(e,"network-request-failed"))},timeout:$t.get()})}if(null===(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=vt().gapi)||void 0===o?void 0:o.load)){const t=ke("iframefcb");return vt()[t]=()=>{gapi.load?s():n(p(e,"network-request-failed"))},Ce("".concat(Ae.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw nn=null,e}))}let nn=null;const rn=new S(5e3,15e3),on={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function an(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),o={apiKey:t.apiKey,appName:e.name,v:r.MF},s=sn.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),"".concat(n,"?").concat((0,i.Am)(o).slice(1))}async function cn(e){const t=await function(e){return nn=nn||tn(e),nn}(e),n=vt().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:an(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:on,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),o=vt().setTimeout((()=>{r(i)}),rn.get());function s(){vt().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const ln={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class un{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function hn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},ln),{width:r.toString(),height:o.toString(),top:s,left:a}),u=(0,i.ZQ)().toLowerCase();n&&(c=ce(u)?"_blank":n),se(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new un(null);const d=window.open(t||"",c,h);y(d,e,"popup-blocked");try{d.focus()}catch(f){}return new un(d)}const dn="__/auth/handler",fn="emulator/auth/handler",pn=encodeURIComponent("fac");async function gn(e,t,n,o,s,a){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:r.MF,eventId:s};if(t instanceof ze){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Ve){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const r of Object.keys(l))void 0===l[r]&&delete l[r];const u=await e._getAppCheckToken(),h=u?"#".concat(pn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(dn);return x(t,fn)}(e),"?").concat((0,i.Am)(l).slice(1)).concat(h)}const mn="webStorageSupport";const vn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ft,this._completeRedirectFn=Wt,this._overrideRedirectResult=zt}async _openPopup(e,t,n,r){var i;w(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return hn(e,await gn(e,t,n,A(),r),gt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vt().location.href=e}(await gn(e,t,n,A(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await cn(e),n=new Kt(e);return t.register("authEvent",(t=>{y(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mn,{type:mn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[mn];void 0!==i&&t(!!i),f(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Jt(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pe()||ae()||fe()}};var yn="@firebase/auth",bn="1.7.9";class wn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const An=(0,i.XA)("authIdTokenMaxAge")||300;let Cn=null;const kn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>An)return;const i=null===n||void 0===n?void 0:n.token;Cn!==i&&(Cn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vn,persistence:[It,ht,ft]}),o=(0,i.XA)("authTokenSyncURL");if(o&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(o,location.origin);if(location.origin===e.origin){const t=kn(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const s=(0,i.Tj)("auth");return s&&Ee(n,"http://".concat(s)),n}var xn;Ae={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},xn="Browser",(0,r.om)(new a.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:xn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ge(xn)},l=new ye(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ee);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r.om)(new a.uA("auth-internal",(e=>(e=>new wn(e))(be(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(yn,bn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xn)),(0,r.KO)(yn,bn,"esm2017")},9790:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8195);function i(e,t){(0,r.A)(e,t),t.add(e)}},9946:e=>{"use strict";e.exports=function(e,t){var n,r,i,o,s,a,c,l,u,h,d,f,p,g,m,v,y,b,w,A,C,k,S,x,T;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,T=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=g[f&v];t:for(;;){if(f>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))T[o++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}A=65535&b,(w&=15)&&(p<w&&(f+=x[r++]<<p,p+=8),A+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=m[f&y];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0===(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&b,p<(w&=15)&&(f+=x[r++]<<p,(p+=8)<w&&(f+=x[r++]<<p,p+=8)),(C+=f&(1<<w)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=w,p-=w,C>(w=o-s)){if((w=C-w)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,S=d,0===h){if(k+=l-w,w<A){A-=w;do{T[o++]=d[k++]}while(--w);k=o-C,S=T}}else if(h<w){if(k+=l+h-w,(w-=h)<A){A-=w;do{T[o++]=d[k++]}while(--w);if(k=0,h<A){A-=w=h;do{T[o++]=d[k++]}while(--w);k=o-C,S=T}}}else if(k+=h-w,w<A){A-=w;do{T[o++]=d[k++]}while(--w);k=o-C,S=T}for(;A>2;)T[o++]=S[k++],T[o++]=S[k++],T[o++]=S[k++],A-=3;A&&(T[o++]=S[k++],A>1&&(T[o++]=S[k++]))}else{k=o-C;do{T[o++]=T[k++],T[o++]=T[k++],T[o++]=T[k++],A-=3}while(A>2);A&&(T[o++]=T[k++],A>1&&(T[o++]=T[k++]))}break}}break}}while(r<i&&o<a);r-=A=p>>3,f&=(1<<(p-=A<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=f,n.bits=p}},9986:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(5043),i=n(1428),o=(n(2886),n(703),n(574)),s=(n(2378),n(5472)),a=n(1054);n.p;var c=n(579);const l=function(){const[e,t]=(0,r.useState)(!1),[n,l]=(0,r.useState)(0),[u,h]=(0,r.useState)([]),[d,f]=(0,r.useState)(""),[p,g]=(0,r.useState)([]),[m,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[w,A]=(0,r.useState)(""),[C,k]=(0,r.useState)("");return(0,r.useEffect)((()=>{(()=>{const e=new Date,t=e.getDate(),n=["st","nd","rd"][t%10-1]||"th",r=e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}).replace(/\b(\d{1,2})\b/,"".concat(t).concat(n));k(r)})()}),[]),(0,r.useEffect)((()=>{let t;return e?t=setInterval((()=>{l((e=>e+1))}),1e3):clearInterval(t),()=>clearInterval(t)}),[e]),(0,c.jsxs)("div",{className:"page",children:[(0,c.jsx)(i.A,{}),(0,c.jsxs)("div",{className:"page-content",children:[(0,c.jsxs)("div",{className:"header",children:[(0,c.jsx)("h3",{children:"Time Tracker"}),(0,c.jsx)("img",{src:a.A,alt:"dots",className:"dots"})]}),(0,c.jsx)("div",{className:"section-container",children:(0,c.jsxs)("table",{className:"section-table",children:[(0,c.jsx)("thead",{className:"section-header",children:(0,c.jsx)("tr",{className:"header-row",children:["Day","Project Name","Task Description","Client Name","Time Tracked","Time Control"].map((e=>(0,c.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,c.jsxs)("tbody",{className:"table-body",children:[(0,c.jsx)("div",{style:{cursor:"pointer"},className:"date-display",children:(0,c.jsx)("span",{children:C})}),(0,c.jsx)("input",{type:"text",className:"task-input",placeholder:"Project Name",value:d,onChange:e=>f(e.target.value)}),(0,c.jsx)("input",{type:"text",className:"task-input",placeholder:"Task Name",value:m,onChange:e=>v(e.target.value)}),(0,c.jsx)("input",{type:"text",className:"task-input",placeholder:"Project Name",value:y,onChange:e=>b(e.target.value)}),(0,c.jsx)("div",{className:"timer-display",children:(e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))})(n)}),(0,c.jsx)("div",{className:"timer",children:(0,c.jsxs)("div",{className:"buttons-row",children:[(0,c.jsx)("div",{onClick:()=>{t(!e)},style:{cursor:"pointer"},className:"timer-button",children:(0,c.jsx)("span",{children:e?"Pause":"Start"})}),(0,c.jsx)("div",{onClick:async()=>{if(""!==m.trim()){try{await(0,s.gS)((0,s.rJ)(o.db,"Tasks"),{TaskName:m,ProjectName:d,clientName:y,Date:C,Duration:n})}catch(e){console.log(e)}v(""),t(!1),l(0)}else alert("Please enter a task name!")},disabled:0===n,className:"timer-button",children:(0,c.jsx)("span",{children:"Save"})})]})})]})]})})]})]})}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};n.a=(n,o,s)=>{var a;s&&((a=[]).d=-1);var c,l,u,h=new Set,d=n.exports,f=new Promise(((e,t)=>{u=t,l=e}));f[t]=d,f[e]=e=>(a&&e(a),h.forEach(e),f.catch((e=>{}))),n.exports=f,o((n=>{var o;c=(n=>n.map((n=>{if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var o=[];o.d=0,n.then((e=>{s[t]=e,i(o)}),(e=>{s[r]=e,i(o)}));var s={};return s[e]=e=>e(o),s}}var a={};return a[e]=e=>{},a[t]=n,a})))(n);var s=()=>c.map((e=>{if(e[r])throw e[r];return e[t]})),l=new Promise((t=>{(o=()=>t(s)).r=0;var n=e=>e!==a&&!h.has(e)&&(h.add(e),e&&!e.d&&(o.r++,e.push(o)));c.map((t=>t[e](n)))}));return o.r?l:s()}),(e=>(e?u(f[r]=e):l(d),i(a)))),a&&a.d<0&&(a.d=0)}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".c4d6f837.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="expenser:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{n.b=document.baseURI||self.location.href;var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],c=r[2],l=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);l<s.length;l++)o=s[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkexpenser=self.webpackChunkexpenser||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();n(2812)})();
//# sourceMappingURL=main.91db2a9e.js.map