/*! For license information please see main.ed87b0f9.js.LICENSE.txt */
(()=>{var __webpack_modules__={27:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(43),a=(r=s)&&r.__esModule?r:{default:r},c=n(907),l=n(847);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buildURI=n.buildURI.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildURI",value:function(){return c.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var n=this.props,r=n.data,i=n.headers,o=n.separator,s=n.filename,a=n.enclosingCharacter,l=n.uFEFF,u=t&&"function"===typeof r?r():r,h=new Blob([l?"\ufeff":"",(0,c.toCSV)(u,i,o,a)]);return window.navigator.msSaveBlob(h,s),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(n){!1!==n?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.headers,o=t.separator,s=t.filename,c=t.uFEFF,l=t.children,u=(t.onClick,t.asyncOnClick,t.enclosingCharacter),h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),d="undefined"===typeof window?"":this.buildURI(n,c,r,o,u);return a.default.createElement("a",i({download:s},h,{ref:function(t){return e.link=t},target:"_self",href:d,onClick:this.handleClick()}),l)}}]),t}(a.default.Component);u.defaultProps=l.defaultProps,u.propTypes=l.propTypes,t.default=u},43:(e,t,n)=>{"use strict";e.exports=n(202)},135:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},140:(e,t,n)=>{"use strict";var r,i=n(886),o=n(422),s=n(374),a=n(592),c=n(135),l=-2,u=258,h=262,d=103,f=113,p=666;function g(e,t){return e.msg=c[t],t}function m(e){return(e<<1)-(e>4?9:0)}function y(e){for(var t=e.length;--t>=0;)e[t]=0}function v(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,v(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function C(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function S(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=s(e.adler,t,o,n):2===e.state.wrap&&(e.adler=a(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function A(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,l=e.window,d=e.w_mask,f=e.prev,p=e.strstart+u,g=l[o+s-1],m=l[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(n=t)+s]===m&&l[n+s-1]===g&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(r=u-(p-o),o=p-u,r>s){if(e.match_start=t,s=r,r>=a)break;g=l[o+s-1],m=l[o+s]}}}while((t=f[t&d])>c&&0!==--i);return s<=e.lookahead?s:e.lookahead}function k(e){var t,n,r,o,s,a=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-h)){i.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);o+=a}if(0===e.strm.avail_in)break;if(n=S(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function x(e,t){for(var n,r;;){if(e.lookahead<h){if(k(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=A(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function T(e,t){for(var n,r,i;;){if(e.lookahead<h){if(k(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=A(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):g(e,l)}function P(e){var t,n=I(e);return 0===n&&((t=e.state).window_size=2*t.w_size,y(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function R(e,t,n,r,o,s){if(!e)return l;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||s<0||s>4)return g(e,l);8===r&&(r=9);var c=new _;return e.state=c,c.strm=e,c.wrap=a,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=s,c.method=n,P(e)}r=[new E(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,x),new E(4,5,16,8,x),new E(4,6,32,32,x),new E(4,4,16,16,T),new E(8,16,32,32,T),new E(8,16,128,128,T),new E(8,32,128,256,T),new E(32,128,258,1024,T),new E(32,258,258,4096,T)],t.deflateInit=function(e,t){return R(e,t,8,15,8,0)},t.deflateInit2=R,t.deflateReset=P,t.deflateResetKeep=I,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var n,i,s,c;if(!e||!e.state||t>5||t<0)return e?g(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return g(e,0===e.avail_out?-5:l);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=f);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=f,C(i,h),0!==i.strstart&&(C(i,e.adler>>>16),C(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),v(e),s=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),v(e),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),v(e),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&v(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(v(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&m(t)<=m(n)&&4!==t)return g(e,-5);if(i.status===p&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var S=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,s,a=e.window;;){if(e.lookahead<=u){if(k(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=e.strstart+u;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=u-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==S&&4!==S||(i.status=p),1===S||3===S)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===S&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(y(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),v(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(C(i,e.adler>>>16),C(i,65535&e.adler)),v(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?g(e,l):(e.state=null,t===f?g(e,-3):0):l},t.deflateSetDictionary=function(e,t){var n,r,o,a,c,u,h,d,f=t.length;if(!e||!e.state)return l;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return l;for(1===a&&(e.adler=s(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(y(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),c=e.avail_in,u=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,k(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,k(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=h,e.avail_in=c,n.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},173:(e,t,n)=>{e.exports=n(497)()},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function c(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function l(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:A.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===o?"."+_(c,0):o,C(s)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),I(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",C(e))for(var l=0;l<e.length;l++){var u=o+_(a=e[l],l);c+=I(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=I(a=a.value,t,i,u=o+_(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},O={transition:null},F={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:O,ReactCurrentOwner:A};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function C(e){if(m=!1,w(e),!g)if(null!==r(l))g=!0,O(S);else{var t=r(u);null!==t&&F(C,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var o=f;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!I());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&F(C,h.startTime-n),c=!1}return c}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,k=!1,x=null,T=-1,E=5,_=-1;function I(){return!(t.unstable_now()-_<E)}function P(){if(null!==x){var e=t.unstable_now();_=e;var n=!0;try{n=x(!0,e)}finally{n?A():(k=!1,x=null)}}else k=!1}if("function"===typeof b)A=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,A=function(){N.postMessage(null)}}else A=function(){y(P,0)};function O(e){x=e,k||(k=!0,A())}function F(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(m?(v(T),T=-1):m=!0,F(C,o-s))):(e.sortIndex=a,n(l,e),g||p||(g=!0,O(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},237:()=>{},251:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},266:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},301:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},374:e=>{"use strict";e.exports=function(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16}},378:(e,t,n)=>{e.exports=n(918)},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},415:(e,t,n)=>{"use strict";var r=n(886),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,h,d,f){var p,g,m,y,v,b,w,C,S,A=f.bits,k=0,x=0,T=0,E=0,_=0,I=0,P=0,R=0,N=0,O=0,F=null,M=0,D=new r.Buf16(16),L=new r.Buf16(16),j=null,U=0;for(k=0;k<=i;k++)D[k]=0;for(x=0;x<l;x++)D[t[n+x]]++;for(_=A,E=i;E>=1&&0===D[E];E--);if(_>E&&(_=E),0===E)return u[h++]=20971520,u[h++]=20971520,f.bits=1,0;for(T=1;T<E&&0===D[T];T++);for(_<T&&(_=T),R=1,k=1;k<=i;k++)if(R<<=1,(R-=D[k])<0)return-1;if(R>0&&(0===e||1!==E))return-1;for(L[1]=0,k=1;k<i;k++)L[k+1]=L[k]+D[k];for(x=0;x<l;x++)0!==t[n+x]&&(d[L[t[n+x]]++]=x);if(0===e?(F=j=d,b=19):1===e?(F=o,M-=257,j=s,U-=257,b=256):(F=a,j=c,b=-1),O=0,x=0,k=T,v=h,I=_,P=0,m=-1,y=(N=1<<_)-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){w=k-P,d[x]<b?(C=0,S=d[x]):d[x]>b?(C=j[U+d[x]],S=F[M+d[x]]):(C=96,S=0),p=1<<k-P,T=g=1<<I;do{u[v+(O>>P)+(g-=p)]=w<<24|C<<16|S}while(0!==g);for(p=1<<k-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,x++,0===--D[k]){if(k===E)break;k=t[n+d[x]]}if(k>_&&(O&y)!==m){for(0===P&&(P=_),v+=T,R=1<<(I=k-P);I+P<E&&!((R-=D[I+P])<=0);)I++,R<<=1;if(N+=1<<I,1===e&&N>852||2===e&&N>592)return 1;u[m=O&y]=_<<24|I<<16|v-h}}return 0!==O&&(u[v+O]=k-P<<24|64<<16),f.bits=_,0}},422:(e,t,n)=>{"use strict";var r=n(886);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,s=286,a=30,c=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var p=new Array(60);i(p);var g=new Array(512);i(g);var m=new Array(256);i(m);var y=new Array(29);i(y);var v,b,w,C=new Array(a);function S(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function A(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?g[e]:g[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function T(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function E(e,t,n){T(e,n[2*t],n[2*t+1])}function _(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function I(e,t,n){var r,i,o=new Array(16),s=0;for(r=1;r<=c;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=_(o[a]++,a))}}function P(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function N(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function O(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&N(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!N(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function F(e,t,n){var r,i,s,a,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?E(e,i,t):(E(e,(s=m[i])+o+1,t),0!==(a=l[s])&&T(e,i-=y[s],a),E(e,s=k(--r),n),0!==(a=u[s])&&T(e,r-=C[s],a))}while(c<e.last_lit);E(e,256,t)}function M(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)O(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,O(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,s,a,l=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=c;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>g&&(o=g,m++),l[2*r+1]=o,r>u||(e.bl_count[o]++,s=0,r>=p&&(s=f[r-p]),a=l[2*r],e.opt_len+=a*(o+s),d&&(e.static_len+=a*(h[2*r+1]+s)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),I(o,u,e.bl_count)}function D(e,t,n){var r,i,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<c&&i===s||(a<l?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4))}function L(e,t,n){var r,i,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<c&&i===s)){if(a<l)do{E(e,i,e.bl_tree)}while(0!==--a);else 0!==i?(i!==o&&(E(e,i,e.bl_tree),a--),E(e,16,e.bl_tree),T(e,a-3,2)):a<=10?(E(e,17,e.bl_tree),T(e,a-3,3)):(E(e,18,e.bl_tree),T(e,a-11,7));a=0,o=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4)}}i(C);var j=!1;function U(e,t,n,i){T(e,0+(i?1:0),3),function(e,t,n,i){R(e),i&&(x(e,n),x(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){j||(!function(){var e,t,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(y[r]=n,e=0;e<1<<l[r];e++)m[n++]=r;for(m[n-1]=r,i=0,r=0;r<16;r++)for(C[r]=i,e=0;e<1<<u[r];e++)g[i++]=r;for(i>>=7;r<a;r++)for(C[r]=i<<7,e=0;e<1<<u[r]-7;e++)g[256+i++]=r;for(t=0;t<=c;t++)o[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,o[8]++;for(;e<=255;)f[2*e+1]=9,e++,o[9]++;for(;e<=279;)f[2*e+1]=7,e++,o[7]++;for(;e<=287;)f[2*e+1]=8,e++,o[8]++;for(I(f,287,o),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=_(e,5);v=new S(f,l,257,s,c),b=new S(p,u,0,a,c),w=new S(new Array(0),h,0,19,7)}(),j=!0),e.l_desc=new A(e.dyn_ltree,v),e.d_desc=new A(e.dyn_dtree,b),e.bl_desc=new A(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,P(e)},t._tr_stored_block=U,t._tr_flush_block=function(e,t,n,r){var i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),a=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?U(e,t,n,r):4===e.strategy||s===i?(T(e,2+(r?1:0),3),F(e,f,p)):(T(e,4+(r?1:0),3),function(e,t,n,r){var i;for(T(e,t-257,5),T(e,n-1,5),T(e,r-4,4),i=0;i<r;i++)T(e,e.bl_tree[2*d[i]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),F(e,e.dyn_ltree,e.dyn_dtree)),P(e),r&&R(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(m[n]+o+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){T(e,2,3),E(e,256,f),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(43),s=(r=o)&&r.__esModule?r:{default:r},a=n(907),c=n(847);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildURI",value:function(){return a.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.headers,r=e.separator,i=e.enclosingCharacter,o=e.uFEFF,s=e.target,a=e.specs,c=e.replace;this.state.page=window.open(this.buildURI(t,o,n,r,i),s,a,c)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(s.default.Component);l.defaultProps=Object.assign(c.defaultProps,{target:"_blank"}),l.propTypes=c.propTypes,t.default=l},492:()=>{},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},592:e=>{"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,i){var o=t,s=i+r;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^n[a])];return~e}},640:()=>{},671:()=>{},706:(e,t,n)=>{"use strict";var r=n(140),i=n(886),o=n(813),s=n(135),a=n(301),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"===typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(s[n]);this._dict_set=!0}}function u(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}l.prototype.push=function(e,t){var n,s,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"===typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(l),a.next_out=0,a.avail_out=l),1!==(n=r.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},717:(e,t,n)=>{"use strict";var r={};(0,n(886).assign)(r,n(706),n(898),n(266)),e.exports=r},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var D,L=Object.assign;function j(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function q(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case S:return"Portal";case x:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ae=null,ke=null;function xe(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ci(t),Se(e.stateNode,e.type,t))}}function Te(e){Ae?ke?ke.push(e):ke=[e]:Ae=e}function Ee(){if(Ae){var e=Ae,t=ke;if(ke=Ae=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function _e(e,t){return e(t)}function Ie(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==Ae||null!==ke)&&(Ie(),Ee())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=Ci(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ue){Oe=!1}function Me(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var De=!1,Le=null,je=!1,Ue=null,Be={onError:function(e){De=!0,Le=e}};function qe(e,t,n,r,i,o,s,a,c){De=!1,Le=null,Me.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ct,St,At,kt,xt,Tt=!1,Et=[],_t=null,It=null,Pt=null,Rt=new Map,Nt=new Map,Ot=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void xt(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Bt(){Tt=!1,null!==_t&&jt(_t)&&(_t=null),null!==It&&jt(It)&&(It=null),null!==Pt&&jt(Pt)&&(Pt=null),Rt.forEach(Ut),Nt.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return qt(t,e)}if(0<Et.length){qt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&qt(_t,e),null!==It&&qt(It,e),null!==Pt&&qt(Pt,e),Rt.forEach(t),Nt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Kt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Dt(_t,e,t,n,r,i),!0;case"dragenter":return It=Dt(It,e,t,n,r,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Dt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Dt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Ct(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Xt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=vi(e=Ce(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),hn=L({},ln,{view:0,detail:0}),dn=on(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(L({},fn,{dataTransfer:0})),mn=on(L({},hn,{relatedTarget:0})),yn=on(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},ln,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function xn(){return kn}var Tn=L({},hn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Tn),_n=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=on(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Rn),On=[9,13,27,32],Fn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Fn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Xn(e){jr(e,0)}function Yn(e){if(G(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,Ce(e)),Re(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},Ar={},kr={};function xr(e){if(Ar[e])return Ar[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Ar[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=xr("animationend"),Er=xr("animationiteration"),_r=xr("animationstart"),Ir=xr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),c(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Fr=Rr[Or];Nr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Er,"onAnimationIteration"),Nr(_r,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,c,l){if(qe.apply(this,arguments),De){if(!De)throw Error(o(198));var u=Le;De=!1,Le=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,a,l),o=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,a,l),o=c}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[qr]){e[qr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(c=s.tag)||6===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=o,i=Ce(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=En;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=In;break;case Tr:case Er:case _r:c=yn;break;case Ir:c=Pn;break;case"scroll":c=dn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=_n}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Ne(p,d))&&u.push(Wr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(h=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:wi(c),f=null==l?a:wi(l),(a=new u(g,p+"leave",c,n,i)).target=h,a.relatedTarget=f,g=null,vi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,g=u),h=g,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==c&&Xr(s,a,c,u,!1),null!==l&&null!==h&&Xr(s,h,l,u,!0)}if("select"===(c=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var m=Qn;else if(Hn(a))if(Jn)m=sr;else{m=ir;var y=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(s,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(s,n,i)}var v;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=qn(n))&&(b.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}jr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Ne(n,o))&&s.unshift(Wr(n,c,a)):i||null!=(c=Ne(n,o))&&s.push(Wr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ci(e){return e[fi]||null}var Si=[],Ai=-1;function ki(e){return{current:e}}function xi(e){0>Ai||(e.current=Si[Ai],Si[Ai]=null,Ai--)}function Ti(e,t){Ai++,Si[Ai]=e.current,e.current=t}var Ei={},_i=ki(Ei),Ii=ki(!1),Pi=Ei;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ii),xi(_i)}function Fi(e,t,n){if(_i.current!==Ei)throw Error(o(168));Ti(_i,t),Ti(Ii,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return L({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Pi=_i.current,Ti(_i,e),Ti(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ii),xi(_i),Ti(_i,e)):xi(Ii),Ti(Ii,n)}var ji=null,Ui=!1,Bi=!1;function qi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge($e,zi),i}finally{bt=t,Bi=!1}}return null}var Vi=[],Hi=0,Wi=null,Ki=0,Gi=[],Xi=0,Yi=null,Qi=1,Ji="";function Zi(e,t){Vi[Hi++]=Ki,Vi[Hi++]=Wi,Wi=e,Ki=t}function $i(e,t,n){Gi[Xi++]=Qi,Gi[Xi++]=Ji,Gi[Xi++]=Yi,Yi=e;var r=Qi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Qi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--Hi],Vi[Hi]=null,Ki=Vi[--Hi],Vi[Hi]=null;for(;e===Yi;)Yi=Gi[--Xi],Gi[Xi]=null,Ji=Gi[--Xi],Gi[Xi]=null,Qi=Gi[--Xi],Gi[Xi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===A?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Fl(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Fl(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=jl(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ml(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function g(i,o,a,c){for(var l=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,g),null===u?l=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(i,h),io&&Zi(i,g),l;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],c))&&(o=s(h,o,g),null===u?l=h:u.sibling=h,u=h);return io&&Zi(i,g),l}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],c))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}function m(i,a,c,l){var u=M(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,y=null,v=c.next();null!==g&&!v.done;m++,v=c.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,l);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===h?u=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),io&&Zi(i,m),u;if(null===g){for(;!v.done;m++,v=c.next())null!==(v=d(i,v.value,l))&&(a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return io&&Zi(i,m),u}for(g=r(i,g);!v.done;m++,v=c.next())null!==(v=p(g,i,m,v.value,l))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),io&&Zi(i,m),u}return function e(r,o,s,c){if("object"===typeof s&&null!==s&&s.type===A&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case C:e:{for(var l=s.key,u=o;null!==u;){if(u.key===l){if((l=s.type)===A){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&bo(l)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===A?((o=Ml(s.props.children,r.mode,c,s.key)).return=r,r=o):((c=Fl(s.type,s.key,s.props,null,r.mode,c)).ref=yo(r,o,s),c.return=r,r=c)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jl(s,r.mode,c)).return=r,r=o}return a(r);case N:return e(r,o,(u=s._init)(s._payload),c)}if(te(s))return g(r,o,s,c);if(M(s))return m(r,o,s,c);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Ll(s,r.mode,c)).return=r,r=o),a(r)):n(r,o)}}var Co=wo(!0),So=wo(!1),Ao=ki(null),ko=null,xo=null,To=null;function Eo(){To=xo=ko=null}function _o(e){var t=Ao.current;xi(Ao),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){ko=e,To=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===ko)throw Error(o(308));xo=e,ko.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var No=null;function Oo(e){null===No?No=[e]:No.push(e)}function Fo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_c)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function qo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==o){var h=i.baseState;for(s=0,u=l=c=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dc|=s,e.lanes=s,e.memoizedState=h}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Ko=ki(Wo),Go=ki(Wo),Xo=ki(Wo);function Yo(e){if(e===Wo)throw Error(o(174));return e}function Qo(e,t){switch(Ti(Xo,t),Ti(Go,e),Ti(Ko,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ko),Ti(Ko,t)}function Jo(){xi(Ko),xi(Go),xi(Xo)}function Zo(e){Yo(Xo.current);var t=Yo(Ko.current),n=ce(t,e.type);t!==n&&(Ti(Go,e),Ti(Ko,n))}function $o(e){Go.current===e&&(xi(Ko),xi(Go))}var es=ki(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,cs=null,ls=null,us=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?$s:ea,e=n(r,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,ls=cs=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(hs)}if(is.current=Zs,t=null!==cs&&null!==cs.next,ss=0,ls=cs=as=null,us=!1,t)throw Error(o(300));return e}function ys(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?as.memoizedState=ls=e:ls=ls.next=e,ls}function bs(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ls?as.memoizedState:ls.next;if(null!==t)ls=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ls?as.memoizedState=ls=e:ls=ls.next=e}return ls}function ws(e,t){return"function"===typeof t?t(e):t}function Cs(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var c=a=null,l=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=r):l=l.next=d,as.lanes|=h,Dc|=h}u=u.next}while(null!==u&&u!==s);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Dc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function As(){}function ks(e,t){var n=as,r=bs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ds(Es.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Rs(9,Ts.bind(null,n,r,i,t),void 0,null),null===Ic)throw Error(o(349));0!==(30&ss)||xs(n,t,i)}return i}function xs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,_s(t)&&Is(e)}function Es(e,t,n){return n((function(){_s(t)&&Is(e)}))}function _s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=Mo(e,1);null!==t&&nl(t,e,1,-1)}function Ps(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Xs.bind(null,as,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ns(){return bs().memoizedState}function Os(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Fs(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Rs(t,n,o,r))}as.flags|=e,i.memoizedState=Rs(1|t,n,o,r)}function Ms(e,t){return Os(8390656,8,e,t)}function Ds(e,t){return Fs(2048,8,e,t)}function Ls(e,t){return Fs(4,2,e,t)}function js(e,t){return Fs(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4,4,Us.bind(null,t,e),n)}function qs(){}function zs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),as.lanes|=n,Dc|=n,e.baseState=!0),t)}function Ws(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function Ks(){return bs().memoizedState}function Gs(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Fo(e,t,n,r))){nl(n,e,r,el()),Js(n,t,r)}}function Xs(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var c=t.interleaved;return null===c?(i.next=i,Oo(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Fo(e,t,i,r))&&(nl(n,e,r,i=el()),Js(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zs={readContext:Ro,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},$s={readContext:Ro,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ps,useDebugValue:qs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Ws.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ic)throw Error(o(349));0!==(30&ss)||xs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ms(Es.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Ic.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ro,useCallback:zs,useContext:Ro,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:Ls,useLayoutEffect:js,useMemo:Vs,useReducer:Cs,useRef:Ns,useState:function(){return Cs(ws)},useDebugValue:qs,useDeferredValue:function(e){return Hs(bs(),cs.memoizedState,e)},useTransition:function(){return[Cs(ws)[0],bs().memoizedState]},useMutableSource:As,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Ro,useCallback:zs,useContext:Ro,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:Ls,useLayoutEffect:js,useMemo:Vs,useReducer:Ss,useRef:Ns,useState:function(){return Ss(ws)},useDebugValue:qs,useDeferredValue:function(e){var t=bs();return null===cs?t.memoizedState=e:Hs(t,cs.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],bs().memoizedState]},useMutableSource:As,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nl(t,e,i,r),qo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nl(t,e,i,r),qo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nl(t,e,r,n),qo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function sa(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(i=Ni(t)?Pi:_i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ro(o):(o=Ni(t)?Pi:_i.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Wc=r),ha(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xl.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?So(t,null,n,r):Co(t,e.child,n,r)}function Ca(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=ms(e,t,n,r,o,i),n=ys(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Nl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Aa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Ol(o,r)).ref=t.ref,e.return=t,t.child=e}function Aa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Oc,Nc),Nc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Oc,Nc),Nc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Oc,Nc),Nc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Oc,Nc),Nc|=r;return wa(e,t,i,n),t.child}function xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Ni(n)?Pi:_i.current;return o=Ri(t,o),Po(t,i),n=ms(e,t,n,r,o,i),r=ys(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ea(e,t,n,r,i){if(Ni(n)){var o=!0;Di(t)}else o=!1;if(Po(t,i),null===t.stateNode)Va(e,t),sa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ro(l):l=Ri(t,l=Ni(n)?Pi:_i.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&aa(t,s,r,l),Do=!1;var d=t.memoizedState;s.state=d,Vo(t,r,s,i),c=t.memoizedState,a!==r||d!==c||Ii.current||Do?("function"===typeof u&&(ra(t,n,u,r),c=t.memoizedState),(a=Do||oa(t,n,a,r,d,c,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:na(t.type,a),s.props=l,h=t.pendingProps,d=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ro(c):c=Ri(t,c=Ni(n)?Pi:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==c)&&aa(t,s,r,c),Do=!1,d=t.memoizedState,s.state=d,Vo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ii.current||Do?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(l=Do||oa(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _a(e,t,n,r,o,i)}function _a(e,t,n,r,i,o){xa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Li(t,n,!1),Ha(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),Qo(e,t.containerInfo)}function Pa(e,t,n,r,i){return po(),go(i),t.flags|=256,wa(e,t,n,r),t.child}var Ra,Na,Oa,Fa,Ma={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(es,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Dl(c,i,0,null),e=Ml(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Ma,e):ja(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dl({mode:"visible",children:r.children},i,0,null),(s=Ml(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Co(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(r=Ic)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Mo(e,i),nl(r,e,i,-1))}return gl(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=El.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Xi++]=Qi,Gi[Xi++]=Ji,Gi[Xi++]=Yi,Qi=e.id,Ji=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,s,n);if(a){a=i.fallback,c=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ol(r,a):(a=Ml(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Da(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Ol(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&go(r),Co(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ni(t.type)&&Oi(),Ka(t),null;case 3:return r=t.stateNode,Jo(),xi(Ii),xi(_i),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Na(e,t),Ka(t),null;case 5:$o(t);var i=Yo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Yo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var c in ve(n,s),i=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ve(n,i),l=i)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&b(e,s,u,c))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Fa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Xo.current),Yo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(xi(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sl(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Fc&&(Fc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Jo(),Na(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return _o(t.type._context),Ka(t),null;case 19:if(xi(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)Wa(s,!1);else{if(0!==Fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Wa(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>zc&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!io)return Ka(t),null}else 2*Je()-s.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=es.current,Ti(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nc)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xa(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),xi(Ii),xi(_i),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $o(t),null;case 13:if(xi(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(es),null;case 4:return Jo(),null;case 10:return _o(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Ko.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Fa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){kl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,hc=!1;function dc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||$a(n,t);case 6:var r=uc,i=hc;uc=null,dc(e,t,n),hc=i,null!==(uc=r)&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(uc,n.stateNode));break;case 4:r=uc,i=hc,uc=n.stateNode.containerInfo,hc=!0,dc(e,t,n),uc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ec(n,t,s),i=i.next}while(i!==r)}dc(e,t,n);break;case 1:if(!Qa&&($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kl(n,t,a)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,dc(e,t,n),Qa=r):dc(e,t,n);break;default:dc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,hc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));fc(s,a,i),uc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){kl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(m){kl(e,e.return,m)}try{nc(5,e,e.return)}catch(m){kl(e,e.return,m)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&$a(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&$a(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){kl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&J(i,s),be(c,a);var u=be(c,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(c){case"input":Z(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){kl(e,e.return,m)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){kl(e,e.return,m)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){kl(e,e.return,m)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(qc=Je())),4&r&&pc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||h,gc(t,e),Qa=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:$a(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kl(r,n,m)}}break;case 5:$a(f,f.return);break;case 22:if(null!==f.memoizedState){Cc(d);continue}}null!==p?(p.return=f,Za=p):Cc(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",a))}catch(m){kl(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){kl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),yc(e),4&r&&pc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lc(e,ac(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(o(161))}}catch(a){kl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Za=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Qa;a=Ya;var l=Qa;if(Ya=s,(Qa=c)&&!l)for(Za=i;null!==Za;)c=(s=Za).child,22===s.tag&&null!==s.memoizedState?Sc(i):null!==c?(c.return=s,Za=c):Sc(i);for(;null!==o;)Za=o,bc(o,t,n),o=o.sibling;Za=i,Ya=a,Qa=l}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):wc(e)}}function wc(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}Qa||512&t.flags&&ic(t)}catch(f){kl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Cc(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sc(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){kl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){kl(t,i,c)}}var o=t.return;try{ic(t)}catch(c){kl(t,o,c)}break;case 5:var s=t.return;try{ic(t)}catch(c){kl(t,s,c)}}}catch(c){kl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Ac,kc=Math.ceil,xc=w.ReactCurrentDispatcher,Tc=w.ReactCurrentOwner,Ec=w.ReactCurrentBatchConfig,_c=0,Ic=null,Pc=null,Rc=0,Nc=0,Oc=ki(0),Fc=0,Mc=null,Dc=0,Lc=0,jc=0,Uc=null,Bc=null,qc=0,zc=1/0,Vc=null,Hc=!1,Wc=null,Kc=null,Gc=!1,Xc=null,Yc=0,Qc=0,Jc=null,Zc=-1,$c=0;function el(){return 0!==(6&_c)?Je():-1!==Zc?Zc:Zc=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&_c)&&0!==Rc?Rc&-Rc:null!==mo.transition?(0===$c&&($c=gt()),$c):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nl(e,t,n,r){if(50<Qc)throw Qc=0,Jc=null,Error(o(185));yt(e,n,r),0!==(2&_c)&&e===Ic||(e===Ic&&(0===(2&_c)&&(Lc|=n),4===Fc&&al(e,Rc)),rl(e,r),1===n&&0===_c&&0===(1&t.mode)&&(zc=Je()+500,Ui&&zi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=i[s];-1===c?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Ic?Rc:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(cl.bind(null,e)):qi(cl.bind(null,e)),si((function(){0===(6&_c)&&zi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Zc=-1,$c=0,0!==(6&_c))throw Error(o(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=dt(e,e===Ic?Rc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=_c;_c|=2;var s=pl();for(Ic===e&&Rc===t||(Vc=null,zc=Je()+500,dl(e,t));;)try{vl();break}catch(c){fl(e,c)}Eo(),xc.current=s,_c=i,null!==Pc?t=0:(Ic=null,Rc=0,t=Fc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mc,dl(e,0),al(e,r),rl(e,Je()),n;if(6===t)al(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(s=pt(e))&&(r=s,t=ol(e,s))),1===t))throw n=Mc,dl(e,0),al(e,r),rl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Cl(e,Bc,Vc);break;case 3:if(al(e,r),(130023424&r)===r&&10<(t=qc+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Cl.bind(null,e,Bc,Vc),t);break}Cl(e,Bc,Vc);break;case 4:if(al(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kc(r/1960))-r)){e.timeoutHandle=ri(Cl.bind(null,e,Bc,Vc),r);break}Cl(e,Bc,Vc);break;default:throw Error(o(329))}}}return rl(e,Je()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Uc;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bc,Bc=n,null!==t&&sl(t)),e}function sl(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function al(e,t){for(t&=~jc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&_c))throw Error(o(327));Sl();var t=dt(e,0);if(0===(1&t))return rl(e,Je()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mc,dl(e,0),al(e,t),rl(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e,Bc,Vc),rl(e,Je()),null}function ll(e,t){var n=_c;_c|=1;try{return e(t)}finally{0===(_c=n)&&(zc=Je()+500,Ui&&zi())}}function ul(e){null!==Xc&&0===Xc.tag&&0===(6&_c)&&Sl();var t=_c;_c|=1;var n=Ec.transition,r=bt;try{if(Ec.transition=null,bt=1,e)return e()}finally{bt=r,Ec.transition=n,0===(6&(_c=t))&&zi()}}function hl(){Nc=Oc.current,xi(Oc)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Jo(),xi(Ii),xi(_i),rs();break;case 5:$o(r);break;case 4:Jo();break;case 13:case 19:xi(es);break;case 10:_o(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ic=e,Pc=e=Ol(e.current,null),Rc=Nc=t,Fc=0,Mc=null,jc=Lc=Dc=0,Bc=Uc=null,null!==No){for(t=0;t<No.length;t++)if(null!==(r=(n=No[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}No=null}return e}function fl(e,t){for(;;){var n=Pc;try{if(Eo(),is.current=Zs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,ls=cs=as=null,hs=!1,ds=0,Tc.current=null,null===n||null===n.return){Fc=1,Mc=t,Pc=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Rc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ga(s,u,t),l=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){ga(s,u,t),gl();break e}l=Error(o(426))}else if(io&&1&c.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,c,0,t),go(la(l,c));break e}}s=l=la(l,c),4!==Fc&&(Fc=2),null===Uc?Uc=[s]:Uc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,fa(0,l,t));break e;case 1:c=l;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kc||!Kc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,pa(s,c,t));break e}}s=s.return}while(null!==s)}wl(n)}catch(w){t=w,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function pl(){var e=xc.current;return xc.current=Zs,null===e?Zs:e}function gl(){0!==Fc&&3!==Fc&&2!==Fc||(Fc=4),null===Ic||0===(268435455&Dc)&&0===(268435455&Lc)||al(Ic,Rc)}function ml(e,t){var n=_c;_c|=2;var r=pl();for(Ic===e&&Rc===t||(Vc=null,dl(e,t));;)try{yl();break}catch(i){fl(e,i)}if(Eo(),_c=n,xc.current=r,null!==Pc)throw Error(o(261));return Ic=null,Rc=0,Fc}function yl(){for(;null!==Pc;)bl(Pc)}function vl(){for(;null!==Pc&&!Ye();)bl(Pc)}function bl(e){var t=Ac(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?wl(e):Pc=t,Tc.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Nc)))return void(Pc=n)}else{if(null!==(n=Xa(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Fc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Fc&&(Fc=5)}function Cl(e,t,n){var r=bt,i=Ec.transition;try{Ec.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Xc);if(0!==(6&_c))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ic&&(Pc=Ic=null,Rc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,Il(tt,(function(){return Sl(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ec.transition,Ec.transition=null;var a=bt;bt=1;var c=_c;_c|=4,Tc.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(C){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(C){kl(t,t.return,C)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=tc,tc=!1}(e,n),mc(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vc(n,e,i),Qe(),_c=c,bt=a,Ec.transition=s}else e.current=n;if(Gc&&(Gc=!1,Xc=e,Yc=i),s=e.pendingLanes,0===s&&(Kc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=Wc,Wc=null,e;0!==(1&Yc)&&0!==e.tag&&Sl(),s=e.pendingLanes,0!==(1&s)?e===Jc?Qc++:(Qc=0,Jc=e):Qc=0,zi()}(e,t,n,r)}finally{Ec.transition=i,bt=r}return null}function Sl(){if(null!==Xc){var e=wt(Yc),t=Ec.transition,n=bt;try{if(Ec.transition=null,bt=16>e?16:e,null===Xc)var r=!1;else{if(e=Xc,Xc=null,Yc=0,0!==(6&_c))throw Error(o(331));var i=_c;for(_c|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:nc(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(oc(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Za=v;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(S){kl(c,c.return,S)}if(c===a){Za=null;break e}var C=c.sibling;if(null!==C){C.return=c.return,Za=C;break e}Za=c.return}}if(_c=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Ec.transition=t}}return!1}function Al(e,t,n){e=Bo(e,t=fa(0,t=la(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function kl(e,t,n){if(3===e.tag)Al(e,e,n);else for(;null!==t;){if(3===t.tag){Al(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=Bo(t,e=pa(t,e=la(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Ic===e&&(Rc&n)===n&&(4===Fc||3===Fc&&(130023424&Rc)===Rc&&500>Je()-qc?dl(e,0):jc|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Mo(e,t))&&(yt(e,t,n),rl(e,n))}function El(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function _l(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tl(e,n)}function Il(e,t){return Ge(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Pl(e,t,n,r)}function Nl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Nl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case A:return Ml(n.children,i,s,t);case k:a=8,i|=8;break;case x:return(e=Rl(12,n,t,2|i)).elementType=x,e.lanes=s,e;case I:return(e=Rl(13,n,t,i)).elementType=I,e.lanes=s,e;case P:return(e=Rl(19,n,t,i)).elementType=P,e.lanes=s,e;case O:return Dl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case E:a=9;break e;case _:a=11;break e;case R:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ml(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,o,s,a,c){return e=new Ul(e,t,n,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function ql(e){if(!e)return Ei;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function zl(e,t,n,r,i,o,s,a,c){return(e=Bl(n,r,!0,e,0,o,0,a,c)).context=ql(null),n=e.current,(o=Uo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Vl(e,t,n,r){var i=t.current,o=el(),s=tl(i);return n=ql(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,s))&&(nl(e,i,s,o),qo(e,i,s)),s}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Ac=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),po();break;case 5:Zo(t);break;case 1:Ni(t.type)&&Di(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Ao,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Ti(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ti(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var i=Ri(t,_i.current);Po(t,n),i=ms(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Di(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=_a(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=Ca(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),Vo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&lo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),xa(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&lo(t),null;case 13:return La(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(Ao,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=Ro(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Aa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Va(e,t),t.tag=1,Ni(r)?(e=!0,Di(t)):e=!1,Po(t,n),sa(t,r,i),ca(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function $l(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hl(s);a.call(e)}}Vl(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hl(s);o.call(e)}}var s=zl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),ul(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hl(c);a.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,zr(8===e.nodeType?e.parentNode:e),ul((function(){Vl(t,c,n,r)})),c}(n,t,e,i,r);return Hl(s)}Yl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vl(e,t,null,null)},Yl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Vl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rl(t,Je()),0===(6&_c)&&(zc=Je()+500,zi()))}break;case 13:ul((function(){var t=Mo(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},St=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},At=function(e){if(13===e.tag){var t=tl(e),n=Mo(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},kt=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ci(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=ll,Ie=ul;var eu={usingClientEntryPoint:!1,Events:[bi,wi,Ci,Te,Ee,ll]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return $l(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){$l(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $l(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},749:(module,__unused_webpack_exports,__webpack_require__)=>{var factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=u,t.arraysToBytes=function(e){const t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];let n=0;for(let o=0;o<t;o++)n+=u(e[o]);let r=0;const i=new Uint8Array(n);for(let o=0;o<t;o++){let t=e[o];t instanceof Uint8Array||(t="string"===typeof t?l(t):new Uint8Array(t));const n=t.byteLength;i.set(t,r),r+=n}return i},t.assert=function(e,t){e||s(t)},t.bytesToString=function(e){"object"===typeof e&&null!==e&&void 0!==e.length||s("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const o=Math.min(i+n,t),s=e.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")},t.createPromiseCapability=function(){const e=Object.create(null);let t=!1;return Object.defineProperty(e,"settled",{get:()=>t}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t&&t.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=p(e)}catch(r){}}const i=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(r){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,(e=>"\n"===e?"\\n":"\r"===e?"\\r":`\\${e}`))},t.getModificationDate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"===typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=a,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=l,t.stringToPDFString=function(e){if(e[0]>="\xef"){let t;if("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),r=l(e);return n.decode(r)}catch(n){o(`stringToPDFString: "${n}".`)}}const t=[];for(let r=0,i=e.length;r<i;r++){const n=f[e.charCodeAt(r)];t.push(n?String.fromCharCode(n):e.charAt(r))}return t.join("")},t.stringToUTF16BEString=function(e){const t=["\xfe\xff"];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);t.push(String.fromCharCode(r>>8&255),String.fromCharCode(255&r))}return t.join("")},t.stringToUTF8String=p,t.unreachable=s,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=o,n(2),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},t.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=r.WARNINGS;function o(e){i>=r.WARNINGS&&console.log(`Warning: ${e}`)}function s(e){throw new Error(e)}function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const c=function(){function e(t,n){this.constructor===e&&s("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function l(e){"string"!==typeof e&&s("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function u(e){return void 0!==e.length?e.length:void 0!==e.byteLength?e.byteLength:void s("Invalid argument for arrayByteLength")}t.BaseException=c,t.PasswordException=class extends c{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends c{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends c{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends c{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends c{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends c{constructor(e){super(e,"FormatError")}},t.AbortException=class extends c{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return a(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return a(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return a(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}};const h=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class d{static makeHexColor(e,t,n){return`#${h[e]}${h[t]}${h[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=d.applyTransform(e,t),r=d.applyTransform(e.slice(2,4),t),i=d.applyTransform([e[0],e[3]],t),o=d.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static apply3dTransform(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],s=(n+o)/2,a=Math.sqrt((n+o)**2-4*(n*o-i*r))/2,c=s+a||1,l=s-a||1;return[Math.sqrt(c),Math.sqrt(l)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[n,i,r,o]}static bezierBoundingBox(e,t,n,r,i,o,s,a){const c=[],l=[[],[]];let u,h,d,f,p,g,m,y;for(let C=0;C<2;++C)if(0===C?(h=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*s,d=3*n-3*e):(h=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*a,d=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(h)<1e-12)continue;f=-d/h,0<f&&f<1&&c.push(f)}else m=h*h-4*d*u,y=Math.sqrt(m),m<0||(p=(-h+y)/(2*u),0<p&&p<1&&c.push(p),g=(-h-y)/(2*u),0<g&&g<1&&c.push(g));let v,b=c.length;const w=b;for(;b--;)f=c[b],v=1-f,l[0][b]=v*v*v*e+3*v*v*f*n+3*v*f*f*i+f*f*f*s,l[1][b]=v*v*v*t+3*v*v*f*r+3*v*f*f*o+f*f*f*a;return l[0][w]=e,l[1][w]=t,l[0][w+1]=s,l[1][w+1]=a,l[0].length=l[1].length=w+2,[Math.min(...l[0]),Math.min(...l[1]),Math.max(...l[0]),Math.max(...l[1])]}}t.Util=d;const f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function p(e){return decodeURIComponent(escape(e))}},(e,t,n)=>{n(3)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:e,NodeCMapReaderFactory:t,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=e,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=t,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const t=new PDFDocumentLoadingTask;let n;if("string"===typeof e||e instanceof URL)n={url:e};else if((0,_util.isArrayBuffer)(e))n={data:e};else if(e instanceof PDFDataRangeTransport)n={range:e};else{if("object"!==typeof e)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=e}const r=Object.create(null);let i=null,o=null;for(const c in n){const e=n[c];switch(c){case"url":if("undefined"!==typeof window)try{r[c]=new URL(e,window.location).href;continue}catch(a){(0,_util.warn)(`Cannot create valid URL: "${a}".`)}else if("string"===typeof e||e instanceof URL){r[c]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=e;continue;case"worker":o=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)r[c]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"===typeof e)r[c]=(0,_util.stringToBytes)(e);else if("object"!==typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");r[c]=new Uint8Array(e)}else r[c]=new Uint8Array(e)}continue}r[c]=e}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!==typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!==typeof r.cMapUrl&&(r.cMapUrl=null),"string"!==typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!==typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!==typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!==typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!==typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),"object"===typeof r.ownerDocument&&null!==r.ownerDocument||(r.ownerDocument=globalThis.document),"boolean"!==typeof r.disableRange&&(r.disableRange=!1),"boolean"!==typeof r.disableStream&&(r.disableStream=!1),"boolean"!==typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){const e={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=o}const s=t.docId;return o.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(o,r,i,s),n=new Promise((function(e){let t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,n]).then((function(e){let[n,i]=e;if(t.destroyed)throw new Error("Loading aborted");const a=new _message_handler.MessageHandler(s,n,o.port),c=new WorkerTransport(a,t,i,r);t._transport=c,a.send("Ready",null)}))})).catch(t._capability.reject),t}async function _fetchDocument(e,t,n,r){if(e.destroyed)throw new Error("Worker was destroyed");n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone,t.contentDispositionFilename=n.contentDispositionFilename);const i=await e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.16.105",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});if(t.data&&(t.data=null),e.destroyed)throw new Error("Worker was destroyed");return i}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._pageIndex=e,this._pageInfo=t,this._ownerDocument=r,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);let n=this._annotationPromises.get(t.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,t.renderingIntent),this._annotationPromises.set(t.cacheKey,n),n=n.then((e=>{for(const t of e)void 0!==t.titleObj&&Object.defineProperty(t,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),t.titleObj.str)}),void 0!==t.contentsObj&&Object.defineProperty(t,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),t.contentsObj.str)});return e}))),n}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:r="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:o=null,imageLayer:s=null,canvasFactory:a=null,background:c=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:d=null}=e;void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const f=this._transport.getRenderingIntent(r,i,d);this.pendingCleanup=!1,l||(l=this._transport.getOptionalContentConfig());let p=this._intentStates.get(f.cacheKey);p||(p=Object.create(null),this._intentStates.set(f.cacheKey,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const g=a||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),m=!!(f.renderingIntent&_util.RenderingIntentFlag.PRINT);p.displayReadyCapability||(p.displayReadyCapability=(0,_util.createPromiseCapability)(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(f));const y=e=>{p.renderTasks.delete(v),(this.cleanupAfterRender||m)&&(this.pendingCleanup=!0),this._tryCleanup(),e?(v.capability.reject(e),this._abortOperatorList({intentState:p,reason:e instanceof Error?e:new Error(e)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},v=new InternalRenderTask({callback:y,params:{canvasContext:t,viewport:n,transform:o,imageLayer:s,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:g,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:h});(p.renderTasks||=new Set).add(v);const b=v.task;return Promise.all([p.displayReadyCapability.promise,l]).then((e=>{let[t,n]=e;this.pendingCleanup?y():(this._stats&&this._stats.time("Rendering"),v.initializeGraphics({transparency:t,optionalContentConfig:n}),v.operatorListChanged())})).catch(y),b}getOperatorList(){let{intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let i,o=this._intentStates.get(r.cacheKey);return o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o)),o.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(i))},o.opListReadCapability=(0,_util.createPromiseCapability)(),(o.renderTasks||=new Set).add(i),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:e=!1,includeMarkedContent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){let{value:r,done:o}=n;o?e(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();this.objs.clear();for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageMap:r}=e;const i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r}).getReader(),o=this._intentStates.get(n);o.streamReader=i;const s=()=>{i.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),s())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();this._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};s()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(!r){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException)return void(t.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:t,reason:n,force:!0}),t.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,t){const n={data:structuredClone(e,t)};this._deferred.then((()=>{for(const e of this._listeners)e.call(this,n)}))}addEventListener(e,t){this._listeners.push(t)}removeEventListener(e,t){const n=this._listeners.indexOf(t);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(i){return!1}const r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};class PDFWorker{static#t=(()=>new WeakMap)();constructor(){let{name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&PDFWorker.#t.has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return PDFWorker.#t.set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),n=new _message_handler.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",i),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};e.addEventListener("error",i),n.on("test",(t=>{e.removeEventListener("error",i),this.destroyed?r():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())})),n.on("ready",(t=>{if(e.removeEventListener("error",i),this.destroyed)r();else try{o()}catch(n){this._setupFakeWorker()}}));const o=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void o()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#t.has(e.port)?this.#t.get(e.port):new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#n=null;#r=(()=>new Map)();#i=(()=>new Map)();#o=null;constructor(e,t,n,r){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,r.useWorkerFetch||(this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.StandardFontDataFactory=new r.StandardFontDataFactory({baseUrl:r.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#n}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_util.RenderingIntentFlag.DISPLAY,o=null;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${_annotation_storage.AnnotationStorage.getHash(o)}`,annotationStorageMap:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#r.values())e.push(n._destroy());this.#r.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#o=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const r=e=>{e instanceof Error?this._passwordCapability.reject(e):this._passwordCapability.resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){this._passwordCapability.reject(n)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||this.#r.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,r,i]=t;if(!this.destroyed&&!this.commonObjs.has(n))switch(r){case"Font":const t=this._params;if("error"in i){const e=i.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}let o=null;t.pdfBug&&globalThis.FontInspector?.enabled&&(o={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const s=new _font_loader.FontFaceObject(i,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:o});this.fontLoader.bind(s).catch((t=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!t.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(n,s)}));break;case"FontPath":case"Image":this.commonObjs.resolve(n,i);break;default:throw new Error(`Got unknown common object type ${r}`)}})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const o=this.#r.get(n);if(!o.objs.has(t))switch(r){case"Image":o.objs.resolve(t,i);const e=8e6;if(i){let t;if(i.bitmap){const{bitmap:e,width:n,height:r}=i;t=n*r*4,o._bitmaps.add(e)}else t=i.data?.length||0;t>e&&(o.cleanupAfterRender=!0)}break;case"Pattern":o.objs.resolve(t,i);break;default:throw new Error(`Got unknown object type ${r}`)}})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("DocStats",(e=>{this.destroyed||(this.#n=Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature(e){let{featureId:t}=e;this.destroyed||this.loadingTask.onUnsupportedFeature?.(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#i.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.ownerDocument,this._params.pdfBug);return this.#r.set(t,n),n}));return this.#i.set(t,r),r}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally((()=>{this.annotationStorage.resetModified()}))}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#o||=this.messageHandler.sendWithPromise("GetMetadata",null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const e of this.#r.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#o=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}class PDFObjects{#s=(()=>Object.create(null))();#a(e){const t=this.#s[e];return t||(this.#s[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#a(e);return n.capability.promise.then((()=>t(n.data))),null}const n=this.#s[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#s[e];return t?.capability.settled||!1}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#a(e);n.data=t,n.capability.resolve()}clear(){this.#s=Object.create(null)}}class RenderTask{#c=null;constructor(e){this.#c=e,this.onContinue=null}get promise(){return this.#c.capability.promise}cancel(){this.#c.cancel()}get separateAnnots(){const{separateAnnots:e}=this.#c.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#c;return e.form||e.canvas&&t?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#l=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:c,useRequestAnimationFrame:l=!1,pdfBug:u=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#l.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#l.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:o,imageLayer:s,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,s,n,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#l.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#l.delete(this._canvas),this.callback())))}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(6),o=n(10);class s{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this._storage.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this._storage.get(e)}remove(e){if(this._storage.delete(e),0===this._storage.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this._storage.values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this._storage.get(e);let r=!1;if(void 0!==n)for(const[i,o]of Object.entries(t))n[i]!==o&&(r=!0,n[i]=o);else r=!0,this._storage.set(e,t);r&&this.#u(),t instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this._storage.has(e)}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}#u(){this._modified||(this._modified=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new a(this)}get serializable(){if(0===this._storage.size)return null;const e=new Map;for(const[t,n]of this._storage){const r=n instanceof i.AnnotationEditor?n.serialize():n;r&&e.set(t,r)}return e}static getHash(e){if(!e)return"";const t=new o.MurmurHash3_64;for(const[n,r]of e)t.update(`${n}:${JSON.stringify(r)}`);return t.hexdigest()}}t.AnnotationStorage=s;class a extends s{#h=null;constructor(e){super(),this.#h=structuredClone(e.serializable)}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#h}}t.PrintAnnotationStorage=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(7),i=n(1);class o{#d=this.focusin.bind(this);#f=this.focusout.bind(this);#p=!1;#g=!1;#m=!1;#y=(()=>o._zIndex++)();static _colorManager=(()=>new r.ColorManager)();static _zIndex=1;constructor(e){this.constructor===o&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null;const[t,n]=this.parent.viewportBaseDimensions;this.x=e.x/t,this.y=e.y/n,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#y}focusin(e){this.#p?this.#p=!1:this.parent.setSelected(this)}focusout(e){if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(e){const t=this.parent.div.getBoundingClientRect();this.startX=e.clientX-t.x,this.startY=e.clientY-t.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}setAt(e,t,n,r){const[i,o]=this.parent.viewportBaseDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/o,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(e,t){const[n,r]=this.parent.viewportBaseDimensions;[e,t]=this.screenToPageTranslation(e,t),this.x+=e/n,this.y+=t/r,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(e,t){const{rotation:n}=this.parent.viewport;switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}setDims(e,t){const[n,r]=this.parent.viewportBaseDimensions;this.div.style.width=100*e/n+"%",this.div.style.height=100*t/r+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#d),this.div.addEventListener("focusout",this.#f);const[e,t]=this.getInitialTranslation();return this.translate(e,t),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(e){const t=r.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&t?e.preventDefault():(e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#p=!0)}getRect(e,t){const[n,r]=this.parent.viewportBaseDimensions,[i,o]=this.parent.pageDimensions,s=i*e/n,a=o*t/r,c=this.x*i,l=this.y*o,u=this.width*i,h=this.height*o;switch(this.rotation){case 0:return[c+s,o-l-a-h,c+s+u,o-l-a];case 90:return[c+a,o-l+s,c+a+h,o-l+s+u];case 180:return[c-s-u,o-l+a,c-s,o-l+a+h];case 270:return[c-a-h,o-l-s-u,c-a,o-l-s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,o]=e,s=i-n,a=o-r;switch(this.rotation){case 0:return[n,t-o,s,a];case 90:return[n,t-r,a,s];case 180:return[i,t-r,s,a];case 270:return[i,t-o,a,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#m=!0}disableEditMode(){this.#m=!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#d)}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(e,t){const n=new this.prototype.constructor({parent:t,id:t.getNextId()});n.rotation=e.rotation;const[r,i]=t.pageDimensions,[o,s,a,c]=n.getRectInCurrentCoords(e.rect,i);return n.x=o/r,n.y=s/i,n.width=a/r,n.height=c/i,n}remove(){this.div.removeEventListener("focusin",this.#d),this.div.removeEventListener("focusout",this.#f),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(e,t){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(e){this.#g=e,e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}t.AnnotationEditor=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),i=n(8);class o{#v=0;getId(){return`${r.AnnotationEditorPrefix}${this.#v++}`}}class s{#b=[];#w=!1;#C;#S=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#C=e}add(e){let{cmd:t,undo:n,mustExec:r,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:s=!1}=e;if(r&&t(),this.#w)return;const a={cmd:t,undo:n,type:i};if(-1===this.#S)return this.#b.length>0&&(this.#b.length=0),this.#S=0,void this.#b.push(a);if(o&&this.#b[this.#S].type===i)return s&&(a.undo=this.#b[this.#S].undo),void(this.#b[this.#S]=a);const c=this.#S+1;c===this.#C?this.#b.splice(0,1):(this.#S=c,c<this.#b.length&&this.#b.splice(c)),this.#b.push(a)}undo(){-1!==this.#S&&(this.#w=!0,this.#b[this.#S].undo(),this.#w=!1,this.#S-=1)}redo(){this.#S<this.#b.length-1&&(this.#S+=1,this.#w=!0,this.#b[this.#S].cmd(),this.#w=!1)}hasSomethingToUndo(){return-1!==this.#S}hasSomethingToRedo(){return this.#S<this.#b.length-1}destroy(){this.#b=null}}t.CommandManager=s;class a{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const t=a.platform.isMac;for(const[n,r]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),r),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,r),this.allKeys.add(e.split("+").at(-1)))}}static get platform(){const e="undefined"!==typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}#A(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#A(t));n&&(n.bind(e)(),t.stopPropagation(),t.preventDefault())}}t.KeyboardManager=a;class c{#k=null;copy(e){e&&(Array.isArray(e)?this.#k=e.map((e=>e.serialize())):this.#k=[e.serialize()],this.#k=this.#k.filter((e=>!!e)),0===this.#k.length&&(this.#k=null))}paste(){return this.#k}isEmpty(){return null===this.#k}destroy(){this.#k=null}}class l{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}convert(e){const t=(0,i.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return l._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?r.Util.makeHexColor(...t):e}}t.ColorManager=l;class u{#x=null;#T=(()=>new Map)();#E=(()=>new Map)();#_=(()=>new c)();#I=(()=>new s)();#P=0;#R=null;#N=null;#O=(()=>new o)();#F=!1;#M=(()=>r.AnnotationEditorType.NONE)();#D=(()=>new Set)();#L=this.keydown.bind(this);#j=this.onEditingAction.bind(this);#U=this.onPageChanging.bind(this);#B={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#q=null;static _keyboardManager=(()=>new a([[["ctrl+a","mac+meta+a"],u.prototype.selectAll],[["ctrl+c","mac+meta+c"],u.prototype.copy],[["ctrl+v","mac+meta+v"],u.prototype.paste],[["ctrl+x","mac+meta+x"],u.prototype.cut],[["ctrl+z","mac+meta+z"],u.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],u.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],u.prototype.delete],[["Escape","mac+Escape"],u.prototype.unselectAll]]))();constructor(e,t){this.#q=e,this.#N=t,this.#N._on("editingaction",this.#j),this.#N._on("pagechanging",this.#U)}destroy(){this.#z(),this.#N._off("editingaction",this.#j),this.#N._off("pagechanging",this.#U);for(const e of this.#E.values())e.destroy();this.#E.clear(),this.#T.clear(),this.#x=null,this.#D.clear(),this.#_.destroy(),this.#I.destroy()}onPageChanging(e){let{pageNumber:t}=e;this.#P=t-1}focusMainContainer(){this.#q.focus()}#V(){this.#q.addEventListener("keydown",this.#L)}#z(){this.#q.removeEventListener("keydown",this.#L)}keydown(e){this.getActive()?.shouldGetKeyboardEvents()||u._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","cut","copy","paste","delete","selectAll"].includes(e.name)&&this[e.name]()}#H(e){Object.entries(e).some((e=>{let[t,n]=e;return this.#B[t]!==n}))&&this.#N.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#B,e)})}#W(e){this.#N.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#V(),this.#H({isEditing:this.#M!==r.AnnotationEditorType.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#I.hasSomethingToUndo(),hasSomethingToRedo:this.#I.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#_.isEmpty()})):(this.#z(),this.#H({isEditing:!1}))}registerEditorTypes(e){this.#R=e;for(const t of this.#R)this.#W(t.defaultPropertiesToUpdate)}getId(){return this.#O.getId()}addLayer(e){this.#E.set(e.pageIndex,e),this.#F?e.enable():e.disable()}removeLayer(e){this.#E.delete(e.pageIndex)}updateMode(e){if(this.#M=e,e===r.AnnotationEditorType.NONE)this.setEditingState(!1),this.#G();else{this.setEditingState(!0),this.#X();for(const t of this.#E.values())t.updateMode(e)}}updateToolbar(e){e!==this.#M&&this.#N.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){for(const n of this.#D)n.updateParams(e,t);for(const n of this.#R)n.updateDefaultParams(e,t)}#X(){if(!this.#F){this.#F=!0;for(const e of this.#E.values())e.enable()}}#G(){if(this.unselectAll(),this.#F){this.#F=!1;for(const e of this.#E.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#T.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#T.get(e)}addEditor(e){this.#T.set(e.id,e)}removeEditor(e){this.#T.delete(e.id),this.unselect(e)}#Y(e){const t=this.#E.get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}setActiveEditor(e){this.#x!==e&&(this.#x=e,e&&this.#W(e.propertiesToUpdate))}toggleSelected(e){if(this.#D.has(e))return this.#D.delete(e),e.unselect(),void this.#H({hasSelectedEditor:this.hasSelection});this.#D.add(e),e.select(),this.#W(e.propertiesToUpdate),this.#H({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#D)t!==e&&t.unselect();this.#D.clear(),this.#D.add(e),e.select(),this.#W(e.propertiesToUpdate),this.#H({hasSelectedEditor:!0})}isSelected(e){return this.#D.has(e)}unselect(e){e.unselect(),this.#D.delete(e),this.#H({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#D.size}undo(){this.#I.undo(),this.#H({hasSomethingToUndo:this.#I.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()})}redo(){this.#I.redo(),this.#H({hasSomethingToUndo:!0,hasSomethingToRedo:this.#I.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#I.add(e),this.#H({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}#K(){if(0===this.#T.size)return!0;if(1===this.#T.size)for(const e of this.#T.values())return e.isEmpty();return!1}delete(){if(this.#x&&this.#x.commitOrRemove(),!this.hasSelection)return;const e=[...this.#D];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Y(t)},mustExec:!0})}copy(){if(this.#x&&this.#x.commitOrRemove(),this.hasSelection){const e=[];for(const t of this.#D)t.isEmpty()||e.push(t);if(0===e.length)return;this.#_.copy(e),this.#H({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#_.isEmpty())return;this.unselectAll();const e=this.#E.get(this.#P),t=this.#_.paste().map((t=>e.deserialize(t)));this.addCommands({cmd:()=>{for(const e of t)this.#Y(e);this.#Q(t)},undo:()=>{for(const e of t)e.remove()},mustExec:!0})}#Q(e){this.#D.clear();for(const t of e)t.isEmpty()||(this.#D.add(t),t.select());this.#H({hasSelectedEditor:!0})}selectAll(){for(const e of this.#D)e.commit();this.#Q(this.#T.values())}unselectAll(){if(this.#x)this.#x.commitOrRemove();else if(0!==this.#Q.size){for(const e of this.#D)e.unselect();this.#D.clear(),this.#H({hasSelectedEditor:!1})}}isActive(e){return this.#x===e}getActive(){return this.#x}getMode(){return this.#M}}t.AnnotationEditorUIManager=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,m(r))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e.getTransform();return[t,n,r,i,o,s]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e.getTransform().invertSelf();return[t,n,r,i,o,s]},t.getFilenameFromUrl=function(e){const t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.getPdfFilenameFromUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(f(e))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let o=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch(s){}return o||t},t.getRGB=m,t.getXfaPageViewport=function(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:o}=e.attributes.style,s=[0,0,parseInt(i),parseInt(o)];return new h({viewBox:s,scale:n,rotation:r})},t.isDataScheme=f,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=p,t.loadScript=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,r)=>{const i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).append(i)}))};var r=n(9),i=n(1);t.AnnotationPrefix="pdfjs_internal_id_";class o{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}t.PixelsPerInch=o;class s extends r.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(p(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,i.stringToBytes)(await n.text())}return new Promise(((n,r)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),t&&(o.responseType="arraybuffer"),o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){let e;if(t&&o.response?e=new Uint8Array(o.response):!t&&o.responseText&&(e=(0,i.stringToBytes)(o.responseText)),e)return void n(e)}r(new Error(o.statusText))}},o.send(null)}))}t.DOMCanvasFactory=s;class c extends r.BaseCMapReaderFactory{_fetchData(e,t){return a(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=c;class l extends r.BaseStandardFontDataFactory{_fetchData(e){return a(e,!0)}}t.DOMStandardFontDataFactory=l;class u extends r.BaseSVGFactory{_createSVG(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}t.DOMSVGFactory=u;class h{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=o;const a=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let l,u,h,d,f,p,g,m;switch(r%=360,r<0&&(r+=360),r){case 180:l=-1,u=0,h=0,d=1;break;case 90:l=0,u=1,h=1,d=0;break;case 270:l=0,u=-1,h=-1,d=0;break;case 0:l=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(h=-h,d=-d),0===l?(f=Math.abs(c-t[1])*n+i,p=Math.abs(a-t[0])*n+o,g=Math.abs(t[3]-t[1])*n,m=Math.abs(t[2]-t[0])*n):(f=Math.abs(a-t[0])*n+i,p=Math.abs(c-t[1])*n+o,g=Math.abs(t[2]-t[0])*n,m=Math.abs(t[3]-t[1])*n),this.transform=[l*n,u*n,h*n,d*n,f-l*n*a-h*n*c,p-u*n*a-d*n*c],this.width=g,this.height=m}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return i.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=h;class d extends i.BaseException{constructor(e,t){super(e,"RenderingCancelledException"),this.type=t}}function f(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function p(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(n){return!1}}let g;function m(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,i.warn)(`Not a valid color format: "${e}"`),[0,0,0])}t.RenderingCancelledException=d,t.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(e){e in this.started&&(0,i.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,i.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const n of this.times){const e=n.name;e.length>t&&(t=e.length)}for(const n of this.times){const r=n.end-n.start;e.push(`${n.name.padEnd(t)} ${r}ms\n`)}return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!==typeof e)return null;g||(g=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let a=parseInt(t[6],10);a=a>=0&&a<=59?a:0;const c=t[7]||"Z";let l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===c?(o+=l,s+=u):"+"===c&&(o-=l,s-=u),new Date(Date.UTC(n,r,i,o,s,a))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=i;class o{constructor(e){let{baseUrl:t=null,isCompressed:n=!1}=e;this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,i).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=o;class s{constructor(e){let{baseUrl:t=null}=e;this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=s;class a{constructor(){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);const i=3285377520,o=4294901760,s=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:i,this.h2=e?4294967295&e:i}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const i=n>>2,a=n-4*i,c=new Uint32Array(t.buffer,0,i);let l=0,u=0,h=this.h1,d=this.h2;const f=3432918353,p=461845907,g=11601,m=13715;for(let r=0;r<i;r++)1&r?(l=c[r],l=l*f&o|l*g&s,l=l<<15|l>>>17,l=l*p&o|l*m&s,h^=l,h=h<<13|h>>>19,h=5*h+3864292196):(u=c[r],u=u*f&o|u*g&s,u=u<<15|u>>>17,u=u*p&o|u*m&s,d^=u,d=d<<13|d>>>19,d=5*d+3864292196);switch(l=0,a){case 3:l^=t[4*i+2]<<16;case 2:l^=t[4*i+1]<<8;case 1:l^=t[4*i],l=l*f&o|l*g&s,l=l<<15|l>>>17,l=l*p&o|l*m&s,1&i?h^=l:d^=l}this.h1=h,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;e^=t>>>1,e=3981806797*e&o|36045*e&s,t=4283543511*t&o|(2950163797*(t<<16|e>>>16)&o)>>>16,e^=t>>>1,e=444984403*e&o|60499*e&s,t=3301882366*t&o|(3120437893*(t<<16|e>>>16)&o)>>>16,e^=t>>>1;const n=(e>>>0).toString(16),r=(t>>>0).toString(16);return n.padStart(8,"0")+r.padStart(8,"0")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1);class i{constructor(e){let{docId:t,onUnsupportedFeature:n,ownerDocument:o=globalThis.document,styleElement:s=null}=e;this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=n,this._document=o,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(t));const n=t.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent([t],[e],r)}))}}_queueLoadingCallback(e){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,t,n){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let o;t.FontLoader=o,t.FontLoader=o=class extends i{constructor(e){super(e),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;if("undefined"===typeof navigator)e=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t?.[1]>=14&&(e=!0)}return(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const t=this.loadingContext,n={id:"pdfjs-font-loading-"+t.nextRequestId++,done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){const e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t,n){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function o(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let s,a;const c=this._document.createElement("canvas");c.width=1,c.height=1;const l=c.getContext("2d");let u=0;const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=o(d,976,h.length,h);const f=1482184792;let p=i(d,16);for(s=0,a=h.length-3;s<a;s+=4)p=p-f+i(h,s)|0;s<h.length&&(p=p-f+i(h+"XXX",s)|0),d=o(d,16,4,(0,r.string32)(p));const g=`@font-face {font-family:"${h}";src:url(data:font/opentype;base64,${btoa(d)});}`;this.insertRule(g);const m=[];for(const r of t)m.push(r.loadedName);m.push(h);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const r of m){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=r,y.append(e)}this._document.body.append(y),function e(t,n){if(u++,u>30)return(0,r.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(h,(()=>{y.remove(),n.complete()}))}},t.FontFaceObject=class{constructor(e,t){let{isEvalSupported:n=!0,disableFontFace:r=!1,ignoreErrors:i=!1,onUnsupportedFeature:o,fontRegistry:s=null}=t;this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.isEvalSupported=!1!==n,this.disableFontFace=!0===r,this.ignoreErrors=!0===i,this._onUnsupportedFeature=o,this.fontRegistry=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){if(!this.ignoreErrors)throw i;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${i}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(8),i=n(1),o=n(13),s=n(14),a=n(3);const c=4096,l=a.isNodeJS&&"undefined"===typeof Path2D?-1:1e3,u=16;class h{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function d(e,t,n,i,o,s,a,c,l,u){const[h,d,f,p,g,m]=(0,r.getCurrentTransform)(e);if(0===d&&0===f){const r=a*h+g,y=Math.round(r),v=c*p+m,b=Math.round(v),w=(a+l)*h+g,C=Math.abs(Math.round(w)-y)||1,S=(c+u)*p+m,A=Math.abs(Math.round(S)-b)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(p),y,b),e.drawImage(t,n,i,o,s,0,0,C,A),e.setTransform(h,d,f,p,g,m),[C,A]}if(0===h&&0===p){const r=c*f+g,y=Math.round(r),v=a*d+m,b=Math.round(v),w=(c+u)*f+g,C=Math.abs(Math.round(w)-y)||1,S=(a+l)*d+m,A=Math.abs(Math.round(S)-b)||1;return e.setTransform(0,Math.sign(d),Math.sign(f),0,y,b),e.drawImage(t,n,i,o,s,0,0,A,C),e.setTransform(h,d,f,p,g,m),[A,C]}return e.drawImage(t,n,i,o,s,a,c,l,u),[Math.hypot(h,d)*l,Math.hypot(f,p)*u]}class f{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=i.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=i.Util.applyTransform(t,e),r=i.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],r[0]),this.minY=Math.min(this.minY,n[1],r[1]),this.maxX=Math.max(this.maxX,n[0],r[0]),this.maxY=Math.max(this.maxY,n[1],r[1])}updateScalingPathMinMax(e,t){i.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,o,s,a,c,l,u){const h=i.Util.bezierBoundingBox(t,n,r,o,s,a,c,l);if(u)return u[0]=Math.min(u[0],h[0],h[2]),u[1]=Math.max(u[1],h[0],h[2]),u[2]=Math.min(u[2],h[1],h[3]),void(u[3]=Math.max(u[3],h[1],h[3]));this.updateRectMinMax(e,h)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===o.PathType.STROKE){t||(0,i.unreachable)("Stroke bounding box must include transform.");const e=i.Util.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,o=e[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const e=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const r=t.height,o=t.width,s=r%u,a=(r-s)/u,c=0===s?a:a+1,l=e.createImageData(o,u);let h,d=0;const f=t.data,p=l.data;let g,m,y,v,b,w,C,S;if(n)switch(n.length){case 1:b=n[0],w=n[0],C=n[0],S=n[0];break;case 4:b=n[0],w=n[1],C=n[2],S=n[3]}if(t.kind===i.ImageKind.GRAYSCALE_1BPP){const t=f.byteLength,n=new Uint32Array(p.buffer,0,p.byteLength>>2),r=n.length,v=o+7>>3;let b=4294967295,w=i.FeatureTest.isLittleEndian?4278190080:255;for(S&&255===S[0]&&0===S[255]&&([b,w]=[w,b]),g=0;g<c;g++){for(y=g<a?u:s,h=0,m=0;m<y;m++){const e=t-d;let r=0;const i=e>v?o:8*e-7,s=-8&i;let a=0,c=0;for(;r<s;r+=8)c=f[d++],n[h++]=128&c?b:w,n[h++]=64&c?b:w,n[h++]=32&c?b:w,n[h++]=16&c?b:w,n[h++]=8&c?b:w,n[h++]=4&c?b:w,n[h++]=2&c?b:w,n[h++]=1&c?b:w;for(;r<i;r++)0===a&&(c=f[d++],a=128),n[h++]=c&a?b:w,a>>=1}for(;h<r;)n[h++]=0;e.putImageData(l,0,g*u)}}else if(t.kind===i.ImageKind.RGBA_32BPP){const t=!!(b||w||C);for(m=0,v=o*u*4,g=0;g<a;g++){if(p.set(f.subarray(d,d+v)),d+=v,t)for(let e=0;e<v;e+=4)b&&(p[e+0]=b[p[e+0]]),w&&(p[e+1]=w[p[e+1]]),C&&(p[e+2]=C[p[e+2]]);e.putImageData(l,0,m),m+=u}if(g<c){if(v=o*s*4,p.set(f.subarray(d,d+v)),t)for(let e=0;e<v;e+=4)b&&(p[e+0]=b[p[e+0]]),w&&(p[e+1]=w[p[e+1]]),C&&(p[e+2]=C[p[e+2]]);e.putImageData(l,0,m)}}else{if(t.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);{const t=!!(b||w||C);for(y=u,v=o*y,g=0;g<c;g++){for(g>=a&&(y=s,v=o*y),h=0,m=v;m--;)p[h++]=f[d++],p[h++]=f[d++],p[h++]=f[d++],p[h++]=255;if(t)for(let e=0;e<h;e+=4)b&&(p[e+0]=b[p[e+0]]),w&&(p[e+1]=w[p[e+1]]),C&&(p[e+2]=C[p[e+2]]);e.putImageData(l,0,g*u)}}}}function g(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%u,o=(n-i)/u,a=0===i?o:o+1,c=e.createImageData(r,u);let l=0;const h=t.data,d=c.data;for(let f=0;f<a;f++){const t=f<o?u:i;({srcPos:l}=(0,s.applyMaskImageData)({src:h,srcPos:l,dest:d,width:r,height:t})),e.putImageData(c,0,f*u)}}function m(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,i=n.length;r<i;r++){const i=n[r];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function y(e,t){e.strokeStyle=e.fillStyle=t||"#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function v(e,t,n,r){const i=e.length;for(let o=3;o<i;o+=4){const i=e[o];if(0===i)e[o-3]=t,e[o-2]=n,e[o-1]=r;else if(i<255){const s=255-i;e[o-3]=e[o-3]*i+t*s>>8,e[o-2]=e[o-2]*i+n*s>>8,e[o-1]=e[o-1]*i+r*s>>8}}}function b(e,t,n){const r=e.length,i=1/255;for(let o=3;o<r;o+=4){const r=n?n[e[o]]:e[o];t[o]=t[o]*r*i|0}}function w(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function C(e,t,n,r){const i=r[0],o=r[1],s=r[2]-i,a=r[3]-o;0!==s&&0!==a&&(function(e,t,n,r,i,o,s,a,c,l,u){const h=!!o,d=h?o[0]:0,f=h?o[1]:0,p=h?o[2]:0;let g;g="Luminosity"===i?w:b;const m=Math.min(r,Math.ceil(1048576/n));for(let y=0;y<r;y+=m){const i=Math.min(m,r-y),o=e.getImageData(a-l,y+(c-u),n,i),b=t.getImageData(a,y+c,n,i);h&&v(o.data,d,f,p),g(o.data,b.data,s),t.putImageData(b,a,y+c)}}(t.context,n,s,a,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function S(e,t){const n=i.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=o||n[1]<=o}const A=["butt","round","square"],k=["miter","round","bevel"],x={},T={};class E{constructor(e,t,n,r,i,o,s,a){this.ctx=e,this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=a?.background||null,this.foregroundColor=a?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:o=null}=e;const s=this.ctx.canvas.width,a=this.ctx.canvas.height,c=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const e=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const t=this.backgroundColor=this.ctx.fillStyle;let n=!0,i=c;if(this.ctx.fillStyle=c,i=this.ctx.fillStyle,n="string"===typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i),"#000000"===e&&"#ffffff"===t||e===t||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,o,s]=(0,r.getRGB)(i),a=e=>(e/=255)<=.03928?e/12.92:((e+.055)/1.055)**2.4,c=Math.round(.2126*a(n)+.7152*a(o)+.0722*a(s));this.selectColor=(n,r,i)=>{const o=.2126*a(n)+.7152*a(r)+.0722*a(i);return Math.round(o)===c?t:e}}}if(this.ctx.fillStyle=this.backgroundColor||c,this.ctx.fillRect(0,0,s,a),this.ctx.restore(),i){const e=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),y(this.ctx,this.foregroundColor),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx),this.imageLayer&&((0,r.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(e,t,n,r){const o=e.argsArray,s=e.fnArray;let a=t||0;const c=o.length;if(c===a)return a;const l=c-a>10&&"function"===typeof n,u=l?Date.now()+15:0;let h=0;const d=this.commonObjs,f=this.objs;let p;for(;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(p=s[a],p!==i.OPS.dependency)this[p].apply(this,o[a]);else for(const e of o[a]){const t=e.startsWith("g_")?d:f;if(!t.has(e))return t.get(e,n),a}if(a++,a===c)return a;if(l&&++h>10){if(Date.now()>u)return n(),a;h=0}}}#J(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#J(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(e,t){const n=e.width,r=e.height;let i,o,s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),c=n,l=r,u="prescale1";for(;s>2&&c>1||a>2&&l>1;){let t=c,n=l;s>2&&c>1&&(t=Math.ceil(c/2),s/=c/t),a>2&&l>1&&(n=Math.ceil(l/2),a/=l/n),i=this.cachedCanvases.getCanvas(u,t,n),o=i.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,c,l,0,0,t,n),e=i.canvas,c=t,l=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,a=this.current.fillColor,c=this.current.patternFill,l=(0,r.getCurrentTransform)(t);let u,h,f,p;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer,n=l.slice(0,4);h=JSON.stringify(c?n:[n,a]),u=this._cachedBitmapsMap.get(t),u||(u=new Map,this._cachedBitmapsMap.set(t,u));const r=u.get(h);if(r&&!c)return{canvas:r,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};f=r}f||(p=this.cachedCanvases.getCanvas("maskCanvas",n,s),g(p.context,e));let m=i.Util.transform(l,[1/n,0,0,-1/s,0,0]);m=i.Util.transform(m,[1,0,0,1,0,-s]);const y=i.Util.applyTransform([0,0],m),v=i.Util.applyTransform([n,s],m),b=i.Util.normalizeRect([y[0],y[1],v[0],v[1]]),w=Math.round(b[2]-b[0])||1,C=Math.round(b[3]-b[1])||1,A=this.cachedCanvases.getCanvas("fillCanvas",w,C),k=A.context,x=Math.min(y[0],v[0]),T=Math.min(y[1],v[1]);k.translate(-x,-T),k.transform(...m),f||(f=this._scaleImage(p.canvas,(0,r.getCurrentTransformInverse)(k)),f=f.img,u&&c&&u.set(h,f)),k.imageSmoothingEnabled=S((0,r.getCurrentTransform)(k),e.interpolate),d(k,f,0,0,f.width,f.height,0,0,n,s),k.globalCompositeOperation="source-in";const E=i.Util.transform((0,r.getCurrentTransformInverse)(k),[1,0,0,1,-x,-T]);return k.fillStyle=c?a.getPattern(t,this,E,o.PathType.FILL):a,k.fillRect(0,0,n,s),u&&!c&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,A.canvas)),{canvas:A.canvas,offsetX:Math.round(x),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=A[e]}setLineJoin(e){this.ctx.lineJoin=k[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n[0],i=n[1];switch(r){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const o=this.ctx;o.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),m(this.suspendedCtx,o),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,o,s){t.transform(e,n,r,i,o,s),this.__originalTransform(e,n,r,i,o,s)},e.setTransform=function(e,n,r,i,o,s){t.setTransform(e,n,r,i,o,s),this.__originalSetTransform(e,n,r,i,o,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,o,s){t.bezierCurveTo(e,n,r,i,o,s),this.__originalBezierCurveTo(e,n,r,i,o,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;C(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,o){this.ctx.transform(e,t,n,r,i,o),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const o=this.ctx,s=this.current;let a,c,l=s.x,u=s.y;const h=(0,r.getCurrentTransform)(o),d=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],f=d?n.slice(0):null;for(let r=0,p=0,g=e.length;r<g;r++)switch(0|e[r]){case i.OPS.rectangle:l=t[p++],u=t[p++];const e=t[p++],n=t[p++],r=l+e,g=u+n;o.moveTo(l,u),0===e||0===n?o.lineTo(r,g):(o.lineTo(r,u),o.lineTo(r,g),o.lineTo(l,g)),d||s.updateRectMinMax(h,[l,u,r,g]),o.closePath();break;case i.OPS.moveTo:l=t[p++],u=t[p++],o.moveTo(l,u),d||s.updatePathMinMax(h,l,u);break;case i.OPS.lineTo:l=t[p++],u=t[p++],o.lineTo(l,u),d||s.updatePathMinMax(h,l,u);break;case i.OPS.curveTo:a=l,c=u,l=t[p+4],u=t[p+5],o.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],l,u),s.updateCurvePathMinMax(h,a,c,t[p],t[p+1],t[p+2],t[p+3],l,u,f),p+=6;break;case i.OPS.curveTo2:a=l,c=u,o.bezierCurveTo(l,u,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(h,a,c,l,u,t[p],t[p+1],t[p+2],t[p+3],f),l=t[p+2],u=t[p+3],p+=4;break;case i.OPS.curveTo3:a=l,c=u,l=t[p+2],u=t[p+3],o.bezierCurveTo(t[p],t[p+1],l,u,l,u),s.updateCurvePathMinMax(h,a,c,t[p],t[p+1],l,u,l,u,f),p+=4;break;case i.OPS.closePath:o.closePath()}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(l,u)}closePath(){this.ctx.closePath()}stroke(e){e="undefined"===typeof e||e;const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),o.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e){e="undefined"===typeof e||e;const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),o.PathType.FILL),i=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=x}eoClip(){this.pendingClip=T}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif";let s="normal";n.black?s="900":n.bold&&(s="bold");const a=n.italic?"italic":"normal",c=`"${o}", ${n.fallbackName}`;let l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font=`${a} ${s} ${l}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,o){this.current.textMatrix=[e,t,n,r,i,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,o){const s=this.ctx,a=this.current,c=a.font,l=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,h=l&i.TextRenderingMode.FILL_STROKE_MASK,d=!!(l&i.TextRenderingMode.ADD_TO_PATH_FLAG),f=a.patternFill&&!c.missingFile;let p;(c.disableFontFace||d||f)&&(p=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||f?(s.save(),s.translate(t,n),s.beginPath(),p(s,u),o&&s.setTransform(...o),h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fill(),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(s),x:t,y:n,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(0===s)return;const a=this.ctx,c=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,f=e.length,p=n.vertical,g=p?1:-1,m=n.defaultVMetrics,y=s*t.fontMatrix[0],v=t.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let b;if(a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),h>0?a.scale(d,-1):a.scale(d,1),t.patternFill){a.save();const e=t.fillColor.getPattern(a,this,(0,r.getCurrentTransformInverse)(a),o.PathType.FILL);b=(0,r.getCurrentTransform)(a),a.restore(),a.fillStyle=e}let w=t.lineWidth;const C=t.textMatrixScale;if(0===C||0===w){const e=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;e!==i.TextRenderingMode.STROKE&&e!==i.TextRenderingMode.FILL_STROKE||(w=this.getSinglePixelWidth())}else w/=C;1!==c&&(a.scale(c,c),w/=c),a.lineWidth=w;let S,A=0;for(S=0;S<f;++S){const t=e[S];if("number"===typeof t){A+=g*t*s/1e3;continue}let r=!1;const i=(t.isSpace?u:0)+l,o=t.fontChar,d=t.accent;let f,w,C,k=t.width;if(p){const e=t.vmetric||m,n=-(t.vmetric?e[1]:.5*k)*y,r=e[2]*y;k=e?-e[0]:k,f=n/c,w=(A+r)/c}else f=A/c,w=0;if(n.remeasure&&k>0){const e=1e3*a.measureText(o).width/s*c;if(k<e&&this.isFontSubpixelAAEnabled){const t=k/e;r=!0,a.save(),a.scale(t,1),f/=t}else k!==e&&(f+=(k-e)/2e3*s/c)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(v&&!d)a.fillText(o,f,w);else if(this.paintChar(o,f,w,b),d){const e=f+s*d.offset.x/c,t=w-s*d.offset.y/c;this.paintChar(d.fontChar,e,t,b)}C=p?k*y-i*h:k*y+i*h,A+=C,r&&a.restore()}p?t.y-=A:t.x+=A*d,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,s=n.fontDirection,a=r.vertical?1:-1,c=n.charSpacing,l=n.wordSpacing,u=n.textHScale*s,h=n.fontMatrix||i.FONT_IDENTITY_MATRIX,d=e.length;let f,p,g,m;if(n.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==o){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,s),f=0;f<d;++f){if(p=e[f],"number"===typeof p){m=a*p*o/1e3,this.ctx.translate(m,0),n.x+=m*u;continue}const s=(p.isSpace?l:0)+c,d=r.charProcOperatorList[p.operatorListId];d?(this.contentVisible&&(this.processingType3=p,this.save(),t.scale(o,o),t.transform(...h),this.executeOperatorList(d),this.restore()),g=i.Util.applyTransform([p.width,0],h)[0]*o+s,t.translate(g,0),n.x+=g*u):(0,i.warn)(`Type3 character "${p.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),s={createCanvasGraphics:e=>new E(e,this.commonObjs,this.objs,this.canvasFactory)};t=new o.TilingPattern(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const r=this.selectColor?.(e,t,n)||i.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,n){const r=this.selectColor?.(e,t,n)||i.Util.makeHexColor(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,o.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),o.PathType.SHADING);const s=(0,r.getCurrentTransformInverse)(t);if(s){const e=t.canvas,n=e.width,r=e.height,o=i.Util.applyTransform([0,0],s),a=i.Util.applyTransform([0,r],s),c=i.Util.applyTransform([n,0],s),l=i.Util.applyTransform([n,r],s),u=Math.min(o[0],a[0],c[0],l[0]),h=Math.min(o[1],a[1],c[1],l[1]),d=Math.max(o[0],a[0],c[0],l[0]),f=Math.max(o[1],a[1],c[1],l[1]);this.ctx.fillRect(u,h,d-u,f-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,i.info)("TODO: Support non-isolated groups."),e.knockout&&(0,i.warn)("Knockout groups not supported.");const n=(0,r.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=i.Util.getAxialAlignedBoundingBox(e.bbox,(0,r.getCurrentTransform)(t));const s=[0,0,t.canvas.width,t.canvas.height];o=i.Util.intersect(o,s)||[0,0,0,0];const a=Math.floor(o[0]),l=Math.floor(o[1]);let u=Math.max(Math.ceil(o[2])-a,1),h=Math.max(Math.ceil(o[3])-l,1),d=1,f=1;u>c&&(d=u/c,u=c),h>c&&(f=h/c,h=c),this.current.startNewPathAndClipBox([0,0,u,h]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,u,h),y=g.context;y.scale(1/d,1/f),y.translate(-a,-l),y.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:y,offsetX:a,offsetY:l,scaleX:d,scaleY:f,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,l),t.scale(d,f),t.save()),m(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=i.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,o,s){if(this.#J(),y(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=o,t[3]=a;const[s,c]=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:l}=this,u=Math.ceil(o*this.outputScaleX*l),h=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:d,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.setTransform(s,0,0,-c,0,a*c),y(this.ctx,this.foregroundColor)}else y(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>l||n>l)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let o,s,a,c=new Uint8Array(i*(n+1));const u=t+7&-8;let h=new Uint8Array(u*n),d=0;for(const l of e.data){let e=128;for(;e>0;)h[d++]=l&e?0:255,e>>=1}let f=0;for(d=0,0!==h[d]&&(c[0]=1,++f),s=1;s<t;s++)h[d]!==h[d+1]&&(c[s]=h[d]?2:1,++f),d++;for(0!==h[d]&&(c[s]=2,++f),o=1;o<n;o++){d=o*u,a=o*i,h[d-u]!==h[d]&&(c[a]=h[d]?1:8,++f);let e=(h[d]?4:0)+(h[d-u]?8:0);for(s=1;s<t;s++)e=(e>>2)+(h[d+1]?4:0)+(h[d-u+1]?8:0),r[e]&&(c[a+s]=r[e],++f),d++;if(h[d-u]!==h[d]&&(c[a+s]=h[d]?2:4,++f),f>1e3)return null}for(d=u*(n-1),a=o*i,0!==h[d]&&(c[a]=8,++f),s=1;s<t;s++)h[d]!==h[d+1]&&(c[a+s]=h[d]?4:8,++f),d++;if(0!==h[d]&&(c[a+s]=4,++f),f>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(o=0;f&&o<=n;o++){let e=o*i;const n=e+t;for(;e<n&&!c[e];)e++;if(e===n)continue;g.moveTo(e%i,o);const r=e;let s=c[e];do{const t=p[s];do{e+=t}while(!c[e]);const n=c[e];5!==n&&10!==n?(s=n,c[e]=0):(s=n&51*s>>4,c[e]&=s>>2|s<<2),g.lineTo(e%i,e/i|0),c[e]||--f}while(r!==e);--o}return h=null,c=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(g),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),o=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const l=(0,r.getCurrentTransform)(c);c.transform(t,n,o,s,0,0);const u=this._createMaskCanvas(e);c.setTransform(1,0,0,1,0,0);for(let r=0,h=a.length;r<h;r+=2){const e=i.Util.transform(l,[t,n,o,s,a[r],a[r+1]]),[h,d]=i.Util.applyTransform([0,0],e);c.drawImage(u.canvas,h,d)}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:e,width:a,height:c,transform:l}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,c),h=u.context;h.save(),g(h,this.getObject(e,s)),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,(0,r.getCurrentTransformInverse)(t),o.PathType.FILL):n,h.fillRect(0,0,a,c),h.restore(),t.save(),t.transform(...l),t.scale(1,-1),d(t,u.canvas,0,0,a,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o)return void(0,i.warn)("Dependent image isn't ready yet");const s=o.width,a=o.height,c=[];for(let i=0,l=r.length;i<l;i+=2)c.push({transform:[t,0,0,n,r[i],r[i+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,c)}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,o=this.ctx;let s;if(this.save(),o.scale(1/t,-1/n),"function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n);p(r.context,e,this.current.transferMaps),s=r.canvas}const a=this._scaleImage(s,(0,r.getCurrentTransformInverse)(o));o.imageSmoothingEnabled=S((0,r.getCurrentTransform)(o),e.interpolate);const[c,l]=d(o,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n);if(this.imageLayer){const[t,o]=i.Util.applyTransform([0,-n],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:e,left:t,top:o,width:c,height:l})}this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,o=e.width,s=e.height,a=this.cachedCanvases.getCanvas("inlineImage",o,s);p(a.context,e,this.current.transferMaps);for(const c of t){if(n.save(),n.transform(...c.transform),n.scale(1,-1),d(n,a.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){const[t,n]=i.Util.applyTransform([c.x,c.y],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:e,left:t,top:n,width:o,height:s})}n.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===T?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,r.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,t=(0,r.getCurrentTransform)(this.ctx);let n,i;if(0===t[1]&&0===t[2]){const r=Math.abs(t[0]),o=Math.abs(t[3]);if(0===e)n=1/r,i=1/o;else{const t=r*e,s=o*e;n=t<1?1/t:1,i=s<1?1/s:1}}else{const r=Math.abs(t[0]*t[3]-t[2]*t[1]),o=Math.hypot(t[0],t[1]),s=Math.hypot(t[2],t[3]);if(0===e)n=s/r,i=o/r;else{const t=e*r;n=s>t?s/t:1,i=o>t?o/t:1}}this._cachedScaleForStroking=[n,i]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,o]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===o)return void t.stroke();let s,a,c;e&&(s=(0,r.getCurrentTransform)(t),a=t.getLineDash().slice(),c=t.lineDashOffset),t.scale(i,o);const l=Math.max(i,o);t.setLineDash(t.getLineDash().map((e=>e/l))),t.lineDashOffset/=l,t.stroke(),e&&(t.setTransform(...s),t.setLineDash(a),t.lineDashOffset=c)}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}t.CanvasGraphics=E;for(const _ in i.OPS)void 0!==E.prototype[_]&&(E.prototype[i.OPS[_]]=E.prototype[_])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new d(e);case"Dummy":return new f}throw new Error(`Unknown IR type: ${e[0]}`)};var r=n(1),i=n(8),o=n(3);const s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(e,t){if(!t||o.isNodeJS)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}t.PathType=s;class c{constructor(){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class l extends c{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,o){let c;if(o===s.STROKE||o===s.FILL){const s=t.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(e))||[0,0,0,0],u=Math.ceil(s[2]-s[0])||1,h=Math.ceil(s[3]-s[1])||1,d=t.cachedCanvases.getCanvas("pattern",u,h,!0),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-s[0],-s[1]),n=r.Util.transform(n,[1,0,0,1,s[0],s[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),a(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),c=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);try{c.setTransform(p)}catch(l){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${l?.message}".`)}}else a(e,this._bbox),c=this._createGradient(e);return c}}function u(e,t,n,r,i,o,s,a){const c=t.coords,l=t.colors,u=e.data,h=4*e.width;let d;c[n+1]>c[r+1]&&(d=n,n=r,r=d,d=o,o=s,s=d),c[r+1]>c[i+1]&&(d=r,r=i,i=d,d=s,s=a,a=d),c[n+1]>c[r+1]&&(d=n,n=r,r=d,d=o,o=s,s=d);const f=(c[n]+t.offsetX)*t.scaleX,p=(c[n+1]+t.offsetY)*t.scaleY,g=(c[r]+t.offsetX)*t.scaleX,m=(c[r+1]+t.offsetY)*t.scaleY,y=(c[i]+t.offsetX)*t.scaleX,v=(c[i+1]+t.offsetY)*t.scaleY;if(p>=v)return;const b=l[o],w=l[o+1],C=l[o+2],S=l[s],A=l[s+1],k=l[s+2],x=l[a],T=l[a+1],E=l[a+2],_=Math.round(p),I=Math.round(v);let P,R,N,O,F,M,D,L;for(let j=_;j<=I;j++){if(j<m){let e;e=j<p?0:(p-j)/(p-m),P=f-(f-g)*e,R=b-(b-S)*e,N=w-(w-A)*e,O=C-(C-k)*e}else{let e;e=j>v?1:m===v?0:(m-j)/(m-v),P=g-(g-y)*e,R=S-(S-x)*e,N=A-(A-T)*e,O=k-(k-E)*e}let e;e=j<p?0:j>v?1:(p-j)/(p-v),F=f-(f-y)*e,M=b-(b-x)*e,D=w-(w-T)*e,L=C-(C-E)*e;const t=Math.round(Math.min(P,F)),n=Math.round(Math.max(P,F));let r=h*j+4*t;for(let i=t;i<=n;i++)e=(P-i)/(P-F),e<0?e=0:e>1&&(e=1),u[r++]=R-(R-M)*e|0,u[r++]=N-(N-D)*e|0,u[r++]=O-(O-L)*e|0,u[r++]=255}}function h(e,t,n){const r=t.coords,i=t.colors;let o,s;switch(t.type){case"lattice":const a=t.verticesPerRow,c=Math.floor(r.length/a)-1,l=a-1;for(o=0;o<c;o++){let t=o*a;for(let o=0;o<l;o++,t++)u(e,n,r[t],r[t+1],r[t+a],i[t],i[t+1],i[t+a]),u(e,n,r[t+a+1],r[t+1],r[t+a],i[t+a+1],i[t+1],i[t+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)u(e,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class d extends c{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,a=Math.min(Math.ceil(Math.abs(o*e[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),l=o/a,u=s/c,d={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/l,scaleY:1/u},f=a+4,p=c+4,g=n.getCanvas("mesh",f,p,!1),m=g.context,y=m.createImageData(a,c);if(t){const e=y.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)h(y,v,d);return m.putImageData(y,2,2),{canvas:g.canvas,offsetX:r-2*l,offsetY:i-2*u,scaleX:l,scaleY:u}}getPattern(e,t,n,o){let c;if(a(e,this._bbox),o===s.SHADING)c=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(c=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);c=[c[0]*e[0],c[1]*e[1]]}const l=this._createMeshCanvas(c,o===s.SHADING?null:this._background,t.cachedCanvases);return o!==s.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class f extends c{getPattern(){return"hotpink"}}const p=1,g=2;class m{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,o=this.xstep,s=this.ystep,a=this.paintType,c=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+c);const h=n[0],d=n[1],f=n[2],p=n[3],g=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),y=[g[0]*m[0],g[1]*m[1]],v=this.getSizeAndScale(o,this.ctx.canvas.width,y[0]),b=this.getSizeAndScale(s,this.ctx.canvas.height,y[1]),w=e.cachedCanvases.getCanvas("pattern",v.size,b.size,!0),C=w.context,S=u.createCanvasGraphics(C);S.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(S,a,l);let A=h,k=d,x=f,T=p;return h<0&&(A=0,x+=Math.abs(h)),d<0&&(k=0,T+=Math.abs(d)),C.translate(-v.scale*A,-b.scale*k),S.transform(v.scale,0,0,b.scale,0,0),C.save(),this.clipBbox(S,A,k,x,T),S.baseTransform=(0,i.getCurrentTransform)(S.ctx),S.executeOperatorList(t),S.endDrawing(),{canvas:w.canvas,scaleX:v.scale,scaleY:b.scale,offsetX:A,offsetY:k}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(m.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,o){const s=r-t,a=o-n;e.ctx.rect(t,n,s,a),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,o=e.current;switch(t){case p:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,o.fillColor=e.fillStyle,o.strokeColor=e.strokeStyle;break;case g:const s=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,o.fillColor=s,o.strokeColor=s;break;default:throw new r.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let o=n;i!==s.SHADING&&(o=r.Util.transform(o,t.baseTransform),this.matrix&&(o=r.Util.transform(o,this.matrix)));const a=this.createPatternCanvas(t);let c=new DOMMatrix(o);c=c.translate(a.offsetX,a.offsetY),c=c.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");try{l.setTransform(c)}catch(u){(0,r.warn)(`TilingPattern.getPattern: "${u?.message}".`)}return l}}t.TilingPattern=m},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=function(e){let{src:t,srcPos:n=0,dest:i,destPos:o=0,width:s,height:a,inverseDecode:c=!1}=e;const l=r.FeatureTest.isLittleEndian?4278190080:255,[u,h]=c?[0,l]:[l,0],d=s>>3,f=7&s,p=t.length;i=new Uint32Array(i.buffer);for(let r=0;r<a;r++){for(const r=n+d;n<r;n++){const e=n<p?t[n]:255;i[o++]=128&e?h:u,i[o++]=64&e?h:u,i[o++]=32&e?h:u,i[o++]=16&e?h:u,i[o++]=8&e?h:u,i[o++]=4&e?h:u,i[o++]=2&e?h:u,i[o++]=1&e?h:u}if(0===f)continue;const e=n<p?t[n++]:255;for(let t=0;t<f;t++)i[o++]=e&1<<7-t?h:u}return{srcPos:n,destPos:o}};var r=n(1)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);const i=1,o=2,s=1,a=2,c=3,l=4,u=5,h=6,d=7,f=8;function p(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===i)n.resolve(t.data);else{if(t.callback!==o)throw new Error("Unexpected callback case");n.reject(p(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:s,callback:i,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:s,callback:o,callbackId:t.callbackId,reason:p(r)})}))}else t.streamId?this._createStreamSink(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,o=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,t,n,i){const o=this.streamId++,a=this.sourceName,c=this.targetName,l=this.comObj;return new ReadableStream({start:n=>{const s=(0,r.createPromiseCapability)();return this.streamControllers[o]={controller:n,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:c,action:e,streamId:o,data:t,desiredSize:n.desiredSize},i),s.promise},pull:e=>{const t=(0,r.createPromiseCapability)();return this.streamControllers[o].pullCall=t,l.postMessage({sourceName:a,targetName:c,stream:h,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,r.createPromiseCapability)();return this.streamControllers[o].cancelCall=t,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:a,targetName:c,stream:s,streamId:o,reason:p(e)}),t.promise}},n)}_createStreamSink(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],h={enqueue(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const c=this.desiredSize;this.desiredSize-=s,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:i,stream:l,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:c,streamId:t}),delete s.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:u,streamId:t,reason:p(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,new Promise((function(t){t(a(e.data,h))})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,reason:p(e)})}))}_processStreamMessage(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,o=this.comObj,g=this.streamControllers[t],m=this.streamSinks[t];switch(e.stream){case f:e.success?g.startCall.resolve():g.startCall.reject(p(e.reason));break;case d:e.success?g.pullCall.resolve():g.pullCall.reject(p(e.reason));break;case h:if(!m){o.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,success:!0});break}m.desiredSize<=0&&e.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=e.desiredSize,new Promise((function(e){e(m.onPull&&m.onPull())})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,reason:p(e)})}));break;case l:if((0,r.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(e.chunk);break;case c:if((0,r.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this._deleteStreamController(g,t);break;case u:(0,r.assert)(g,"error should have stream controller"),g.controller.error(p(e.reason)),this._deleteStreamController(g,t);break;case a:e.success?g.cancelCall.resolve():g.cancelCall.reject(p(e.reason)),this._deleteStreamController(g,t);break;case s:if(!m)break;new Promise((function(t){t(m.onCancel&&m.onCancel(p(e.reason)))})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:a,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:i,stream:a,streamId:t,reason:p(e)})})),m.sinkCapability.reject(p(e.reason)),m.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e,t){await Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1);t.Metadata=class{#Z;#$;constructor(e){let{parsedData:t,rawData:n}=e;this.#Z=t,this.#$=n}getRaw(){return this.#$}get(e){return this.#Z.get(e)??null}getAll(){return(0,r.objectFromMap)(this.#Z)}has(e){return this.#Z.has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1);const i=Symbol("INTERNAL");class o{#ee=!0;constructor(e,t){this.name=e,this.intent=t}get visible(){return this.#ee}_setVisible(e,t){e!==i&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#ee=t}}t.OptionalContentConfig=class{#te=!0;#ne=(()=>new Map)();#re=null;#ie=null;constructor(e){if(this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#ie=e.order;for(const t of e.groups)this.#ne.set(t.id,new o(t.name,t.intent));if("OFF"===e.baseState)for(const e of this.#ne.values())e._setVisible(i,!1);for(const t of e.on)this.#ne.get(t)._setVisible(i,!0);for(const t of e.off)this.#ne.get(t)._setVisible(i,!1);this.#re=new Map;for(const[e,t]of this.#ne)this.#re.set(e,t.visible)}}#oe(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let o;if(Array.isArray(t))o=this.#oe(t);else{if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;o=this.#ne.get(t).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}isVisible(e){if(0===this.#ne.size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this.#ne.has(e.id)?this.#ne.get(e.id).visible:((0,r.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#oe(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#ne.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#ne.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#ne.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#ne.get(t).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,r.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.#ne.has(e)?(this.#ne.get(e)._setVisible(i,!!t),this.#te=null):(0,r.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){if(null!==this.#te)return this.#te;for(const[e,t]of this.#ne){const n=this.#re.get(e);if(t.visible!==n)return this.#te=!1}return this.#te=!0}getOrder(){return this.#ne.size?this.#ie?this.#ie.slice():[...this.#ne.keys()]:null}getGroups(){return this.#ne.size>0?(0,r.objectFromMap)(this.#ne):null}getGroup(e){return this.#ne.get(e)||null}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(8);t.PDFDataTransportStream=class{constructor(e,t){(0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const n=e.initialData;if(n?.length>0){const e=new Uint8Array(n).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{const n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){if(void 0===e.total){const t=this._rangeReaders[0];t?.onProgress&&t.onProgress({loaded:e.loaded})}else{const t=this._fullRequestReader;t?.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new o(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}};class o{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){if(!r)return;let i=null;const o=r.name;if("#text"===o)i=r.value;else{if(!n.shouldBuildText(o))return;r?.attributes?.textContent?i=r.attributes.textContent:r.value&&(i=r.value)}if(null!==i&&t.push({str:i}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(9);const i=function(e){return new Promise(((t,n)=>{__webpack_require__(237).readFile(e,((e,r)=>{!e&&r?t(new Uint8Array(r)):n(new Error(e))}))}))};class o extends r.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(640).createCanvas(e,t)}}t.NodeCanvasFactory=o;class s extends r.BaseCMapReaderFactory{_fetchData(e,t){return i(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=s;class a extends r.BaseStandardFontDataFactory{_fetchData(e){return i(e)}}t.NodeStandardFontDataFactory=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(7),i=n(1),o=n(23),s=n(24);class a{#se;#ae=!1;#ce=this.pointerup.bind(this);#le=this.pointerdown.bind(this);#ue=(()=>new Map)();#he=!1;#de=!1;#fe;static _initialized=!1;constructor(e){a._initialized||(a._initialized=!0,o.FreeTextEditor.initialize(e.l10n),s.InkEditor.initialize(e.l10n),e.uiManager.registerEditorTypes([o.FreeTextEditor,s.InkEditor])),this.#fe=e.uiManager,this.annotationStorage=e.annotationStorage,this.pageIndex=e.pageIndex,this.div=e.div,this.#se=e.accessibilityManager,this.#fe.addLayer(this)}updateToolbar(e){this.#fe.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#fe.getMode();this.#pe(),e===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#fe.unselectAll()}addInkEditorIfNeeded(e){if(e||this.#fe.getMode()===i.AnnotationEditorType.INK){if(!e)for(const e of this.#ue.values())if(e.isEmpty())return void e.setInBackground();this.#ge({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(e){this.#fe.setEditingState(e)}addCommands(e){this.#fe.addCommands(e)}enable(){this.div.style.pointerEvents="auto";for(const e of this.#ue.values())e.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const e of this.#ue.values())e.disableEditing()}setActiveEditor(e){this.#fe.getActive()!==e&&this.#fe.setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",this.#le),this.div.addEventListener("pointerup",this.#ce)}disableClick(){this.div.removeEventListener("pointerdown",this.#le),this.div.removeEventListener("pointerup",this.#ce)}attach(e){this.#ue.set(e.id,e)}detach(e){this.#ue.delete(e.id),this.#se?.removePointerInTextLayer(e.contentDiv)}remove(e){this.#fe.removeEditor(e),this.detach(e),this.annotationStorage.remove(e.id),e.div.style.display="none",setTimeout((()=>{e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&this.#fe.focusMainContainer()}),0),this.#de||this.addInkEditorIfNeeded(!1)}#me(e){e.parent!==this&&(this.attach(e),e.pageIndex=this.pageIndex,e.parent?.detach(e),e.parent=this,e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.#me(e),this.#fe.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),this.addToAnnotationStorage(e)}moveEditorInDOM(e){this.#se?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addToAnnotationStorage(e){e.isEmpty()||this.annotationStorage.has(e.id)||this.annotationStorage.setValue(e.id,e)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addANewEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!0})}addUndoableEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#fe.getId()}#ye(e){switch(this.#fe.getMode()){case i.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(e);case i.AnnotationEditorType.INK:return new s.InkEditor(e)}return null}deserialize(e){switch(e.annotationType){case i.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(e,this);case i.AnnotationEditorType.INK:return s.InkEditor.deserialize(e,this)}return null}#ge(e){const t=this.getNextId(),n=this.#ye({parent:this,id:t,x:e.offsetX,y:e.offsetY});return n&&this.add(n),n}setSelected(e){this.#fe.setSelected(e)}toggleSelected(e){this.#fe.toggleSelected(e)}isSelected(e){return this.#fe.isSelected(e)}unselect(e){this.#fe.unselect(e)}pointerup(e){const t=r.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#he&&(this.#he=!1,this.#ae?this.#ge(e):this.#ae=!0)}pointerdown(e){const t=r.KeyboardManager.platform.isMac;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#he=!0;const n=this.#fe.getActive();this.#ae=!n||n.isEmpty()}drop(e){const t=e.dataTransfer.getData("text/plain"),n=this.#fe.getEditor(t);if(!n)return;e.preventDefault(),e.dataTransfer.dropEffect="move",this.#me(n);const r=this.div.getBoundingClientRect(),i=e.clientX-r.x,o=e.clientY-r.y;n.translate(i-n.startX,o-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(e){e.preventDefault()}destroy(){this.#fe.getActive()?.parent===this&&this.#fe.setActiveEditor(null);for(const e of this.#ue.values())this.#se?.removePointerInTextLayer(e.contentDiv),e.isAttachedToDOM=!1,e.div.remove(),e.parent=null;this.div=null,this.#ue.clear(),this.#fe.removeLayer(this)}#pe(){this.#de=!0;for(const e of this.#ue.values())e.isEmpty()&&e.remove();this.#de=!1}render(e){this.viewport=e.viewport,(0,r.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const t of this.#fe.getEditors(this.pageIndex))this.add(t);this.updateMode()}update(e){this.viewport=e.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[e,t,n,r]=this.viewport.viewBox;return[n-e,r-t]}get viewportBaseDimensions(){const{width:e,height:t,rotation:n}=this.viewport;return n%180===0?[e,t]:[t,e]}setDimensions(){const{width:e,height:t,rotation:n}=this.viewport,r=n%180!==0,i=Math.floor(e)+"px",o=Math.floor(t)+"px";this.div.style.width=r?o:i,this.div.style.height=r?i:o,this.div.setAttribute("data-main-rotation",n)}}t.AnnotationEditorLayer=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),i=n(7),o=n(6);class s extends o.AnnotationEditor{#ve=this.editorDivBlur.bind(this);#be=this.editorDivFocus.bind(this);#we=this.editorDivKeydown.bind(this);#Ce;#Se="";#Ae=!1;#ke;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=(()=>new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.prototype.commitOrRemove]]))();static _type="freetext";constructor(e){super({...e,name:"freeTextEditor"}),this.#Ce=e.color||s._defaultColor||o.AnnotationEditor._defaultLineColor,this.#ke=e.fontSize||s._defaultFontSize}static initialize(e){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map((t=>[t,e.get(t)])));const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:s._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:s._defaultColor=t}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#xe(t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#Te(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,s._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,s._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#ke],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#Ce]]}#xe(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#ke)*this.parent.scaleFactor),this.#ke=e,this.#Ee()},n=this.#ke;this.parent.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Te(e){const t=this.#Ce;this.parent.addCommands({cmd:()=>{this.#Ce=e,this.editorDiv.style.color=e},undo:()=>{this.#Ce=t,this.editorDiv.style.color=t},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-s._internalPadding*this.parent.scaleFactor,-(s._internalPadding+this.#ke)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#we),this.editorDiv.addEventListener("focus",this.#be),this.editorDiv.addEventListener("blur",this.#ve))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#we),this.editorDiv.removeEventListener("focus",this.#be),this.editorDiv.removeEventListener("blur",this.#ve),this.div.focus(),this.isEditing=!1)}focusin(e){super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#_e(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n].firstChild;"#text"===r?.nodeName?t.push(r.data):t.push("")}return t.join("\n")}#Ee(){const[e,t]=this.parent.viewportBaseDimensions,n=this.div.getBoundingClientRect();this.width=n.width/e,this.height=n.height/t}commit(){super.commit(),this.#Ae||(this.#Ae=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#Se=this.#_e().trimEnd(),this.#Ee()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(e){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(e){s._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),s._l10nPromise.get("editor_free_text_aria_label").then((e=>this.editorDiv?.setAttribute("aria-label",e))),s._l10nPromise.get("free_text_default_content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#ke}px * var(--scale-factor))`,n.color=this.#Ce,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r);for(const e of this.#Se.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t){const n=super.deserialize(e,t);return n.#ke=e.fontSize,n.#Ce=r.Util.makeHexColor(...e.color),n.#Se=e.value,n}serialize(){if(this.isEmpty())return null;const e=s._internalPadding*this.parent.scaleFactor,t=this.getRect(e,e),n=o.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:n,fontSize:this.#ke,value:this.#Se,pageIndex:this.parent.pageIndex,rect:t,rotation:this.rotation}}}t.FreeTextEditor=s},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return o.fitCurve}});var r=n(1),i=n(6),o=n(25),s=n(7);const a=16;class c extends i.AnnotationEditor{#Ie=0;#Pe=0;#Re=0;#Ne=this.canvasPointermove.bind(this);#Oe=this.canvasPointerleave.bind(this);#Fe=this.canvasPointerup.bind(this);#Me=this.canvasPointerdown.bind(this);#De=!1;#Le=!1;#je=null;#Ue=null;#Be=0;#qe=0;#ze=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(e){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map((t=>[t,e.get(t)])))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:c._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:c._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:c._defaultOpacity=t/100}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#Ve(t);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#Te(t);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#He(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,c._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,c._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*c._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||c._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||c._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??c._defaultOpacity))]]}#Ve(e){const t=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=e,this.#We()},undo:()=>{this.thickness=t,this.#We()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Te(e){const t=this.color;this.parent.addCommands({cmd:()=>{this.color=e,this.#Ke()},undo:()=>{this.color=t,this.#Ke()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#He(e){e/=100;const t=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=e,this.#Ke()},undo:()=>{this.opacity=t,this.#Ke()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#Ge(),this.#Xe()),this.isAttachedToDOM||(this.parent.add(this),this.#Ye()),this.#We())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Ue.disconnect(),this.#Ue=null,super.remove())}enableEditMode(){this.#De||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#Me),this.canvas.addEventListener("pointerup",this.#Fe))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Me),this.canvas.removeEventListener("pointerup",this.#Fe))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Qe(){const{width:e,height:t,rotation:n}=this.parent.viewport;switch(n){case 90:return[0,e,e,t];case 180:return[e,t,e,t];case 270:return[t,0,e,t];default:return[0,0,e,t]}}#Je(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,s.opacityToHex)(this.opacity)}`}#Ze(e,t){this.isEditing=!0,this.#Le||(this.#Le=!0,this.#Ye(),this.thickness||=c._defaultThickness,this.color||=c._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=c._defaultOpacity),this.currentPath.push([e,t]),this.#je=null,this.#Je(),this.ctx.beginPath(),this.ctx.moveTo(e,t),this.#ze=()=>{this.#ze&&(this.#je&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#Ke(),this.ctx.lineTo(...this.#je),this.#je=null,this.ctx.stroke()),window.requestAnimationFrame(this.#ze))},window.requestAnimationFrame(this.#ze)}#$e(e,t){const[n,r]=this.currentPath.at(-1);e===n&&t===r||(this.currentPath.push([e,t]),this.#je=[e,t])}#et(e,t){this.ctx.closePath(),this.#ze=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);const[n,r]=this.currentPath.at(-1);let i;if(e===n&&t===r||this.currentPath.push([e,t]),1!==this.currentPath.length)i=(0,o.fitCurve)(this.currentPath,30,null);else{const n=[e,t];i=[[n,n.slice(),n.slice(),n]]}const s=c.#tt(i);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(i),this.bezierPath2D.push(s),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Ge(),this.#Xe()),this.#We())},mustExec:!0})}#Ke(){if(this.isEmpty())return void this.#nt();this.#Je();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#nt();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#De||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#De=!0,this.div.classList.add("disabled"),this.#We(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(e){super.focusin(e),this.enableEditMode()}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#De&&(this.setInForeground(),"mouse"!==e.type&&this.div.focus(),e.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#Oe),this.canvas.addEventListener("pointermove",this.#Ne),this.#Ze(e.offsetX,e.offsetY))}canvasPointermove(e){e.stopPropagation(),this.#$e(e.offsetX,e.offsetY)}canvasPointerup(e){0===e.button&&this.isInEditMode()&&0!==this.currentPath.length&&(e.stopPropagation(),this.#rt(e),this.setInBackground())}canvasPointerleave(e){this.#rt(e),this.setInBackground()}#rt(e){this.#et(e.offsetX,e.offsetY),this.canvas.removeEventListener("pointerleave",this.#Oe),this.canvas.removeEventListener("pointermove",this.#Ne),this.parent.addToAnnotationStorage(this)}#Ge(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>this.canvas?.setAttribute("aria-label",e))),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Xe(){this.#Ue=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#Ue.observe(this.div)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),c._l10nPromise.get("editor_ink_aria_label").then((e=>this.div?.setAttribute("aria-label",e)));const[n,r,i,o]=this.#Qe();if(this.setAt(n,r,0,0),this.setDims(i,o),this.#Ge(),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this.#Le=!0,this.#Ye(),this.setDims(this.width*n,this.height*r),this.#Ke(),this.#it(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Xe(),this.div}#Ye(){if(!this.#Le)return;const[e,t]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#nt()}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(this.#Be===n&&this.#qe===r)return;this.#Be=n,this.#qe=r,this.canvas.style.visibility="hidden",this.#Ie&&Math.abs(this.#Ie-e/t)>.01&&(t=Math.ceil(e/this.#Ie),this.setDims(e,t));const[i,o]=this.parent.viewportBaseDimensions;this.width=e/i,this.height=t/o,this.#De&&this.#ot(e,t),this.#Ye(),this.#Ke(),this.canvas.style.visibility="visible"}#ot(e,t){const n=this.#st(),r=(e-n)/this.#Re,i=(t-n)/this.#Pe;this.scaleFactor=Math.min(r,i)}#nt(){const e=this.#st()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#tt(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,o,s]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],o[0],o[1],s[0],s[1])}return t}#at(e,t,n,r){const i=[],o=this.thickness/2;let s,a;for(const c of this.paths){s=[],a=[];for(let i=0,l=c.length;i<l;i++){const[l,u,h,d]=c[i],f=e*(l[0]+t)+o,p=r-e*(l[1]+n)-o,g=e*(u[0]+t)+o,m=r-e*(u[1]+n)-o,y=e*(h[0]+t)+o,v=r-e*(h[1]+n)-o,b=e*(d[0]+t)+o,w=r-e*(d[1]+n)-o;0===i&&(s.push(f,p),a.push(f,p)),s.push(g,m,y,v,b,w),this.#ct(f,p,g,m,y,v,b,w,4,a)}i.push({bezier:s,points:a})}return i}#ct(e,t,n,r,i,o,s,a,c,l){if(this.#lt(e,t,n,r,i,o,s,a))l.push(s,a);else{for(let u=1;u<c-1;u++){const h=u/c,d=1-h;let f=h*e+d*n,p=h*t+d*r,g=h*n+d*i,m=h*r+d*o;f=h*f+d*g,p=h*p+d*m,g=h*g+d*(h*i+d*s),m=h*m+d*(h*o+d*a),f=h*f+d*g,p=h*p+d*m,l.push(f,p)}l.push(s,a)}}#lt(e,t,n,r,i,o,s,a){const c=(3*n-2*e-s)**2,l=(3*r-2*t-a)**2,u=(3*i-e-2*s)**2,h=(3*o-t-2*a)**2;return Math.max(c,u)+Math.max(l,h)<=10}#ut(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const o of this.paths)for(const[s,a,c,l]of o){const o=r.Util.bezierBoundingBox(...s,...a,...c,...l);e=Math.min(e,o[0]),n=Math.min(n,o[1]),t=Math.max(t,o[2]),i=Math.max(i,o[3])}return[e,n,t,i]}#st(){return this.#De?Math.ceil(this.thickness*this.parent.scaleFactor):0}#We(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#De)return void this.#Ke();const t=this.#ut(),n=this.#st();this.#Re=Math.max(a,t[2]-t[0]),this.#Pe=Math.max(a,t[3]-t[1]);const r=Math.ceil(n+this.#Re*this.scaleFactor),i=Math.ceil(n+this.#Pe*this.scaleFactor),[o,s]=this.parent.viewportBaseDimensions;this.width=r/o,this.height=i/s,this.#Ie=r/i,this.#it();const c=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Ye(),this.#Ke(),this.#Be=r,this.#qe=i,this.setDims(r,i);const u=e?n/this.scaleFactor/2:0;this.translate(c-this.translationX-u,l-this.translationY-u)}#it(){const{style:e}=this.div;this.#Ie>=1?(e.minHeight="16px",e.minWidth=`${Math.round(this.#Ie*a)}px`):(e.minWidth="16px",e.minHeight=`${Math.round(a/this.#Ie)}px`)}static deserialize(e,t){const n=super.deserialize(e,t);n.thickness=e.thickness,n.color=r.Util.makeHexColor(...e.color),n.opacity=e.opacity;const[i,o]=t.pageDimensions,s=n.width*i,c=n.height*o,l=t.scaleFactor,u=e.thickness/2;n.#Ie=s/c,n.#De=!0,n.#Be=Math.round(s),n.#qe=Math.round(c);for(const{bezier:r}of e.paths){const e=[];n.paths.push(e);let t=l*(r[0]-u),i=l*(c-r[1]-u);for(let n=2,s=r.length;n<s;n+=6){const o=l*(r[n]-u),s=l*(c-r[n+1]-u),a=l*(r[n+2]-u),h=l*(c-r[n+3]-u),d=l*(r[n+4]-u),f=l*(c-r[n+5]-u);e.push([[t,i],[o,s],[a,h],[d,f]]),t=d,i=f}const o=this.#tt(e);n.bezierPath2D.push(o)}const h=n.#ut();return n.#Re=Math.max(a,h[2]-h[0]),n.#Pe=Math.max(a,h[3]-h[1]),n.#ot(s,c),n}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=this.rotation%180===0?e[3]-e[1]:e[2]-e[0],n=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#at(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,t),pageIndex:this.parent.pageIndex,rect:e,rotation:this.rotation}}}t.InkEditor=c},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;const r=n(26);t.fitCurve=r},e=>{function t(e,i,o,s,a){var l,u,h,d,f,p,g,m,y,v,b,w,C;if(2===e.length)return w=c.vectorLen(c.subtract(e[0],e[1]))/3,[l=[e[0],c.addArrays(e[0],c.mulItems(i,w)),c.addArrays(e[1],c.mulItems(o,w)),e[1]]];if(u=function(e){var t,n,r,i=[];return e.forEach(((e,o)=>{t=o?n+c.vectorLen(c.subtract(e,r)):0,i.push(t),n=t,r=e})),i=i.map((e=>e/n))}(e),[l,d,p]=n(e,u,u,i,o,a),0===d||d<s)return[l];if(d<s*s)for(h=u,f=d,g=p,C=0;C<20;C++){if(h=r(l,e,h),[l,d,p]=n(e,u,h,i,o,a),d<s)return[l];if(p===g){let e=d/f;if(e>.9999&&e<1.0001)break}f=d,g=p}return b=[],(m=c.subtract(e[p-1],e[p+1])).every((e=>0===e))&&(m=c.subtract(e[p-1],e[p]),[m[0],m[1]]=[-m[1],m[0]]),y=c.normalize(m),v=c.mulItems(y,-1),b=(b=b.concat(t(e.slice(0,p+1),i,y,s,a))).concat(t(e.slice(p),v,o,s,a))}function n(e,t,n,r,i,a){var u,h,d;return u=function(e,t,n,r){var i,o,s,a,u,h,d,f,p,g,m,y,v,b,w,C,S,A=e[0],k=e[e.length-1];for(i=[A,null,null,k],o=c.zeros_Xx2x2(t.length),v=0,b=t.length;v<b;v++)S=1-(C=t[v]),(s=o[v])[0]=c.mulItems(n,3*C*(S*S)),s[1]=c.mulItems(r,3*S*(C*C));for(a=[[0,0],[0,0]],u=[0,0],v=0,b=e.length;v<b;v++)C=t[v],s=o[v],a[0][0]+=c.dot(s[0],s[0]),a[0][1]+=c.dot(s[0],s[1]),a[1][0]+=c.dot(s[0],s[1]),a[1][1]+=c.dot(s[1],s[1]),w=c.subtract(e[v],l.q([A,A,k,k],C)),u[0]+=c.dot(s[0],w),u[1]+=c.dot(s[1],w);return h=a[0][0]*a[1][1]-a[1][0]*a[0][1],d=a[0][0]*u[1]-a[1][0]*u[0],f=u[0]*a[1][1]-u[1]*a[0][1],p=0===h?0:f/h,g=0===h?0:d/h,y=c.vectorLen(c.subtract(A,k)),p<(m=1e-6*y)||g<m?(i[1]=c.addArrays(A,c.mulItems(n,y/3)),i[2]=c.addArrays(k,c.mulItems(r,y/3))):(i[1]=c.addArrays(A,c.mulItems(n,p)),i[2]=c.addArrays(k,c.mulItems(r,g))),i}(e,n,r,i),[h,d]=function(e,t,n){var r,i,a,u,h,d,f,p;i=0,a=Math.floor(e.length/2);const g=o(t,10);for(h=0,d=e.length;h<d;h++)f=e[h],p=s(0,n[h],g,10),(r=(u=c.subtract(l.q(t,p),f))[0]*u[0]+u[1]*u[1])>i&&(i=r,a=h);return[i,a]}(e,u,t),a&&a({bez:u,points:e,params:t,maxErr:h,maxPoint:d}),[u,h,d]}function r(e,t,n){return n.map(((n,r)=>i(e,t[r],n)))}function i(e,t,n){var r=c.subtract(l.q(e,n),t),i=l.qprime(e,n),o=c.mulMatrix(r,i),s=c.sum(c.squareItems(i))+2*c.mulMatrix(r,l.qprimeprime(e,n));return 0===s?n:n-o/s}var o=function(e,t){for(var n,r=[0],i=e[0],o=0,s=1;s<=t;s++)n=l.q(e,s/t),o+=c.vectorLen(c.subtract(n,i)),r.push(o),i=n;return r=r.map((e=>e/o))};function s(e,t,n,r){if(t<0)return 0;if(t>1)return 1;for(var i,o,s,a,c=1;c<=r;c++)if(t<=n[c]){s=(c-1)/r,o=c/r,a=(t-(i=n[c-1]))/(n[c]-i)*(o-s)+s;break}return a}function a(e,t){return c.normalize(c.subtract(e,t))}class c{static zeros_Xx2x2(e){for(var t=[];e--;)t.push([0,0]);return t}static mulItems(e,t){return e.map((e=>e*t))}static mulMatrix(e,t){return e.reduce(((e,n,r)=>e+n*t[r]),0)}static subtract(e,t){return e.map(((e,n)=>e-t[n]))}static addArrays(e,t){return e.map(((e,n)=>e+t[n]))}static addItems(e,t){return e.map((e=>e+t))}static sum(e){return e.reduce(((e,t)=>e+t))}static dot(e,t){return c.mulMatrix(e,t)}static vectorLen(e){return Math.hypot(...e)}static divItems(e,t){return e.map((e=>e/t))}static squareItems(e){return e.map((e=>e*e))}static normalize(e){return this.divItems(e,this.vectorLen(e))}}class l{static q(e,t){var n=1-t,r=c.mulItems(e[0],n*n*n),i=c.mulItems(e[1],3*n*n*t),o=c.mulItems(e[2],3*n*t*t),s=c.mulItems(e[3],t*t*t);return c.addArrays(c.addArrays(r,i),c.addArrays(o,s))}static qprime(e,t){var n=1-t,r=c.mulItems(c.subtract(e[1],e[0]),3*n*n),i=c.mulItems(c.subtract(e[2],e[1]),6*n*t),o=c.mulItems(c.subtract(e[3],e[2]),3*t*t);return c.addArrays(c.addArrays(r,i),o)}static qprimeprime(e,t){return c.addArrays(c.mulItems(c.addArrays(c.subtract(e[2],c.mulItems(e[1],2)),e[0]),6*(1-t)),c.mulItems(c.addArrays(c.subtract(e[3],c.mulItems(e[2],2)),e[1]),6*t))}}e.exports=function(e,n,r){if(!Array.isArray(e))throw new TypeError("First argument should be an array");if(e.forEach((t=>{if(!Array.isArray(t)||t.some((e=>"number"!==typeof e))||t.length!==e[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(e=e.filter(((t,n)=>0===n||!t.every(((t,r)=>t===e[n-1][r]))))).length<2)return[];const i=e.length,o=a(e[1],e[0]),s=a(e[i-2],e[i-1]);return t(e,o,s,n,r)},e.exports.fitCubic=t,e.exports.createTangent=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(8),o=n(5),s=n(28),a=n(29);const c=1e3,l=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class h{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new f(e);case r.AnnotationType.TEXT:return new p(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new m(e);case"Btn":return e.data.radioButton?new v(e):e.data.checkBox?new y(e):new b(e);case"Ch":return new w(e)}return new g(e);case r.AnnotationType.POPUP:return new C(e);case r.AnnotationType.FREETEXT:return new A(e);case r.AnnotationType.LINE:return new k(e);case r.AnnotationType.SQUARE:return new x(e);case r.AnnotationType.CIRCLE:return new T(e);case r.AnnotationType.POLYLINE:return new E(e);case r.AnnotationType.CARET:return new I(e);case r.AnnotationType.INK:return new P(e);case r.AnnotationType.POLYGON:return new _(e);case r.AnnotationType.HIGHLIGHT:return new R(e);case r.AnnotationType.UNDERLINE:return new N(e);case r.AnnotationType.SQUIGGLY:return new O(e);case r.AnnotationType.STRIKEOUT:return new F(e);case r.AnnotationType.STAMP:return new M(e);case r.AnnotationType.FILEATTACHMENT:return new D(e);default:return new d(e)}}}class d{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,t&&(this.container=this._createContainer(n)),r&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.data,n=this.page,i=this.viewport,o=document.createElement("section"),{width:s,height:a}=u(t.rect),[c,l,h,d]=i.viewBox,f=h-c,p=d-l;o.setAttribute("data-annotation-id",t.id);const g=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){o.style.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;o.style.borderRadius=t}else if(this instanceof v){const e=`calc(${s}px * var(--scale-factor)) / calc(${a}px * var(--scale-factor))`;o.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}const i=t.borderColor||null;i?o.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2]):o.style.borderWidth=0}o.style.left=100*(g[0]-c)/f+"%",o.style.top=100*(g[1]-l)/p+"%";const{rotation:m}=t;return t.hasOwnCanvas||0===m?(o.style.width=100*s/f+"%",o.style.height=100*a/p+"%"):this.setRotation(m,o),o}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;const[n,r,i,o]=this.viewport.viewBox,s=i-n,a=o-r,{width:c,height:l}=u(this.data.rect);let h,d;e%180===0?(h=100*c/s,d=100*l/a):(h=100*l/s,d=100*c/a),t.style.width=`${h}%`,t.style.height=`${d}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e];n.target.style[t]=s.ColorConverters[`${r[0]}_HTML`](r.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:e=>{const t=e.detail.display%2===1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:e=>{this.annotationStorage.setValue(this.data.id,{print:e.detail.print})},hidden:e=>{this.container.style.visibility=e.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e.detail.hidden})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];i&&i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const o=n[r];o&&(o({detail:{[r]:i},target:e}),delete t[r])}}_createQuadrilaterals(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;const t=[],n=this.data.rect;for(const r of this.data.quadPoints)this.data.rect=[r[2].x,r[2].y,r[1].x,r[1].y],t.push(this._createContainer(e));return this.data.rect=n,t}_createPopup(e,t){let n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).className="popupTriggerArea",n.append(e));const r=new S({container:n,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();r.style.left="100%",n.append(r)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:o,exportValues:s}of i){if(-1===e)continue;if(o===t)continue;const i="string"===typeof s?s:null,a=document.querySelector(`[data-element-id="${o}"]`);!a||l.has(a)?n.push({id:o,exportValue:i,domElement:a}):(0,r.warn)(`_getElementsByName - element not allowed: ${o}`)}return n}for(const r of document.getElementsByName(e)){const{id:e,exportValue:i}=r;e!==t&&l.has(r)&&n.push({id:e,exportValue:i,domElement:r})}return n}static get platform(){const e="undefined"!==typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class f extends d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((e,t)=>{const r=0===t?n:n.cloneNode();return e.append(r),e})):(this.container.className="linkAnnotation",r&&this.container.append(n),this.container)}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n&&n();const{fields:e,refs:i,include:o}=t,s=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===o&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const a=this.annotationStorage,c=[];for(const t of s){const{id:e}=t;switch(c.push(e),t.type){case"text":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;a.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(l.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class p extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.append(e),this.container}}class g extends d{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:t,isMac:n}=d.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,r){t.includes("mouse")?e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e)}})}))}_setEventListeners(e,t,n){for(const[r,i]of t)("Action"===i||this.data.actions?.[i])&&this._setEventListener(e,r,i,n)}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,o=e.style;let s;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]),t=e/(Math.round(e/(r.LINE_FACTOR*i))||1);s=Math.min(i,Math.round(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]);s=Math.min(i,Math.round(e/r.LINE_FACTOR))}o.fontSize=`calc(${s}px * var(--scale-factor))`,o.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class m extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),i.setValue(o.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let i=r.formattedValue||r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&i.length>o&&(i=i.slice(0,o));const s={userValue:i,formattedValue:null,valueOnFocus:""};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",i),this.data.doNotScroll&&(n.style.overflowX="hidden")),l.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=c,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value")})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=s.userValue=t,s.formattedValue=null}));let a=e=>{const{formattedValue:t}=s;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{s.userValue&&(e.target.value=s.userValue),s.valueOnFocus=e.target.value})),n.addEventListener("updatefromsandbox",(n=>{const r={value(n){s.userValue=n.detail.value??"",e.setValue(t,{value:s.userValue.toString()}),n.target.value=s.userValue},formattedValue(n){const{formattedValue:r}=n.detail;s.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let o=s.userValue;!o||o.length<=r||(o=o.slice(0,r),i.value=s.userValue=o,e.setValue(t,{value:o}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{let n=-1;if("Escape"===e.key?n=0:"Enter"===e.key?n=2:"Tab"===e.key&&(n=3),-1===n)return;const{value:r}=e.target;s.valueOnFocus!==r&&(s.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=a;a=null,n.addEventListener("blur",(e=>{const{value:n}=e.target;s.userValue=n,this._mouseState.isDown&&s.valueOnFocus!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{const{data:n,target:r}=e,{value:i,selectionStart:o,selectionEnd:s}=r;let a=o,c=s;switch(e.inputType){case"deleteWordBackward":{const e=i.substring(0,o).match(/\w*[^\w]*$/);e&&(a-=e[0].length);break}case"deleteWordForward":{const e=i.substring(o).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":o===s&&(a-=1);break;case"deleteContentForward":o===s&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:a,selEnd:c}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(a&&n.addEventListener("blur",a),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class y extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.className="buttonWidgetAnnotation checkBox";const i=document.createElement("input");return l.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=c,i.addEventListener("change",(r=>{const{name:i,checked:o}=r.target;for(const s of this._getElementsByName(i,n)){const n=o&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n),e.setValue(s.id,{value:n})}e.setValue(n,{value:o})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class v extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r}));const i=document.createElement("input");if(l.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=c,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const o of this._getElementsByName(r,n))e.setValue(o.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class b extends f{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class w extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");l.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=c;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let o=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),o=()=>{e.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const s=(e,t)=>{const n=t?"value":"textContent",r=e.target.options;return e.target.multiple?Array.prototype.filter.call(r,(e=>e.selected)).map((e=>e[n])):-1===r.selectedIndex?null:r[r.selectedIndex][n]},a=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){o?.();const i=n.detail.value,a=new Set(Array.isArray(i)?i:[i]);for(const e of r.options)e.selected=a.has(e.value);e.setValue(t,{value:s(n,!0)})},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,o=n.detail.remove;i[o].selected=!1,r.remove(o),i.length>0&&-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0),e.setValue(t,{value:s(n,!0),items:a(n)})},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]})},insert(n){const{index:i,displayValue:o,exportValue:c}=n.detail.insert,l=r.children[i],u=document.createElement("option");u.textContent=o,u.value=c,l?l.before(u):r.append(u),e.setValue(t,{value:s(n,!0),items:a(n)})},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(n,!0),items:a(n)})},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(n,!0)})},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{const r=s(n,!0),i=s(n,!1);e.setValue(t,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,changeEx:r,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(e=>e.target.checked))):r.addEventListener("input",(function(n){e.setValue(t,{value:s(n,!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class C extends d{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const e=`[data-annotation-id="${this.data.parentId}"]`,t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;const n=new S({container:this.container,trigger:Array.from(t),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),i=this.page,o=r.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),s=o[0]+this.data.parentRect[2]-this.data.parentRect[0],a=o[1],[c,l,u,h]=this.viewport.viewBox,d=u-c,f=h-l;return this.container.style.left=100*(s-c)/d+"%",this.container.style.top=100*(a-l)/f+"%",this.container.append(n.render()),this.container}}class S{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;const t=document.createElement("div");t.className="popup";const n=this.color;if(n){const e=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],o=.7*(255-n[2])+n[2];t.style.backgroundColor=r.Util.makeHexColor(0|e,0|i,0|o)}const o=document.createElement("h1");o.dir=this.titleObj.dir,o.textContent=this.titleObj.str,t.append(o);const s=i.PDFDateString.toDateObject(this.modificationDate);if(s){const e=document.createElement("span");e.className="popupDate",e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:s.toLocaleDateString(),time:s.toLocaleTimeString()}),t.append(e)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const e=this._formatContents(this.contentsObj);t.append(e)}else a.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:t}),t.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const r of this.trigger)r.addEventListener("click",this._toggle.bind(this)),r.addEventListener("mouseover",this._show.bind(this,!1)),r.addEventListener("mouseout",this._hide.bind(this,!1));return t.addEventListener("click",this._hide.bind(this,!0)),e.append(t),e}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.className="popupContent",r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let o=0,s=i.length;o<s;++o){const e=i[o];r.append(document.createTextNode(e)),o<s-1&&r.append(document.createElement("br"))}return r}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class A extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.textContent=e.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const e=document.createElement("div");e.className="annotationTextContent",e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class k extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,e),this.container}}class x extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",t-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,e),this.container}}class T extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,e),this.container}}class E extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const s of e.vertices){const t=s.x-e.rect[0],n=e.rect[3]-s.y;i.push(t+","+n)}i=i.join(" ");const o=this.svgFactory.createElement(this.svgElementName);return o.setAttribute("points",i),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,e),this.container}}class _ extends E{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class I extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);for(const i of e.inkLists){let t=[];for(const r of i){const n=r.x-e.rect[0],i=e.rect[3]-r.y;t.push(`${n},${i}`)}t=t.join(" ");const n=this.svgFactory.createElement(this.svgElementName);n.setAttribute("points",t),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),this._createPopup(n,e),r.append(n)}return this.container.append(r),this.container}}class R extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class N extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class O extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class F extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class M extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class D extends d{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(t),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:n})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.className="popupTriggerArea",e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.append(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class L{static#ht(e,t,n,r){const o=e.firstChild||e;o.id=`${i.AnnotationPrefix}${t}`,n.append(e),r?.moveElementInDOM(n,e,o,!1)}static render(e){const{annotations:t,div:n,viewport:s,accessibilityManager:a}=e;this.#dt(n,s);let c=0;for(const l of t){if(l.annotationType!==r.AnnotationType.POPUP){const{width:e,height:t}=u(l.rect);if(e<=0||t<=0)continue}const t=h.create({data:l,layer:n,page:e.page,viewport:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new o.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(t.isRenderable){const e=t.render();if(l.hidden&&(e.style.visibility="hidden"),Array.isArray(e))for(const t of e)t.style.zIndex=c++,L.#ht(t,l.id,n,a);else e.style.zIndex=c++,t instanceof C?n.prepend(e):L.#ht(e,l.id,n,a)}}this.#ft(n,e.annotationCanvasMap)}static update(e){const{annotationCanvasMap:t,div:n,viewport:r}=e;this.#dt(n,r),this.#ft(n,t),n.hidden=!1}static#dt(e,t){let{width:n,height:r,rotation:i}=t;const{style:o}=e,s=i%180!==0,a=Math.floor(n)+"px",c=Math.floor(r)+"px";o.width=s?c:a,o.height=s?a:c,e.setAttribute("data-main-rotation",i)}static#ft(e,t){if(t){for(const[n,r]of t){const t=e.querySelector(`[data-annotation-id="${n}"]`);if(!t)continue;const{firstChild:i}=t;i?"CANVAS"===i.nodeName?i.replaceWith(r):i.before(r):t.append(r)}t.clear()}}}t.AnnotationLayer=L},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_HTML(e){let[t]=e;const r=n(t);return`#${r}${r}${r}`}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_HTML(e){let[t,r,i]=e;return`#${n(t)}${n(r)}${n(i)}`}static T_HTML(){return"#00000000"}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,o=1-n,s=1-r;return["CMYK",i,o,s,Math.min(i,o,s)]}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(20);t.XfaLayer=class{static setupStorage(e,t,n,r,i){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(e.textContent=o.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==o.value&&e.setAttribute("value",o.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==o.value)for(const e of n.children)e.attributes.value===o.value&&(e.attributes.selected=!0);e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:o}=e;const{attributes:s}=n,a=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name=`${s.name}-${i}`);for(const[c,l]of Object.entries(s))if(null!==l&&void 0!==l)switch(c){case"class":l.length&&t.setAttribute(c,l.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",l);break;case"style":Object.assign(t.style,l);break;case"textContent":t.textContent=l;break;default:(!a||"href"!==c&&"newWindow"!==c)&&t.setAttribute(c,l)}a&&o.addLinkAttributes(t,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(t,s.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:n});const a=[[i,-1,s]],c=e.div;if(c.append(s),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=t}"richText"!==o&&c.setAttribute("class","xfaLayer xfaFont");const l=[];for(;a.length>0;){const[e,i,s]=a.at(-1);if(i+1===e.children.length){a.pop();continue}const c=e.children[++a.at(-1)[1]];if(null===c)continue;const{name:u}=c;if("#text"===u){const e=document.createTextNode(c.value);l.push(e),s.append(e);continue}let h;if(h=c?.attributes?.xmlns?document.createElementNS(c.attributes.xmlns,u):document.createElement(u),s.append(h),c.attributes&&this.setAttributes({html:h,element:c,storage:t,intent:o,linkService:n}),c.children&&c.children.length>0)a.push([c,-1,h]);else if(c.value){const e=document.createTextNode(c.value);r.XfaText.shouldBuildText(u)&&l.push(e),h.append(e)}}for(const r of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){const t=new f({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t};var r=n(1),i=n(8);const o=30,s=new Map,a=/^\s+$/g;function c(e,t,n,i){const c=document.createElement("span"),l=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(c);const u=r.Util.transform(e._viewport.transform,t.transform);let h=Math.atan2(u[1],u[0]);const d=n[t.fontName];d.vertical&&(h+=Math.PI/2);const f=Math.hypot(u[2],u[3]),p=f*function(e,t){const n=s.get(e);if(n)return n;t.save(),t.font=`30px ${e}`;const r=t.measureText("");let i=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(i){t.restore();const n=i/(i+a);return s.set(e,n),n}t.strokeStyle="red",t.clearRect(0,0,o,o),t.strokeText("g",0,0);let c=t.getImageData(0,0,o,o).data;a=0;for(let s=c.length-1-3;s>=0;s-=4)if(c[s]>0){a=Math.ceil(s/4/o);break}t.clearRect(0,0,o,o),t.strokeText("A",0,o),c=t.getImageData(0,0,o,o).data,i=0;for(let s=0,l=c.length;s<l;s+=4)if(c[s]>0){i=o-Math.floor(s/4/o);break}if(t.restore(),i){const t=i/(i+a);return s.set(e,t),t}return s.set(e,.8),.8}(d.fontFamily,i);let g,m;0===h?(g=u[4],m=u[5]-p):(g=u[4]+p*Math.sin(h),m=u[5]-p*Math.cos(h)),c.style.left=`${g}px`,c.style.top=`${m}px`,c.style.fontSize=`${f}px`,c.style.fontFamily=d.fontFamily,l.fontSize=f,c.setAttribute("role","presentation"),c.textContent=t.str,c.dir=t.dir,e._fontInspectorEnabled&&(c.dataset.fontName=t.fontName),0!==h&&(l.angle=h*(180/Math.PI));let y=!1;if(t.str.length>1||e._enhanceTextSelection&&a.test(t.str))y=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(y=!0)}if(y&&(d.vertical?l.canvasWidth=t.height*e._viewport.scale:l.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(c,l),e._textContentStream&&e._layoutText(c),e._enhanceTextSelection&&l.hasText){let n=1,i=0;0!==h&&(n=Math.cos(h),i=Math.sin(h));const o=(d.vertical?t.height:t.width)*e._viewport.scale,s=f;let a,l;0!==h?(a=[n,i,-i,n,g,m],l=r.Util.getAxialAlignedBoundingBox([0,0,o,s],a)):l=[g,m,g+o,m+s],e._bounds.push({left:l[0],top:l[1],right:l[2],bottom:l[3],div:c,size:[o,s],m:a})}}function l(e){if(e._canceled)return;const t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(let i=0;i<r;i++)e._layoutText(t[i]);e._renderingDone=!0,n.resolve()}function u(e,t,n){let r=0;for(let i=0;i<n;i++){const n=e[t++];n>0&&(r=r?Math.min(n,r):n)}return r}function h(e){const t=e._bounds,n=e._viewport,i=function(e,t,n){const r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));d(e,r);const i=new Array(n.length);for(const o of r){const e=o.index;i[e]={left:o.x1New,top:0,right:o.x2New,bottom:0}}n.map((function(t,n){const o=i[n],s=r[n];s.x1=t.top,s.y1=e-o.right,s.x2=t.bottom,s.y2=e-o.left,s.index=n,s.x1New=void 0,s.x2New=void 0})),d(t,r);for(const o of r){const e=o.index;i[e].top=o.x1New,i[e].bottom=o.x2New}return i}(n.width,n.height,t);for(let o=0;o<i.length;o++){const n=t[o].div,s=e._textDivProperties.get(n);if(0===s.angle){s.paddingLeft=t[o].left-i[o].left,s.paddingTop=t[o].top-i[o].top,s.paddingRight=i[o].right-t[o].right,s.paddingBottom=i[o].bottom-t[o].bottom,e._textDivProperties.set(n,s);continue}const a=i[o],c=t[o],l=c.m,h=l[0],d=l[1],f=[[0,0],[0,c.size[1]],[c.size[0],0],c.size],p=new Float64Array(64);for(let e=0,t=f.length;e<t;e++){const t=r.Util.applyTransform(f[e],l);p[e+0]=h&&(a.left-t[0])/h,p[e+4]=d&&(a.top-t[1])/d,p[e+8]=h&&(a.right-t[0])/h,p[e+12]=d&&(a.bottom-t[1])/d,p[e+16]=d&&(a.left-t[0])/-d,p[e+20]=h&&(a.top-t[1])/h,p[e+24]=d&&(a.right-t[0])/-d,p[e+28]=h&&(a.bottom-t[1])/h,p[e+32]=h&&(a.left-t[0])/-h,p[e+36]=d&&(a.top-t[1])/-d,p[e+40]=h&&(a.right-t[0])/-h,p[e+44]=d&&(a.bottom-t[1])/-d,p[e+48]=d&&(a.left-t[0])/d,p[e+52]=h&&(a.top-t[1])/-h,p[e+56]=d&&(a.right-t[0])/d,p[e+60]=h&&(a.bottom-t[1])/-h}const g=1+Math.min(Math.abs(h),Math.abs(d));s.paddingLeft=u(p,32,16)/g,s.paddingTop=u(p,48,16)/g,s.paddingRight=u(p,0,16)/g,s.paddingBottom=u(p,16,16)/g,e._textDivProperties.set(n,s)}}function d(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const r of t){let e=0;for(;e<n.length&&n[e].end<=r.y1;)e++;let t,i,o=n.length-1;for(;o>=0&&n[o].start>=r.y2;)o--;let s,a,c=-1/0;for(s=e;s<=o;s++){let e;t=n[s],i=t.boundary,e=i.x2>r.x1?i.index>r.index?i.x1New:r.x1:void 0===i.x2New?(i.x2+r.x1)/2:i.x2New,e>c&&(c=e)}for(r.x1New=c,s=e;s<=o;s++)t=n[s],i=t.boundary,void 0===i.x2New?i.x2>r.x1?i.index>r.index&&(i.x2New=i.x2):i.x2New=c:i.x2New>c&&(i.x2New=Math.max(c,i.x2));const l=[];let u=null;for(s=e;s<=o;s++){t=n[s],i=t.boundary;const e=i.x2>r.x2?i:r;u===e?l.at(-1).end=t.end:(l.push({start:t.start,end:t.end,boundary:e}),u=e)}for(n[e].start<r.y1&&(l[0].start=r.y1,l.unshift({start:n[e].start,end:r.y1,boundary:n[e].boundary})),r.y2<n[o].end&&(l.at(-1).end=r.y2,l.push({start:r.y2,end:n[o].end,boundary:n[o].boundary})),s=e;s<=o;s++){if(t=n[s],i=t.boundary,void 0!==i.x2New)continue;let r=!1;for(a=e-1;!r&&a>=0&&n[a].start>=i.y1;a--)r=n[a].boundary===i;for(a=o+1;!r&&a<n.length&&n[a].end<=i.y2;a++)r=n[a].boundary===i;for(a=0;!r&&a<l.length;a++)r=l[a].boundary===i;r||(i.x2New=c)}Array.prototype.splice.apply(n,[e,o-e+1,...l])}for(const r of n){const t=r.boundary;void 0===t.x2New&&(t.x2New=Math.max(e,t.x2))}}class f{constructor(e){let{textContent:t,textContentStream:n,container:o,viewport:s,textDivs:a,textContentItemsStr:c,enhanceTextSelection:l}=e;l&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=t,this._textContentStream=n,this._container=o,this._document=o.ownerDocument,this._viewport=s,this._textDivs=a||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally((()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(e,t){for(let n=0,r=e.length;n<r;n++)if(void 0!==e[n].str)this._textContentItemsStr.push(e[n].str),c(this,e[n],t,this._layoutTextCtx);else if("beginMarkedContentProps"===e[n].type||"beginMarkedContent"===e[n].type){const t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==e[n].id&&this._container.setAttribute("id",`${e[n].id}`),t.append(this._container)}else"endMarkedContent"===e[n].type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._textDivProperties.get(e);let n="";if(0!==t.canvasWidth&&t.hasText){const{fontFamily:r}=e.style,{fontSize:i}=t;i===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${i*this._devicePixelRatio}px ${r}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=r);const{width:o}=this._layoutTextCtx.measureText(e.textContent);if(o>0){const e=this._devicePixelRatio*t.canvasWidth/o;this._enhanceTextSelection&&(t.scale=e),n=`scaleX(${e})`}}if(0!==t.angle&&(n=`rotate(${t.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=(0,r.createPromiseCapability)();let n=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=o,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent){const e=this._textContent.items,n=this._textContent.styles;this._processItems(e,n),t.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const e=()=>{this._reader.read().then((r=>{let{value:i,done:o}=r;o?t.resolve():(Object.assign(n,i.styles),this._processItems(i.items,n),e())}),t.reject)};this._reader=this._textContentStream.getReader(),e()}}t.promise.then((()=>{n=null,e?this._renderTimer=setTimeout((()=>{l(this),this._renderTimer=null}),e):l(this)}),this._capability.reject)}expandTextDivs(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(h(this),this._bounds=null);const t=[],n=[];for(let r=0,i=this._textDivs.length;r<i;r++){const i=this._textDivs[r],o=this._textDivProperties.get(i);o.hasText&&(e?(t.length=0,n.length=0,o.originalTransform&&t.push(o.originalTransform),o.paddingTop>0?(n.push(`${o.paddingTop}px`),t.push(`translateY(${-o.paddingTop}px)`)):n.push(0),o.paddingRight>0?n.push(o.paddingRight/o.scale+"px"):n.push(0),o.paddingBottom>0?n.push(`${o.paddingBottom}px`):n.push(0),o.paddingLeft>0?(n.push(o.paddingLeft/o.scale+"px"),t.push(`translateX(${-o.paddingLeft/o.scale}px)`)):n.push(0),i.style.padding=n.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=o.originalTransform))}}}t.TextLayerRenderTask=f},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(8),i=n(1),o=n(3);let s=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=s;{const a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/1999/xlink",u=["butt","round","square"],h=["miter","round","bevel"],d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${t};base64,`;for(let o=0,s=e.length;o<s;o+=3){const t=255&e[o],n=255&e[o+1],a=255&e[o+2];i+=r[t>>2]+r[(3&t)<<4|n>>4]+r[o+1<s?(15&n)<<2|a>>6:64]+r[o+2<s?63&a:64]}return i},f=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;t[i]=e}function n(e,n,r,i){let o=i;const s=n.length;r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s,o+=4,r[o]=255&e.charCodeAt(0),r[o+1]=255&e.charCodeAt(1),r[o+2]=255&e.charCodeAt(2),r[o+3]=255&e.charCodeAt(3),o+=4,r.set(n,o),o+=n.length;const a=function(e,n,r){let i=-1;for(let o=n;o<r;o++){const n=255&(i^e[o]);i=i>>>8^t[n]}return~i}(r,i+4,o);r[o]=a>>24&255,r[o+1]=a>>16&255,r[o+2]=a>>8&255,r[o+3]=255&a}function r(e){let t=e.length;const n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4);let o=0;i[o++]=120,i[o++]=156;let s=0;for(;t>n;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(e.subarray(s,s+n),o),o+=n,s+=n,t-=n;i[o++]=1,i[o++]=255&t,i[o++]=t>>8&255,i[o++]=255&~t,i[o++]=(65535&~t)>>8&255,i.set(e.subarray(s),o),o+=e.length-s;const a=function(e,t,n){let r=1,i=0;for(let o=t;o<n;++o)r=(r+(255&e[o]))%65521,i=(i+r)%65521;return i<<16|r}(e,0,e.length);return i[o++]=a>>24&255,i[o++]=a>>16&255,i[o++]=a>>8&255,i[o++]=255&a,i}function s(t,s,a,c){const l=t.width,u=t.height;let h,f,p;const g=t.data;switch(s){case i.ImageKind.GRAYSCALE_1BPP:f=0,h=1,p=l+7>>3;break;case i.ImageKind.RGB_24BPP:f=2,h=8,p=3*l;break;case i.ImageKind.RGBA_32BPP:f=6,h=8,p=4*l;break;default:throw new Error("invalid format")}const m=new Uint8Array((1+p)*u);let y=0,v=0;for(let e=0;e<u;++e)m[y++]=0,m.set(g.subarray(v,v+p),y),v+=p,y+=p;if(s===i.ImageKind.GRAYSCALE_1BPP&&c){y=0;for(let e=0;e<u;e++){y++;for(let e=0;e<p;e++)m[y++]^=255}}const b=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,u>>24&255,u>>16&255,u>>8&255,255&u,h,f,0,0,0]),w=function(e){if(!o.isNodeJS)return r(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const n=__webpack_require__(787).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return r(e)}(m),C=e.length+36+b.length+w.length,S=new Uint8Array(C);let A=0;return S.set(e,A),A+=e.length,n("IHDR",b,S,A),A+=12+b.length,n("IDATA",w,S,A),A+=12+w.length,n("IEND",new Uint8Array(0),S,A),d(S,"image/png",a)}return function(e,t,n){return s(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function g(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}function m(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function y(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${m(e[0])} ${m(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${m(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${m(e[4])} ${m(e[5])})`;return`matrix(${m(e[0])} ${m(e[1])} ${m(e[2])} ${m(e[3])} ${m(e[4])} ${m(e[5])})`}let v=0,b=0,w=0;t.SVGGraphics=s=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new p,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const r in i.OPS)this._operatorIdMapping[i.OPS[r]]=r}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let r=0,o=t.length;r<o;r++)if(t[r]===i.OPS.dependency)for(const e of n[r]){const t=e.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{t.get(e,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,o,s){const a=[e,t,n,r,o,s];this.transformMatrix=i.Util.transform(this.transformMatrix,a),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[];for(let o=0,s=r.length;o<s;o++){const e=r[o];i.push({fnId:e,fn:t[e],args:n[o]})}return g(i)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,i,o){const s=this.current;s.textMatrix=s.lineMatrix=[e,t,n,r,i,o],s.textMatrixScale=Math.hypot(e,t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${m(s.fontSize)}px`),s.tspan.setAttributeNS(null,"y",m(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.append(s.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${m(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",m(-n.y))}showText(e){const t=this.current,n=t.font,r=t.fontSize;if(0===r)return;const o=t.fontSizeScale,s=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,d=n.vertical,f=d?1:-1,p=n.defaultVMetrics,g=r*t.fontMatrix[0];let v=0;for(const i of e){if(null===i){v+=u*l;continue}if("number"===typeof i){v+=f*i*r/1e3;continue}const e=(i.isSpace?l:0)+s,a=i.fontChar;let c,h,m,y=i.width;if(d){let e;const t=i.vmetric||p;e=i.vmetric?t[1]:.5*y,e=-e*g;const n=t[2]*g;y=t?-t[0]:y,c=e/o,h=(v+n)/o}else c=v/o,h=0;(i.isInFont||n.missingFile)&&(t.xcoords.push(t.x+c),d&&t.ycoords.push(-t.y+h),t.tspan.textContent+=a),m=d?y*g-e*u:y*g+e*u,v+=m}t.tspan.setAttributeNS(null,"x",t.xcoords.map(m).join(" ")),d?t.tspan.setAttributeNS(null,"y",t.ycoords.map(m).join(" ")):t.tspan.setAttributeNS(null,"y",m(-t.y)),d?t.y-=v:t.x+=v*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${m(t.fontSize)}px`),t.fontStyle!==a.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==a.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const b=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(b===i.TextRenderingMode.FILL||b===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==a.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),b===i.TextRenderingMode.STROKE||b===i.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let w=t.textMatrix;0!==t.textRise&&(w=w.slice(),w[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${y(w)} scale(${m(h)}, -1)`),t.txtElement.setAttributeNS(c,"xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=d(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let o="normal";n.black?o="900":n.bold&&(o="bold");const s=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=o,t.fontStyle=s,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",m(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=u[e]}setLineJoin(e){this.current.lineJoin=h[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=i.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=i.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),o=i.Util.applyTransform([0,0],r),s=i.Util.applyTransform([0,n],r),a=i.Util.applyTransform([t,0],r),c=i.Util.applyTransform([t,n],r),l=Math.min(o[0],s[0],a[0],c[0]),u=Math.min(o[1],s[1],a[1],c[1]),h=Math.max(o[0],s[0],a[0],c[0]),d=Math.max(o[1],s[1],a[1],c[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",l),f.setAttributeNS(null,"y",u),f.setAttributeNS(null,"width",h-l),f.setAttributeNS(null,"height",d-u),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(f)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,[o,s,a,c]=e[4],l=e[5],u=e[6],h=e[7],d="shading"+w++,[f,p,g,m]=i.Util.normalizeRect([...i.Util.applyTransform([o,s],r),...i.Util.applyTransform([a,c],r)]),[y,v]=i.Util.singularValueDecompose2dScale(r),b=l*y,C=u*v,S=this.svgFactory.createElement("svg:pattern");S.setAttributeNS(null,"id",d),S.setAttributeNS(null,"patternUnits","userSpaceOnUse"),S.setAttributeNS(null,"width",b),S.setAttributeNS(null,"height",C),S.setAttributeNS(null,"x",`${f}`),S.setAttributeNS(null,"y",`${p}`);const A=this.svg,k=this.transformMatrix,x=this.current.fillColor,T=this.current.strokeColor,E=this.svgFactory.create(g-f,m-p);if(this.svg=E,this.transformMatrix=r,2===h){const e=i.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=A,this.transformMatrix=k,this.current.fillColor=x,this.current.strokeColor=T,S.append(E.childNodes[0]),this.defs.append(S),`url(#${d})`}_makeShadingPattern(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading"+w++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],i=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const o=e[4],s=e[5],a=e[6],c=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",s[0]),r.setAttributeNS(null,"cy",s[1]),r.setAttributeNS(null,"r",c),r.setAttributeNS(null,"fx",o[0]),r.setAttributeNS(null,"fy",o[1]),r.setAttributeNS(null,"fr",a);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.append(t)}return this.defs.append(r),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,o=n.y,s=[],a=0;for(const c of e)switch(0|c){case i.OPS.rectangle:r=t[a++],o=t[a++];const e=r+t[a++],n=o+t[a++];s.push("M",m(r),m(o),"L",m(e),m(o),"L",m(e),m(n),"L",m(r),m(n),"Z");break;case i.OPS.moveTo:r=t[a++],o=t[a++],s.push("M",m(r),m(o));break;case i.OPS.lineTo:r=t[a++],o=t[a++],s.push("L",m(r),m(o));break;case i.OPS.curveTo:r=t[a+4],o=t[a+5],s.push("C",m(t[a]),m(t[a+1]),m(t[a+2]),m(t[a+3]),m(r),m(o)),a+=6;break;case i.OPS.curveTo2:s.push("C",m(r),m(o),m(t[a]),m(t[a+1]),m(t[a+2]),m(t[a+3])),r=t[a+2],o=t[a+3],a+=4;break;case i.OPS.curveTo3:r=t[a+2],o=t[a+3],s.push("C",m(t[a]),m(t[a+1]),m(r),m(o),m(r),m(o)),a+=4;break;case i.OPS.closePath:s.push("Z")}s=s.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?s=n.path.getAttributeNS(null,"d")+s:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",s),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,o)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+v++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",y(this.transformMatrix));const r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",m(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",m(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(m).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",m(t*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,r=e.height,i=f(e,this.forceDataSchema,!!t),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",m(n)),o.setAttributeNS(null,"height",m(r)),this.current.element=o,this.clip("nonzero");const s=this.svgFactory.createElement("svg:image");s.setAttributeNS(l,"xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",m(-r)),s.setAttributeNS(null,"width",m(n)+"px"),s.setAttributeNS(null,"height",m(r)+"px"),s.setAttributeNS(null,"transform",`scale(${m(1/n)} ${m(-1/r)})`),t?t.append(s):this._ensureTransformGroup().append(s)}paintImageMaskXObject(e){const t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask"+b++;const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",t.maskId);const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",m(n)),s.setAttributeNS(null,"height",m(r)),s.setAttributeNS(null,"fill",i),s.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.append(o),this._ensureTransformGroup().append(s),this.paintInlineImageXObject(e,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",m(e)),r.setAttributeNS(null,"height",m(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",y(e.transform)),t.append(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",y(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(33);const o=__webpack_require__(237),s=__webpack_require__(492),a=__webpack_require__(815),c=__webpack_require__(671),l=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=c.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?c.parse(`file:///${e}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new f(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new m(this,e,t):new p(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class u{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class f extends u{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=s.request(d(this._url,e.httpHeaders),t):this._request=a.request(d(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class p extends h{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const t=e.httpHeaders[r];"undefined"!==typeof t&&(this._httpHeaders[r]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=s.request(d(this._url,this._httpHeaders),i):this._request=a.request(d(this._url,this._httpHeaders),i),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class g extends u{constructor(e){super(e);let t=decodeURIComponent(this._url.path);l.test(this._url.href)&&(t=t.replace(/^\//,"")),o.lstat(t,((e,n)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(o.createReadStream(t)),this._headersCapability.resolve()}))}}class m extends h{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);l.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(o.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,i.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if((0,o.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return Number.isInteger(s)?(o.suggestedLength=s,s<=2*r||i||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o):o},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(34),o=n(8)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=c(e),e=l(e),s(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const o=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=a(n),e&&(n=unescape(n),0===i&&(n=c(n))),o.push(n)}return o.join("")}(e),n)return s(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),o=(0,r.stringToBytes)(n);n=i.decode(o),t=!1}catch(i){}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),t&&(e=o("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function c(e){const t=e.indexOf("'");return-1===t?e:o(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return o(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return o(t,r)}))}return""};var r=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(33);class o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const e=this.httpHeaders[i];"undefined"!==typeof e&&t.setRequestHeader(i,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const o=i.status||200;if((200!==o||206!==n.expectedStatus)&&o!==n.expectedStatus)return void n.onError?.(i.status);const s=function(e){const t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===o){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:s})}else s?n.onDone({begin:0,chunk:s}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new o(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new a(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class s{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:o}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(33);function o(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function s(e){const t=new Headers;for(const n in e){const r=e[n];"undefined"!==typeof r&&t.append(n,r)}return t}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class a{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=s(this._stream.httpHeaders);const n=t.url;fetch(n,o(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController.abort()}}class c{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const c=a.url;fetch(c,o(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,c);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return s.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return a.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),r=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),o=__w_pdfjs_require__(7),s=__w_pdfjs_require__(27),a=__w_pdfjs_require__(15),c=__w_pdfjs_require__(3),l=__w_pdfjs_require__(30),u=__w_pdfjs_require__(31),h=__w_pdfjs_require__(29);if(c.isNodeJS){const{PDFNodeStream:e}=__w_pdfjs_require__(32);(0,n.setPDFNetworkStreamFactory)((t=>new e(t)))}else{const{PDFNetworkStream:e}=__w_pdfjs_require__(35),{PDFFetchStream:t}=__w_pdfjs_require__(36);(0,n.setPDFNetworkStreamFactory)((n=>(0,r.isValidFetchUrl)(n.url)?new t(n):new e(n)))}})(),__nested_webpack_exports__})(),module.exports=factory()},787:()=>{},813:(e,t,n)=>{"use strict";var r=n(886),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(l){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,t.string2buf=function(e){var t,n,i,o,s,a=e.length,c=0;for(o=0;o<a;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),s=0,o=0;s<c;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,a=t||e.length,l=new Array(2*a);for(r=0,n=0;n<a;)if((i=e[n++])<128)l[r++]=i;else if((o=s[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&e[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return c(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},815:()=>{},847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var r,i=n(43),o=((r=i)&&r.__esModule,n(173));t.propTypes={data:(0,o.oneOfType)([o.string,o.array,o.func]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool,enclosingCharacter:o.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},853:(e,t,n)=>{"use strict";e.exports=n(234)},886:(e,t)=>{"use strict";var n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},898:(e,t,n)=>{"use strict";var r=n(960),i=n(886),o=n(813),s=n(266),a=n(135),c=n(301),l=n(251),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(a[n])}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,c,l,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"===typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(d.output,d.next_out),l=d.next_out-c,h=o.buf2string(d.output,c),d.next_out=l,d.avail_out=f-l,l&&i.arraySet(d.output,d.output,c,l,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},o=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)}))},s=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},a=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(r(e),r(t)))}),[]))},c=t.jsons2arrays=function(e,t){var n=t=t||a(e),i=t;o(t)&&(n=t.map((function(e){return e.label})),i=t.map((function(e){return e.key})));var s=e.map((function(e){return i.map((function(t){return l(t,e)}))}));return[n].concat(r(s))},l=t.getHeaderValue=function(e,t){var n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,n,r){var i=e[t];if(void 0!==i&&null!==i)return i;r.splice(1)}),t);return void 0===n?e in t?t[e]:"":n},u=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},h=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return u(e)})).map((function(e){return""+n+e+n})).join(t)})).join("\n")},d=t.arrays2csv=function(e,t,n,i){return h(t?[t].concat(r(e)):e,n,i)},f=t.jsons2csv=function(e,t,n,r){return h(c(e,t),n,r)},p=t.string2csv=function(e,t,n,r){return t?t.join(n)+"\n"+e:e.replace(/"/g,'""')},g=t.toCSV=function(e,t,n,r){if(o(e))return f(e,t,n,r);if(s(e))return d(e,t,n,r);if("string"===typeof e)return p(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,n,r,o){var s=g(e,n,r,o),a=i()?"application/csv":"text/csv",c=new Blob([t?"\ufeff":"",s],{type:a}),l="data:"+a+";charset=utf-8,"+(t?"\ufeff":"")+s,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?l:u.createObjectURL(c)}},918:(e,t,n)=>{"use strict";t.CSVLink=void 0;var r=o(n(483)),i=o(n(27));function o(e){return e&&e.__esModule?e:{default:e}}r.default,t.CSVLink=i.default},946:e=>{"use strict";e.exports=function(e,t){var n,r,i,o,s,a,c,l,u,h,d,f,p,g,m,y,v,b,w,C,S,A,k,x,T;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,T=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=g[f&y];t:for(;;){if(f>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))T[o++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}C=65535&b,(w&=15)&&(p<w&&(f+=x[r++]<<p,p+=8),C+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=m[f&v];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0===(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&b,p<(w&=15)&&(f+=x[r++]<<p,(p+=8)<w&&(f+=x[r++]<<p,p+=8)),(S+=f&(1<<w)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=w,p-=w,S>(w=o-s)){if((w=S-w)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(A=0,k=d,0===h){if(A+=l-w,w<C){C-=w;do{T[o++]=d[A++]}while(--w);A=o-S,k=T}}else if(h<w){if(A+=l+h-w,(w-=h)<C){C-=w;do{T[o++]=d[A++]}while(--w);if(A=0,h<C){C-=w=h;do{T[o++]=d[A++]}while(--w);A=o-S,k=T}}}else if(A+=h-w,w<C){C-=w;do{T[o++]=d[A++]}while(--w);A=o-S,k=T}for(;C>2;)T[o++]=k[A++],T[o++]=k[A++],T[o++]=k[A++],C-=3;C&&(T[o++]=k[A++],C>1&&(T[o++]=k[A++]))}else{A=o-S;do{T[o++]=T[A++],T[o++]=T[A++],T[o++]=T[A++],C-=3}while(C>2);C&&(T[o++]=T[A++],C>1&&(T[o++]=T[A++]))}break}}break}}while(r<i&&o<a);r-=C=p>>3,f&=(1<<(p-=C<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=f,n.bits=p}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},960:(e,t,n)=>{"use strict";var r=n(886),i=n(374),o=n(592),s=n(946),a=n(415),c=-2,l=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):c}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):c}function m(e,t){var n,r;return e?(r=new d,e.state=r,r.window=null,0!==(n=g(e,t))&&(e.state=null),n):c}var y,v,b=!0;function w(e){if(b){var t;for(y=new r.Buf32(512),v=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,v,0,e.work,{bits:5}),b=!1}e.lencode=y,e.lenbits=9,e.distcode=v,e.distbits=5}function C(e,t,n,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),r.arraySet(s.window,t,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}t.inflateReset=p,t.inflateReset2=g,t.inflateResetKeep=f,t.inflateInit=function(e){return m(e,15)},t.inflateInit2=m,t.inflate=function(e,t){var n,d,f,p,g,m,y,v,b,S,A,k,x,T,E,_,I,P,R,N,O,F,M,D,L=0,j=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(n=e.state).mode===l&&(n.mode=13),g=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,d=e.input,m=e.avail_in,v=n.hold,b=n.bits,S=m,A=y,F=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(2&n.wrap&&35615===v){n.check=0,j[0]=255&v,j[1]=v>>>8&255,n.check=o(n.check,j,2,0),v=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=u;break}if(8!==(15&v)){e.msg="unknown compression method",n.mode=u;break}if(b-=4,O=8+(15&(v>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=u;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&v?10:l,v=0,b=0;break;case 2:for(;b<16;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(n.flags=v,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=u;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=u;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(j[0]=255&v,j[1]=v>>>8&255,n.check=o(n.check,j,2,0)),v=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}n.head&&(n.head.time=v),512&n.flags&&(j[0]=255&v,j[1]=v>>>8&255,j[2]=v>>>16&255,j[3]=v>>>24&255,n.check=o(n.check,j,4,0)),v=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(j[0]=255&v,j[1]=v>>>8&255,n.check=o(n.check,j,2,0)),v=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(j[0]=255&v,j[1]=v>>>8&255,n.check=o(n.check,j,2,0)),v=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((k=n.length)>m&&(k=m),k&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,p,k,O)),512&n.flags&&(n.check=o(n.check,d,k,p)),m-=k,p+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break e;k=0;do{O=d[p+k++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&k<m);if(512&n.flags&&(n.check=o(n.check,d,k,p)),m-=k,p+=k,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break e;k=0;do{O=d[p+k++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&k<m);if(512&n.flags&&(n.check=o(n.check,d,k,p)),m-=k,p+=k,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=u;break}v=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=l;break;case 10:for(;b<32;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}e.adler=n.check=h(v),v=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=y,e.next_in=p,e.avail_in=m,n.hold=v,n.bits=b,2;e.adler=n.check=1,n.mode=l;case l:if(5===t||6===t)break e;case 13:if(n.last){v>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}switch(n.last=1&v,b-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){v>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=u}v>>>=2,b-=2;break;case 14:for(v>>>=7&b,b-=7&b;b<32;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if((65535&v)!==(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=u;break}if(n.length=65535&v,v=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(k>m&&(k=m),k>y&&(k=y),0===k)break e;r.arraySet(f,d,p,k,g),m-=k,p+=k,y-=k,g+=k,n.length-=k;break}n.mode=l;break;case 17:for(;b<14;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(n.nlen=257+(31&v),v>>>=5,b-=5,n.ndist=1+(31&v),v>>>=5,b-=5,n.ncode=4+(15&v),v>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=u;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}n.lens[U[n.have++]]=7&v,v>>>=3,b-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},F=a(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,F){e.msg="invalid code lengths set",n.mode=u;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;_=(L=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,I=65535&L,!((E=L>>>24)<=b);){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(I<16)v>>>=E,b-=E,n.lens[n.have++]=I;else{if(16===I){for(D=E+2;b<D;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(v>>>=E,b-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=u;break}O=n.lens[n.have-1],k=3+(3&v),v>>>=2,b-=2}else if(17===I){for(D=E+3;b<D;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}b-=E,O=0,k=3+(7&(v>>>=E)),v>>>=3,b-=3}else{for(D=E+7;b<D;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}b-=E,O=0,k=11+(127&(v>>>=E)),v>>>=7,b-=7}if(n.have+k>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=u;break}for(;k--;)n.lens[n.have++]=O}}if(n.mode===u)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=u;break}if(n.lenbits=9,M={bits:n.lenbits},F=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,F){e.msg="invalid literal/lengths set",n.mode=u;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},F=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,F){e.msg="invalid distances set",n.mode=u;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(m>=6&&y>=258){e.next_out=g,e.avail_out=y,e.next_in=p,e.avail_in=m,n.hold=v,n.bits=b,s(e,A),g=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,d=e.input,m=e.avail_in,v=n.hold,b=n.bits,n.mode===l&&(n.back=-1);break}for(n.back=0;_=(L=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,I=65535&L,!((E=L>>>24)<=b);){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(_&&0===(240&_)){for(P=E,R=_,N=I;_=(L=n.lencode[N+((v&(1<<P+R)-1)>>P)])>>>16&255,I=65535&L,!(P+(E=L>>>24)<=b);){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}v>>>=P,b-=P,n.back+=P}if(v>>>=E,b-=E,n.back+=E,n.length=I,0===_){n.mode=26;break}if(32&_){n.back=-1,n.mode=l;break}if(64&_){e.msg="invalid literal/length code",n.mode=u;break}n.extra=15&_,n.mode=22;case 22:if(n.extra){for(D=n.extra;b<D;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;_=(L=n.distcode[v&(1<<n.distbits)-1])>>>16&255,I=65535&L,!((E=L>>>24)<=b);){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(0===(240&_)){for(P=E,R=_,N=I;_=(L=n.distcode[N+((v&(1<<P+R)-1)>>P)])>>>16&255,I=65535&L,!(P+(E=L>>>24)<=b);){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}v>>>=P,b-=P,n.back+=P}if(v>>>=E,b-=E,n.back+=E,64&_){e.msg="invalid distance code",n.mode=u;break}n.offset=I,n.extra=15&_,n.mode=24;case 24:if(n.extra){for(D=n.extra;b<D;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=u;break}n.mode=25;case 25:if(0===y)break e;if(k=A-y,n.offset>k){if((k=n.offset-k)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=u;break}k>n.wnext?(k-=n.wnext,x=n.wsize-k):x=n.wnext-k,k>n.length&&(k=n.length),T=n.window}else T=f,x=g-n.offset,k=n.length;k>y&&(k=y),y-=k,n.length-=k;do{f[g++]=T[x++]}while(--k);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;f[g++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===m)break e;m--,v|=d[p++]<<b,b+=8}if(A-=y,e.total_out+=A,n.total+=A,A&&(e.adler=n.check=n.flags?o(n.check,f,A,g-A):i(n.check,f,A,g-A)),A=y,(n.flags?v:h(v))!==n.check){e.msg="incorrect data check",n.mode=u;break}v=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===m)break e;m--,v+=d[p++]<<b,b+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=u;break}v=0,b=0}n.mode=29;case 29:F=1;break e;case u:F=-3;break e;case 31:return-4;default:return c}return e.next_out=g,e.avail_out=y,e.next_in=p,e.avail_in=m,n.hold=v,n.bits=b,(n.wsize||A!==e.avail_out&&n.mode<u&&(n.mode<27||4!==t))&&C(e,e.output,e.next_out,A-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,A-=e.avail_out,e.total_in+=S,e.total_out+=A,n.total+=A,n.wrap&&A&&(e.adler=n.check=n.flags?o(n.check,f,A,e.next_out-A):i(n.check,f,A,e.next_out-A)),e.data_type=n.bits+(n.last?64:0)+(n.mode===l?128:0)+(20===n.mode||15===n.mode?256:0),(0===S&&0===A||4===t)&&0===F&&(F=-5),F)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?c:(n.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,t,r,0)!==n.check?-3:C(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".87d9ba5d.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="expenser:";__webpack_require__.l=(n,r,i,o)=>{if(e[n])e[n].push(r);else{var s,a;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),a&&document.head.appendChild(s)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,o=n[0],s=n[1],a=n[2],c=0;if(o.some((t=>0!==e[t]))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(a)a(__webpack_require__)}for(t&&t(n);c<o.length;c++)i=o[c],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkexpenser=self.webpackChunkexpenser||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(43),t=__webpack_require__(391),n=(__webpack_require__(175),"popstate");function r(){return u((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return a("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:c(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function s(e,t){return{usr:e.state,key:e.key,idx:t}}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?l(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function l(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function u(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:l=document.defaultView,v5Compat:u=!1}=o,h=l.history,d="POP",f=null,p=g();function g(){return(h.state||{idx:null}).idx}function m(){d="POP";let e=g(),t=null==e?null:e-p;p=e,f&&f({action:d,location:v.location,delta:t})}function y(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:c(e);return n=n.replace(/ $/,"%20"),i(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,h.replaceState({...h.state,idx:p},""));let v={get action(){return d},get location(){return e(l,h)},listen(e){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(n,m),f=e,()=>{l.removeEventListener(n,m),f=null}},createHref:e=>t(l,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let n=a(v.location,e,t);r&&r(n,e),p=g()+1;let i=s(n,p),o=v.createHref(n);try{h.pushState(i,"",o)}catch(Lv){if(Lv instanceof DOMException&&"DataCloneError"===Lv.name)throw Lv;l.location.assign(o)}u&&f&&f({action:d,location:v.location,delta:1})},replace:function(e,t){d="REPLACE";let n=a(v.location,e,t);r&&r(n,e),p=g();let i=s(n,p),o=v.createHref(n);h.replaceState(i,"",o),u&&f&&f({action:d,location:v.location,delta:0})},go:e=>h.go(e)};return v}new WeakMap;function h(e,t){return d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function d(e,t,n,r){let i=E(("string"===typeof t?l(t):t).pathname||"/",n);if(null==i)return null;let o=f(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=T(i);s=A(o[a],e,r)}return s}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(i(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let c=N([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),f(e.children,t,l,c)),(null!=e.path||e.index)&&t.push({path:c,score:S(c,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of p(e.path))o(e,t,n);else o(e,t)})),t}function p(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=p(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var g=/^:[\w-]+$/,m=3,y=2,v=1,b=10,w=-2,C=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=w),t&&(r+=y),n.filter((e=>!C(e))).reduce(((e,t)=>e+(g.test(t)?m:""===t?v:b)),r)}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],c=a===r.length-1,l="/"===o?t:t.slice(o.length)||"/",u=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),h=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:N([o,u.pathname]),pathnameBase:O(N([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=N([o,u.pathnameBase]))}return s}function k(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=x(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Lv){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Lv}).`),e}}function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function _(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e){let t=I(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function R(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=l(e):(r={...e},i(!r.pathname||!r.pathname.includes("?"),_("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),_("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),_("#","search","hash",r)));let s,a=""===e||""===r.pathname,c=a?"/":r.pathname;if(null==c)s=n;else{let e=t.length-1;if(!o&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?l(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:F(r),hash:M(i)}}(r,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}var N=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function D(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var L=["POST","PUT","PATCH","DELETE"],j=(new Set(L),["GET",...L]);new Set(j),Symbol("ResetLoaderData");var U=e.createContext(null);U.displayName="DataRouter";var B=e.createContext(null);B.displayName="DataRouterState";var q=e.createContext({isTransitioning:!1});q.displayName="ViewTransition";var z=e.createContext(new Map);z.displayName="Fetchers";var V=e.createContext(null);V.displayName="Await";var H=e.createContext(null);H.displayName="Navigation";var W=e.createContext(null);W.displayName="Location";var K=e.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var G=e.createContext(null);G.displayName="RouteError";function X(){return null!=e.useContext(W)}function Y(){return i(X(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(W).location}var Q="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J(t){e.useContext(H).static||e.useLayoutEffect(t)}function Z(){let{isDataRoute:t}=e.useContext(K);return t?function(){let{router:t}=ae("useNavigate"),n=le("useNavigate"),r=e.useRef(!1);J((()=>{r.current=!0}));let i=e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(r.current,Q),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))}),[t,n]);return i}():function(){i(X(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(U),{basename:n,navigator:r}=e.useContext(H),{matches:s}=e.useContext(K),{pathname:a}=Y(),c=JSON.stringify(P(s)),l=e.useRef(!1);J((()=>{l.current=!0}));let u=e.useCallback((function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(l.current,Q),!l.current)return;if("number"===typeof e)return void r.go(e);let s=R(e,JSON.parse(c),a,"path"===i.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:N([n,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[n,r,c,a,t]);return u}()}e.createContext(null);function $(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(K),{pathname:i}=Y(),o=JSON.stringify(P(r));return e.useMemo((()=>R(t,JSON.parse(o),i,"path"===n)),[t,o,i,n])}function ee(t,n,r,s){i(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:c}=e.useContext(H),{matches:u}=e.useContext(K),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",m=d&&d.route;{let e=m&&m.path||"";de(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,v=Y();if(n){let e="string"===typeof n?l(n):n;i("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=v;let b=y.pathname||"/",w=b;if("/"!==g){let e=g.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let C=!c&&r&&r.matches&&r.matches.length>0?r.matches:h(t,{pathname:w});o(m||null!=C,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),o(null==C||void 0!==C[C.length-1].route.element||void 0!==C[C.length-1].route.Component||void 0!==C[C.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=oe(C&&C.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:N([g,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:N([g,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,r,s);return n&&S?e.createElement(W.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function te(){let t=ue(),n=D(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,a)}var ne=e.createElement(te,null),re=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(K.Provider,{value:this.props.routeContext},e.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ie(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext(U);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(K.Provider,{value:n},i)}function oe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let o=t,s=r?.errors;if(null!=s){let e=o.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,c=-1;if(r)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){a=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight(((t,i,l)=>{let u,h=!1,d=null,f=null;r&&(u=s&&i.route.id?s[i.route.id]:void 0,d=i.route.errorElement||ne,a&&(c<0&&0===l?(de("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):c===l&&(h=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(o.slice(0,l+1)),g=()=>{let n;return n=u?d:h?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(ie,{match:i,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===l)?e.createElement(re,{location:r.location,revalidation:r.revalidation,component:d,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function se(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ae(t){let n=e.useContext(U);return i(n,se(t)),n}function ce(t){let n=e.useContext(B);return i(n,se(t)),n}function le(t){let n=function(t){let n=e.useContext(K);return i(n,se(t)),n}(t),r=n.matches[n.matches.length-1];return i(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ue(){let t=e.useContext(G),n=ce("useRouteError"),r=le("useRouteError");return void 0!==t?t:n.errors?.[r]}var he={};function de(e,t,n){t||he[e]||(he[e]=!0,o(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return ee(t,void 0,r,n)}));function fe(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pe(t){let{basename:n="/",children:r=null,location:s,navigationType:a="POP",navigator:c,static:u=!1}=t;i(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:h,navigator:c,static:u,future:{}})),[h,c,u]);"string"===typeof s&&(s=l(s));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:y="default"}=s,v=e.useMemo((()=>{let e=E(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:y},navigationType:a}}),[h,f,p,g,m,y,a]);return o(null!=v,`<Router basename="${h}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:e.createElement(H.Provider,{value:d},e.createElement(W.Provider,{children:r,value:v}))}function ge(e){let{children:t,location:n}=e;return ee(me(t),n)}e.Component;function me(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,o)=>{if(!e.isValidElement(t))return;let s=[...n,o];if(t.type===e.Fragment)return void r.push.apply(r,me(t.props.children,s));i(t.type===fe,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=me(t.props.children,s)),r.push(a)})),r}var ye="get",ve="application/x-www-form-urlencoded";function be(e){return null!=e&&"string"===typeof e.tagName}var we=null;var Ce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Se(e){return null==e||Ce.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ve}"`),null)}function Ae(e,t){let n,r,i,o,s;if(be(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?E(s,t):null,n=e.getAttribute("method")||ye,i=Se(e.getAttribute("enctype"))||ve,o=new FormData(e)}else if(function(e){return be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?E(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||ye,i=Se(e.getAttribute("formenctype"))||Se(s.getAttribute("enctype"))||ve,o=new FormData(s,e),!function(){if(null===we)try{new FormData(document.createElement("form"),0),we=!1}catch(e){we=!0}return we}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ye,r=null,i=ve,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function ke(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function xe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Lv){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(Lv),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Te(e){return null!=e&&"string"===typeof e.page}function Ee(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function _e(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===o?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ie(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Pe(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Te(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function Re(e){return{__html:e}}Symbol("SingleFetchRedirect");var Ne=new Set([100,101,204,205]);function Oe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===E(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function Fe(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,o=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(D(n))return e.createElement(Me,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)i=n;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);i=new Error(e)}return e.createElement(Me,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function Me(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:o}=t,{routeModules:s}=Be();return s.root?.Layout&&!i?o:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?e.createElement(Ge,null):null)))}function De(e){return!0===e}function Le(){let t=e.useContext(U);return ke(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function je(){let t=e.useContext(B);return ke(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ue=e.createContext(void 0);function Be(){let t=e.useContext(Ue);return ke(t,"You must render this element inside a <HydratedRouter> element"),t}function qe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ze(e,t,n){if(n&&!Ke)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Ve(t){let{page:n,...r}=t,{router:i}=Le(),o=e.useMemo((()=>h(i.routes,n,i.basename)),[i.routes,n,i.basename]);return o?e.createElement(We,{page:n,matches:o,...r}):null}function He(t){let{manifest:n,routeModules:r}=Be(),[i,o]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Pe((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await xe(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ee).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||o(t)})),()=>{e=!0}}),[t,n,r]),i}function We(t){let{page:n,matches:r,...i}=t,o=Y(),{manifest:s,routeModules:a}=Be(),{basename:c}=Le(),{loaderData:l,matches:u}=je(),h=e.useMemo((()=>_e(n,r,u,s,o,"data")),[n,r,u,s,o]),d=e.useMemo((()=>_e(n,r,u,s,o,"assets")),[n,r,u,s,o]),f=e.useMemo((()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!h.some((e=>e.route.id===n.route.id))&&n.route.id in l&&a[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Oe(n,c);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[c,l,o,s,h,r,n,a]),p=e.useMemo((()=>Ie(d,s)),[d,s]),g=He(d);return e.createElement(e.Fragment,null,f.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i}))),p.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i}))),g.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Ue.displayName="FrameworkContext";var Ke=!1;function Ge(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:o,renderMeta:s}=Be(),{router:a,static:c,staticContext:l}=Le(),{matches:u}=je(),d=De(o);s&&(s.didRenderScripts=!0);let f=ze(u,null,i);e.useEffect((()=>{Ke=!0}),[]);let p=e.useMemo((()=>{let i=l?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(n.url)}`};\n${f.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];ke(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:c,module:l}=i,u=[...o?[{module:o,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...a?[{module:a,varName:`${r}_clientMiddleware`}]:[],...c?[{module:c,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(l)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map((e=>e.route.id))),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push(`/${o.join("/")}`),o.pop();s.forEach((e=>{let n=h(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let a=[...i].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:a,sri:!!n||void 0}}(n,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Re(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Re(o),type:"module",async:!0}))}),[]),g=Ke?[]:(m=n.entry.imports.concat(Ie(f,n,{includeHydrateFallback:!0})),[...new Set(m)]);var m;let y="object"===typeof n.sri?n.sri:{};return Ke?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,d?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:y[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:y[n.entry.module],suppressHydrationWarning:!0}),g.map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:y[n],suppressHydrationWarning:!0}))),p)}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ye&&(window.__reactRouterVersion="7.5.2")}catch(aj){}function Qe(t){let{basename:n,children:i,window:o}=t,s=e.useRef();null==s.current&&(s.current=r({window:o,v5Compat:!0}));let a=s.current,[c,l]=e.useState({action:a.action,location:a.location}),u=e.useCallback((t=>{e.startTransition((()=>l(t)))}),[l]);return e.useLayoutEffect((()=>a.listen(u)),[a,u]),e.createElement(pe,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:a})}var Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=e.forwardRef((function(t,n){let r,{onClick:s,discover:a="render",prefetch:l="none",relative:u,reloadDocument:h,replace:d,state:f,target:p,to:g,preventScrollReset:m,viewTransition:y,...v}=t,{basename:b}=e.useContext(H),w="string"===typeof g&&Je.test(g),C=!1;if("string"===typeof g&&w&&(r=g,Ye))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=E(t.pathname,b);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:C=!0}catch(aj){o(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=e.useContext(H),{hash:s,pathname:a,search:c}=$(t,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:N([r,a])),o.createHref({pathname:l,search:c,hash:s})}(g,{relative:u}),[A,k,x]=function(t,n){let r=e.useContext(Ue),[i,o]=e.useState(!1),[s,a]=e.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,f=e.useRef(null);e.useEffect((()=>{if("render"===t&&a(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{o(!0)},g=()=>{o(!1),a(!1)};return r?"intent"!==t?[s,f,{}]:[s,f,{onFocus:qe(c,p),onBlur:qe(l,g),onMouseEnter:qe(u,p),onMouseLeave:qe(h,g),onTouchStart:qe(d,p)}]:[!1,f,{}]}(l,v),T=function(t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Z(),u=Y(),h=$(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(h);l(t,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a})}}),[u,l,h,r,i,n,t,o,s,a])}(g,{replace:d,state:f,target:p,preventScrollReset:m,relative:u,viewTransition:y});let _=e.createElement("a",{...v,...x,href:r||S,onClick:C||h?s:function(e){s&&s(e),e.defaultPrevented||T(e)},ref:Xe(n,k),target:p,"data-discover":w||"render"!==a?void 0:"true"});return A&&!w?e.createElement(e.Fragment,null,_,e.createElement(Ve,{page:S})):_}));Ze.displayName="Link";var $e=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:a=!1,style:c,to:l,viewTransition:u,children:h,...d}=t,f=$(l,{relative:d.relative}),p=Y(),g=e.useContext(B),{navigator:m,basename:y}=e.useContext(H),v=null!=g&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(q);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=nt("useViewTransitionState"),s=$(t,{relative:n.relative});if(!r.isTransitioning)return!1;let a=E(r.currentLocation.pathname,o)||r.currentLocation.pathname,c=E(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=k(s.pathname,c)||null!=k(s.pathname,a)}(f)&&!0===u,b=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(w=w.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&y&&(C=E(C,y)||C);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let A,x=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(S),T=null!=C&&(C===b||!a&&C.startsWith(b)&&"/"===C.charAt(b.length)),_={isActive:x,isPending:T,isTransitioning:v},I=x?r:void 0;A="function"===typeof s?s(_):[s,x?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof c?c(_):c;return e.createElement(Ze,{...d,"aria-current":I,className:A,ref:n,style:P,to:l,viewTransition:u},"function"===typeof h?h(_):h)}));$e.displayName="NavLink";var et=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:o,navigate:s,reloadDocument:a,replace:l,state:u,method:h=ye,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m,...y}=t,v=ot(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(H),o=e.useContext(K);i(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),a={...$(t||".",{relative:n})},l=Y();if(null==t){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:N([r,a.pathname]));return c(a)}(d,{relative:p}),w="get"===h.toLowerCase()?"get":"post",C="string"===typeof d&&Je.test(d);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||h;v(t||e.currentTarget,{fetcherKey:o,method:n,navigate:s,replace:l,state:u,relative:p,preventScrollReset:g,viewTransition:m})},...y,"data-discover":C||"render"!==r?void 0:"true"})}));function tt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nt(t){let n=e.useContext(U);return i(n,tt(t)),n}et.displayName="Form";var rt=0,it=()=>`__${String(++rt)}__`;function ot(){let{router:t}=nt("useSubmit"),{basename:n}=e.useContext(H),r=le("useRouteId");return e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:c,body:l}=Ae(e,n);if(!1===i.navigate){let e=i.fetcherKey||it();await t.fetch(e,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}new TextEncoder;var st={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},at=e.createContext&&e.createContext(st),ct=["attr","size","title"];function lt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(t){return t&&t.map(((t,n)=>e.createElement(t.tag,dt({key:n},t.attr),pt(t.child))))}function gt(t){return n=>e.createElement(mt,ut({attr:dt({},t.attr)},n),pt(t.child))}function mt(t){var n=n=>{var r,{attr:i,size:o,title:s}=t,a=lt(t,ct),c=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",ut({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:dt(dt({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&e.createElement("title",null,s),t.children)};return void 0!==at?e.createElement(at.Consumer,null,(e=>n(e))):n(st)}function yt(e){return gt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function vt(e){return gt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function bt(e){return gt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function wt(e){return gt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Ct(e){return gt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function St(e){return gt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function At(e){return gt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function kt(e){return gt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function xt(e){return gt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Tt(e){return gt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Et(e){return gt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function _t(e){return gt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}var It=__webpack_require__(579);function Pt(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[o,s]=(0,e.useState)(!0),a=Y();(0,e.useEffect)((()=>{const e=()=>{window.innerWidth<=2503?s(!1):s(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const c=e=>a.pathname===e;return(0,It.jsxs)("nav",{className:"navbar "+(o?"expanded":"collapsed"),children:[(0,It.jsxs)("div",{className:"profile-section",children:[(0,It.jsxs)("div",{className:"profile-header",children:[(0,It.jsx)("h3",{className:"profile-name",children:"Fizikes Floky"}),(0,It.jsx)("button",{className:"toggle-button",onClick:()=>{s(!o)},children:(0,It.jsx)(yt,{})})]}),(0,It.jsxs)("div",{className:"profile-dots",children:[(0,It.jsx)("span",{className:"dot red"}),(0,It.jsx)("span",{className:"dot yellow"}),(0,It.jsx)("span",{className:"dot green"})]})]}),(0,It.jsxs)("ul",{className:"nav-list",children:[(0,It.jsx)("li",{className:"nav-item",children:(0,It.jsxs)(Ze,{to:"/",className:c("/")?"active":"",children:[(0,It.jsx)(At,{className:"nav-icon"}),o&&(0,It.jsx)("span",{children:"Home"})]})}),(0,It.jsxs)("li",{className:"nav-item",children:[(0,It.jsxs)("div",{className:`nav-link ${t?"open":""} ${a.pathname.includes("/budgeting")?"active":""}`,onClick:()=>n(!t),children:[(0,It.jsxs)("div",{className:"nav-link-content",children:[(0,It.jsx)(_t,{className:"nav-icon"}),o&&(0,It.jsx)("span",{children:"Budgeting"})]}),o&&(0,It.jsx)(bt,{className:"chevron "+(t?"open":"")})]}),o&&t&&(0,It.jsxs)("ul",{className:"submenu",children:[(0,It.jsx)("li",{className:c("/expensetracker")?"active":"",children:(0,It.jsx)(Ze,{to:"/expensetracker",children:"Expense Tracker"})}),(0,It.jsx)("li",{className:c("/revenuetracker")?"active":"",children:(0,It.jsx)(Ze,{to:"/revenuetracker",children:"Income/Revenue"})}),(0,It.jsx)("li",{className:c("/savings")?"active":"",children:(0,It.jsx)(Ze,{to:"/savings",children:"Savings"})}),(0,It.jsx)("li",{className:c("/transactions")?"active":"",children:(0,It.jsx)(Ze,{to:"/transactions",children:"Transactions"})})]})]}),(0,It.jsxs)("li",{className:"nav-item",children:[(0,It.jsxs)("div",{className:`nav-link ${r?"open":""} ${a.pathname.includes("/bookkeeping")?"active":""}`,onClick:()=>i(!r),children:[(0,It.jsxs)("div",{className:"nav-link-content",children:[(0,It.jsx)(vt,{className:"nav-icon"}),o&&(0,It.jsx)("span",{children:"Book Keeping"})]}),o&&(0,It.jsx)(bt,{className:"chevron "+(r?"open":"")})]}),o&&r&&(0,It.jsxs)("ul",{className:"submenu",children:[(0,It.jsx)("li",{className:c("/clientmanagement")?"active":"",children:(0,It.jsx)(Ze,{to:"/clientmanagement",children:"Client Management"})}),(0,It.jsx)("li",{className:c("/conflict-check")?"active":"",children:(0,It.jsx)(Ze,{to:"/conflict-check",children:"Conflict Check"})}),(0,It.jsx)("li",{className:c("/document-drafting")?"active":"",children:(0,It.jsx)(Ze,{to:"/document-drafting",children:"Document Drafting"})}),(0,It.jsx)("li",{className:c("/emails")?"active":"",children:(0,It.jsx)(Ze,{to:"/emails",children:"Emails"})}),(0,It.jsx)("li",{className:c("/invoicing")?"active":"",children:(0,It.jsx)(Ze,{to:"/invoicing",children:"Invoicing & Payments"})}),(0,It.jsx)("li",{className:c("/cost-breakdown")?"active":"",children:(0,It.jsx)(Ze,{to:"/cost-breakdown",children:"Cost Breakdown"})})]})]}),(0,It.jsx)("li",{className:"nav-item",children:(0,It.jsxs)(Ze,{to:"/timetracker",className:c("/timetracker")?"active":"",children:[(0,It.jsx)(wt,{className:"nav-icon"}),o&&(0,It.jsx)("span",{children:"Time Tracking"})]})}),(0,It.jsx)("li",{className:"nav-item",children:(0,It.jsxs)(Ze,{to:"/email",className:c("/email")?"active":"",children:[(0,It.jsx)(Ct,{className:"nav-icon"}),o&&(0,It.jsx)("span",{children:"Email"})]})})]}),(0,It.jsx)("div",{className:"logo-section",children:(0,It.jsxs)("div",{className:"logo",children:[(0,It.jsx)("div",{className:"logo-circle"}),(0,It.jsx)("div",{className:"logo-square"}),(0,It.jsx)("div",{className:"logo-triangle"})]})})]})}const Rt=function(){return(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsx)("div",{className:"page-content"})]})},Nt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Ft;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ft extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mt=function(e){return function(e){const t=Nt(e);return Ot.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Dt=function(e){try{return Ot.decodeString(e,!0)}catch(aj){console.error("base64Decode failed: ",aj)}return null};const Lt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,jt=()=>{try{return Lt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK2Sg8j4EvdRsazXLJtuWD_z1aI5nQGog",REACT_APP_API_URL:"https://expenser-server-829602228195.us-central1.run.app",REACT_APP_APP_ID:"1:829602228195:web:851194b850a6be96ee62d6",REACT_APP_AUTH_DOMAIN:"expenser-2335.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"829602228195",REACT_APP_PROJECT_ID:"expenser-2335",REACT_APP_STORAGE_BUCKET:"expenser-2335.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(aj){return}const t=e&&Dt(e[1]);return t&&JSON.parse(t)})()}catch(aj){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${aj}`)}},Ut=e=>{var t,n;return null===(n=null===(t=jt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Bt=e=>{const t=Ut(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},qt=()=>{var e;return null===(e=jt())||void 0===e?void 0:e.config},zt=e=>{var t;return null===(t=jt())||void 0===t?void 0:t[`_${e}`]};class Vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ht(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(o)),""].join(".")}function Wt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Kt(){return!function(){var e;const t=null===(e=jt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(aj){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gt(){try{return"object"===typeof indexedDB}catch(aj){return!1}}class Xt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yt.prototype.create)}}class Yt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Qt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new Xt(n,o,t)}}const Qt=/\{\$([^}]+)}/g;function Jt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Zt(n)&&Zt(o)){if(!Jt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zt(e){return null!==e&&"object"===typeof e}function $t(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function en(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function tn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class nn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=rn),void 0===r.error&&(r.error=rn),void 0===r.complete&&(r.complete=rn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(aj){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(aj){"undefined"!==typeof console&&console.error&&console.error(aj)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function rn(){}function on(e){return e&&e._delegate?e._delegate:e}class sn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const an="[DEFAULT]";class cn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Vt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(aj){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(aj){if(r)return null;throw aj}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:an})}catch(aj){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(aj){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===an?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.component?this.component.multipleInstances?e:an:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ln{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const un=[];var hn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(hn||(hn={}));const dn={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},fn=hn.INFO,pn={[hn.DEBUG]:"log",[hn.VERBOSE]:"log",[hn.INFO]:"info",[hn.WARN]:"warn",[hn.ERROR]:"error"},gn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class mn{constructor(e){this.name=e,this._logLevel=fn,this._logHandler=gn,this._userLogHandler=null,un.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?dn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hn.DEBUG,...t),this._logHandler(this,hn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hn.VERBOSE,...t),this._logHandler(this,hn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hn.INFO,...t),this._logHandler(this,hn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hn.WARN,...t),this._logHandler(this,hn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hn.ERROR,...t),this._logHandler(this,hn.ERROR,...t)}}let yn,vn;const bn=new WeakMap,wn=new WeakMap,Cn=new WeakMap,Sn=new WeakMap,An=new WeakMap;let kn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Cn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vn||(vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_n(this),n),En(bn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En(e.apply(_n(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(_n(this),t,...r);return Cn.set(o,t.sort?t.sort():[t]),En(o)}}function Tn(e){return"function"===typeof e?xn(e):(e instanceof IDBTransaction&&function(e){if(wn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));wn.set(e,t)}(e),t=e,(yn||(yn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,kn):e);var t}function En(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(En(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&bn.set(t,e)})).catch((()=>{})),An.set(t,e),t}(e);if(Sn.has(e))return Sn.get(e);const t=Tn(e);return t!==e&&(Sn.set(e,t),An.set(t,e)),t}const _n=e=>An.get(e);const In=["get","getKey","getAll","getAllKeys","count"],Pn=["put","add","delete","clear"],Rn=new Map;function Nn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Rn.get(t))return Rn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Pn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!In.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Rn.set(t,o),o}kn=(e=>({...e,get:(t,n,r)=>Nn(t,n)||e.get(t,n,r),has:(t,n)=>!!Nn(t,n)||e.has(t,n)}))(kn);class On{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Fn="@firebase/app",Mn="0.10.13",Dn=new mn("@firebase/app"),Ln="@firebase/app-compat",jn="@firebase/analytics-compat",Un="@firebase/analytics",Bn="@firebase/app-check-compat",qn="@firebase/app-check",zn="@firebase/auth",Vn="@firebase/auth-compat",Hn="@firebase/database",Wn="@firebase/data-connect",Kn="@firebase/database-compat",Gn="@firebase/functions",Xn="@firebase/functions-compat",Yn="@firebase/installations",Qn="@firebase/installations-compat",Jn="@firebase/messaging",Zn="@firebase/messaging-compat",$n="@firebase/performance",er="@firebase/performance-compat",tr="@firebase/remote-config",nr="@firebase/remote-config-compat",rr="@firebase/storage",ir="@firebase/storage-compat",or="@firebase/firestore",sr="@firebase/vertexai-preview",ar="@firebase/firestore-compat",cr="firebase",lr="[DEFAULT]",ur={[Fn]:"fire-core",[Ln]:"fire-core-compat",[Un]:"fire-analytics",[jn]:"fire-analytics-compat",[qn]:"fire-app-check",[Bn]:"fire-app-check-compat",[zn]:"fire-auth",[Vn]:"fire-auth-compat",[Hn]:"fire-rtdb",[Wn]:"fire-data-connect",[Kn]:"fire-rtdb-compat",[Gn]:"fire-fn",[Xn]:"fire-fn-compat",[Yn]:"fire-iid",[Qn]:"fire-iid-compat",[Jn]:"fire-fcm",[Zn]:"fire-fcm-compat",[$n]:"fire-perf",[er]:"fire-perf-compat",[tr]:"fire-rc",[nr]:"fire-rc-compat",[rr]:"fire-gcs",[ir]:"fire-gcs-compat",[or]:"fire-fst",[ar]:"fire-fst-compat",[sr]:"fire-vertex","fire-js":"fire-js",[cr]:"fire-js-all"},hr=new Map,dr=new Map,fr=new Map;function pr(e,t){try{e.container.addComponent(t)}catch(aj){Dn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,aj)}}function gr(e){const t=e.name;if(fr.has(t))return Dn.debug(`There were multiple attempts to register component ${t}.`),!1;fr.set(t,e);for(const n of hr.values())pr(n,e);for(const n of dr.values())pr(n,e);return!0}function mr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yr(e){return void 0!==e.settings}const vr=new Yt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class br{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const wr="10.14.1";function Cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:lr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=qt()),!n)throw vr.create("no-options");const o=hr.get(i);if(o){if(Jt(n,o.options)&&Jt(r,o.config))return o;throw vr.create("duplicate-app",{appName:i})}const s=new ln(i);for(const c of fr.values())s.addComponent(c);const a=new br(n,r,s);return hr.set(i,a),a}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr;const t=hr.get(e);if(!t&&e===lr&&qt())return Cr();if(!t)throw vr.create("no-app",{appName:e});return t}function Ar(e,t,n){var r;let i=null!==(r=ur[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Dn.warn(e.join(" "))}gr(new sn(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const kr="firebase-heartbeat-store";let xr=null;function Tr(){return xr||(xr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=En(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(En(s.result),e.oldVersion,e.newVersion,En(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(kr)}catch(aj){console.warn(aj)}}}).catch((e=>{throw vr.create("idb-open",{originalErrorMessage:e.message})}))),xr}async function Er(e,t){try{const n=(await Tr()).transaction(kr,"readwrite"),r=n.objectStore(kr);await r.put(t,_r(e)),await n.done}catch(aj){if(aj instanceof Xt)Dn.warn(aj.message);else{const t=vr.create("idb-set",{originalErrorMessage:null===aj||void 0===aj?void 0:aj.message});Dn.warn(t.message)}}}function _r(e){return`${e.name}!${e.options.appId}`}class Ir{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Rr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(aj){Dn.warn(aj)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Pr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Nr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Mt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(aj){return Dn.warn(aj),""}}}function Pr(){return(new Date).toISOString().substring(0,10)}class Rr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Gt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Lv){t(Lv)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Tr()).transaction(kr),n=await t.objectStore(kr).get(_r(e));return await t.done,n}catch(aj){if(aj instanceof Xt)Dn.warn(aj.message);else{const t=vr.create("idb-get",{originalErrorMessage:null===aj||void 0===aj?void 0:aj.message});Dn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Nr(e){return Mt(JSON.stringify({version:2,heartbeats:e})).length}var Or;Or="",gr(new sn("platform-logger",(e=>new On(e)),"PRIVATE")),gr(new sn("heartbeat",(e=>new Ir(e)),"PRIVATE")),Ar(Fn,Mn,Or),Ar(Fn,Mn,"esm2017"),Ar("fire-js","");function Fr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Mr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dr=Mr,Lr=new Yt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jr=new mn("@firebase/auth");function Ur(e){if(jr.logLevel<=hn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jr.error(`Auth (${wr}): ${e}`,...n)}}function Br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hr(e,...n)}function qr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hr(e,...n)}function zr(e,t,n){const r=Object.assign(Object.assign({},Dr()),{[t]:n});return new Yt("auth","Firebase",r).create(t,{appName:e.name})}function Vr(e){return zr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Lr.create(e,...n)}function Wr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hr(t,...r)}}function Kr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ur(t),new Error(t)}function Gr(e,t){e||Kr(t)}function Xr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yr(){return"http:"===Qr()||"https:"===Qr()}function Qr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Jr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Zr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Jr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $r(e,t){Gr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ei{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ti={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ni=new Zr(3e4,6e4);function ri(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ii(e,t,n,r){return oi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=$t(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),ei.fetch()(ai(e,e.config.apiHost,n,s),c)}))}async function oi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ti),t);try{const t=new li(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ui(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ui(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ui(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw ui(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw zr(e,a,s);Br(e,a)}}catch(aj){if(aj instanceof Xt)throw aj;Br(e,"network-request-failed",{message:String(aj)})}}async function si(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await ii(e,t,n,r,i);return"mfaPendingCredential"in o&&Br(e,"multi-factor-auth-required",{_serverResponse:o}),o}function ai(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?$r(e.config,i):`${e.config.apiScheme}://${i}`}function ci(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class li{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(qr(this.auth,"network-request-failed"))),ni.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ui(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(e,t,r);return i.customData._tokenResponse=n,i}function hi(e){return void 0!==e&&void 0!==e.enterprise}class di{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ci(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function fi(e,t){return ii(e,"GET","/v2/recaptchaConfig",ri(e,t))}async function pi(e,t){return ii(e,"POST","/v1/accounts:lookup",t)}function gi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(aj){}}function mi(e){return 1e3*Number(e)}function yi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ur("JWT malformed, contained fewer than 3 sections"),null;try{const e=Dt(n);return e?JSON.parse(e):(Ur("Failed to decode base64 JWT payload"),null)}catch(aj){return Ur("Caught error parsing JWT payload as JSON",null===aj||void 0===aj?void 0:aj.toString()),null}}function vi(e){const t=yi(e);return Wr(t,"internal-error"),Wr("undefined"!==typeof t.exp,"internal-error"),Wr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function bi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(aj){throw aj instanceof Xt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(aj)&&e.auth.currentUser===e&&await e.auth.signOut(),aj}}class wi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(aj){return void("auth/network-request-failed"===(null===aj||void 0===aj?void 0:aj.code)&&this.schedule(!0))}this.schedule()}}class Ci{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Si(e){var t;const n=e.auth,r=await e.getIdToken(),i=await bi(e,pi(n,{idToken:r}));Wr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Ai(o.providerUserInfo):[],a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ci(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Ai(e){return e.map((e=>{var{providerId:t}=e,n=Fr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ki{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wr(e.idToken,"internal-error"),Wr("undefined"!==typeof e.idToken,"internal-error"),Wr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):vi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Wr(0!==e.length,"internal-error");const t=vi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Wr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await oi(e,{},(async()=>{const n=$t({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=ai(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",ei.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ki;return n&&(Wr("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Wr("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Wr("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ki,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function xi(e,t){Wr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ti{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Fr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ci(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await bi(this,this.stsTokenManager.getToken(this.auth,e));return Wr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=on(e),r=await n.getIdToken(t),i=yi(r);Wr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:gi(mi(i.auth_time)),issuedAtTime:gi(mi(i.iat)),expirationTime:gi(mi(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=on(e);await Si(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Wr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Wr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Si(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await bi(this,async function(e,t){return ii(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:S}=t;Wr(v&&S,e,"internal-error");const A=ki.fromJSON(this.name,S);Wr("string"===typeof v,e,"internal-error"),xi(u,e.name),xi(h,e.name),Wr("boolean"===typeof b,e,"internal-error"),Wr("boolean"===typeof w,e,"internal-error"),xi(d,e.name),xi(f,e.name),xi(p,e.name),xi(g,e.name),xi(m,e.name),xi(y,e.name);const k=new Ti({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:A,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(k.providerData=C.map((e=>Object.assign({},e)))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ki;r.updateFromServerResponse(t);const i=new Ti({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Si(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Wr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ai(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new ki;s.updateFromIdToken(n);const a=new Ti({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ci(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const Ei=new Map;function _i(e){Gr(e instanceof Function,"Expected a class definition");let t=Ei.get(e);return t?(Gr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ei.set(e,t),t)}class Ii{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ii.type="NONE";const Pi=Ii;function Ri(e,t,n){return`firebase:${e}:${t}:${n}`}class Ni{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ri(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ri("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ni(_i(Pi),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||_i(Pi);const o=Ri(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Ti._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new Ni(i,e,n)):new Ni(i,e,n)}}function Oi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Li(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ui(t))return"Blackberry";if(Bi(t))return"Webos";if(Mi(t))return"Safari";if((t.includes("chrome/")||Di(t))&&!t.includes("edge/"))return"Chrome";if(ji(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/firefox\//i.test(e)}function Mi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/crios\//i.test(e)}function Li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/iemobile/i.test(e)}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/android/i.test(e)}function Ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/blackberry/i.test(e)}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/webos/i.test(e)}function qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function zi(){return function(){const e=Wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return qi(e)||ji(e)||Bi(e)||Ui(e)||/windows phone/i.test(e)||Li(e)}function Hi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Oi(Wt());break;case"Worker":t=`${Oi(Wt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${wr}/${r}`}class Wi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(aj){r(aj)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(aj){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===aj||void 0===aj?void 0:aj.message})}}}class Ki{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Gi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.beforeStateQueue=new Wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_i(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ni.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(aj){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await pi(this,{idToken:e}),n=await Ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(aj){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(aj)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Wr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(aj){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Si(e)}catch(aj){if("auth/network-request-failed"!==(null===aj||void 0===aj?void 0:aj.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(Vr(this));const t=e?on(e):null;return t&&Wr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Wr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return yr(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(Vr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(_i(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ii(e,"GET","/v2/passwordPolicy",ri(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ki(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ii(e,"POST","/v2/accounts:revokeToken",ri(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_i(e)||this._popupRedirectResolver;Wr(t,this,"argument-error"),this.redirectPersistenceManager=await Ni.create(this,[_i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wr(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(jr.logLevel<=hn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jr.warn(`Auth (${wr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Xi(e){return on(e)}class Yi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new nn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Wr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ji(e){return Qi.loadJS(e)}function Zi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class $i{constructor(e){this.type="recaptcha-enterprise",this.auth=Xi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;hi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{fi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new di(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&hi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Qi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ji(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function eo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new $i(e);let o;try{o=await i.verify(n)}catch(Lv){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function to(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await eo(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await eo(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function no(e,t,n){const r=Xi(e);Wr(r._canInitEmulator,r,"emulator-config-failed"),Wr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ro(t),{host:s,port:a}=function(e){const t=ro(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:io(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:io(t)}}}(t),c=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ro(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function io(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class oo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,t){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function so(e,t){return ii(e,"POST","/v1/accounts:signUp",t)}async function ao(e,t){return si(e,"POST","/v1/accounts:signInWithPassword",ri(e,t))}async function co(e,t){return ii(e,"POST","/v1/accounts:sendOobCode",ri(e,t))}async function lo(e,t){return co(e,t)}class uo extends oo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new uo(e,t,"password")}static _fromEmailAndCode(e,t){return new uo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return to(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ao);case"emailLink":return async function(e,t){return si(e,"POST","/v1/accounts:signInWithEmailLink",ri(e,t))}(e,{email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return to(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",so);case"emailLink":return async function(e,t){return si(e,"POST","/v1/accounts:signInWithEmailLink",ri(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(e,t){return si(e,"POST","/v1/accounts:signInWithIdp",ri(e,t))}class fo extends oo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Fr(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new fo(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ho(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ho(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ho(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$t(t)}return e}}const po={USER_NOT_FOUND:"user-not-found"};class go extends oo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new go({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new go({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return si(e,"POST","/v1/accounts:signInWithPhoneNumber",ri(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await si(e,"POST","/v1/accounts:signInWithPhoneNumber",ri(e,t));if(n.temporaryProof)throw ui(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return si(e,"POST","/v1/accounts:signInWithPhoneNumber",ri(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),po)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new go({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class mo{constructor(e){var t,n,r,i,o,s;const a=en(tn(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Wr(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=en(tn(e)).link,n=t?en(tn(t)).deep_link_id:null,r=en(tn(e)).deep_link_id;return(r?en(tn(r)).link:null)||r||n||t||e}(e);try{return new mo(t)}catch(n){return null}}}class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,t){return uo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=mo.parseLink(t);return Wr(n,"argument-error"),uo._fromEmailAndCode(e,n.code,n.tenantId)}}yo.PROVIDER_ID="password",yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bo extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wo extends bo{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wo.credential(t.oauthAccessToken)}catch(n){return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com",wo.PROVIDER_ID="facebook.com";class Co extends bo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fo._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Co.credential(n,r)}catch(i){return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com",Co.PROVIDER_ID="google.com";class So extends bo{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return So.credential(t.oauthAccessToken)}catch(n){return null}}}So.GITHUB_SIGN_IN_METHOD="github.com",So.PROVIDER_ID="github.com";class Ao extends bo{constructor(){super("twitter.com")}static credential(e,t){return fo._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ao.credential(n,r)}catch(i){return null}}}async function ko(e,t){return si(e,"POST","/v1/accounts:signUp",ri(e,t))}Ao.TWITTER_SIGN_IN_METHOD="twitter.com",Ao.PROVIDER_ID="twitter.com";class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ti._fromIdTokenResponse(e,n,r),o=To(n);return new xo({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=To(n);return new xo({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function To(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Eo extends Xt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Eo.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Eo(e,t,n,r)}}function _o(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Eo._fromErrorAndOperation(e,n,t,r);throw n}))}async function Io(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await bi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xo._forOperation(e,"link",r)}async function Po(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(yr(r.app))return Promise.reject(Vr(r));const i="reauthenticate";try{const o=await bi(e,_o(r,i,t,e),n);Wr(o.idToken,r,"internal-error");const s=yi(o.idToken);Wr(s,r,"internal-error");const{sub:a}=s;return Wr(e.uid===a,r,"user-mismatch"),xo._forOperation(e,i,o)}catch(aj){throw"auth/user-not-found"===(null===aj||void 0===aj?void 0:aj.code)&&Br(r,"user-mismatch"),aj}}async function Ro(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yr(e.app))return Promise.reject(Vr(e));const r="signIn",i=await _o(e,r,t),o=await xo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function No(e,t){return Ro(Xi(e),t)}function Oo(e,t,n){var r;Wr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Wr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Wr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Wr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Fo(e){const t=Xi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Mo="__sak";class Do{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Lo extends Do{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);zi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lo.type="LOCAL";const jo=Lo;class Uo extends Do{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Uo.type="SESSION";const Bo=Uo;class qo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new qo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function zo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}qo.receivers=[];class Vo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=zo("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Ho(){return window}function Wo(){return"undefined"!==typeof Ho().WorkerGlobalScope&&"function"===typeof Ho().importScripts}const Ko="firebaseLocalStorageDb",Go="firebaseLocalStorage",Xo="fbase_key";class Yo{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Qo(e,t){return e.transaction([Go],t?"readwrite":"readonly").objectStore(Go)}function Jo(){const e=indexedDB.open(Ko,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Go,{keyPath:Xo})}catch(aj){n(aj)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Go)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ko);return new Yo(e).toPromise()}(),t(await Jo()))}))}))}async function Zo(e,t,n){const r=Qo(e,!0).put({[Xo]:t,value:n});return new Yo(r).toPromise()}function $o(e,t){const n=Qo(e,!0).delete(t);return new Yo(n).toPromise()}class es{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Jo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(aj){if(t++>3)throw aj;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qo._getInstance(Wo()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Vo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jo();return await Zo(e,Mo,"1"),await $o(e,Mo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Zo(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Qo(e,!1).get(t),r=await new Yo(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>$o(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Qo(e,!1).getAll();return new Yo(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}es.type="LOCAL";const ts=es;Zi("rcb"),new Zr(3e4,6e4);const ns="recaptcha";async function rs(e,t,n){var r;const i=await n.verify();try{let o;if(Wr("string"===typeof i,e,"argument-error"),Wr(n.type===ns,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Wr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ii(e,"POST","/v2/accounts/mfaEnrollment:start",ri(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Wr("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Wr(n,e,"missing-multi-factor-info");const s=await function(e,t){return ii(e,"POST","/v2/accounts/mfaSignIn:start",ri(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ii(e,"POST","/v1/accounts:sendVerificationCode",ri(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class is{constructor(e){this.providerId=is.PROVIDER_ID,this.auth=Xi(e)}verifyPhoneNumber(e,t){return rs(this.auth,e,on(t))}static credential(e,t){return go._fromVerification(e,t)}static credentialFromResult(e){const t=e;return is.credentialFromTaggedObject(t)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?go._fromTokenResponse(n,r):null}}function os(e,t){return t?_i(t):(Wr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}is.PROVIDER_ID="phone",is.PHONE_SIGN_IN_METHOD="phone";class ss extends oo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function as(e){return Ro(e.auth,new ss(e),e.bypassAuthState)}function cs(e){const{auth:t,user:n}=e;return Wr(n,t,"internal-error"),Po(n,new ss(e),e.bypassAuthState)}async function ls(e){const{auth:t,user:n}=e;return Wr(n,t,"internal-error"),Io(n,new ss(e),e.bypassAuthState)}class us{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(aj){this.reject(aj)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(aj){this.reject(aj)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return as;case"linkViaPopup":case"linkViaRedirect":return ls;case"reauthViaPopup":case"reauthViaRedirect":return cs;default:Br(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hs=new Zr(2e3,1e4);class ds extends us{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wr(e,this.auth,"internal-error"),e}async onExecution(){Gr(1===this.filter.length,"Popup operations only handle one event");const e=zo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(qr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,hs.get())};e()}}ds.currentPopupAction=null;const fs=new Map;class ps extends us{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=fs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ys(t),r=ms(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(aj){e=()=>Promise.reject(aj)}fs.set(this.auth._key(),e)}return this.bypassAuthState||fs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function gs(e,t){fs.set(e._key(),t)}function ms(e){return _i(e._redirectPersistence)}function ys(e){return Ri("pendingRedirect",e.config.apiKey,e.name)}async function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yr(e.app))return Promise.reject(Vr(e));const r=Xi(e),i=os(r,t),o=new ps(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class bs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Cs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ws(e))}saveEventToCache(e){this.cachedEventUids.add(ws(e)),this.lastProcessedEventTime=Date.now()}}function ws(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Cs(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Ss=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,As=/^https?/;async function ks(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ii(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(xs(r))return}catch(n){}Br(e,"unauthorized-domain")}function xs(e){const t=Xr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!As.test(n))return!1;if(Ss.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ts=new Zr(3e4,6e4);function Es(){const e=Ho().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function _s(e){return new Promise(((t,n)=>{var r,i,o;function s(){Es(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Es(),n(qr(e,"network-request-failed"))},timeout:Ts.get()})}if(null===(i=null===(r=Ho().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ho().gapi)||void 0===o?void 0:o.load)){const t=Zi("iframefcb");return Ho()[t]=()=>{gapi.load?s():n(qr(e,"network-request-failed"))},Ji(`${Qi.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Is=null,e}))}let Is=null;const Ps=new Zr(5e3,15e3),Rs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Os(e){const t=e.config;Wr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$r(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:wr},i=Ns.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${$t(r).slice(1)}`}async function Fs(e){const t=await function(e){return Is=Is||_s(e),Is}(e),n=Ho().gapi;return Wr(n,e,"internal-error"),t.open({where:document.body,url:Os(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=qr(e,"network-request-failed"),o=Ho().setTimeout((()=>{r(i)}),Ps.get());function s(){Ho().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Ms={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ds{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(aj){}}}function Ls(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Ms),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Wt().toLowerCase();n&&(a=Di(l)?"_blank":n),Fi(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return qi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ds(null);const h=window.open(t||"",a,u);Wr(h,e,"popup-blocked");try{h.focus()}catch(aj){}return new Ds(h)}const js="__/auth/handler",Us="emulator/auth/handler",Bs=encodeURIComponent("fac");async function qs(e,t,n,r,i,o){Wr(e.config.authDomain,e,"auth-domain-config-required"),Wr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wr,eventId:i};if(t instanceof vo){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof bo){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?`#${Bs}=${encodeURIComponent(c)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${js}`;return $r(t,Us)}(e)}?${$t(a).slice(1)}${l}`}const zs="webStorageSupport";const Vs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bo,this._completeRedirectFn=vs,this._overrideRedirectResult=gs}async _openPopup(e,t,n,r){var i;Gr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ls(e,await qs(e,t,n,Xr(),r),zo())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ho().location.href=e}(await qs(e,t,n,Xr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Gr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Fs(e),n=new bs(e);return t.register("authEvent",(t=>{Wr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zs,{type:zs},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[zs];void 0!==i&&t(!!i),Br(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ks(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vi()||Mi()||qi()}};var Hs="@firebase/auth",Ws="1.7.9";class Ks{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gs=zt("authIdTokenMaxAge")||300;let Xs=null;var Ys,Qs;Ys={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=qr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Qi=Ys,Qs="Browser",gr(new sn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Wr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:Qs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hi(Qs)},l=new Gi(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),gr(new sn("auth-internal",(e=>(e=>new Ks(e))(Xi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(Hs,Ws,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Qs)),Ar(Hs,Ws,"esm2017");Ar("firebase","10.14.1","app");var Js,Zs,$s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ea={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),c=o(1),l=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(c)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var l=o.add(r);0>=l.l(e)&&(i=i.add(n),o=l),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(o=s(n)).j(t);h(l)||0<l.l(e);)l=(o=s(n-=r)).j(t);u(o)&&(o=c),i=i.add(o),e=f(e,l)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(l)&&0>e.l(l))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var c=this.i(i)>>>16,f=65535&this.i(i),g=e.i(o)>>>16,m=65535&e.i(o);n[2*i+2*o]+=f*m,p(n,2*i+2*o),n[2*i+2*o+1]+=c*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=c*g,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Zs=ea.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var c=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+c),n);8>c?(c=s(Math.pow(n,c)),i=i.j(c).add(s(l))):i=(i=i.j(r)).add(s(l))}return i},Js=ea.Integer=r}).apply("undefined"!==typeof $s?$s:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ta,na,ra,ia,oa,sa,aa,ca,la="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ua={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof la&&la];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function l(e,t,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function A(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var x=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,_=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=x.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);E=()=>{e.then(R)}};var R=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){A(n)}var t=x;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function N(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,O);var D={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function q(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}q.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=V(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return X(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,c=$(e);if(c||(e[H]=c=new q(e)),(n=c.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)F||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function X(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)X(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(o=e.g[t],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=$(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):B(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function $(e){return(e=e[H])instanceof q?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){N.call(this),this.i=new q(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;C(t=new O(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,c=s.ha||s.src;s.fa&&z(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,N),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(e){N.call(this),this.h=e,this.g={}}h(ce,N);var le=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}ce.prototype.N=function(){ce.aa.N.call(this),ue(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}h(ve,O),h(be,O);var we={},Ce=null;function Se(){return Ce=Ce||new ne}function Ae(e){O.call(this,we.La,e)}function ke(e){const t=Se();re(t,new Ae(t))}function xe(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new xe(t,e))}function Ee(e,t){O.call(this,we.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Ae,O),we.STAT_EVENT="statevent",h(xe,O),we.Ma="timingevent",h(Ee,O),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Re,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Fe(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}h(Fe,pe),Fe.prototype.g=function(){return new XMLHttpRequest},Fe.prototype.i=function(){return{}},Re=new Fe;var Le={},je={};function Ue(e,t,n){e.L=1,e.v=ht(st(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),Ve(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(l(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(le[0]=i.toString()),i=le);for(var o=0;o<i.length;o++){var s=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function qe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(l(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||cn(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Xe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||$e(n.h,e)))if(!e.K&&$e(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(l(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const t=l[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=l[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,c=r.L;c&&(a.I=c),a.B&&(We(a),Ve(a)),r.g=s}else nn(r);0<n.i.length&&Zt(n)}else"stop"!=l[0]&&"close"!=l[0]||un(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?un(n,7):Yt(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}ke()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(qe(this)){var r=Kt(this.g);e="";var o=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(c)){var u=c;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=ze(this,a),e==je){4==d&&(this.s=4,Te(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Te(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Xe(this,e)}if(qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(h),h.M=!0,Te(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Pe(this.i,this.l,a,null),Xe(this,a);4==d&&Ge(this),this.o&&!this.J&&(4==d?cn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(ha){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function $e(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,ct(this,e.s),this.l=e.l;var t=e.i,n=new Ct;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lt(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),ct(this,t[4]),this.l=dt(t[5]||"",!0),lt(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new Ct(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ct(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function lt(e,t,n){t instanceof Ct?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(At(this,t),xt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new Ct(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var gt,mt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function Ct(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function At(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function xt(e,t,n){At(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function _t(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(aj){throw t.push(r+"type="+encodeURIComponent("_badmap")),aj}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ft(e)}function Ft(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Ct.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},h(Pt,pe),Pt.prototype.g=function(){return new Rt(this.l,this.j)},Pt.prototype.i=(gt={},function(){return gt}),h(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ft(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ft(this)),this.g&&(this.readyState=3,Ft(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Ft(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Lt,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,qt(e),Vt(e)}function qt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!jt.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(c){a=""}e.l=a+" ["+e.Z()+"]",qt(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(aj){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(pa){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Me(e,e.j,t)).L=2,t.v=ht(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}hn(e)}function Qt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Jt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||P(),_||(E(),_=!0),I.add(t,e),e.B=0}}function $t(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?l(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{It(a,e,"req"+n+"_")}catch(ha){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||P(),_||(E(),_=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(l(e.Fa,e),ln(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(st(t)),n.m=null,n.P=!0,Be(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function cn(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!$e(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ee(r,n)),Zt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(l(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Et(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)})).catch((()=>{clearTimeout(r),Et(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ct(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&ct(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new Pt({eb:n})):new Lt(e.pa)).Ha(e.J),t}function pn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Xt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?ge(this.o):ge(Re),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Bt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Bt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Xt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),C(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Mt(o)))+"&"+t:this.m&&Dt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?$t(this,e):0==this.i.length||Je(this.h)||$t(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Zt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,ca=ua.createWebChannelTransport=function(){return new gn},aa=ua.getStatEventTarget=function(){return Se()},sa=ua.Event=we,oa=ua.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,ia=ua.ErrorCode=Ne,Oe.COMPLETE="complete",ra=ua.EventType=Oe,me.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,na=ua.WebChannel=me,ua.FetchXmlHttpFactory=Pt,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,ta=ua.XhrIo=Lt}).apply("undefined"!==typeof la?la:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ha="@firebase/firestore";class da{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}da.UNAUTHENTICATED=new da(null),da.GOOGLE_CREDENTIALS=new da("google-credentials-uid"),da.FIRST_PARTY=new da("first-party-uid"),da.MOCK_USER=new da("mock-user");let fa="10.14.0";const pa=new mn("@firebase/firestore");function ga(){return pa.logLevel}function ma(e){if(pa.logLevel<=hn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ba);pa.debug(`Firestore (${fa}): ${e}`,...i)}}function ya(e){if(pa.logLevel<=hn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ba);pa.error(`Firestore (${fa}): ${e}`,...i)}}function va(e){if(pa.logLevel<=hn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ba);pa.warn(`Firestore (${fa}): ${e}`,...i)}}function ba(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function wa(){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ya(e),new Error(e)}function Ca(e,t){e||wa()}function Sa(e,t){return e}const Aa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ka extends Xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ta{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ea{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(da.UNAUTHENTICATED)))}shutdown(){}}class _a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ia{constructor(e){this.t=e,this.currentUser=da.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ca(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new xa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xa,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ma("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ma("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xa)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ma("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ca("string"==typeof t.accessToken),new Ta(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ca(null===e||"string"==typeof e),new da(e)}}class Pa{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=da.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ra{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Pa(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(da.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Na{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oa{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ca(void 0===this.o);const n=e=>{null!=e.error&&ma("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,ma("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ma("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ma("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ca("string"==typeof e.token),this.R=e.token,new Na(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ma{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Fa(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Da(e,t){return e<t?-1:e>t?1:0}function La(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class ja{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ka(Aa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ka(Aa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ka(Aa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ka(Aa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ja.fromMillis(Date.now())}static fromDate(e){return ja.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ja(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Da(this.nanoseconds,e.nanoseconds):Da(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ua{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ua(e)}static min(){return new Ua(new ja(0,0))}static max(){return new Ua(new ja(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ba{constructor(e,t,n){void 0===t?t=0:t>e.length&&wa(),void 0===n?n=e.length-t:n>e.length-t&&wa(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ba.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ba?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qa extends Ba{construct(e,t,n){return new qa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ka(Aa.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new qa(e)}static emptyPath(){return new qa([])}}const za=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Va extends Ba{construct(e,t,n){return new Va(e,t,n)}static isValidIdentifier(e){return za.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Va.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Va(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ka(Aa.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ka(Aa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ka(Aa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ka(Aa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Va(t)}static emptyPath(){return new Va([])}}class Ha{constructor(e){this.path=e}static fromPath(e){return new Ha(qa.fromString(e))}static fromName(e){return new Ha(qa.fromString(e).popFirst(5))}static empty(){return new Ha(qa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ha(new qa(e.slice()))}}class Wa{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Wa.UNKNOWN_ID=-1;function Ka(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ua.fromTimestamp(1e9===r?new ja(n+1,0):new ja(n,r));return new Xa(i,Ha.empty(),t)}function Ga(e){return new Xa(e.readTime,e.key,-1)}class Xa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Xa(Ua.min(),Ha.empty(),-1)}static max(){return new Xa(Ua.max(),Ha.empty(),-1)}}function Ya(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ha.comparator(e.documentKey,t.documentKey),0!==n?n:Da(e.largestBatchId,t.largestBatchId))}const Qa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ja{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Za(e){if(e.code!==Aa.FAILED_PRECONDITION||e.message!==Qa)throw e;ma("LocalStore","Unexpectedly lost primary lease")}class $a{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $a(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $a?t:$a.resolve(t)}catch(e){return $a.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$a.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$a.reject(t)}static resolve(e){return new $a(((t,n)=>{t(e)}))}static reject(e){return new $a(((t,n)=>{n(e)}))}static waitFor(e){return new $a(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=$a.resolve(!1);for(const n of e)t=t.next((e=>e?$a.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $a(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new $a(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ec(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tc(e){return"IndexedDbTransactionError"===e.name}class nc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function rc(e){return null==e}function ic(e){return 0===e&&1/e==-1/0}function oc(e){return"number"==typeof e&&Number.isInteger(e)&&!ic(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}nc.oe=-1;const sc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ac=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cc=ac,lc=[...cc,"indexConfiguration","indexState","indexEntries"];function uc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fc{constructor(e,t){this.comparator=e,this.root=t||gc.EMPTY}insert(e,t){return new fc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gc.BLACK,null,null))}remove(e){return new fc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:gc.RED,this.left=null!=r?r:gc.EMPTY,this.right=null!=i?i:gc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new gc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return gc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wa();if(this.right.isRed())throw wa();const e=this.left.check();if(e!==this.right.check())throw wa();return e+(this.isRed()?0:1)}}gc.EMPTY=null,gc.RED=!0,gc.BLACK=!1,gc.EMPTY=new class{constructor(){this.size=0}get key(){throw wa()}get value(){throw wa()}get color(){throw wa()}get left(){throw wa()}get right(){throw wa()}copy(e,t,n,r,i){return this}insert(e,t,n){return new gc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mc{constructor(e){this.comparator=e,this.data=new fc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yc(this.data.getIterator())}getIteratorFrom(e){return new yc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof mc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new mc(this.comparator);return t.data=e,t}}class yc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vc{constructor(e){this.fields=e,e.sort(Va.comparator)}static empty(){return new vc([])}unionWith(e){let t=new mc(Va.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new vc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class bc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bc("Invalid base64 string: "+e):e}}(e);return new wc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new wc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Da(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wc.EMPTY_BYTE_STRING=new wc("");const Cc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(e){if(Ca(!!e),"string"==typeof e){let t=0;const n=Cc.exec(e);if(Ca(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ac(e.seconds),nanos:Ac(e.nanos)}}function Ac(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kc(e){return"string"==typeof e?wc.fromBase64String(e):wc.fromUint8Array(e)}function xc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tc(e){const t=e.mapValue.fields.__previous_value__;return xc(t)?Tc(t):t}function Ec(e){const t=Sc(e.mapValue.fields.__local_write_time__.timestampValue);return new ja(t.seconds,t.nanos)}class _c{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class Ic{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ic("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xc(e)?4:Gc(e)?9007199254740991:Wc(e)?10:11:wa()}function Nc(e,t){if(e===t)return!0;const n=Rc(e);if(n!==Rc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ec(e).isEqual(Ec(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Sc(e.timestampValue),r=Sc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kc(e.bytesValue).isEqual(kc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ac(e.geoPointValue.latitude)===Ac(t.geoPointValue.latitude)&&Ac(e.geoPointValue.longitude)===Ac(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ac(e.integerValue)===Ac(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ac(e.doubleValue),r=Ac(t.doubleValue);return n===r?ic(n)===ic(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return La(e.arrayValue.values||[],t.arrayValue.values||[],Nc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(uc(n)!==uc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nc(n[i],r[i])))return!1;return!0}(e,t);default:return wa()}}function Oc(e,t){return void 0!==(e.values||[]).find((e=>Nc(e,t)))}function Fc(e,t){if(e===t)return 0;const n=Rc(e),r=Rc(t);if(n!==r)return Da(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Da(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ac(e.integerValue||e.doubleValue),r=Ac(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Mc(e.timestampValue,t.timestampValue);case 4:return Mc(Ec(e),Ec(t));case 5:return Da(e.stringValue,t.stringValue);case 6:return function(e,t){const n=kc(e),r=kc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Da(n[i],r[i]);if(0!==e)return e}return Da(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Da(Ac(e.latitude),Ac(t.latitude));return 0!==n?n:Da(Ac(e.longitude),Ac(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Dc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},c=null===(n=s.value)||void 0===n?void 0:n.arrayValue,l=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=Da((null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0,(null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Dc(c,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Pc.mapValue&&t===Pc.mapValue)return 0;if(e===Pc.mapValue)return 1;if(t===Pc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Da(r[s],o[s]);if(0!==e)return e;const t=Fc(n[r[s]],i[o[s]]);if(0!==t)return t}return Da(r.length,o.length)}(e.mapValue,t.mapValue);default:throw wa()}}function Mc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Da(e,t);const n=Sc(e),r=Sc(t),i=Da(n.seconds,r.seconds);return 0!==i?i:Da(n.nanos,r.nanos)}function Dc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Fc(n[i],r[i]);if(e)return e}return Da(n.length,r.length)}function Lc(e){return jc(e)}function jc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Sc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return kc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ha.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=jc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${jc(e.fields[i])}`;return n+"}"}(e.mapValue):wa()}function Uc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Bc(e){return!!e&&"integerValue"in e}function qc(e){return!!e&&"arrayValue"in e}function zc(e){return!!e&&"nullValue"in e}function Vc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hc(e){return!!e&&"mapValue"in e}function Wc(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Kc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Gc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xc{constructor(e){this.value=e}static empty(){return new Xc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(t)}setAll(e){let t=Va.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Kc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Hc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hc(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Xc(Kc(this.value))}}function Yc(e){const t=[];return hc(e.fields,((e,n)=>{const r=new Va([e]);if(Hc(n)){const e=Yc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new vc(t)}class Qc{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Qc(e,0,Ua.min(),Ua.min(),Ua.min(),Xc.empty(),0)}static newFoundDocument(e,t,n,r){return new Qc(e,1,t,Ua.min(),n,r,0)}static newNoDocument(e,t){return new Qc(e,2,t,Ua.min(),Ua.min(),Xc.empty(),0)}static newUnknownDocument(e,t){return new Qc(e,3,t,Ua.min(),Ua.min(),Xc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ua.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ua.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function Zc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Ha.comparator(Ha.fromName(s.referenceValue),n.key):Fc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function $c(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nc(e.position[n],t.position[n]))return!1;return!0}class el{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function tl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class nl{}class rl extends nl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new hl(e,t,n):"array-contains"===t?new gl(e,n):"in"===t?new ml(e,n):"not-in"===t?new yl(e,n):"array-contains-any"===t?new vl(e,n):new rl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new dl(e,n):new fl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Fc(t,this.value)):null!==t&&Rc(this.value)===Rc(t)&&this.matchesComparison(Fc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wa()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class il extends nl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new il(e,t)}matches(e){return ol(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ol(e){return"and"===e.op}function sl(e){return al(e)&&ol(e)}function al(e){for(const t of e.filters)if(t instanceof il)return!1;return!0}function cl(e){if(e instanceof rl)return e.field.canonicalString()+e.op.toString()+Lc(e.value);if(sl(e))return e.filters.map((e=>cl(e))).join(",");{const t=e.filters.map((e=>cl(e))).join(",");return`${e.op}(${t})`}}function ll(e,t){return e instanceof rl?function(e,t){return t instanceof rl&&e.op===t.op&&e.field.isEqual(t.field)&&Nc(e.value,t.value)}(e,t):e instanceof il?function(e,t){return t instanceof il&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ll(n,t.filters[r])),!0)}(e,t):void wa()}function ul(e){return e instanceof rl?function(e){return`${e.field.canonicalString()} ${e.op} ${Lc(e.value)}`}(e):e instanceof il?function(e){return e.op.toString()+" {"+e.getFilters().map(ul).join(" ,")+"}"}(e):"Filter"}class hl extends rl{constructor(e,t,n){super(e,t,n),this.key=Ha.fromName(n.referenceValue)}matches(e){const t=Ha.comparator(e.key,this.key);return this.matchesComparison(t)}}class dl extends rl{constructor(e,t){super(e,"in",t),this.keys=pl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fl extends rl{constructor(e,t){super(e,"not-in",t),this.keys=pl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ha.fromName(e.referenceValue)))}class gl extends rl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qc(t)&&Oc(t.arrayValue,this.value)}}class ml extends rl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Oc(this.value.arrayValue,t)}}class yl extends rl{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Oc(this.value.arrayValue,t)}}class vl extends rl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Oc(this.value.arrayValue,e)))}}class bl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function wl(e){return new bl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cl(e){const t=Sa(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>cl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),rc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Lc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Lc(e))).join(",")),t.ue=e}return t.ue}function Sl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!tl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ll(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$c(e.startAt,t.startAt)&&$c(e.endAt,t.endAt)}function Al(e){return Ha.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class kl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xl(e,t,n,r,i,o,s,a){return new kl(e,t,n,r,i,o,s,a)}function Tl(e){return new kl(e)}function El(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _l(e){return null!==e.collectionGroup}function Il(e){const t=Sa(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new mc(Va.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new el(r,n))})),e.has(Va.keyField().canonicalString())||t.ce.push(new el(Va.keyField(),n))}return t.ce}function Pl(e){const t=Sa(e);return t.le||(t.le=Rl(t,Il(e))),t.le}function Rl(e,t){if("F"===e.limitType)return wl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new el(e.field,t)}));const n=e.endAt?new Jc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jc(e.startAt.position,e.startAt.inclusive):null;return wl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Nl(e,t){const n=e.filters.concat([t]);return new kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ol(e,t,n){return new kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fl(e,t){return Sl(Pl(e),Pl(t))&&e.limitType===t.limitType}function Ml(e){return`${Cl(Pl(e))}|lt:${e.limitType}`}function Dl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>ul(e))).join(", ")}]`),rc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Lc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Lc(e))).join(",")),`Target(${t})`}(Pl(e))}; limitType=${e.limitType})`}function Ll(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ha.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Il(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Zc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Il(e),t))&&!(e.endAt&&!function(e,t,n){const r=Zc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Il(e),t))}(e,t)}function jl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ul(e){return(t,n)=>{let r=!1;for(const i of Il(e)){const e=Bl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Bl(e,t,n){const r=e.field.isKeyField()?Ha.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fc(r,i):wa()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wa()}}class ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return dc(this.inner)}size(){return this.innerSize}}const zl=new fc(Ha.comparator);function Vl(){return zl}const Hl=new fc(Ha.comparator);function Wl(){let e=Hl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Kl(e){let t=Hl;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Gl(){return Yl()}function Xl(){return Yl()}function Yl(){return new ql((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ql=new fc(Ha.comparator),Jl=new mc(Ha.comparator);function Zl(){let e=Jl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const $l=new mc(Da);function eu(){return $l}function tu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(t)?"-0":t}}function nu(e){return{integerValue:""+e}}function ru(e,t){return oc(t)?nu(t):tu(e,t)}class iu{constructor(){this._=void 0}}function ou(e,t,n){return e instanceof cu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xc(t)&&(t=Tc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof lu?uu(e,t):e instanceof hu?du(e,t):function(e,t){const n=au(e,t),r=pu(n)+pu(e.Pe);return Bc(n)&&Bc(e.Pe)?nu(r):tu(e.serializer,r)}(e,t)}function su(e,t,n){return e instanceof lu?uu(e,t):e instanceof hu?du(e,t):n}function au(e,t){return e instanceof fu?function(e){return Bc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cu extends iu{}class lu extends iu{constructor(e){super(),this.elements=e}}function uu(e,t){const n=gu(t);for(const r of e.elements)n.some((e=>Nc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class hu extends iu{constructor(e){super(),this.elements=e}}function du(e,t){let n=gu(t);for(const r of e.elements)n=n.filter((e=>!Nc(e,r)));return{arrayValue:{values:n}}}class fu extends iu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function pu(e){return Ac(e.integerValue||e.doubleValue)}function gu(e){return qc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class mu{constructor(e,t){this.version=e,this.transformResults=t}}class yu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yu}static exists(e){return new yu(void 0,e)}static updateTime(e){return new yu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class bu{}function wu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Pu(e.key,yu.none()):new xu(e.key,e.data,yu.none());{const n=e.data,r=Xc.empty();let i=new mc(Va.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Tu(e.key,r,new vc(i.toArray()),yu.none())}}function Cu(e,t,n){e instanceof xu?function(e,t,n){const r=e.value.clone(),i=_u(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tu?function(e,t,n){if(!vu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=_u(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Eu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Su(e,t,n,r){return e instanceof xu?function(e,t,n,r){if(!vu(e.precondition,t))return n;const i=e.value.clone(),o=Iu(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tu?function(e,t,n,r){if(!vu(e.precondition,t))return n;const i=Iu(e.fieldTransforms,r,t),o=t.data;return o.setAll(Eu(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return vu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Au(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=au(r.transform,e||null);null!=i&&(null===n&&(n=Xc.empty()),n.set(r.field,i))}return n||null}function ku(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&La(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof lu&&t instanceof lu||e instanceof hu&&t instanceof hu?La(e.elements,t.elements,Nc):e instanceof fu&&t instanceof fu?Nc(e.Pe,t.Pe):e instanceof cu&&t instanceof cu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xu extends bu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Tu extends bu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Eu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function _u(e,t,n){const r=new Map;Ca(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,su(s,a,n[i]))}return r}function Iu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ou(e,o,t))}return r}class Pu extends bu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ru extends bu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Cu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Su(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Su(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xl();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=wu(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Ua.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Zl())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,((e,t)=>ku(e,t)))&&La(this.baseMutations,e.baseMutations,((e,t)=>ku(e,t)))}}class Ou{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ca(e.mutations.length===n.length);let r=Ql;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ou(e,t,n,r)}}class Fu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mu{constructor(e,t){this.count=e,this.unchangedNames=t}}var Du,Lu;function ju(e){switch(e){default:return wa();case Aa.CANCELLED:case Aa.UNKNOWN:case Aa.DEADLINE_EXCEEDED:case Aa.RESOURCE_EXHAUSTED:case Aa.INTERNAL:case Aa.UNAVAILABLE:case Aa.UNAUTHENTICATED:return!1;case Aa.INVALID_ARGUMENT:case Aa.NOT_FOUND:case Aa.ALREADY_EXISTS:case Aa.PERMISSION_DENIED:case Aa.FAILED_PRECONDITION:case Aa.ABORTED:case Aa.OUT_OF_RANGE:case Aa.UNIMPLEMENTED:case Aa.DATA_LOSS:return!0}}function Uu(e){if(void 0===e)return ya("GRPC error has no .code"),Aa.UNKNOWN;switch(e){case Du.OK:return Aa.OK;case Du.CANCELLED:return Aa.CANCELLED;case Du.UNKNOWN:return Aa.UNKNOWN;case Du.DEADLINE_EXCEEDED:return Aa.DEADLINE_EXCEEDED;case Du.RESOURCE_EXHAUSTED:return Aa.RESOURCE_EXHAUSTED;case Du.INTERNAL:return Aa.INTERNAL;case Du.UNAVAILABLE:return Aa.UNAVAILABLE;case Du.UNAUTHENTICATED:return Aa.UNAUTHENTICATED;case Du.INVALID_ARGUMENT:return Aa.INVALID_ARGUMENT;case Du.NOT_FOUND:return Aa.NOT_FOUND;case Du.ALREADY_EXISTS:return Aa.ALREADY_EXISTS;case Du.PERMISSION_DENIED:return Aa.PERMISSION_DENIED;case Du.FAILED_PRECONDITION:return Aa.FAILED_PRECONDITION;case Du.ABORTED:return Aa.ABORTED;case Du.OUT_OF_RANGE:return Aa.OUT_OF_RANGE;case Du.UNIMPLEMENTED:return Aa.UNIMPLEMENTED;case Du.DATA_LOSS:return Aa.DATA_LOSS;default:return wa()}}(Lu=Du||(Du={}))[Lu.OK=0]="OK",Lu[Lu.CANCELLED=1]="CANCELLED",Lu[Lu.UNKNOWN=2]="UNKNOWN",Lu[Lu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lu[Lu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lu[Lu.NOT_FOUND=5]="NOT_FOUND",Lu[Lu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lu[Lu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lu[Lu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lu[Lu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lu[Lu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lu[Lu.ABORTED=10]="ABORTED",Lu[Lu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lu[Lu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lu[Lu.INTERNAL=13]="INTERNAL",Lu[Lu.UNAVAILABLE=14]="UNAVAILABLE",Lu[Lu.DATA_LOSS=15]="DATA_LOSS";let Bu=null;function qu(){return new TextEncoder}const zu=new Js([4294967295,4294967295],0);function Vu(e){const t=qu().encode(e),n=new Zs;return n.update(t),new Uint8Array(n.digest())}function Hu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Js([n,r],0),new Js([i,o],0)]}class Wu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ku(`Invalid padding: ${t}`);if(n<0)throw new Ku(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Ku(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Ku(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Js.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Js.fromNumber(n)));return 1===r.compare(zu)&&(r=new Js([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Vu(e),[n,r]=Hu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Wu(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=Vu(e),[n,r]=Hu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Gu(Ua.min(),r,new fc(Da),Vl(),Zl())}}class Xu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Xu(n,t,Zl(),Zl(),Zl())}}class Yu{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Qu{constructor(e,t){this.targetId=e,this.me=t}}class Ju{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zu{constructor(){this.fe=0,this.ge=th(),this.pe=wc.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Zl(),t=Zl(),n=Zl();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wa()}})),new Xu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=th()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ca(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $u{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vl(),this.qe=eh(),this.Qe=new fc(Da)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:wa()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Al(i))if(0===n){const e=new Ha(i.path);this.Ue(t,e,Qc.newNoDocument(e,Ua.min()))}else Ca(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Bu||Bu.et(function(e,t,n,r,i){var o,s,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=kc(n).toUint8Array()}catch(e){if(e instanceof bc)return va("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Wu(o,r,i)}catch(e){return va(e instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Al(i.target)){const t=new Ha(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Qc.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Zl();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Gu(e,t,this.Qe,this.ke,n);return this.ke=Vl(),this.qe=eh(),this.Qe=new fc(Da),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Zu,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mc(Da),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ma("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function eh(){return new fc(Ha.comparator)}function th(){return new fc(Ha.comparator)}const nh={asc:"ASCENDING",desc:"DESCENDING"},rh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ih={and:"AND",or:"OR"};class oh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sh(e,t){return e.useProto3Json||rc(t)?t:{value:t}}function ah(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ch(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lh(e,t){return ah(e,t.toTimestamp())}function uh(e){return Ca(!!e),Ua.fromTimestamp(function(e){const t=Sc(e);return new ja(t.seconds,t.nanos)}(e))}function hh(e,t){return dh(e,t).canonicalString()}function dh(e,t){const n=function(e){return new qa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function fh(e){const t=qa.fromString(e);return Ca(Oh(t)),t}function ph(e,t){return hh(e.databaseId,t.path)}function gh(e,t){const n=fh(t);if(n.get(1)!==e.databaseId.projectId)throw new ka(Aa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ka(Aa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ha(bh(n))}function mh(e,t){return hh(e.databaseId,t)}function yh(e){const t=fh(e);return 4===t.length?qa.emptyPath():bh(t)}function vh(e){return new qa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bh(e){return Ca(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wh(e,t,n){return{name:ph(e,t),fields:n.value.mapValue.fields}}function Ch(e,t){let n;if(t instanceof xu)n={update:wh(e,t.key,t.value)};else if(t instanceof Pu)n={delete:ph(e,t.key)};else if(t instanceof Tu)n={update:wh(e,t.key,t.data),updateMask:Nh(t.fieldMask)};else{if(!(t instanceof Ru))return wa();n={verify:ph(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fu)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw wa()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wa()}(e,t.precondition)),n}function Sh(e,t){return{documents:[mh(e,t.path)]}}function Ah(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mh(e,i);const o=function(e){if(0!==e.length)return Rh(il.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ih(e.field),direction:Th(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=sh(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function kh(e){let t=yh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ca(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=xh(e);return t instanceof il&&sl(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new el(Ph(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,rc(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Jc(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Jc(n,t)}(n.endAt)),xl(t,i,s,o,a,"F",c,l)}function xh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ph(e.unaryFilter.field);return rl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ph(e.unaryFilter.field);return rl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ph(e.unaryFilter.field);return rl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ph(e.unaryFilter.field);return rl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wa()}}(e):void 0!==e.fieldFilter?function(e){return rl.create(Ph(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wa()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return il.create(e.compositeFilter.filters.map((e=>xh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wa()}}(e.compositeFilter.op))}(e):wa()}function Th(e){return nh[e]}function Eh(e){return rh[e]}function _h(e){return ih[e]}function Ih(e){return{fieldPath:e.canonicalString()}}function Ph(e){return Va.fromServerFormat(e.fieldPath)}function Rh(e){return e instanceof rl?function(e){if("=="===e.op){if(Vc(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NAN"}};if(zc(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vc(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NOT_NAN"}};if(zc(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ih(e.field),op:Eh(e.op),value:e.value}}}(e):e instanceof il?function(e){const t=e.getFilters().map((e=>Rh(e)));return 1===t.length?t[0]:{compositeFilter:{op:_h(e.op),filters:t}}}(e):wa()}function Nh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Oh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Fh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ua.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ua.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wc.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Fh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mh{constructor(e){this.ct=e}}function Dh(e){const t=kh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ol(t,t.limit,"L"):t}class Lh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ac(e.integerValue));else if("doubleValue"in e){const n=Ac(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),ic(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Sc(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(kc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Gc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Wc(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):wa()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Ac(s)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Ha.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Lh.vt=new Lh;class jh{constructor(){this.un=new Uh}addToCollectionParentIndex(e,t){return this.un.add(t),$a.resolve()}getCollectionParents(e,t){return $a.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return $a.resolve()}deleteFieldIndex(e,t){return $a.resolve()}deleteAllFieldIndexes(e){return $a.resolve()}createTargetIndexes(e,t){return $a.resolve()}getDocumentsMatchingTarget(e,t){return $a.resolve(null)}getIndexType(e,t){return $a.resolve(0)}getFieldIndexes(e,t){return $a.resolve([])}getNextCollectionGroupToUpdate(e){return $a.resolve(null)}getMinOffset(e,t){return $a.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,t){return $a.resolve(Xa.min())}updateCollectionGroup(e,t,n){return $a.resolve()}updateIndexEntries(e,t){return $a.resolve()}}class Uh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mc(qa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new mc(qa.comparator)).toArray()}}new Uint8Array(0);class Bh{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Bh(e,Bh.DEFAULT_COLLECTION_PERCENTILE,Bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bh.DEFAULT_COLLECTION_PERCENTILE=10,Bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bh.DEFAULT=new Bh(41943040,Bh.DEFAULT_COLLECTION_PERCENTILE,Bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bh.DISABLED=new Bh(-1,0,0);class qh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new qh(0)}static kn(){return new qh(-1)}}class zh{constructor(){this.changes=new ql((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$a.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Su(n.mutation,e,vc.empty(),ja.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Zl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zl();const r=Gl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Wl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Gl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Zl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Vl();const o=Yl(),s=Yl();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Tu)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Su(s.mutation,t,s.mutation.getFieldMask(),ja.now())):o.set(t.key,vc.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Vh(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Yl();let r=new fc(((e,t)=>e-t)),i=Zl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||vc.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Zl()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=Xl();c.forEach((e=>{if(!i.has(e)){const r=wu(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return $a.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ha.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_l(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):$a.resolve(Gl());let s=-1,a=i;return o.next((t=>$a.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?$a.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Zl()))).next((e=>({batchId:s,changes:Kl(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ha(t)).next((e=>{let t=Wl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Wl();return this.indexManager.getCollectionParents(e,i).next((s=>$a.forEach(s,(s=>{const a=function(e,t){return new kl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qc.newInvalidDocument(r)))}));let n=Wl();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Su(o.mutation,r,vc.empty(),ja.now()),Ll(t,r)&&(n=n.insert(e,r))})),n}))}}class Wh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return $a.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:uh(e.createTime)}}(t)),$a.resolve()}getNamedQuery(e,t){return $a.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Dh(e.bundledQuery),readTime:uh(e.readTime)}}(t)),$a.resolve()}}class Kh{constructor(){this.overlays=new fc(Ha.comparator),this.Ir=new Map}getOverlay(e,t){return $a.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gl();return $a.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),$a.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),$a.resolve()}getOverlaysForCollection(e,t,n){const r=Gl(),i=t.length+1,o=new Ha(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $a.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new fc(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Gl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Gl(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return $a.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Fu(t,n));let i=this.Ir.get(t);void 0===i&&(i=Zl(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Gh{constructor(){this.sessionToken=wc.EMPTY_BYTE_STRING}getSessionToken(e){return $a.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$a.resolve()}}class Xh{constructor(){this.Tr=new mc(Yh.Er),this.dr=new mc(Yh.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Yh(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Yh(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Ha(new qa([])),n=new Yh(t,e),r=new Yh(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ha(new qa([])),n=new Yh(t,e),r=new Yh(t,e+1);let i=Zl();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Yh(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Yh{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ha.comparator(e.key,t.key)||Da(e.wr,t.wr)}static Ar(e,t){return Da(e.wr,t.wr)||Ha.comparator(e.key,t.key)}}class Qh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new mc(Yh.Er)}checkEmpty(e){return $a.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Nu(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.br=this.br.add(new Yh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return $a.resolve(o)}lookupMutationBatch(e,t){return $a.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return $a.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $a.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return $a.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yh(t,0),r=new Yh(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),$a.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mc(Da);return t.forEach((e=>{const t=new Yh(e,0),r=new Yh(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),$a.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ha.isDocumentKey(i)||(i=i.child(""));const o=new Yh(new Ha(i),0);let s=new mc(Da);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.wr)),!0)}),o),$a.resolve(this.Cr(s))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ca(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return $a.forEach(t.mutations,(r=>{const i=new Yh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Yh(t,0),r=this.br.firstAfterOrEqual(n);return $a.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$a.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jh{constructor(e){this.Mr=e,this.docs=new fc(Ha.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $a.resolve(n?n.document.mutableCopy():Qc.newInvalidDocument(t))}getEntries(e,t){let n=Vl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qc.newInvalidDocument(e))})),$a.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Vl();const o=t.path,s=new Ha(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Ya(Ga(s),n)<=0||(r.has(s.key)||Ll(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return $a.resolve(i)}getAllFromCollectionGroup(e,t,n,r){wa()}Or(e,t){return $a.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Zh(this)}getSize(e){return $a.resolve(this.size)}}class Zh extends zh{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),$a.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class $h{constructor(e){this.persistence=e,this.Nr=new ql((e=>Cl(e)),Sl),this.lastRemoteSnapshotVersion=Ua.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xh,this.targetCount=0,this.kr=qh.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),$a.resolve()}getLastRemoteSnapshotVersion(e){return $a.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $a.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$a.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),$a.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new qh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,$a.resolve()}updateTargetData(e,t){return this.Kn(t),$a.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,$a.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),$a.waitFor(i).next((()=>r))}getTargetCount(e){return $a.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return $a.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),$a.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),$a.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),$a.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return $a.resolve(n)}containsKey(e,t){return $a.resolve(this.Br.containsKey(t))}}class ed{constructor(e,t){this.qr={},this.overlays={},this.Qr=new nc(0),this.Kr=!1,this.Kr=!0,this.$r=new Gh,this.referenceDelegate=e(this),this.Ur=new $h(this),this.indexManager=new jh,this.remoteDocumentCache=function(e){return new Jh(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Mh(t),this.Gr=new Wh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Qh(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){ma("MemoryPersistence","Starting transaction:",e);const r=new td(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return $a.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class td extends Ja{constructor(e){super(),this.currentSequenceNumber=e}}class nd{constructor(e){this.persistence=e,this.Jr=new Xh,this.Yr=null}static Zr(e){return new nd(e)}get Xr(){if(this.Yr)return this.Yr;throw wa()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),$a.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),$a.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),$a.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $a.forEach(this.Xr,(n=>{const r=Ha.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Ua.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return $a.or([()=>$a.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class rd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Zl(),r=Zl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new rd(e,t.fromCache,n,r)}}class id{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class od{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Kt()?8:ec(Wt())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new id;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(ga()<=hn.DEBUG&&ma("QueryEngine","SDK will not create cache indexes for query:",Dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$a.resolve()):(ga()<=hn.DEBUG&&ma("QueryEngine","Query:",Dl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(ga()<=hn.DEBUG&&ma("QueryEngine","The SDK decides to create cache indexes for query:",Dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pl(t))):$a.resolve())}Yi(e,t){if(El(t))return $a.resolve(null);let n=Pl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ol(t,null,"F"),n=Pl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Zl(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,Ol(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,r){return El(t)||r.isEqual(Ua.min())?$a.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?$a.resolve(null):(ga()<=hn.DEBUG&&ma("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dl(t)),this.rs(e,o,t,Ka(r,-1)).next((e=>e)))}))}ts(e,t){let n=new mc(Ul(e));return t.forEach(((t,r)=>{Ll(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return ga()<=hn.DEBUG&&ma("QueryEngine","Using full collection scan to execute query:",Dl(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xa.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class sd{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new fc(Da),this._s=new ql((e=>Cl(e)),Sl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function ad(e,t,n,r){return new sd(e,t,n,r)}async function cd(e,t){const n=Sa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Zl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ld(e){const t=Sa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function ud(e,t,n){let r=Zl(),i=Zl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Vl();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ua.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ma("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Ps:r,Is:i}}))}function hd(e,t){const n=Sa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function dd(e,t){const n=Sa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,$a.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new Fh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function fd(e,t,n){const r=Sa(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!tc(e))throw e;ma("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function pd(e,t,n){const r=Sa(e);let i=Ua.min(),o=Zl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Sa(e),i=r._s.get(n);return void 0!==i?$a.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Pl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Ua.min(),n?o:Zl()))).next((e=>(gd(r,jl(t),e),{documents:e,Ts:o})))))}function gd(e,t,n){let r=e.us.get(t)||Ua.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class md{constructor(){this.activeTargetIds=eu()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yd{constructor(){this.so=new md,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new md,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vd{_o(e){}shutdown(){}}class bd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ma("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ma("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wd=null;function Cd(){return null===wd?wd=268435456+Math.round(2147483648*Math.random()):wd++,"0x"+wd.toString(16)}const Sd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ad{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const kd="WebChannelConnection";class xd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const o=Cd(),s=this.xo(e,t.toUriEncodedString());ma("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,s,a,n).then((t=>(ma("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw va("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Sd[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Cd();return new Promise(((o,s)=>{const a=new ta;a.setWithCredentials(!0),a.listenOnce(ra.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ia.NO_ERROR:const t=a.getResponseJson();ma(kd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case ia.TIMEOUT:ma(kd,`RPC '${e}' ${i} timed out`),s(new ka(Aa.DEADLINE_EXCEEDED,"Request time out"));break;case ia.HTTP_ERROR:const n=a.getStatus();if(ma(kd,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Aa).indexOf(t)>=0?t:Aa.UNKNOWN}(t.status);s(new ka(e,t.message))}else s(new ka(Aa.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ka(Aa.UNAVAILABLE,"Connection failed."));break;default:wa()}}finally{ma(kd,`RPC '${e}' ${i} completed.`)}}));const c=JSON.stringify(r);ma(kd,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",c,n,15)}))}Bo(e,t,n){const r=Cd(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ca(),s=aa(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");ma(kd,`Creating RPC '${e}' stream ${r}: ${l}`,a);const u=o.createWebChannel(l,a);let h=!1,d=!1;const f=new Ad({Io:t=>{d?ma(kd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(ma(kd,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),ma(kd,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,na.EventType.OPEN,(()=>{d||(ma(kd,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(u,na.EventType.CLOSE,(()=>{d||(d=!0,ma(kd,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(u,na.EventType.ERROR,(t=>{d||(d=!0,va(kd,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new ka(Aa.UNAVAILABLE,"The operation could not be completed")))})),p(u,na.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Ca(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ma(kd,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Du[e];if(void 0!==t)return Uu(t)}(t),i=s.message;void 0===n&&(n=Aa.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.So(new ka(n,i)),u.close()}else ma(kd,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(s,sa.STAT_EVENT,(t=>{t.stat===oa.PROXY?ma(kd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===oa.NOPROXY&&ma(kd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function Td(){return"undefined"!=typeof document?document:null}function Ed(e){return new oh(e,!0)}class _d{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&ma("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Id{constructor(e,t,n,r,i,o,s,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _d(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Aa.RESOURCE_EXHAUSTED?(ya(t.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Aa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new ka(Aa.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ma("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ma("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pd extends Id{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wa()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ca(void 0===t||"string"==typeof t),wc.fromBase64String(t||"")):(Ca(void 0===t||t instanceof Buffer||t instanceof Uint8Array),wc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Aa.UNKNOWN:Uu(e.code);return new ka(t,e.message||"")}(s);n=new Ju(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gh(e,r.document.name),o=uh(r.document.updateTime),s=r.document.createTime?uh(r.document.createTime):Ua.min(),a=new Xc({mapValue:{fields:r.document.fields}}),c=Qc.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Yu(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gh(e,r.document),o=r.readTime?uh(r.readTime):Ua.min(),s=Qc.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Yu([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gh(e,r.document),o=r.removedTargetIds||[];n=new Yu([],o,i,null)}else{if(!("filter"in t))return wa();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Mu(r,i),s=e.targetId;n=new Qu(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ua.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ua.min():t.readTime?uh(t.readTime):Ua.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=vh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Al(r)?{documents:Sh(e,r)}:{query:Ah(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ch(e,t.resumeToken);const r=sh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ua.min())>0){n.readTime=ah(e,t.snapshotVersion.toTimestamp());const r=sh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wa()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=vh(this.serializer),t.removeTarget=e,this.a_(t)}}class Rd extends Id{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ca(!!e.streamToken),this.lastStreamToken=e.streamToken,Ca(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Ca(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Ca(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?uh(e.updateTime):uh(t);return n.isEqual(Ua.min())&&(n=uh(t)),new mu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=uh(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=vh(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ch(this.serializer,e)))};this.a_(t)}}class Nd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ka(Aa.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Mo(e,dh(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Aa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ka(Aa.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Lo(e,dh(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Aa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ka(Aa.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Od{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ya(t),this.D_=!1):ma("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Fd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Vd(this)&&(ma("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Sa(e);t.L_.add(4),await Dd(t),t.q_.set("Unknown"),t.L_.delete(4),await Md(t)}(this))}))})),this.q_=new Od(n,r)}}async function Md(e){if(Vd(e))for(const t of e.B_)await t(!0)}async function Dd(e){for(const t of e.B_)await t(!1)}function Ld(e,t){const n=Sa(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),zd(n)?qd(n):lf(n).r_()&&Ud(n,t))}function jd(e,t){const n=Sa(e),r=lf(n);n.N_.delete(t),r.r_()&&Bd(n,t),0===n.N_.size&&(r.r_()?r.o_():Vd(n)&&n.q_.set("Unknown"))}function Ud(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ua.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lf(e).A_(t)}function Bd(e,t){e.Q_.xe(t),lf(e).R_(t)}function qd(e){e.Q_=new $u({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),lf(e).start(),e.q_.v_()}function zd(e){return Vd(e)&&!lf(e).n_()&&e.N_.size>0}function Vd(e){return 0===Sa(e).L_.size}function Hd(e){e.Q_=void 0}async function Wd(e){e.q_.set("Online")}async function Kd(e){e.N_.forEach(((t,n)=>{Ud(e,t)}))}async function Gd(e,t){Hd(e),zd(e)?(e.q_.M_(t),qd(e)):e.q_.set("Unknown")}async function Xd(e,t,n){if(e.q_.set("Online"),t instanceof Ju&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){ma("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Yd(e,n)}else if(t instanceof Yu?e.Q_.Ke(t):t instanceof Qu?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Ua.min()))try{const t=await ld(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(wc.EMPTY_BYTE_STRING,r.snapshotVersion)),Bd(e,t);const i=new Fh(r.target,t,n,r.sequenceNumber);Ud(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ma("RemoteStore","Failed to raise snapshot:",t),await Yd(e,t)}}async function Yd(e,t,n){if(!tc(t))throw t;e.L_.add(1),await Dd(e),e.q_.set("Offline"),n||(n=()=>ld(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ma("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Md(e)}))}function Qd(e,t){return t().catch((n=>Yd(e,n,t)))}async function Jd(e){const t=Sa(e),n=uf(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Zd(t);)try{const e=await hd(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,$d(t,e)}catch(e){await Yd(t,e)}ef(t)&&tf(t)}function Zd(e){return Vd(e)&&e.O_.length<10}function $d(e,t){e.O_.push(t);const n=uf(e);n.r_()&&n.V_&&n.m_(t.mutations)}function ef(e){return Vd(e)&&!uf(e).n_()&&e.O_.length>0}function tf(e){uf(e).start()}async function nf(e){uf(e).p_()}async function rf(e){const t=uf(e);for(const n of e.O_)t.m_(n.mutations)}async function of(e,t,n){const r=e.O_.shift(),i=Ou.from(r,t,n);await Qd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Jd(e)}async function sf(e,t){t&&uf(e).V_&&await async function(e,t){if(function(e){return ju(e)&&e!==Aa.ABORTED}(t.code)){const n=e.O_.shift();uf(e).s_(),await Qd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Jd(e)}}(e,t),ef(e)&&tf(e)}async function af(e,t){const n=Sa(e);n.asyncQueue.verifyOperationInProgress(),ma("RemoteStore","RemoteStore received new credentials");const r=Vd(n);n.L_.add(3),await Dd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Md(n)}async function cf(e,t){const n=Sa(e);t?(n.L_.delete(2),await Md(n)):t||(n.L_.add(2),await Dd(n),n.q_.set("Unknown"))}function lf(e){return e.K_||(e.K_=function(e,t,n){const r=Sa(e);return r.w_(),new Pd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Wd.bind(null,e),Ro:Kd.bind(null,e),mo:Gd.bind(null,e),d_:Xd.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),zd(e)?qd(e):e.q_.set("Unknown")):(await e.K_.stop(),Hd(e))}))),e.K_}function uf(e){return e.U_||(e.U_=function(e,t,n){const r=Sa(e);return r.w_(),new Rd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nf.bind(null,e),mo:sf.bind(null,e),f_:rf.bind(null,e),g_:of.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Jd(e)):(await e.U_.stop(),e.O_.length>0&&(ma("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class hf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new hf(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ka(Aa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function df(e,t){if(ya("AsyncQueue",`${t}: ${e}`),tc(e))return new ka(Aa.UNAVAILABLE,`${t}: ${e}`);throw e}class ff{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ha.comparator(t.key,n.key):(e,t)=>Ha.comparator(e.key,t.key),this.keyedMap=Wl(),this.sortedSet=new fc(this.comparator)}static emptySet(e){return new ff(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ff;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class pf{constructor(){this.W_=new fc(Ha.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):wa():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gf{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new gf(e,t,ff.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class mf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class yf{constructor(){this.queries=vf(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Sa(e),r=n.queries;n.queries=vf(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new ka(Aa.ABORTED,"Firestore shutting down"))}}function vf(){return new ql((e=>Ml(e)),Fl)}async function bf(e,t){const n=Sa(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new mf,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=df(e,`Initialization of query '${Dl(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&Af(n)}async function wf(e,t){const n=Sa(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Cf(e,t){const n=Sa(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Af(n)}function Sf(e,t,n){const r=Sa(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function Af(e){e.Y_.forEach((e=>{e.next()}))}var kf,xf;(xf=kf||(kf={})).ea="default",xf.Cache="cache";class Tf{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==kf.Cache}}class Ef{constructor(e){this.key=e}}class _f{constructor(e){this.key=e}}class If{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Zl(),this.mutatedKeys=Zl(),this.Aa=Ul(e),this.Ra=new ff(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new pf,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Ll(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ga(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Aa(u,a)>0||c&&this.Aa(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:s,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wa()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const s=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,c=a!==this.Ea;return this.Ea=a,0!==o.length||c?{snapshot:new gf(this.query,e.Ra,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new pf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Zl(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new _f(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Ef(n))})),t}ba(e){this.Ta=e.Ts,this.da=Zl();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return gf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Pf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Rf{constructor(e){this.key=e,this.va=!1}}class Nf{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ql((e=>Ml(e)),Fl),this.Ma=new Map,this.xa=new Set,this.Oa=new fc(Ha.comparator),this.Na=new Map,this.La=new Xh,this.Ba={},this.ka=new Map,this.qa=qh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Of(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ep(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Mf(r,t,n,!0),i}async function Ff(e,t){const n=ep(e);await Mf(n,t,!0,!1)}async function Mf(e,t,n,r){const i=await dd(e.localStore,Pl(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Df(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Ld(e.remoteStore,i),a}async function Df(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await pd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Xf(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const o=await pd(e.localStore,t,!0),s=new If(t,o.Ts),a=s.ma(o.documents),c=Xu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);Xf(e,n,l.wa);const u=new Pf(t,n,s);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),l.snapshot}async function Lf(e,t,n){const r=Sa(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((e=>!Fl(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jd(r.remoteStore,i.targetId),Kf(r,i.targetId)})).catch(Za)):(Kf(r,i.targetId),await fd(r.localStore,i.targetId,!0))}async function jf(e,t){const n=Sa(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jd(n.remoteStore,r.targetId))}async function Uf(e,t){const n=Sa(e);try{const e=await function(e,t){const n=Sa(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(wc.EMPTY_BYTE_STRING,Ua.min()).withLastLimboFreeSnapshotVersion(Ua.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.Ur.updateTargetData(e,l))}));let a=Vl(),c=Zl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(ud(e,o,t.documentUpdates).next((e=>{a=e.Ps,c=e.Is}))),!r.isEqual(Ua.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return $a.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(Ca(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Ca(r.va):e.removedDocuments.size>0&&(Ca(r.va),r.va=!1))})),await Jf(n,e,t)}catch(e){await Za(e)}}function Bf(e,t,n){const r=Sa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Sa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Af(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qf(e,t,n){const r=Sa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new fc(Ha.comparator);e=e.insert(o,Qc.newNoDocument(o,Ua.min()));const n=Zl().add(o),i=new Gu(Ua.min(),new Map,new fc(Da),e,n);await Uf(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),Qf(r)}else await fd(r.localStore,t,!1).then((()=>Kf(r,t,n))).catch(Za)}async function zf(e,t){const n=Sa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Sa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=$a.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ca(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Zl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Wf(n,r,null),Hf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jf(n,e)}catch(e){await Za(e)}}async function Vf(e,t,n){const r=Sa(e);try{const e=await function(e,t){const n=Sa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ca(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Wf(r,t,n),Hf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Jf(r,e)}catch(n){await Za(n)}}function Hf(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Wf(e,t,n){const r=Sa(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Kf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Gf(e,t)}))}function Gf(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(jd(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Qf(e))}function Xf(e,t,n){for(const r of n)r instanceof Ef?(e.La.addReference(r.key,t),Yf(e,r)):r instanceof _f?(ma("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Gf(e,r.key)):wa()}function Yf(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(ma("SyncEngine","New document in limbo: "+n),e.xa.add(r),Qf(e))}function Qf(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ha(qa.fromString(t)),r=e.qa.next();e.Na.set(r,new Rf(n)),e.Oa=e.Oa.insert(n,r),Ld(e.remoteStore,new Fh(Pl(Tl(n.path)),r,"TargetPurposeLimboResolution",nc.oe))}}async function Jf(e,t,n){const r=Sa(e),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{s.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=rd.Wi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ca.d_(i),await async function(e,t){const n=Sa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$a.forEach(t,(t=>$a.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$a.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!tc(e))throw e;ma("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function Zf(e,t){const n=Sa(e);if(!n.currentUser.isEqual(t)){ma("SyncEngine","User change. New user:",t.toKey());const e=await cd(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new ka(Aa.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Jf(n,e.hs)}}function $f(e,t){const n=Sa(e),r=n.Na.get(t);if(r&&r.va)return Zl().add(r.key);{let e=Zl();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function ep(e){const t=Sa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$f.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qf.bind(null,t),t.Ca.d_=Cf.bind(null,t.eventManager),t.Ca.$a=Sf.bind(null,t.eventManager),t}function tp(e){const t=Sa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vf.bind(null,t),t}class np{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ad(this.persistence,new od,e.initialUser,this.serializer)}Ga(e){return new ed(nd.Zr,this.serializer)}Wa(e){return new yd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}np.provider={build:()=>new np};class rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Bf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zf.bind(null,this.syncEngine),await cf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yf}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),n=function(e){return new xd(e)}(e.databaseInfo);return function(e,t,n,r){return new Nd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Fd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Bf(this.syncEngine,e,0)),bd.D()?new bd:new vd)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Nf(e,t,n,r,i,o);return s&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Sa(e);ma("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Dd(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}rp.provider={build:()=>new rp};class ip{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class op{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=da.UNAUTHENTICATED,this.clientId=Ma.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ma("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ma("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=df(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function sp(e,t){e.asyncQueue.verifyOperationInProgress(),ma("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await cd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ap(e,t){e.asyncQueue.verifyOperationInProgress();const n=await cp(e);ma("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>af(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>af(t.remoteStore,n))),e._onlineComponents=t}async function cp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ma("FirestoreClient","Using user provided OfflineComponentProvider");try{await sp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Aa.FAILED_PRECONDITION||e.code===Aa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await sp(e,new np)}}else ma("FirestoreClient","Using default OfflineComponentProvider"),await sp(e,new np);return e._offlineComponents}async function lp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ma("FirestoreClient","Using user provided OnlineComponentProvider"),await ap(e,e._uninitializedComponentsProvider._online)):(ma("FirestoreClient","Using default OnlineComponentProvider"),await ap(e,new rp))),e._onlineComponents}function up(e){return lp(e).then((e=>e.syncEngine))}async function hp(e){const t=await lp(e),n=t.eventManager;return n.onListen=Of.bind(null,t.syncEngine),n.onUnlisten=Lf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ff.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jf.bind(null,t.syncEngine),n}function dp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new ip({next:a=>{o.Za(),t.enqueueAndForget((()=>wf(e,s)));const c=a.docs.has(n);!c&&a.fromCache?i.reject(new ka(Aa.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&a.fromCache&&r&&"server"===r.source?i.reject(new ka(Aa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Tf(Tl(n.path),o,{includeMetadataChanges:!0,_a:!0});return bf(e,s)}(await hp(e),e.asyncQueue,t,n,r))),r.promise}function fp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new ip({next:n=>{o.Za(),t.enqueueAndForget((()=>wf(e,s))),n.fromCache&&"server"===r.source?i.reject(new ka(Aa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Tf(n,o,{includeMetadataChanges:!0,_a:!0});return bf(e,s)}(await hp(e),e.asyncQueue,t,n,r))),r.promise}function pp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const gp=new Map;function mp(e,t,n){if(!n)throw new ka(Aa.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function yp(e){if(!Ha.isDocumentKey(e))throw new ka(Aa.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vp(e){if(Ha.isDocumentKey(e))throw new ka(Aa.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function bp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":wa()}function wp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ka(Aa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bp(e);throw new ka(Aa.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Cp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ka(Aa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ka(Aa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ka(Aa.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ka(Aa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ka(Aa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ka(Aa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ka(Aa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ka(Aa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ea;switch(e.type){case"firstParty":return new Ra(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ka(Aa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gp.get(e);t&&(ma("ComponentProvider","Removing Datastore"),gp.delete(e),t.terminate())}(this),Promise.resolve()}}class Ap{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ap(this.firestore,e,this._query)}}class kp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kp(this.firestore,e,this._key)}}class xp extends Ap{constructor(e,t,n){super(e,t,Tl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kp(this.firestore,null,new Ha(e))}withConverter(e){return new xp(this.firestore,e,this._path)}}function Tp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=on(e),mp("collection","path",t),e instanceof Sp){const n=qa.fromString(t,...r);return vp(n),new xp(e,null,n)}{if(!(e instanceof kp||e instanceof xp))throw new ka(Aa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qa.fromString(t,...r));return vp(n),new xp(e.firestore,null,n)}}function Ep(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=on(e),1===arguments.length&&(t=Ma.newId()),mp("doc","path",t),e instanceof Sp){const n=qa.fromString(t,...r);return yp(n),new kp(e,null,new Ha(n))}{if(!(e instanceof kp||e instanceof xp))throw new ka(Aa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qa.fromString(t,...r));return yp(n),new kp(e.firestore,e instanceof xp?e.converter:null,new Ha(n))}}class _p{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _d(this,"async_queue_retry"),this.Vu=()=>{const e=Td();e&&ma("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Td();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Td();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new xa;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(aj){if(!tc(aj))throw aj;ma("AsyncQueue","Operation failed with retryable error: "+aj)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ya("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=hf.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&wa()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ip extends Sp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _p,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _p(e),this._firestoreClient=void 0,await e}}}function Pp(e){if(e._terminated)throw new ka(Aa.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Rp(e),e._firestoreClient}function Rp(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new _c(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new op(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Np{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Np(wc.fromBase64String(e))}catch(e){throw new ka(Aa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Np(wc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Op{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ka(Aa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Va(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._methodName=e}}class Mp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ka(Aa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ka(Aa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Da(this._lat,e._lat)||Da(this._long,e._long)}}class Dp{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Lp=/^__.*__$/;class jp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class Up{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wa()}}class qp{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ng(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Bp(this.Cu)&&Lp.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class zp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ed(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qp({Cu:e,methodName:t,qu:n,path:Va.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(e){const t=e._freezeSettings(),n=Ed(e._databaseId);return new zp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hp(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);Zp("Data must be an object, but it was:",s,r);const a=Qp(r,s);let c,l;if(o.merge)c=new vc(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=$p(t,r,n);if(!s.contains(i))throw new ka(Aa.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);rg(e,i)||e.push(i)}c=new vc(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new jp(new Xc(a),c,l)}class Wp extends Fp{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wp}}function Kp(e,t,n,r){const i=e.Qu(1,t,n);Zp("Data must be an object, but it was:",i,r);const o=[],s=Xc.empty();hc(r,((e,r)=>{const a=tg(t,e,n);r=on(r);const c=i.Nu(a);if(r instanceof Wp)o.push(a);else{const e=Yp(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new vc(o);return new Up(s,a,i.fieldTransforms)}function Gp(e,t,n,r,i,o){const s=e.Qu(1,t,n),a=[$p(t,r,n)],c=[i];if(o.length%2!=0)throw new ka(Aa.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push($p(t,o[d])),c.push(o[d+1]);const l=[],u=Xc.empty();for(let d=a.length-1;d>=0;--d)if(!rg(l,a[d])){const e=a[d];let t=c[d];t=on(t);const n=s.Nu(e);if(t instanceof Wp)l.push(e);else{const r=Yp(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new vc(l);return new Up(u,h,s.fieldTransforms)}function Xp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Yp(n,e.Qu(r?4:3,t))}function Yp(e,t){if(Jp(e=on(e)))return Zp("Unsupported field value:",t,e),Qp(e,t);if(e instanceof Fp)return function(e,t){if(!Bp(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Yp(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=on(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ru(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ja.fromDate(e);return{timestampValue:ah(t.serializer,n)}}if(e instanceof ja){const n=new ja(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ah(t.serializer,n)}}if(e instanceof Mp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Np)return{bytesValue:ch(t.serializer,e._byteString)};if(e instanceof kp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:hh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Dp)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return tu(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${bp(e)}`)}(e,t)}function Qp(e,t){const n={};return dc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hc(e,((e,r)=>{const i=Yp(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Jp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ja||e instanceof Mp||e instanceof Np||e instanceof kp||e instanceof Fp||e instanceof Dp)}function Zp(e,t,n){if(!Jp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=bp(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function $p(e,t,n){if((t=on(t))instanceof Op)return t._internalPath;if("string"==typeof t)return tg(e,t);throw ng("Field path arguments must be of type string or ",e,!1,void 0,n)}const eg=new RegExp("[~\\*/\\[\\]]");function tg(e,t,n){if(t.search(eg)>=0)throw ng(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Op(...t.split("."))._internalPath}catch(r){throw ng(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ng(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ka(Aa.INVALID_ARGUMENT,a+e+c)}function rg(e,t){return e.some((e=>e.isEqual(t)))}class ig{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new og(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class og extends ig{data(){return super.data()}}function sg(e,t){return"string"==typeof t?tg(e,t):t instanceof Op?t._internalPath:t._delegate._internalPath}function ag(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ka(Aa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class lg extends cg{}function ug(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof cg&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof fg)).length,n=e.filter((e=>e instanceof hg)).length;if(t>1||t>0&&n>0)throw new ka(Aa.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class hg extends lg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hg(e,t,n)}_apply(e){const t=this._parse(e);return mg(e._query,t),new Ap(e.firestore,e.converter,Nl(e._query,t))}_parse(e){const t=Vp(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ka(Aa.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){gg(s,o);const t=[];for(const n of s)t.push(pg(r,e,n));a={arrayValue:{values:t}}}else a=pg(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gg(s,o),a=Xp(n,t,s,"in"===o||"not-in"===o);return rl.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function dg(e,t,n){const r=t,i=sg("where",e);return hg._create(i,r,n)}class fg extends cg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:il.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)mg(n,i),n=Nl(n,i)}(e._query,t),new Ap(e.firestore,e.converter,Nl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function pg(e,t,n){if("string"==typeof(n=on(n))){if(""===n)throw new ka(Aa.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(t)&&-1!==n.indexOf("/"))throw new ka(Aa.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(qa.fromString(n));if(!Ha.isDocumentKey(r))throw new ka(Aa.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uc(e,new Ha(r))}if(n instanceof kp)return Uc(e,n._key);throw new ka(Aa.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bp(n)}.`)}function gg(e,t){if(!Array.isArray(e)||0===e.length)throw new ka(Aa.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ka(Aa.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ka(Aa.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class yg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ac(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wa()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return hc(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ac(e.doubleValue)));return new Dp(i)}convertGeoPoint(e){return new Mp(Ac(e.latitude),Ac(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Tc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const t=Sc(e);return new ja(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=qa.fromString(e);Ca(Oh(n));const r=new Ic(n.get(1),n.get(3)),i=new Ha(n.popFirst(5));return r.isEqual(t)||ya(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function vg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wg extends ig{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Cg extends wg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Sg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Cg(this._firestore,this._userDataWriter,n.key,n,new bg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ka(Aa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Cg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new bg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Cg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Ag(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ag(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wa()}}function kg(e){e=wp(e,kp);const t=wp(e.firestore,Ip);return dp(Pp(t),e._key).then((n=>Ng(t,e,n)))}class xg extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Np(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kp(this.firestore,null,t)}}function Tg(e){e=wp(e,Ap);const t=wp(e.firestore,Ip),n=Pp(t),r=new xg(t);return ag(e._query),fp(n,e._query).then((n=>new Sg(t,r,e,n)))}function Eg(e,t,n){e=wp(e,kp);const r=wp(e.firestore,Ip),i=vg(e.converter,t,n);return Rg(r,[Hp(Vp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yu.none())])}function _g(e,t,n){e=wp(e,kp);const r=wp(e.firestore,Ip),i=Vp(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=on(t))||t instanceof Op?Gp(i,"updateDoc",e._key,t,n,a):Kp(i,"updateDoc",e._key,t),Rg(r,[o.toMutation(e._key,yu.exists(!0))])}function Ig(e){return Rg(wp(e.firestore,Ip),[new Pu(e._key,yu.none())])}function Pg(e,t){const n=wp(e.firestore,Ip),r=Ep(e),i=vg(e.converter,t);return Rg(n,[Hp(Vp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yu.exists(!1))]).then((()=>r))}function Rg(e,t){return function(e,t){const n=new xa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=tp(e);try{const e=await function(e,t){const n=Sa(e),r=ja.now(),i=t.reduce(((e,t)=>e.add(t.key)),Zl());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Vl(),c=Zl();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Au(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Tu(e.key,t,Yc(t.value.mapValue),yu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Kl(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new fc(Da)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Jf(r,e.changes),await Jd(r.remoteStore)}catch(e){const t=df(e,"Failed to persist write");n.reject(t)}}(await up(e),t,n))),n.promise}(Pp(e),t)}function Ng(e,t,n){const r=n.docs.get(t._key),i=new xg(e);return new wg(e,i,t._key,r,new bg(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fa=e}(wr),gr(new sn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Ip(new Ia(e.getProvider("auth-internal")),new Oa(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ka(Aa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Ar(ha,"4.7.3",e),Ar(ha,"4.7.3","esm2017")}();const Og=Cr({apiKey:"AIzaSyBK2Sg8j4EvdRsazXLJtuWD_z1aI5nQGog",authDomain:"expenser-2335.firebaseapp.com",projectId:"expenser-2335",storageBucket:"expenser-2335.firebasestorage.app",messagingSenderId:"829602228195",appId:"1:829602228195:web:851194b850a6be96ee62d6"}),Fg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();const t=mr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=mr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Jt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Br(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Vs,persistence:[ts,jo,Bo]}),r=zt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Gs)return;const r=null===t||void 0===t?void 0:t.token;Xs!==r&&(Xs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){on(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){on(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Ut("auth");return o&&no(n,`http://${o}`),n}(Og),Mg=function(e,t){const n="string"==typeof e?e:t||"(default)",r=mr("object"==typeof e?e:Sr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Bt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=wp(e,Sp))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=da.MOCK_USER;else{t=Ht(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ka(Aa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new da(o)}e._authCredentials=new _a(new Ta(t,n))}}(r,...e)}return r}(Og);const Dg=function(){const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[o,s]=(0,e.useState)(""),a=Fg.currentUser;let c=Z();return(0,It.jsx)("div",{children:(0,It.jsx)("div",{className:"page",id:"signin-page",children:(0,It.jsxs)("div",{className:"signin-container",children:[(0,It.jsx)("div",{className:"form-heading",children:(0,It.jsx)("h1",{className:"form-title",children:"Sign in"})}),(0,It.jsxs)("form",{id:"signin-form",onSubmit:async e=>{e.preventDefault();try{await function(e,t,n){return yr(e.app)?Promise.reject(Vr(e)):No(on(e),yo.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Fo(e),t}))}(Fg,t,r),console.log("Welcome, ",a.uid),c("/")}catch(n){console.log("Could not validate credentials")}},children:[(0,It.jsx)("input",{name:"email",type:"email",value:t,className:"email",placeholder:"Your Email",onChange:e=>n(e.target.value),required:!0}),(0,It.jsx)("input",{name:"password",type:"password",value:r,className:"password",placeholder:"Password",onChange:e=>i(e.target.value)}),(0,It.jsx)("button",{type:"submit",className:"form-submit",children:"Submit"})]}),(0,It.jsxs)("p",{className:"form-description",children:["If you don't have an account ",(0,It.jsx)("a",{href:"/signup",children:"Signup"}),(0,It.jsx)("br",{}),"If you don't remember your password ",(0,It.jsx)("a",{href:"/forgotpassword",children:"Forgot Password"})]}),(0,It.jsx)("section",{})]})})})};const Lg=function(){const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[o,s]=(0,e.useState)("");let a=Z();return(0,It.jsx)("div",{className:"page",id:"signin-page",children:(0,It.jsxs)("div",{className:"signin-container",children:[(0,It.jsxs)("div",{className:"form-heading",children:[(0,It.jsx)("h1",{className:"form-title",children:"Create an account"}),(0,It.jsxs)("p",{className:"form-description",children:["Just some basic stuff, ",(0,It.jsx)("br",{})," make sure not to share this information with anyone!"]})]}),(0,It.jsxs)("form",{id:"signin-form",onSubmit:async e=>{e.preventDefault();try{await async function(e,t,n){if(yr(e.app))return Promise.reject(Vr(e));const r=Xi(e),i=to(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ko),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Fo(e),t})),s=await xo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(Fg,t,r);s("Account Created Successfully"),console.log(o),a("/moreinfo")}catch(Lv){console.log(Lv)}},children:[(0,It.jsx)("input",{name:"email",type:"email",value:t,className:"email",placeholder:"Your Email",onChange:e=>n(e.target.value),required:!0}),(0,It.jsx)("input",{name:"password",type:"password",value:r,className:"password",placeholder:"Password",onChange:e=>i(e.target.value)}),(0,It.jsx)("button",{type:"submit",className:"form-submit",children:"Submit"})]}),(0,It.jsxs)("p",{className:"form-description",children:["If you already have an account ",(0,It.jsx)("a",{href:"/signin",children:"Sign In"})]}),(0,It.jsx)("section",{})]})})};const jg=function(){return(0,It.jsx)("div",{children:"Moreinfo"})};const Ug=function(){const[t,n]=(0,e.useState)("");return(0,It.jsx)("div",{className:"page",id:"signin-page",children:(0,It.jsxs)("div",{className:"signin-container",children:[(0,It.jsxs)("div",{className:"form-heading",children:[(0,It.jsx)("h1",{className:"form-title",children:"Forgot Password"}),(0,It.jsxs)("p",{className:"form-description",children:["Forgotten your password? That's okay, ",(0,It.jsx)("br",{}),"just enter your email to recieve a reset link!"]})]}),(0,It.jsxs)("form",{id:"signin-form",onSubmit:async e=>{e.preventDefault();try{await async function(e,t,n){const r=Xi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Oo(r,i,n),await to(r,i,"getOobCode",lo)}(Fg,t),console.log("Password reset email sent")}catch(Lv){console.error("Error sending password reset email:",Lv.code,Lv.message)}},children:[(0,It.jsx)("input",{name:"email",type:"email",value:t,className:"email",placeholder:"Your Email",onChange:e=>n(e.target.value),required:!0}),(0,It.jsx)("button",{type:"submit",className:"form-submit",children:"Submit"})]}),(0,It.jsx)("section",{})]})})};var Bg=__webpack_require__(378);const qg=__webpack_require__.p+"static/media/dots.ed31cd660b03a6fc32058ba28a12afbb.svg";__webpack_require__.p;const zg=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(0),[o,s]=(0,e.useState)([]),[a,c]=(0,e.useState)(""),[l,u]=(0,e.useState)([]),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)(""),[y,v]=(0,e.useState)("");return(0,e.useEffect)((()=>{(()=>{const e=new Date,t=e.getDate(),n=["st","nd","rd"][t%10-1]||"th",r=e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}).replace(/\b(\d{1,2})\b/,`${t}${n}`);v(r)})()}),[]),(0,e.useEffect)((()=>{let e;return t?e=setInterval((()=>{i((e=>e+1))}),1e3):clearInterval(e),()=>clearInterval(e)}),[t]),(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsxs)("div",{className:"header",children:[(0,It.jsx)("h3",{children:"Time Tracker"}),(0,It.jsx)("img",{src:qg,alt:"dots",className:"dots"})]}),(0,It.jsx)("div",{className:"section-container",children:(0,It.jsxs)("table",{className:"section-table",children:[(0,It.jsx)("thead",{className:"section-header",children:(0,It.jsx)("tr",{className:"header-row",children:["Day","Project Name","Task Description","Client Name","Time Tracked","Time Control"].map((e=>(0,It.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,It.jsxs)("tbody",{className:"table-body",children:[(0,It.jsx)("div",{style:{cursor:"pointer"},className:"date-display",children:(0,It.jsx)("span",{children:y})}),(0,It.jsx)("input",{type:"text",className:"task-input",placeholder:"Project Name",value:a,onChange:e=>c(e.target.value)}),(0,It.jsx)("input",{type:"text",className:"task-input",placeholder:"Task Name",value:h,onChange:e=>d(e.target.value)}),(0,It.jsx)("input",{type:"text",className:"task-input",placeholder:"Project Name",value:f,onChange:e=>p(e.target.value)}),(0,It.jsx)("div",{className:"timer-display",children:(e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`})(r)}),(0,It.jsx)("div",{className:"timer",children:(0,It.jsxs)("div",{className:"buttons-row",children:[(0,It.jsx)("div",{onClick:()=>{n(!t)},style:{cursor:"pointer"},className:"timer-button",children:(0,It.jsx)("span",{children:t?"Pause":"Start"})}),(0,It.jsx)("div",{onClick:async()=>{if(""!==h.trim()){try{await Pg(Tp(Mg,"Tasks"),{TaskName:h,ProjectName:a,clientName:f,Date:y,Duration:r})}catch(Lv){console.log(Lv)}d(""),n(!1),i(0)}else alert("Please enter a task name!")},disabled:0===r,className:"timer-button",children:(0,It.jsx)("span",{children:"Save"})})]})})]})]})})]})]})};const Vg=function(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[o,s]=(0,e.useState)({name:"",email:"",phone:"",caseId:""}),a=Z();return(0,e.useEffect)((()=>{(async()=>{try{const e=Tp(Mg,"clients"),t=(await Tg(e)).docs.map((e=>({id:e.id,...e.data()})));console.log("Loaded clients:",t),n(t)}catch(Lv){console.error("Error loading clients:",Lv)}})()}),[]),(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsxs)("a",{href:"/addclientform",className:"buttons",children:[(0,It.jsx)(Tt,{}),"Add A Client"]}),(0,It.jsxs)("div",{className:"section-container",children:[(0,It.jsx)("div",{className:"section-header",children:(0,It.jsxs)("h2",{className:"section-title",children:[(0,It.jsx)("span",{className:"yellow-bar"})," Client List"]})}),(0,It.jsxs)("table",{className:"global-table",children:[(0,It.jsx)("thead",{children:(0,It.jsx)("tr",{children:["Client Name","Client Source","Email Address","Phone Number","Conflict"].map((e=>(0,It.jsxs)("th",{children:[e," \u2b0d "]},e)))})}),(0,It.jsx)("tbody",{children:t.length>0?t.map(((e,t)=>(0,It.jsxs)("tr",{className:"table-row",onClick:()=>{return t=e.id,void a(`/client/${t}`);var t},children:[(0,It.jsx)("td",{children:e.clientName}),(0,It.jsx)("td",{children:e.source}),(0,It.jsx)("td",{children:e.emailAddress}),(0,It.jsx)("td",{children:e.phoneNumber}),(0,It.jsx)("td",{children:e.hasConflict?"Yes":"No"})]},t))):(0,It.jsx)("tr",{children:(0,It.jsx)("td",{colSpan:"6",children:"No clients data available..."})})})]})]})]})]})},Hg=e=>{let{isOpen:t,onClose:n,title:r,text:i,children:o}=e;return t?(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:r}),(0,It.jsx)("p",{children:i}),o]})}):null};const Wg=function(t){let{closeModal:n}=t,r=Z();const[i,o]=(0,e.useState)({clientName:"",emailAddress:"",phoneNumber:"",companyName:"",websiteUrl:"",industry:"",budget:"",source:"",caseName:"",caseType:"",jurisdiction:"",caseDesc:"",caseNotes:"",leadAttorney:"",supportingAttornies:{attorneyName:"",attorneyContact:""},witnesses:{witnessName:"",witnessContact:""},opposingParty:{opposingPartyName:"",opposingPartyEmailAddress:""}}),[s,a]=(0,e.useState)([]),[c,l]=(0,e.useState)({}),[u,h]=(0,e.useState)(!1),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(null),[m,y]=(0,e.useState)(!1),v=async e=>{try{const t={clientName:i.clientName,emailAddress:i.emailAddress,phoneNumber:i.phoneNumber,companyName:i.companyName||"",websiteUrl:i.websiteUrl||"",industry:i.industry||"",budget:i.budget||"",source:i.source||"",hasConflict:e};console.log("Saving client with data:",t);const n=Ep(Mg,"clients",i.emailAddress);await Eg(n,t);const r=Ep(Tp(Mg,"cases")),o={name:i.caseName,type:i.caseType,jurisdiction:i.jurisdiction,case_desc:i.caseDesc||"",notes:i.caseNotes||"",status:"Open",client_id:i.emailAddress,lead_attorney:i.leadAttorney,supportingAttornies:i.supportingAttornies,witnesses:i.witnesses,court_assigned_case_number:i.courtNumber||"",created_at:new Date,has_conflict:e,opposing_party_id:i.opposingParty.opposingPartyEmailAddress,conflict_details:e?{detected_at:new Date,type:"opposing_party_conflict",opposing_party_email:i.opposingParty.opposingPartyEmailAddress}:null};await Eg(r,o);const s=Ep(Tp(Mg,"opposing")),a={opposingPartyName:i.opposingParty.opposingPartyName,opposingPartyEmailAddress:i.opposingParty.opposingPartyEmailAddress,case_id:r.id,client_id:i.emailAddress,has_conflict:e};await Eg(s,a),y(!0)}catch(Lv){console.error("Error during submission:",Lv),l({submit:"Failed to submit form. Please try again."})}finally{h(!1)}},b=()=>{f(!1),g(null),h(!1)},w=e=>{const{name:t,value:n}=e.target;o({...i,[t]:n}),c[t]&&l({...c,[t]:null})};(0,e.useEffect)((()=>{(async()=>{const e=(await Tg(Tp(Mg,"cases-types"))).docs.map((e=>({id:e.id,...e.data()})));a(e)})()}),[]);const C=()=>{y(!1),r("/"),n&&n()};return(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsx)("div",{className:"page-content",children:(0,It.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(!0),(()=>{let e={},t=!0;return i.clientName.trim()||(e.clientName="Client name is required",t=!1),i.emailAddress.trim()?/\S+@\S+\.\S+/.test(i.emailAddress)||(e.emailAddress="Email is invalid",t=!1):(e.emailAddress="Email is required",t=!1),i.phoneNumber.trim()?/^\d{10}$/.test(i.phoneNumber.replace(/\D/g,""))||(e.phoneNumber="Phone number must be 10 digits",t=!1):(e.phoneNumber="Phone number is required",t=!1),i.caseName.trim()||(e.caseName="Case name is required",t=!1),i.caseType||(e.caseType="Case type is required",t=!1),i.jurisdiction.trim()||(e.jurisdiction="Jurisdiction is required",t=!1),i.leadAttorney.trim()||(e.leadAttorney="Lead attorney is required",t=!1),i.websiteUrl&&!/^https?:\/\/.*/.test(i.websiteUrl)&&(e.websiteUrl="Website URL must start with http:// or https://",t=!1),i.budget&&isNaN(i.budget)&&(e.budget="Budget must be a number",t=!1),l(e),t})())try{const e=await(async e=>{if(console.log("Checking conflicts for:",e),!e.opposingPartyEmailAddress)return!1;try{const t=ug(Tp(Mg,"clients"),dg("emailAddress","==",e.opposingPartyEmailAddress)),n=await Tg(t);if(!n.empty){const e=n.docs[0];await Eg(Ep(Mg,"clients",e.id),{...e.data(),hasConflict:!0})}const r=ug(Tp(Mg,"opposing"),dg("opposingPartyEmailAddress","==",e.opposingPartyEmailAddress)),i=await Tg(r),o=!n.empty||!i.empty;return console.log("Has conflict:",o),o}catch(Lv){return console.error("Error checking for conflicts:",Lv),!1}})(i.opposingParty);if(console.log("Conflict check result:",e),e)return f(!0),g({hasConflict:e}),void h(!1);await v(!1)}catch(Lv){console.error("Error during submission:",Lv),l({submit:"Failed to submit form. Please try again."}),h(!1)}else h(!1)},className:"clientSubmit",children:[(0,It.jsxs)("div",{className:"form-section",children:[(0,It.jsx)("h3",{children:"Client Information"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Full Name:",(0,It.jsx)("input",{className:"fields "+(c.clientName?"error":""),type:"text",name:"clientName",value:i.clientName,onChange:w,required:!0}),c.clientName&&(0,It.jsx)("span",{className:"error-message",children:c.clientName})]}),(0,It.jsxs)("label",{className:"label",children:["Email Address:",(0,It.jsx)("input",{className:"fields "+(c.emailAddress?"error":""),type:"email",name:"emailAddress",value:i.emailAddress,onChange:w,required:!0}),c.emailAddress&&(0,It.jsx)("span",{className:"error-message",children:c.emailAddress})]}),(0,It.jsxs)("label",{className:"label",children:["Phone Number:",(0,It.jsx)("input",{className:"fields "+(c.phoneNumber?"error":""),type:"tel",name:"phoneNumber",value:i.phoneNumber,onChange:w,required:!0}),c.phoneNumber&&(0,It.jsx)("span",{className:"error-message",children:c.phoneNumber})]}),(0,It.jsxs)("label",{className:"label",children:["Company Name:",(0,It.jsx)("input",{className:"fields",type:"text",name:"companyName",value:i.companyName,onChange:w})]})]})]}),(0,It.jsxs)("div",{className:"form-section",children:[(0,It.jsx)("h3",{children:"Additional Client Information"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Website URL:",(0,It.jsx)("input",{className:"fields "+(c.websiteUrl?"error":""),type:"url",name:"websiteUrl",value:i.websiteUrl,onChange:w}),c.websiteUrl&&(0,It.jsx)("span",{className:"error-message",children:c.websiteUrl})]}),(0,It.jsxs)("label",{className:"label",children:["Industry:",(0,It.jsx)("input",{className:"fields",type:"text",name:"industry",value:i.industry,onChange:w})]}),(0,It.jsxs)("label",{className:"label",children:["Budget:",(0,It.jsx)("input",{className:"fields "+(c.budget?"error":""),type:"text",name:"budget",value:i.budget,onChange:w}),c.budget&&(0,It.jsx)("span",{className:"error-message",children:c.budget})]}),(0,It.jsxs)("label",{className:"label",children:["Client Source:",(0,It.jsx)("input",{className:"fields",type:"text",name:"source",value:i.source,onChange:w})]})]})]}),(0,It.jsxs)("div",{className:"form-section",children:[(0,It.jsx)("h3",{children:"Case Details"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Case name:",(0,It.jsx)("input",{className:"fields "+(c.caseName?"error":""),type:"text",name:"caseName",value:i.caseName,onChange:w,required:!0}),c.caseName&&(0,It.jsx)("span",{className:"error-message",children:c.caseName})]}),(0,It.jsxs)("label",{className:"label",children:["Case type:",(0,It.jsxs)("select",{className:"fields "+(c.caseType?"error":""),name:"caseType",value:i.caseType,onChange:w,required:!0,children:[(0,It.jsx)("option",{value:"",disabled:!0,children:"Select a case type"}),s.map((e=>(0,It.jsx)("option",{value:e.name,children:e.name},e.id)))]}),c.caseType&&(0,It.jsx)("span",{className:"error-message",children:c.caseType})]}),(0,It.jsxs)("label",{className:"label",children:["Jurisdiction:",(0,It.jsx)("input",{className:"fields "+(c.jurisdiction?"error":""),type:"text",name:"jurisdiction",value:i.jurisdiction,onChange:w,required:!0}),c.jurisdiction&&(0,It.jsx)("span",{className:"error-message",children:c.jurisdiction})]}),(0,It.jsxs)("label",{className:"label",children:["Court assigned case number:",(0,It.jsx)("input",{className:"fields",type:"text",name:"courtNumber",value:i.courtNumber,onChange:w})]})]})]}),(0,It.jsxs)("div",{className:"form-section",children:[(0,It.jsx)("h3",{children:"Case Description"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Case description:",(0,It.jsx)("textarea",{className:"fields",name:"caseDesc",value:i.caseDesc,onChange:w})]}),(0,It.jsxs)("label",{className:"label",children:["Case notes:",(0,It.jsx)("textarea",{className:"fields",name:"caseNotes",value:i.caseNotes,onChange:w})]})]})]}),(0,It.jsxs)("div",{className:"form-section",children:[(0,It.jsx)("h3",{children:"Attorney Information"}),(0,It.jsx)("div",{className:"form-section-content",children:(0,It.jsxs)("label",{className:"label",children:["Lead Attorney:",(0,It.jsx)("input",{className:"fields "+(c.leadAttorney?"error":""),type:"text",name:"leadAttorney",value:i.leadAttorney,onChange:w,required:!0}),c.leadAttorney&&(0,It.jsx)("span",{className:"error-message",children:c.leadAttorney})]})}),(0,It.jsx)("h4",{children:"Supporting Attorneys"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Attorney name:",(0,It.jsx)("input",{className:"fields",name:"attorneyName",type:"text",value:i.supportingAttornies.attorneyName,onChange:e=>{o({...i,supportingAttornies:{...i.supportingAttornies,attorneyName:e.target.value}})}})]}),(0,It.jsxs)("label",{className:"label",children:["Attorney contact:",(0,It.jsx)("input",{className:"fields",name:"attorneyContact",type:"text",value:i.supportingAttornies.attorneyContact,onChange:e=>{o({...i,supportingAttornies:{...i.supportingAttornies,attorneyContact:e.target.value}})}})]})]})]}),(0,It.jsxs)("div",{className:"form-section",children:[(0,It.jsx)("h3",{children:"Witnesses"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Witness name:",(0,It.jsx)("input",{className:"fields",name:"witnessName",type:"text",value:i.witnesses.witnessName,onChange:e=>{o({...i,witnesses:{...i.witnesses,witnessName:e.target.value}})}})]}),(0,It.jsxs)("label",{className:"label",children:["Witness contact:",(0,It.jsx)("input",{className:"fields",name:"witnessContact",type:"text",value:i.witnesses.witnessContact,onChange:e=>{o({...i,witnesses:{...i.witnesses,witnessContact:e.target.value}})}})]})]})]}),(0,It.jsxs)("div",{className:"form-section",children:[(0,It.jsx)("h3",{children:"Opposing Party Information"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Full Name:",(0,It.jsx)("input",{className:"fields "+(c.opposingPartyName?"error":""),type:"text",name:"opposingPartyName",value:i.opposingParty.opposingPartyName||"",onChange:w}),c.opposingPartyName&&(0,It.jsx)("span",{className:"error-message",children:c.opposingPartyName})]}),(0,It.jsxs)("label",{className:"label",children:["Email Address:",(0,It.jsx)("input",{className:"fields",type:"text",name:"opposingPartyEmailAddress",value:i.opposingParty.opposingPartyEmailAddress||"",onChange:w})]})]})]}),c.submit&&(0,It.jsx)("div",{className:"error-message",children:c.submit}),(0,It.jsxs)("div",{className:"button-container",children:[(0,It.jsx)("button",{type:"submit",className:"add-expense-button",disabled:u,children:u?"Submitting...":"Submit"}),(0,It.jsx)("button",{type:"button",className:"add-expense-button demo",onClick:()=>{o({clientName:"Michael Rodriguez",emailAddress:"michael@greenearthcafe.com",phoneNumber:"4161234567",companyName:"Green Earth Cafe",websiteUrl:"https://www.greenearthcafe.com",industry:"Food and Beverage",budget:"100000",source:"Referral",caseName:"Michael Rodriguez v. Jane Doe",caseType:0,jurisdiction:"Federal",caseDesc:"Michael is suing Jane for a contract breach.",caseNotes:"- Get documents from Michael - Prepare opening statement - Contact witness and prepare them",leadAttorney:"Melissa Felicity",courtNumber:"1234567890",supportingAttornies:{attorneyName:"Melissa Stephens",attorneyContact:"4161234567"},witnesses:{witnessName:"Caleb Smith",witnessContact:"5634234567"},opposingParty:{opposingPartyName:"Jane Doe",opposingPartyEmailAddress:"jane@doe.com"}})},children:"Add Client Demo"}),(0,It.jsx)("button",{type:"button",className:"add-expense-button demo",onClick:()=>{o({clientName:"Jane Doe",emailAddress:"jane@doe.com",phoneNumber:"4161234567",companyName:"Jane Doe Inc.",websiteUrl:"https://www.janedoe.com",industry:"Food and Beverage",budget:"100000",source:"Referral",caseName:"Jane Doe v. Michael Rodriguez",caseType:0,jurisdiction:"Ontario",caseDesc:"Jane Doe is counter-suing John Doe for $100,000",caseNotes:"N/A",leadAttorney:"Kelly Smith",courtNumber:"3452341234",supportingAttornies:{attorneyName:"Kevin Sparks",attorneyContact:"6545432345"},witnesses:{witnessName:"Anthony Padilla",witnessContact:"9879877777"},opposingParty:{opposingPartyName:"Michael Rodriguez",opposingPartyEmailAddress:"michael@greenearthcafe.com"}})},children:"Add Opposing Party Demo"})]})]})}),(0,It.jsx)(Hg,{isOpen:m,onClose:C,title:"Success",text:"Client and case have been successfully added!",children:(0,It.jsx)("div",{className:"button-group",children:(0,It.jsx)("button",{className:"modal-button save",onClick:C,children:"Continue"})})}),(0,It.jsx)(Hg,{isOpen:d,onClose:b,title:"Conflict Warning",text:"WARNING: Potential conflict detected! This opposing party is either an existing client or involved in another case. Do you want to proceed anyway?",children:(0,It.jsxs)("div",{className:"button-group",children:[(0,It.jsx)("button",{className:"modal-button del",onClick:async()=>{f(!1),h(!0),await v(!0)},children:"Proceed Anyway"}),(0,It.jsx)("button",{className:"cancel-button",onClick:b,children:"Cancel"})]})})]})};const Kg=function(e){let{bg:t,textColor:n,icon:r,text:i,onClick:o,link:s}=e;return s?(0,It.jsxs)("a",{href:s,className:"buttons",style:{backgroundColor:t,color:n,textDecoration:"none",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:[r&&(0,It.jsx)(r,{style:{color:n,marginRight:"8px"}}),(0,It.jsx)("span",{style:{color:n},children:i})]}):(0,It.jsxs)("button",{className:"buttons",style:{backgroundColor:t,color:n},onClick:o,children:[r&&(0,It.jsx)(r,{style:{color:n,marginRight:"8px"}}),(0,It.jsx)("span",{style:{color:n},children:i})]})};const Gg=function(t){let{closeModal:n,caseId:r,refreshCases:i}=t;const[o,s]=(0,e.useState)({caseName:"",caseType:"",jurisdiction:"",caseDesc:"",caseNotes:"",leadAttorney:"",supportingAttornies:{attorneyName:"",attorneyContact:""},witnesses:{witnessName:"",witnessContact:""}}),[a,c]=(0,e.useState)({caseName:"",caseType:"",jurisdiction:"",leadAttorney:""}),[l,u]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const o=Ep(Mg,"cases",r),a=await kg(o);if(a.exists()){var e,t,n,i;const r=a.data();s({caseName:r.name,caseType:r.type,jurisdiction:r.jurisdiction,caseDesc:r.case_desc,caseNotes:r.notes,leadAttorney:r.lead_attorney,courtNumber:r.court_assigned_case_number,supportingAttornies:{attorneyName:(null===(e=r.supportingAttornies)||void 0===e?void 0:e.name)||"",attorneyContact:(null===(t=r.supportingAttornies)||void 0===t?void 0:t.contact)||""},witnesses:{witnessName:(null===(n=r.witnesses)||void 0===n?void 0:n.name)||"",witnessContact:(null===(i=r.witnesses)||void 0===i?void 0:i.contact)||""}})}else console.error("No such case found!")}catch(Lv){console.error("Error fetching case: ",Lv)}})()}),[r]),(0,e.useEffect)((()=>{(async()=>{try{const e=Tp(Mg,"cases-types"),t=(await Tg(e)).docs.map((e=>({id:e.id,name:e.data().name||"Unnamed Case Type"})));u(t)}catch(Lv){console.error("Error fetching case types: ",Lv)}})()}),[]);const h=e=>{const{name:t,value:n}=e.target;s({...o,[t]:n})};return(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Case Information"}),(0,It.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ep(Mg,"cases",r),t={name:o.caseName,type:o.caseType,jurisdiction:o.jurisdiction,case_desc:o.caseDesc,notes:o.caseNotes,lead_attorney:o.leadAttorney,court_assigned_case_number:o.courtNumber,supportingAttornies:{name:o.supportingAttornies.attorneyName,contact:o.supportingAttornies.attorneyContact},witnesses:{name:o.witnesses.witnessName,contact:o.witnesses.witnessContact}};await _g(e,t),console.log("Case updated successfully"),n(),i&&i()}catch(Lv){console.error("Error updating document: ",Lv)}},children:[(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Case name:",(0,It.jsx)("input",{className:"field",type:"text",name:"caseName",value:o.caseName,onChange:h,required:!0}),a.caseName&&(0,It.jsx)("span",{className:"error-message",children:a.caseName})]}),(0,It.jsxs)("label",{className:"label",children:["Case type:",(0,It.jsxs)("select",{className:"field",name:"caseType",value:o.caseType,onChange:h,required:!0,children:[(0,It.jsx)("option",{value:"",disabled:!0,children:"Select a case type"}),l.map((e=>(0,It.jsx)("option",{value:e.name,children:e.name},e.id)))]}),a.caseType&&(0,It.jsx)("span",{className:"error-message",children:a.caseType})]})]}),(0,It.jsx)("label",{className:"label",children:"Case witnesses (if applicable):"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Witness name",(0,It.jsx)("input",{className:"field",name:"witnessName",type:"text",value:o.witnesses.witnessName,onChange:e=>{s({...o,witnesses:{...o.witnesses,witnessName:e.target.value}})}})]}),(0,It.jsxs)("label",{className:"label",children:["Witness contact",(0,It.jsx)("input",{className:"field",name:"witnessContact",type:"text",value:o.witnesses.witnessContact,onChange:e=>{s({...o,witnesses:{...o.witnesses,witnessContact:e.target.value}})}})]})]}),(0,It.jsxs)("label",{className:"label",children:["Lead Attorney:",(0,It.jsx)("input",{className:"field fields "+(a.leadAttorney?"error":""),type:"text",name:"leadAttorney",value:o.leadAttorney,onChange:h,required:!0}),a.leadAttorney&&(0,It.jsx)("span",{className:"error-message",children:a.leadAttorney})]}),(0,It.jsxs)("label",{className:"label",children:["Case description:",(0,It.jsx)("textarea",{className:"field",name:"caseDesc",value:o.caseDesc,onChange:h})]}),(0,It.jsx)("label",{className:"label",children:"Supporting Attorneys (if applicable):"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Attorney name",(0,It.jsx)("input",{className:"field",name:"attorneyName",type:"text",value:o.supportingAttornies.attorneyName,onChange:e=>{s({...o,supportingAttornies:{...o.supportingAttornies,attorneyName:e.target.value}})}})]}),(0,It.jsxs)("label",{className:"label",children:["Attorney contact",(0,It.jsx)("input",{className:"field",name:"attorneyContact",type:"text",value:o.supportingAttornies.attorneyContact,onChange:e=>{s({...o,supportingAttornies:{...o.supportingAttornies,attorneyContact:e.target.value}})}})]})]}),(0,It.jsxs)("label",{className:"label",children:["Jurisdiction:",(0,It.jsx)("input",{className:"field fields "+(a.jurisdiction?"error":""),type:"text",name:"jurisdiction",value:o.jurisdiction,onChange:h,required:!0}),a.jurisdiction&&(0,It.jsx)("span",{className:"error-message",children:a.jurisdiction})]}),(0,It.jsxs)("label",{className:"label",children:["Court assigned case number (if applicable):",(0,It.jsx)("input",{className:"field",type:"text",name:"courtNumber",value:o.courtNumber,onChange:h})]}),(0,It.jsxs)("label",{className:"label",children:["Case notes:",(0,It.jsx)("textarea",{className:"field",name:"caseNotes",value:o.caseNotes,onChange:h})]}),(0,It.jsx)("button",{type:"submit",className:"modal-button save",children:"Save Changes"})]}),(0,It.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})]})})},Xg=__webpack_require__.p+"static/media/avatar.2c12409a34563478b39d.png";const Yg=function(e){let{closeModal:t,caseId:n,refreshCases:r}=e;return(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Delete Expense"}),(0,It.jsx)("p",{children:"Are you sure you want to delete this case? This action cannot be undone."}),(0,It.jsxs)("div",{className:"button-group",children:[(0,It.jsx)("button",{className:"modal-button del",onClick:async()=>{try{const e=Ep(Mg,"cases",n);await Ig(e),console.log("Case deleted successfully"),r&&r(),t()}catch(Lv){console.error("Error deleting case: ",Lv)}},children:"Confirm Delete"}),(0,It.jsx)("button",{className:"cancel-button",onClick:t,children:"Cancel"})]})]})})};const Qg=function(t){let{closeModal:n,refreshCases:r,clientId:i}=t;const[o,s]=(0,e.useState)({caseName:"",caseType:"",jurisdiction:"",caseDesc:"",caseNotes:"",leadAttorney:"",supportingAttornies:{attorneyName:"",attorneyContact:""},witnesses:{witnessName:"",witnessContact:""},opposingParty:{opposingPartyName:"",opposingPartyEmailAddress:""}}),[a,c]=(0,e.useState)([]),[l,u]=(0,e.useState)({caseName:"",caseType:"",jurisdiction:"",leadAttorney:""}),h=e=>{const{name:t,value:n}=e.target;s({...o,[t]:n})};return(0,e.useEffect)((()=>{(async()=>{try{const e=Tp(Mg,"cases-types"),t=(await Tg(e)).docs.map((e=>({id:e.id,name:e.data().name||"Unnamed Case Type"})));c(t),console.log(t)}catch(Lv){console.error("Error fetching case types: ",Lv)}})()}),[]),(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Case Information"}),(0,It.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Tp(Mg,"cases"),t={client_id:i,name:o.caseName,lead_attorney:o.leadAttorney,type:o.caseType,case_desc:o.caseDesc,status:"Open",jurisdiction:o.jurisdiction,notes:o.caseNotes,court_number:o.courtNumber,supporting_attorneys:o.supportingAttornies,witnesses:o.witnesses,opposing_party:o.opposingParty,created_at:new Date};console.log("Saving case with data:",t),await Pg(e,t),console.log("Case added successfully"),n()}catch(Lv){console.error("Error updating document: ",Lv)}},children:[(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Case name:",(0,It.jsx)("input",{className:"field",type:"text",name:"caseName",value:o.caseName,onChange:h,required:!0}),l.caseName&&(0,It.jsx)("span",{className:"error-message",children:l.caseName})]}),(0,It.jsxs)("label",{className:"label",children:["Case type:",(0,It.jsxs)("select",{className:"field",name:"caseType",value:o.caseType,onChange:h,required:!0,children:[(0,It.jsx)("option",{value:"",disabled:!0,children:"Select a case type"}),a.map((e=>(0,It.jsx)("option",{value:e.name,children:e.name},e.id)))]}),l.caseType&&(0,It.jsx)("span",{className:"error-message",children:l.caseType})]})]}),(0,It.jsx)("label",{className:"label",children:"Case witnesses (if applicable):"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Witness name",(0,It.jsx)("input",{className:"field",name:"witnessName",type:"text",value:o.witnesses.witnessName,onChange:e=>{s({...o,witnesses:{...o.witnesses,witnessName:e.target.value}})}})]}),(0,It.jsxs)("label",{className:"label",children:["Witness contact",(0,It.jsx)("input",{className:"field",name:"witnessContact",type:"text",value:o.witnesses.witnessContact,onChange:e=>{s({...o,witnesses:{...o.witnesses,witnessContact:e.target.value}})}})]})]}),(0,It.jsxs)("label",{className:"label",children:["Lead Attorney:",(0,It.jsx)("input",{className:"field fields "+(l.leadAttorney?"error":""),type:"text",name:"leadAttorney",value:o.leadAttorney,onChange:h,required:!0}),l.leadAttorney&&(0,It.jsx)("span",{className:"error-message",children:l.leadAttorney})]}),(0,It.jsxs)("label",{className:"label",children:["Case description:",(0,It.jsx)("textarea",{className:"field",name:"caseDesc",value:o.caseDesc,onChange:h})]}),(0,It.jsx)("label",{className:"label",children:"Supporting Attorneys (if applicable):"}),(0,It.jsxs)("div",{className:"form-section-content",children:[(0,It.jsxs)("label",{className:"label",children:["Attorney name",(0,It.jsx)("input",{className:"field",name:"attorneyName",type:"text",value:o.supportingAttornies.attorneyName,onChange:e=>{s({...o,supportingAttornies:{...o.supportingAttornies,attorneyName:e.target.value}})}})]}),(0,It.jsxs)("label",{className:"label",children:["Attorney contact",(0,It.jsx)("input",{className:"field",name:"attorneyContact",type:"text",value:o.supportingAttornies.attorneyContact,onChange:e=>{s({...o,supportingAttornies:{...o.supportingAttornies,attorneyContact:e.target.value}})}})]})]}),(0,It.jsxs)("label",{className:"label",children:["Jurisdiction:",(0,It.jsx)("input",{className:"field fields "+(l.jurisdiction?"error":""),type:"text",name:"jurisdiction",value:o.jurisdiction,onChange:h,required:!0}),l.jurisdiction&&(0,It.jsx)("span",{className:"error-message",children:l.jurisdiction})]}),(0,It.jsxs)("label",{className:"label",children:["Court assigned case number (if applicable):",(0,It.jsx)("input",{className:"field",type:"text",name:"courtNumber",value:o.courtNumber,onChange:h})]}),(0,It.jsxs)("label",{className:"label",children:["Case notes:",(0,It.jsx)("textarea",{className:"field",name:"caseNotes",value:o.caseNotes,onChange:h})]}),(0,It.jsx)("button",{type:"submit",className:"modal-button save",children:"Add Case"})]}),(0,It.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})]})})},Jg=()=>{const{id:t}=function(){let{matches:t}=e.useContext(K),n=t[t.length-1];return n?n.params:{}}(),[n,r]=(0,e.useState)(null),[i,o]=(0,e.useState)(null),[s,a]=(0,e.useState)(!0),[c,l]=(0,e.useState)([]),[u,h]=(0,e.useState)(!1),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(!1),m=async()=>{try{const e=Ep(Mg,"clients",t),n=await kg(e);if(n.exists()){const e=n.data(),i=ug(Tp(Mg,"cases"),dg("client_id","==",t)),o=await Tg(i),s=[];o.forEach((e=>{s.push({id:e.id,...e.data()})})),r({...e,cases:s})}else console.log("Client not found!")}catch(Lv){console.error("Error fetching client or cases:",Lv)}finally{a(!1)}};(0,e.useEffect)((()=>{m()}),[t]);return s?(0,It.jsx)("p",{children:"Loading..."}):n?(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsxs)("div",{className:"client-info",children:[(0,It.jsx)("img",{src:Xg,alt:"avatar",className:"client-avatar"}),(0,It.jsxs)("div",{className:"client-info-container",children:[(0,It.jsx)("h1",{children:n.clientName}),(0,It.jsxs)("div",{className:"client-info-section",children:[(0,It.jsx)(xt,{}),(0,It.jsx)("p",{children:(e=>{const t=null===e||void 0===e?void 0:e.replace(/\D/g,"");return 10===(null===t||void 0===t?void 0:t.length)?`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:e||"N/A"})(n.phoneNumber)})]}),(0,It.jsxs)("div",{className:"client-info-section",children:[(0,It.jsx)(Ct,{}),(0,It.jsx)("p",{children:n.emailAddress})]})]})]}),(0,It.jsxs)("div",{className:"header",children:[(0,It.jsx)("h3",{children:"Cases"}),(0,It.jsx)("img",{src:qg,alt:"dots",className:"dots"})]}),(0,It.jsxs)("div",{className:"table-container",children:[(0,It.jsxs)("div",{className:"table-header exp",children:[(0,It.jsxs)("div",{className:"exp-spaced",children:[(0,It.jsx)("span",{className:"yellow-bar exp"}),(0,It.jsxs)("h2",{className:"table-title",children:[n.clientName,"'s Cases"]})]}),(0,It.jsx)(Kg,{bg:"white",textColor:"#222222",icon:Tt,text:"Add a case",onClick:()=>h(!0)})]}),(0,It.jsxs)("table",{className:"global-table",children:[(0,It.jsx)("thead",{children:(0,It.jsx)("tr",{children:["Case number","Case name","Case Attorney","Case Type","Case Description","Case Status","Actions"].map((e=>(0,It.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,It.jsx)("tbody",{children:n.cases&&n.cases.length>0?n.cases.map((e=>(console.log("Rendering case item:",e),(0,It.jsxs)("tr",{className:"table-row",children:[(0,It.jsx)("td",{children:e.id}),(0,It.jsx)("td",{children:e.name||e.caseName}),(0,It.jsx)("td",{children:e.lead_attorney||e.leadAttorney}),(0,It.jsx)("td",{children:e.type||e.caseType}),(0,It.jsx)("td",{children:e.case_desc||e.caseDesc||"N/A"}),(0,It.jsx)("td",{children:e.status||"N/A"}),(0,It.jsxs)("td",{children:[(0,It.jsx)(kt,{className:"icon edit-icon",onClick:()=>{return t=e.id,o(t),void f(!0);var t}}),(0,It.jsx)(Et,{className:"icon delete-icon",onClick:()=>{return t=e.id,o(t),void g(!0);var t}})]})]},e.id)))):(0,It.jsx)("tr",{children:(0,It.jsx)("td",{colSpan:"7",children:"No case data available..."})})})]})]})]}),u&&(0,It.jsx)(Qg,{closeModal:()=>{h(!1),m()},clientId:t}),d&&(0,It.jsx)(Gg,{closeModal:()=>{f(!1),m()},caseId:i}),p&&(0,It.jsx)(Yg,{closeModal:()=>{g(!1),m()},caseId:i})]}):(0,It.jsx)("p",{children:"Client not found."})};const Zg=function(t){let{closeModal:n,refreshExpenses:r}=t;const[i,o]=(0,e.useState)({date:"",item:"",amount:"",category:"",merchant:""}),[s,a]=(0,e.useState)([]),c=e=>{const{name:t,value:n}=e.target;o({...i,[t]:n})};return(0,e.useEffect)((()=>{(async()=>{try{const e=Tp(Mg,"categories"),t=(await Tg(e)).docs.map((e=>({id:e.id,...e.data()})));a(t)}catch(Lv){console.error("Error fetching categories: ",Lv)}})()}),[]),(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Add an Expense"}),(0,It.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Tp(Mg,"expenses");await Pg(e,{...i,date:new Date(i.date).toISOString().split("T")[0]}),console.log("Expense added successfully"),n()}catch(Lv){console.error("Error adding document: ",Lv)}},children:[(0,It.jsxs)("label",{className:"label",children:["Transaction Date:",(0,It.jsx)("input",{className:"field",type:"date",name:"date",value:i.date,onChange:c,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Item Name:",(0,It.jsx)("input",{className:"field",type:"text",name:"item",value:i.item,onChange:c,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Amount:",(0,It.jsx)("input",{className:"field",type:"number",name:"amount",value:i.amount,onChange:c,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Merchant:",(0,It.jsx)("input",{className:"field",type:"text",name:"merchant",value:i.merchant,onChange:c,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Category:",(0,It.jsxs)("select",{className:"field",name:"category",value:i.category,onChange:c,required:!0,children:[(0,It.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),s.map((e=>(0,It.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,It.jsx)("button",{type:"submit",className:"modal-button save",children:"Add Expense"})]}),(0,It.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})]})})};const $g=function(t){let{closeModal:n,expenseId:r,refreshExpenses:i}=t;const[o,s]=(0,e.useState)({date:"",item:"",amount:"",category:"",merchant:""}),[a,c]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=Ep(Mg,"expenses",r),t=await kg(e);t.exists()?s(t.data()):console.error("No such expense found!")}catch(Lv){console.error("Error fetching expense: ",Lv)}})()}),[r]),(0,e.useEffect)((()=>{(async()=>{try{const e=Tp(Mg,"categories"),t=(await Tg(e)).docs.map((e=>({id:e.id,name:e.data().name||"Unnamed Category"})));c(t)}catch(Lv){console.error("Error fetching categories: ",Lv)}})()}),[]);const l=e=>{const{name:t,value:n}=e.target;s({...o,[t]:n})};return(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Edit Expense"}),(0,It.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ep(Mg,"expenses",r);await _g(e,o),console.log("Expense updated successfully"),n(),i&&i()}catch(Lv){console.error("Error updating document: ",Lv)}},children:[(0,It.jsxs)("label",{className:"label",children:["Transaction Date:",(0,It.jsx)("input",{className:"field",type:"date",name:"date",value:o.date,onChange:l,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Item Name:",(0,It.jsx)("input",{className:"field",type:"text",name:"item",value:o.item,onChange:l,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Amount:",(0,It.jsx)("input",{className:"field",type:"number",name:"amount",value:o.amount,onChange:l,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Merchant:",(0,It.jsx)("input",{className:"field",type:"text",name:"merchant",value:o.merchant,onChange:l,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Category:",(0,It.jsxs)("select",{className:"field",name:"category",value:o.category,onChange:l,required:!0,children:[(0,It.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),a.map((e=>(0,It.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,It.jsx)("button",{type:"submit",className:"modal-button save",children:"Save Changes"})]}),(0,It.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})]})})};const em=function(e){let{closeModal:t,expenseId:n,refreshExpenses:r}=e;return(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Delete Expense"}),(0,It.jsx)("p",{children:"Are you sure you want to delete this expense? This action cannot be undone."}),(0,It.jsxs)("div",{className:"button-group",children:[(0,It.jsx)("button",{className:"modal-button del",onClick:async()=>{try{const e=Ep(Mg,"expenses",n);await Ig(e),console.log("Expense deleted successfully"),r&&r(),t()}catch(Lv){console.error("Error deleting expense: ",Lv)}},children:"Confirm Delete"}),(0,It.jsx)("button",{className:"cancel-button",onClick:t,children:"Cancel"})]})]})})};const tm=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[o,s]=(0,e.useState)(!1),[a,c]=(0,e.useState)(null),[l,u]=(0,e.useState)([]),[h,d]=(0,e.useState)(0),f=async()=>{try{const e=Tp(Mg,"expenses"),t=(await Tg(e)).docs.map((e=>{const t=e.data();return{id:e.id,...t,amount:parseFloat(t.amount||0),date:t.date?new Date(t.date).toLocaleDateString():"N/A"}}));u(t);const n=t.reduce(((e,t)=>e+(t.amount||0)),0);d(n)}catch(Lv){console.error("Error fetching expenses: ",Lv)}};return(0,e.useEffect)((()=>{f()}),[]),(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsxs)("div",{className:"header",children:[(0,It.jsx)("h3",{children:"Expense Tracker"}),(0,It.jsx)("img",{src:qg,alt:"dots",className:"dots"})]}),(0,It.jsx)("div",{className:"revexp-totals",children:(0,It.jsxs)("div",{className:"revexp-header",children:[(0,It.jsx)("span",{className:"yellow-bar exp"}),(0,It.jsx)("h2",{className:"revexp-title",children:"Your total expenses"}),(0,It.jsx)("span",{className:"revexp-total",children:(0,It.jsxs)("strong",{children:["$",h.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})})]})}),(0,It.jsx)("div",{className:"expense-buttons",children:(0,It.jsxs)(Bg.CSVLink,{filename:"your-expenses.csv",data:l,className:"buttons",children:[(0,It.jsx)(St,{}),"Export as CSV"]})}),(0,It.jsxs)("div",{className:"table-container",children:[(0,It.jsxs)("div",{className:"table-header exp",children:[(0,It.jsxs)("div",{className:"exp-spaced",children:[(0,It.jsx)("span",{className:"yellow-bar exp"}),(0,It.jsx)("h2",{className:"table-title",children:"My Expenses"})]}),(0,It.jsx)(Kg,{bg:"white",textColor:"#222222",icon:Tt,text:"Add an Expense",onClick:()=>n(!0)})]}),(0,It.jsxs)("table",{className:"global-table",children:[(0,It.jsx)("thead",{children:(0,It.jsx)("tr",{children:["Item","Transaction date","Amount","Category","Merchant","Actions"].map((e=>(0,It.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,It.jsx)("tbody",{children:l.length>0?l.map((e=>(0,It.jsxs)("tr",{className:"table-row",children:[(0,It.jsx)("td",{children:e.item||"N/A"}),(0,It.jsx)("td",{children:e.date}),(0,It.jsxs)("td",{children:["$",e.amount.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")]}),(0,It.jsx)("td",{children:e.category||"N/A"}),(0,It.jsx)("td",{children:e.merchant||"N/A"}),(0,It.jsxs)("td",{children:[(0,It.jsx)(kt,{className:"icon edit-icon",onClick:()=>{return t=e.id,c(t),void i(!0);var t}}),(0,It.jsx)(Et,{className:"icon delete-icon",onClick:()=>{return t=e.id,c(t),void s(!0);var t}})]})]},e.id))):(0,It.jsx)("tr",{children:(0,It.jsx)("td",{colSpan:"6",children:"No expense data available..."})})})]})]})]}),t&&(0,It.jsx)(Zg,{closeModal:()=>{n(!1),f()}}),r&&(0,It.jsx)($g,{closeModal:()=>{i(!1),f()},expenseId:a}),o&&(0,It.jsx)(em,{closeModal:()=>{s(!1),f()},expenseId:a})]})};const nm=function(t){let{closeModal:n}=t;const[r,i]=(0,e.useState)({date:"",source:"",amount:"",note:""}),o=e=>{const{name:t,value:n}=e.target;i({...r,[t]:n})};return(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Add an Revenue"}),(0,It.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Tp(Mg,"revenue");await Pg(e,{...r,date:ja.fromDate(new Date(r.date)),amount:parseFloat(r.amount)}),console.log("Revenue added successfully"),n()}catch(Lv){console.error("Error adding document: ",Lv)}},children:[(0,It.jsxs)("label",{className:"label",children:["Transaction Date:",(0,It.jsx)("input",{className:"field",type:"date",name:"date",value:r.date,onChange:o,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Source:",(0,It.jsx)("input",{className:"field",type:"text",name:"source",value:r.source,onChange:o,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Amount:",(0,It.jsx)("input",{className:"field",type:"number",name:"amount",value:r.amount,onChange:o,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Note:",(0,It.jsx)("input",{className:"field",type:"text",name:"note",value:r.note,onChange:o,required:!0})]}),(0,It.jsx)("button",{type:"submit",className:"modal-button save",children:"Add Revenue"})]}),(0,It.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})]})})};const rm=function(t){let{closeModal:n,revenueId:r}=t;const[i,o]=(0,e.useState)({date:"",source:"",amount:"",note:""});(0,e.useEffect)((()=>{(async()=>{try{const e=Ep(Mg,"revenue",r),t=await kg(e);if(t.exists()){const e=t.data();o({...e,amount:parseFloat(e.amount).toFixed(2),date:e.date?new Date(e.date).toISOString().split("T")[0]:""})}else console.error("No such revenue found!")}catch(Lv){console.error("Error fetching revenue: ",Lv)}})()}),[r]);const s=e=>{const{name:t,value:n}=e.target;o({...i,[t]:n})};return(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Edit Revenue"}),(0,It.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ep(Mg,"revenue",r);await _g(e,{...i,amount:parseFloat(i.amount)}),console.log("Revenue updated successfully"),n()}catch(Lv){console.error("Error updating document: ",Lv)}},children:[(0,It.jsxs)("label",{className:"label",children:["Transaction Date:",(0,It.jsx)("input",{className:"field",type:"date",name:"date",value:i.date,onChange:s,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Source:",(0,It.jsx)("input",{className:"field",type:"text",name:"source",value:i.source,onChange:s,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Amount:",(0,It.jsx)("input",{className:"field",type:"number",name:"amount",value:i.amount,onChange:s,required:!0})]}),(0,It.jsxs)("label",{className:"label",children:["Note:",(0,It.jsx)("input",{className:"field",type:"text",name:"note",value:i.note,onChange:s,required:!0})]}),(0,It.jsx)("button",{type:"submit",className:"modal-button save",children:"Save Changes"})]}),(0,It.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})]})})};const im=function(e){let{closeModal:t,revenueId:n,refreshRevenue:r}=e;return(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Delete Revenue"}),(0,It.jsx)("p",{children:"Are you sure you want to delete this revenue? This action cannot be undone."}),(0,It.jsxs)("div",{className:"button-group",children:[(0,It.jsx)("button",{className:"modal-button del",onClick:async()=>{try{const e=Ep(Mg,"revenue",n);await Ig(e),console.log("Revenue deleted successfully"),r&&r(),t()}catch(Lv){console.error("Error deleting revenue: ",Lv)}},children:"Confirm Delete"}),(0,It.jsx)("button",{className:"cancel-button",onClick:t,children:"Cancel"})]})]})})};const om=function(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(0),[o,s]=(0,e.useState)(!1),[a,c]=(0,e.useState)(!1),[l,u]=(0,e.useState)(!1),[h,d]=(0,e.useState)(null),f=e=>{if(!e)return"N/A";try{return"function"===typeof e.toDate?e.toDate().toLocaleDateString():new Date(e).toLocaleDateString()}catch{return"N/A"}},p=async()=>{try{const e=Tp(Mg,"revenue"),t=(await Tg(e)).docs.map((e=>{const t=e.data();return{id:e.id,...t,amount:parseFloat(t.amount),date:f(t.date)}}));n(t);const r=t.reduce(((e,t)=>e+(t.amount||0)),0);i(r)}catch(Lv){console.error("Error fetching revenue data: ",Lv)}};return(0,e.useEffect)((()=>{p()}),[]),(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsxs)("div",{className:"header",children:[(0,It.jsx)("h3",{children:"Revenue Tracker"}),(0,It.jsx)("img",{src:qg,alt:"dots",className:"dots"})]}),(0,It.jsx)("div",{className:"revexp-totals",children:(0,It.jsxs)("div",{className:"revexp-header",children:[(0,It.jsx)("span",{className:"yellow-bar rev"}),(0,It.jsx)("h2",{className:"revexp-title",children:"Your total revenue"}),(0,It.jsx)("span",{className:"revexp-total",children:(0,It.jsxs)("strong",{children:["$",r.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})})]})}),(0,It.jsxs)("div",{className:"table-container",children:[(0,It.jsxs)("div",{className:"table-header rev",children:[(0,It.jsxs)("div",{className:"rev-spaced",children:[(0,It.jsx)("span",{className:"yellow-bar rev"}),(0,It.jsx)("h2",{className:"table-title",children:"My Revenue"})]}),(0,It.jsx)(Kg,{bg:"white",textColor:"#222222",icon:Tt,text:"Add a Revenue",onClick:()=>s(!0)})]}),(0,It.jsxs)("table",{className:"global-table",children:[(0,It.jsx)("thead",{children:(0,It.jsx)("tr",{children:["Source","Transaction date","Amount","Note","Actions"].map((e=>(0,It.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,It.jsx)("tbody",{children:t.length>0?t.map((e=>(0,It.jsxs)("tr",{className:"table-row",children:[(0,It.jsx)("td",{children:e.source||"N/A"}),(0,It.jsx)("td",{children:e.date}),(0,It.jsxs)("td",{children:["$",e.amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),(0,It.jsx)("td",{children:e.note||"N/A"}),(0,It.jsxs)("td",{children:[(0,It.jsx)(kt,{className:"icon edit-icon",onClick:()=>{return t=e.id,d(t),void c(!0);var t}}),(0,It.jsx)(Et,{className:"icon delete-icon",onClick:()=>{return t=e.id,d(t),void u(!0);var t}})]})]},e.id))):(0,It.jsx)("tr",{children:(0,It.jsx)("td",{colSpan:"5",children:"No revenue data available..."})})})]})]}),o&&(0,It.jsx)(nm,{closeModal:()=>{s(!1),p()}}),a&&(0,It.jsx)(rm,{closeModal:()=>{c(!1),p()},revenueId:h}),l&&(0,It.jsx)(im,{closeModal:()=>{u(!1),p()},revenueId:h})]})]})},sm="firebasestorage.googleapis.com",am="storageBucket";class cm extends Xt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(hm(e),`Firebase Storage: ${t} (${hm(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cm.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var lm,um;function hm(e){return"storage/"+e}function dm(){return new cm(lm.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function fm(){return new cm(lm.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pm(){return new cm(lm.CANCELED,"User canceled the upload/download.")}function gm(){return new cm(lm.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mm(e){return new cm(lm.INVALID_ARGUMENT,e)}function ym(){return new cm(lm.APP_DELETED,"The Firebase app was deleted.")}function vm(e,t){return new cm(lm.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function bm(e){throw new cm(lm.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(lm||(lm={}));class wm{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=wm.makeFromUrl(e,t)}catch(aj){return new wm(e,"")}if(""===n.path)return n;throw r=e,new cm(lm.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===sm?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new wm(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new cm(lm.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Cm{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Sm(e){return"string"===typeof e||e instanceof String}function Am(e){return km()&&e instanceof Blob}function km(){return"undefined"!==typeof Blob}function xm(e,t,n,r){if(r<t)throw mm(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw mm(`Invalid value for '${e}'. Expected ${n} or less.`)}function Tm(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Em(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function _m(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(um||(um={}));class Im{constructor(e,t,n,r,i,o,s,a,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Pm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===um.NO_ERROR,i=n.getStatus();if(!t||_m(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===um.ABORT;return void e(!1,new Pm(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Pm(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(aj){r(aj)}else if(null!==i){const e=dm();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?ym():pm())}else{r(fm())}};this.canceled_?t(0,new Pm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||s)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function g(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Pm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Rm(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Nm(){const e=Rm();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(km())return new Blob(n);throw new cm(lm.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Om(e){if("undefined"===typeof atob)throw t="base-64",new cm(lm.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Fm="raw",Mm="base64",Dm="base64url",Lm="data_url";class jm{constructor(e,t){this.data=e,this.contentType=t||null}}function Um(e,t){switch(e){case Fm:return new jm(Bm(t));case Mm:case Dm:return new jm(qm(e,t));case Lm:return new jm(function(e){const t=new zm(e);return t.base64?qm(Mm,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(aj){throw vm(Lm,"Malformed data URL.")}return Bm(t)}(t.rest)}(t),new zm(t).contentType)}throw dm()}function Bm(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function qm(e,t){switch(e){case Mm:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw vm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Dm:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw vm(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Om(t)}catch(aj){if(aj.message.includes("polyfill"))throw aj;throw vm(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zm{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw vm(Lm,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Vm{constructor(e,t){let n=0,r="";Am(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Am(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Vm(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Vm(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(km()){const e=t.map((e=>e instanceof Vm?e.data_:e));return new Vm(Nm.apply(null,e))}{const e=t.map((e=>Sm(e)?Um(Fm,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Vm(r,!0)}}uploadData(){return this.data_}}function Hm(e){let t;try{t=JSON.parse(e)}catch(aj){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Wm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Km(e,t){return t}class Gm{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Km}}let Xm=null;function Ym(){if(Xm)return Xm;const e=[];e.push(new Gm("bucket")),e.push(new Gm("generation")),e.push(new Gm("metageneration")),e.push(new Gm("name","fullPath",!0));const t=new Gm("name");t.xform=function(e,t){return function(e){return!Sm(e)||e.length<2?e:Wm(e)}(t)},e.push(t);const n=new Gm("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Gm("timeCreated")),e.push(new Gm("updated")),e.push(new Gm("md5Hash",null,!0)),e.push(new Gm("cacheControl",null,!0)),e.push(new Gm("contentDisposition",null,!0)),e.push(new Gm("contentEncoding",null,!0)),e.push(new Gm("contentLanguage",null,!0)),e.push(new Gm("contentType",null,!0)),e.push(new Gm("metadata","customMetadata",!0)),Xm=e,Xm}function Qm(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new wm(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Jm(e,t,n){const r=Hm(t);if(null===r)return null;return Qm(e,r,n)}function Zm(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const $m="prefixes",ey="items";function ty(e,t,n){const r=Hm(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$m])for(const i of n[$m]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new wm(t,n));r.prefixes.push(o)}if(n[ey])for(const i of n[ey]){const n=e._makeStorageReference(new wm(t,i.name));r.items.push(n)}return r}(e,t,r)}class ny{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ry(e){if(!e)throw dm()}function iy(e,t){return function(n,r){const i=Jm(e,r,t);return ry(null!==i),i}}function oy(e,t){return function(n,r){const i=Jm(e,r,t);return ry(null!==i),function(e,t,n,r){const i=Hm(t);if(null===i)return null;if(!Sm(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Tm("/b/"+s(i)+"/o/"+s(o),n,r)+Em({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function sy(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new cm(lm.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new cm(lm.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new cm(lm.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new cm(lm.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ay(e){const t=sy(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new cm(lm.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function cy(e,t,n){const r=Tm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ny(r,"GET",iy(e,n),i);return o.errorHandler=ay(t),o}function ly(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=Tm(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new ny(s,"GET",function(e,t){return function(n,r){const i=ty(e,t,r);return ry(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=sy(t),c}function uy(e,t,n){const r=Tm(t.fullServerUrl(),e.host,e._protocol)+"?alt=media",i=e.maxOperationRetryTime,o=new ny(r,"GET",((e,t)=>t),i);return o.errorHandler=ay(t),void 0!==n&&(o.headers.Range=`bytes=0-${n}`,o.successCodes=[200,206]),o}function hy(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function dy(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=hy(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Zm(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Vm.getBlob(l,r,u);if(null===h)throw gm();const d={name:c.fullPath},f=Tm(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new ny(f,"POST",iy(e,n),p);return g.urlParams=d,g.headers=s,g.body=h.uploadData(),g.errorHandler=sy(t),g}class fy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=um.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=um.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=um.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw bm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(aj){return-1}}getResponse(){if(!this.sent_)throw bm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class py extends fy{initXhr(){this.xhr_.responseType="text"}}function gy(){return new py}class my extends fy{initXhr(){this.xhr_.responseType="arraybuffer"}}function yy(){return new my}class vy{constructor(e,t){this._service=e,this._location=t instanceof wm?t:wm.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vy(e,t)}get root(){const e=new wm(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new wm(this._location.bucket,e);return new vy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new cm(lm.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function by(e,t,n){e._throwIfRoot("uploadBytes");const r=dy(e.storage,e._location,Ym(),new Vm(t,!0),n);return e.storage.makeRequestWithTokens(r,gy).then((t=>({metadata:t,ref:e})))}function wy(e){const t={prefixes:[],items:[]};return Cy(e,t).then((()=>t))}async function Cy(e,t,n){const r={pageToken:n},i=await Sy(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await Cy(e,t,i.nextPageToken)}function Sy(e,t){null!=t&&"number"===typeof t.maxResults&&xm("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=ly(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,gy)}function Ay(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Tm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ny(r,"GET",oy(e,n),i);return o.errorHandler=ay(t),o}(e.storage,e._location,Ym());return e.storage.makeRequestWithTokens(t,gy).then((e=>{if(null===e)throw new cm(lm.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function ky(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Tm(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ny(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ay(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,gy)}function xy(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new wm(e._location.bucket,n);return new vy(e.storage,r)}function Ty(e,t){if(e instanceof Iy){const n=e;if(null==n._bucket)throw new cm(lm.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+am+"' property when initializing the app?");const r=new vy(n,n._bucket);return null!=t?Ty(r,t):r}return void 0!==t?xy(e,t):e}function Ey(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Iy)return new vy(e,t);throw mm("To use ref(service, url), the first argument must be a Storage instance.")}return Ty(e,t)}function _y(e,t){const n=null===t||void 0===t?void 0:t[am];return null==n?null:wm.makeFromBucketSpec(n,e)}class Iy{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=sm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?wm.makeFromBucketSpec(r,this._host):_y(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=wm.makeFromBucketSpec(this._url,e):this._bucket=_y(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vy(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Cm(ym());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Em(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Im(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Py="@firebase/storage",Ry="0.13.2",Ny="storage";function Oy(e,t){return function(e,t){e._throwIfRoot("getBytes");const n=uy(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,yy).then((e=>void 0!==t?e.slice(0,t):e))}(e=on(e),t)}function Fy(e){return function(e){e._throwIfRoot("getMetadata");const t=cy(e.storage,e._location,Ym());return e.storage.makeRequestWithTokens(t,gy)}(e=on(e))}function My(e){return wy(e=on(e))}function Dy(e){return Ay(e=on(e))}function Ly(e,t){return Ey(e=on(e),t)}function jy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr(),t=arguments.length>1?arguments[1]:void 0;e=on(e);const n=mr(e,Ny).getImmediate({identifier:t}),r=Bt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ht(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Uy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Iy(r,i,o,n,wr)}gr(new sn(Ny,Uy,"PUBLIC").setMultipleInstances(!0)),Ar(Py,Ry,""),Ar(Py,Ry,"esm2017");var By=__webpack_require__(749);By.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${By.version}/pdf.worker.min.js`;const qy=function(t){let{closeModal:n,pdfID:r,refreshUploadPDF:i}=t;const[o,s]=(0,e.useState)(null),[a,c]=(0,e.useState)(null),[l,u]=(0,e.useState)(!1),[h,d]=(0,e.useState)(null),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)(!1),y=jy(),[v,b]=(0,e.useState)(0),[w,C]=(0,e.useState)(""),S=async e=>{try{console.log("Starting Firebase upload for file:",{name:e.name,size:e.size,type:e.type});const t=async e=>{const t=Ly(y,"pdfs");try{const n=(await My(t)).items.map((e=>e.name));if(!n.includes(e))return e;const r=e.lastIndexOf("."),i=e.substring(0,r),o=e.substring(r);let s=0;const a=new RegExp(`^${i} \\((\\d+)\\)${o}$`);return n.forEach((e=>{const t=e.match(a);if(t){const e=parseInt(t[1]);s=Math.max(s,e)}})),`${i} (${s+1})${o}`}catch(h){return console.error("Error checking existing files:",h),`${Date.now()}-${e}`}},n=await t(e.name),r=Ly(y,`pdfs/${n}`);console.log("Created storage reference:",{path:`pdfs/${n}`,fullPath:r.fullPath});const i=new File([e],n,{type:e.type});console.log("Uploading file to Firebase...");const o=await function(e,t,n){return by(e=on(e),t,n)}(r,i);console.log("File uploaded to Firebase successfully:",{ref:o.ref.fullPath,metadata:o.metadata}),console.log("Getting download URL...");const s=await Dy(o.ref);return console.log("Download URL obtained:",s),{downloadURL:s,uniqueFileName:n,fileWithUniqueName:i}}catch(h){throw console.error("Error uploading to Firebase:",{code:h.code,message:h.message,stack:h.stack}),new Error(`Failed to upload to Firebase: ${h.message}`)}},A=async e=>{try{const t=await e.arrayBuffer();try{const e=await By.getDocument(t).promise;if(e._pdfInfo&&e._pdfInfo.acroForm)return C("AcroForm/Regular PDF"),await async function(e){const t=[];if(e&&e._pdfInfo&&e._pdfInfo.acroForm)if("function"===typeof e.getFieldObjects){const n=await e.getFieldObjects();for(const[r,i]of Object.entries(n)){const n=i[0];let o=n.alternativeText||n.fieldName||r,s=void 0!==n.pageIndex?n.pageIndex+1:1,a=n.rect||null;if(a&&e.getPage)try{const t=await e.getPage(s),n=await t.getTextContent();let r=1/0,i=o;n.items.forEach((e=>{const t=(a[0]+a[2])/2,n=(a[1]+a[3])/2,o=t-e.transform[4],s=n-e.transform[5],c=Math.sqrt(o*o+s*s);c<r&&c<60&&(r=c,i=e.str)})),o=i}catch(aj){}t.push({id:r,label:o,type:n.fieldType||"text",value:"",required:!1})}}else if(e._pdfInfo.acroForm.fields)for(const n of e._pdfInfo.acroForm.fields)t.push({id:n.T||n.FT||Math.random().toString(36).substr(2,9),label:n.T||"Field",type:n.FT||"text",value:"",required:!1});return t}(e);C("Plain PDF (no AcroForm)");const n=[];for(let t=1;t<=e.numPages;t++){const r=await e.getPage(t),i=await r.getTextContent();r.getViewport({scale:1});i.items.forEach(((e,r)=>{const i=e.str.toLowerCase();if(i.includes(":")||i.includes("?")||i.includes("(")){const o={x:e.transform[4],y:e.transform[5],width:150,height:20,page:t};let s="text";i.includes("date")&&(s="date"),i.includes("email")&&(s="email"),i.includes("phone")&&(s="tel"),(i.includes("amount")||i.includes("$"))&&(s="number"),i.includes("signature")&&(s="signature"),(i.includes("check")||i.includes("box"))&&(s="checkbox"),n.push({id:`field_${t}_${r}`,label:e.str,type:s,position:o,value:"",required:!1})}}))}return n}catch(h){if("PasswordException"===h.name)throw m(!0),new Error("Password required");throw h}}catch(h){if(console.error("PDF Parsing Error:",h),"Password required"===h.message)throw h;throw new Error("Error parsing PDF: "+h.message)}};return(0,It.jsx)("div",{className:"upload-pdf-container",children:g?(0,It.jsx)("div",{className:"password-modal",children:(0,It.jsxs)("div",{className:"password-modal-content",children:[(0,It.jsx)("h3",{children:"Password Protected PDF"}),(0,It.jsx)("p",{children:"This PDF file is password protected. Please enter the password to continue."}),(0,It.jsx)("input",{type:"password",value:f,onChange:e=>p(e.target.value),placeholder:"Enter PDF password",disabled:l,style:{width:"100%",marginBottom:"10px"},"data-form-type":"other"}),h&&(0,It.jsx)("div",{className:"error-message",style:{color:"red",marginTop:"10px"},children:h}),l&&(0,It.jsxs)("div",{className:"upload-progress",children:[(0,It.jsx)("div",{className:"progress-bar",children:(0,It.jsx)("div",{className:"progress-fill",style:{width:`${v}%`}})}),(0,It.jsxs)("div",{className:"progress-text",children:[v<25?"Verifying password...":v<50?"Uploading to Firebase...":v<90?"Uploading to server...":v<100?"Finalizing...":"Complete!"," ",v,"%"]})]}),(0,It.jsxs)("div",{className:"password-modal-buttons",children:[(0,It.jsx)("button",{onClick:async()=>{if(f){if(!l){u(!0),d(null);try{console.log("=== CLIENT: Starting Upload Process with Password ===");const e=await o.arrayBuffer(),t=await By.getDocument({data:e,password:f}).promise,r=[];for(let n=1;n<=t.numPages;n++){const e=await t.getPage(n),i=await e.getTextContent();e.getViewport({scale:1});i.items.forEach(((e,t)=>{const i=e.str.toLowerCase();if(i.includes(":")||i.includes("?")||i.includes("(")){const o={x:e.transform[4],y:e.transform[5],width:150,height:20,page:n};let s="text";i.includes("date")&&(s="date"),i.includes("email")&&(s="email"),i.includes("phone")&&(s="tel"),(i.includes("amount")||i.includes("$"))&&(s="number"),i.includes("signature")&&(s="signature"),(i.includes("check")||i.includes("box"))&&(s="checkbox"),r.push({id:`field_${n}_${t}`,label:e.str,type:s,position:o,value:"",required:!1})}}))}b(25);const{downloadURL:s,uniqueFileName:a,fileWithUniqueName:c}=await S(o);b(50);const l=new FormData;l.append("pdf",c),l.append("formFields",JSON.stringify(r)),l.append("isPasswordProtected","true"),l.append("password",f),l.append("uniqueFileName",a);const u=await fetch("https://expenser-server-829602228195.us-central1.run.app/upload-pdf",{method:"POST",body:l,mode:"cors",credentials:"include",headers:{Accept:"application/json"}});if(!u.ok){const e=await u.json().catch((()=>({})));throw new Error(e.message||"Server upload failed")}b(90),i&&(console.log("=== CLIENT: Refreshing PDF List ==="),await i()),b(100),console.log("=== CLIENT: Upload Complete ==="),m(!1),setTimeout((()=>{n()}),500)}catch(h){console.error("=== CLIENT ERROR: Password Upload Process ===",h),"PasswordException"===h.name?(d("Incorrect password. Please try again."),p("")):d(h.message||"Something went wrong")}finally{u(!1)}}}else d("Please enter a password")},disabled:l||!f,children:l?"Processing...":"Submit"}),(0,It.jsx)("button",{onClick:()=>{m(!1),p(""),d(null)},disabled:l,children:"Cancel"})]})]})}):(0,It.jsxs)("div",{className:"upload-pdf-content",children:[(0,It.jsx)("h2",{children:"Upload PDF"}),(0,It.jsxs)("div",{className:"file-input-container",children:[(0,It.jsx)("button",{onClick:async()=>{try{const e=document.createElement("input");e.type="file",e.accept="application/pdf",e.onchange=async e=>{const t=e.target.files[0];if(t){if(!t.type.includes("pdf"))return void d("Please select a valid PDF file");s(t),d(null)}},e.click()}catch(h){console.error("Error in file selection:",h),d("Error selecting file")}},className:"browse-button",children:"Browse PDF"}),o&&(0,It.jsxs)("div",{className:"selected-file",children:["Selected: ",o.name]})]}),h&&(0,It.jsx)("div",{className:"error-message",children:h}),l&&(0,It.jsxs)("div",{className:"upload-progress",children:[(0,It.jsx)("div",{className:"progress-bar",children:(0,It.jsx)("div",{className:"progress-fill",style:{width:`${v}%`}})}),(0,It.jsxs)("div",{className:"progress-text",children:[v<25?"Parsing PDF...":v<50?"Uploading to Firebase...":v<90?"Uploading to server...":v<100?"Finalizing...":"Complete!"," ",v,"%"]})]}),w&&(0,It.jsxs)("div",{className:"pdf-type-info",style:{marginBottom:"10px",color:"#888"},children:["Detected PDF Type: ",(0,It.jsx)("b",{children:w})]}),(0,It.jsxs)("div",{className:"button-container",children:[(0,It.jsx)("button",{onClick:async()=>{if(o)if(o.type.includes("pdf")){u(!0),d(null),b(0);try{let e;console.log("=== CLIENT: Starting Upload Process ==="),console.log("=== CLIENT: Parsing PDF ===");try{e=await A(o),b(25)}catch(h){if("Password required"===h.message)return void u(!1);throw h}const{downloadURL:t,uniqueFileName:r,fileWithUniqueName:s}=await S(o);b(50);const a=new FormData;a.append("pdf",s),a.append("formFields",JSON.stringify(e)),a.append("isPasswordProtected","false"),a.append("password",""),a.append("uniqueFileName",r);const c=await fetch("https://expenser-server-829602228195.us-central1.run.app/upload-pdf",{method:"POST",body:a,mode:"cors",credentials:"include",headers:{Accept:"application/json"}});if(!c.ok){const e=await c.json().catch((()=>({})));throw new Error(e.message||"Server upload failed")}b(90),i&&(console.log("=== CLIENT: Refreshing PDF List ==="),await i()),b(100),console.log("=== CLIENT: Upload Complete ==="),setTimeout((()=>{n()}),500)}catch(h){console.error("=== CLIENT ERROR: Upload Process ===",h),d(h.message||"Something went wrong")}finally{u(!1)}}else d("Please select a valid PDF file");else d("Please select a PDF file first")},disabled:!o||l,className:"upload-button",children:l?"Uploading...":"Upload PDF"}),(0,It.jsx)("button",{onClick:n,className:"cancel-button",children:"Cancel"})]})]})})};var zy=function(e,t){return zy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},zy(e,t)};function Vy(e,t){function n(){this.constructor=e}zy(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Hy=function(){return Hy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hy.apply(this,arguments)};function Wy(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(aj){o(aj)}}function a(e){try{c(r.throw(e))}catch(aj){o(aj)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function Ky(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(aj){o=[6,aj],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Gy(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}for(var Xy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yy=new Uint8Array(256),Qy=0;Qy<64;Qy++)Yy[Xy.charCodeAt(Qy)]=Qy;var Jy,Zy=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new Uint8Array(s);for(t=0;t<a;t+=4)n=Yy[e.charCodeAt(t)],r=Yy[e.charCodeAt(t+1)],i=Yy[e.charCodeAt(t+2)],o=Yy[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return l},$y=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,ev=function(e){return e.charCodeAt(0)},tv=function(e,t){return iv(e.toString(16),t,"0").toUpperCase()},nv=function(e){return tv(e,2)},rv=function(e){return String.fromCharCode(e)},iv=function(e,t,n){for(var r="",i=0,o=t-e.length;i<o;i++)r+=n;return r+e},ov=function(e,t,n){for(var r=e.length,i=0;i<r;i++)t[n++]=e.charCodeAt(i);return r},sv=function(e){return e.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},av=["\\n","\\f","\\r","\\u000B"],cv=function(e){return/^[\n\f\r\u000B]$/.test(e)},lv=function(e){return e.split(/[\n\f\r\u000B]/)},uv=function(e){return e.replace(/[\n\f\r\u000B]/g," ")},hv=function(e,t){var n,r=e.charCodeAt(t),i=t+1,o=1;return r>=55296&&r<=56319&&e.length>i&&(n=e.charCodeAt(i))>=56320&&n<=57343&&(o=2),[e.slice(t,t+o),o]},dv=function(e,t,n,r){for(var i=function(e){for(var t=av.join("|"),n=["$"],r=0,i=e.length;r<i;r++){var o=e[r];if(cv(o))throw new TypeError("`wordBreak` must not include "+t);n.push(""===o?".":o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}var s=n.join("|");return new RegExp("("+t+")|((.*?)("+s+"))","gm")}(t),o=sv(e).match(i),s="",a=0,c=[],l=function(){""!==s&&c.push(s),s="",a=0},u=0,h=o.length;u<h;u++){var d=o[u];if(cv(d))l();else{var f=r(d);a+f>n&&l(),s+=d,a+=f}}return l(),c},fv=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,pv=function(e){var t=e.match(fv);if(t){var n=t[1],r=t[2],i=void 0===r?"01":r,o=t[3],s=void 0===o?"01":o,a=t[4],c=void 0===a?"00":a,l=t[5],u=void 0===l?"00":l,h=t[6],d=void 0===h?"00":h,f=t[7],p=void 0===f?"Z":f,g=t[8],m=void 0===g?"00":g,y=t[9];return new Date(n+"-"+i+"-"+s+"T"+c+":"+u+":"+d+("Z"===p?"Z":""+p+m+":"+(void 0===y?"00":y)))}},gv=function(e,t){for(var n,r,i=0;i<e.length;){var o=e.substring(i).match(t);if(!o)return{match:r,pos:i};r=o,i+=(null!==(n=o.index)&&void 0!==n?n:0)+o[0].length}return{match:r,pos:i}},mv=function(e){return e[e.length-1]},yv=function(e){if(e instanceof Uint8Array)return e;for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},vv=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,r=[],i=0;i<n;i++){var o=e[i];r[i]=o instanceof Uint8Array?o:yv(o)}var s=0;for(i=0;i<n;i++)s+=e[i].length;for(var a=new Uint8Array(s),c=0,l=0;l<n;l++)for(var u=r[l],h=0,d=u.length;h<d;h++)a[c++]=u[h];return a},bv=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=rv(e[n]);return t},wv=function(e,t){return e.id-t.id},Cv=function(e){for(var t=e.length,n=0,r=Math.floor(t/2);n<r;n++){var i=n,o=t-n-1,s=e[n];e[i]=e[o],e[o]=s}return e},Sv=function(e){if("string"===typeof e)return function(e){var t=e.trim(),n=t.substring(0,100).match($y);if(!n)return Zy(t);var r=n[0],i=t.substring(r.length);return Zy(i)}(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},Av=function(){return new Promise((function(e){setTimeout((function(){return e()}),0)}))},kv=function(e){return Math.floor((e-65536)/1024)+55296},xv=function(e){return(e-65536)%1024+56320};!function(e){e.BigEndian="BigEndian",e.LittleEndian="LittleEndian"}(Jy||(Jy={}));for(var Tv="\ufffd".codePointAt(0),Ev=function(e,t){if(void 0===t&&(t=!0),e.length<=1)return String.fromCodePoint(Tv);for(var n=t?Rv(e):Jy.BigEndian,r=t?2:0,i=[];e.length-r>=2;){var o=Pv(e[r++],e[r++],n);if(_v(o))if(e.length-r<2)i.push(Tv);else{var s=Pv(e[r++],e[r++],n);Iv(s)?i.push(o,s):i.push(Tv)}else Iv(o)?(r+=2,i.push(Tv)):i.push(o)}return r<e.length&&i.push(Tv),String.fromCodePoint.apply(String,i)},_v=function(e){return e>=55296&&e<=56319},Iv=function(e){return e>=56320&&e<=57343},Pv=function(e,t,n){if(n===Jy.LittleEndian)return t<<8|e;if(n===Jy.BigEndian)return e<<8|t;throw new Error("Invalid byteOrder: "+n)},Rv=function(e){return Nv(e)?Jy.BigEndian:Ov(e)?Jy.LittleEndian:Jy.BigEndian},Nv=function(e){return 254===e[0]&&255===e[1]},Ov=function(e){return 255===e[0]&&254===e[1]},Fv=function(e){return Nv(e)||Ov(e)},Mv=function(e){return Math.ceil(e.toString(2).length/8)},Dv=function(e){for(var t=new Uint8Array(Mv(e)),n=1;n<=t.length;n++)t[n-1]=e>>8*(t.length-n);return t},Lv=function(e){throw new Error(e)},jv=__webpack_require__(717),Uv=__webpack_require__.n(jv),Bv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qv=new Uint8Array(256),zv=0;zv<64;zv++)qv[Bv.charCodeAt(zv)]=zv;var Vv=function(e){return function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(Uv().inflate(function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new Uint8Array(s);for(t=0;t<a;t+=4)n=qv[e.charCodeAt(t)],r=qv[e.charCodeAt(t+1)],i=qv[e.charCodeAt(t+2)],o=qv[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return l}(e)))};var Hv,Wv={Courier:"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","Courier-Bold":"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","Courier-Oblique":"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","Courier-BoldOblique":"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",Helvetica:"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","Helvetica-Bold":"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","Helvetica-Oblique":"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","Helvetica-BoldOblique":"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","Times-Roman":"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","Times-Bold":"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","Times-Italic":"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","Times-BoldItalic":"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",Symbol:"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",ZapfDingbats:"eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w=="};!function(e){e.Courier="Courier",e.CourierBold="Courier-Bold",e.CourierOblique="Courier-Oblique",e.CourierBoldOblique="Courier-BoldOblique",e.Helvetica="Helvetica",e.HelveticaBold="Helvetica-Bold",e.HelveticaOblique="Helvetica-Oblique",e.HelveticaBoldOblique="Helvetica-BoldOblique",e.TimesRoman="Times-Roman",e.TimesRomanBold="Times-Bold",e.TimesRomanItalic="Times-Italic",e.TimesRomanBoldItalic="Times-BoldItalic",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats"}(Hv||(Hv={}));var Kv={},Gv=function(){function e(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,n){return(e.KernPairXAmounts[t]||{})[n]}}return e.load=function(t){var n=Kv[t];if(n)return n;var r=Vv(Wv[t]),i=Object.assign(new e,JSON.parse(r));return i.CharWidths=i.CharMetrics.reduce((function(e,t){return e[t.N]=t.WX,e}),{}),i.KernPairXAmounts=i.KernPairs.reduce((function(e,t){var n=t[0],r=t[1],i=t[2];return e[n]||(e[n]={}),e[n][r]=i,e}),{}),Kv[t]=i,i},e}();for(var Xv=Vv("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"),Yv=JSON.parse(Xv),Qv=function(e,t){var n=this;this.canEncodeUnicodeCodePoint=function(e){return e in n.unicodeMappings},this.encodeUnicodeCodePoint=function(e){var t=n.unicodeMappings[e];if(!t){var r=String.fromCharCode(e),i="0x"+function(e,t,n){for(var r="",i=0,o=t-e.length;i<o;i++)r+=n;return r+e}(e.toString(16),4,"0"),o=n.name+' cannot encode "'+r+'" ('+i+")";throw new Error(o)}return{code:t[0],name:t[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort((function(e,t){return e-t})),this.unicodeMappings=t},Jv={Symbol:new Qv("Symbol",Yv.symbol),ZapfDingbats:new Qv("ZapfDingbats",Yv.zapfdingbats),WinAnsi:new Qv("WinAnsi",Yv.win1252)},Zv=function(e){return Object.keys(e).map((function(t){return e[t]}))},$v=Zv(Hv),eb=function(e){return $v.includes(e)},tb=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},nb=function(e){return"`"+e+"`"},rb=function(e){var t=typeof e;return"string"===t?"'"+e+"'":"undefined"===t?nb(e):e},ib=function(e,t,n){Array.isArray(n)||(n=Zv(n));for(var r=0,i=n.length;r<i;r++)if(e===n[r])return;throw new TypeError(function(e,t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var s=n[i];r[i]=rb(s)}var a=r.join(" or ");return nb(t)+" must be one of "+a+", but was actually "+rb(e)}(e,t,n))},ob=function(e,t,n){Array.isArray(n)||(n=Zv(n)),ib(e,t,n.concat(void 0))},sb=function(e,t){return"null"===t?null===e:"undefined"===t?void 0===e:"string"===t?"string"===typeof e:"number"===t?"number"===typeof e&&!isNaN(e):"boolean"===t?"boolean"===typeof e:"symbol"===t?"symbol"===typeof e:"bigint"===t?"bigint"===typeof e:t===Date?e instanceof Date:t===Array?e instanceof Array:t===Uint8Array?e instanceof Uint8Array:t===ArrayBuffer?e instanceof ArrayBuffer:t===Function?e instanceof Function:e instanceof t[0]},ab=function(e,t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var s=n[i];"null"===s&&(r[i]=nb("null")),"undefined"===s&&(r[i]=nb("undefined")),"string"===s?r[i]=nb("string"):"number"===s?r[i]=nb("number"):"boolean"===s?r[i]=nb("boolean"):"symbol"===s?r[i]=nb("symbol"):"bigint"===s?r[i]=nb("bigint"):s===Array?r[i]=nb("Array"):s===Uint8Array?r[i]=nb("Uint8Array"):s===ArrayBuffer?r[i]=nb("ArrayBuffer"):r[i]=nb(s[1])}var a,c=r.join(" or ");return nb(t)+" must be of type "+c+", but was actually of type "+nb(null===(a=e)?"null":void 0===a?"undefined":"string"===typeof a?"string":isNaN(a)?"NaN":"number"===typeof a?"number":"boolean"===typeof a?"boolean":"symbol"===typeof a?"symbol":"bigint"===typeof a?"bigint":a.constructor&&a.constructor.name?a.constructor.name:a.name?a.name:a.constructor?String(a.constructor):String(a))},cb=function(e,t,n){for(var r=0,i=n.length;r<i;r++)if(sb(e,n[r]))return;throw new TypeError(ab(e,t,n))},lb=function(e,t,n){cb(e,t,n.concat("undefined"))},ub=function(e,t,n){for(var r=0,i=e.length;r<i;r++)cb(e[r],t,n)},hb=function(e,t,n,r){if(cb(e,t,["number"]),cb(n,"min",["number"]),cb(r,"max",["number"]),r=Math.max(n,r),e<n||e>r)throw new Error(nb(t)+" must be at least "+n+" and at most "+r+", but was actually "+e)},db=function(e,t,n,r){cb(e,t,["number","undefined"]),"number"===typeof e&&hb(e,t,n,r)},fb=function(e,t,n){if(cb(e,t,["number"]),e%n!==0)throw new Error(nb(t)+" must be a multiple of "+n+", but was actually "+e)},pb=function(e,t){if(![1,0].includes(Math.sign(e)))throw new Error(nb(t)+" must be a positive number or 0, but was actually "+e)},gb=new Uint16Array(256),mb=0;mb<256;mb++)gb[mb]=mb;gb[22]=ev("\x17"),gb[24]=ev("\u02d8"),gb[25]=ev("\u02c7"),gb[26]=ev("\u02c6"),gb[27]=ev("\u02d9"),gb[28]=ev("\u02dd"),gb[29]=ev("\u02db"),gb[30]=ev("\u02da"),gb[31]=ev("\u02dc"),gb[127]=ev("\ufffd"),gb[128]=ev("\u2022"),gb[129]=ev("\u2020"),gb[130]=ev("\u2021"),gb[131]=ev("\u2026"),gb[132]=ev("\u2014"),gb[133]=ev("\u2013"),gb[134]=ev("\u0192"),gb[135]=ev("\u2044"),gb[136]=ev("\u2039"),gb[137]=ev("\u203a"),gb[138]=ev("\u2212"),gb[139]=ev("\u2030"),gb[140]=ev("\u201e"),gb[141]=ev("\u201c"),gb[142]=ev("\u201d"),gb[143]=ev("\u2018"),gb[144]=ev("\u2019"),gb[145]=ev("\u201a"),gb[146]=ev("\u2122"),gb[147]=ev("\ufb01"),gb[148]=ev("\ufb02"),gb[149]=ev("\u0141"),gb[150]=ev("\u0152"),gb[151]=ev("\u0160"),gb[152]=ev("\u0178"),gb[153]=ev("\u017d"),gb[154]=ev("\u0131"),gb[155]=ev("\u0142"),gb[156]=ev("\u0153"),gb[157]=ev("\u0161"),gb[158]=ev("\u017e"),gb[159]=ev("\ufffd"),gb[160]=ev("\u20ac"),gb[173]=ev("\ufffd");var yb=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=gb[e[n]];return String.fromCodePoint.apply(String,t)};const vb=function(){function e(e){this.populate=e,this.value=void 0}return e.prototype.getValue=function(){return this.value},e.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},e.prototype.invalidate=function(){this.value=void 0},e.populatedBy=function(t){return new e(t)},e}();var bb,wb=function(e){function t(t,n){var r="Method "+t+"."+n+"() not implemented";return e.call(this,r)||this}return Vy(t,e),t}(Error),Cb=function(e){function t(t){var n="Cannot construct "+t+" - it has a private constructor";return e.call(this,n)||this}return Vy(t,e),t}(Error),Sb=function(e){function t(t,n){var r=function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:null===(n=null===e||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name},i="Expected instance of "+(Array.isArray(t)?t.map(r):[r(t)]).join(" or ")+", but got instance of "+(n?r(n):n);return e.call(this,i)||this}return Vy(t,e),t}(Error),Ab=function(e){function t(t){var n=t+" stream encoding not supported";return e.call(this,n)||this}return Vy(t,e),t}(Error),kb=function(e){function t(t,n){var r="Cannot call "+t+"."+n+"() more than once";return e.call(this,r)||this}return Vy(t,e),t}(Error),xb=(function(e){function t(t){var n="Missing catalog (ref="+t+")";return e.call(this,n)||this}Vy(t,e)}(Error),function(e){function t(){return e.call(this,"Can't embed page with missing Contents")||this}return Vy(t,e),t}(Error)),Tb=function(e){function t(t){var n,r,i,o="Unrecognized stream type: "+(null!==(i=null!==(r=null===(n=null===t||void 0===t?void 0:t.contructor)||void 0===n?void 0:n.name)&&void 0!==r?r:null===t||void 0===t?void 0:t.name)&&void 0!==i?i:t);return e.call(this,o)||this}return Vy(t,e),t}(Error),Eb=function(e){function t(){return e.call(this,"Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.")||this}return Vy(t,e),t}(Error),_b=function(e){function t(t){var n="Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.";return e.call(this,n)||this}return Vy(t,e),t}(Error),Ib=function(e){function t(t){var n='Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.';return e.call(this,n)||this}return Vy(t,e),t}(Error),Pb=function(e){function t(t,n){var r="Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+n;return e.call(this,r)||this}return Vy(t,e),t}(Error),Rb=function(e){function t(t,n){var r="Failed to "+n+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return e.call(this,r)||this}return Vy(t,e),t}(Error),Nb=function(e){function t(t,n,r){var i="index should be at least "+n+" and at most "+r+", but was actually "+t;return e.call(this,i)||this}return Vy(t,e),t}(Error),Ob=function(e){function t(){return e.call(this,"Attempted to set invalid field value")||this}return Vy(t,e),t}(Error),Fb=function(e){function t(){return e.call(this,"Attempted to select multiple values for single-select field")||this}return Vy(t,e),t}(Error),Mb=function(e){function t(t){var n="No /DA (default appearance) entry found for field: "+t;return e.call(this,n)||this}return Vy(t,e),t}(Error),Db=function(e){function t(t){var n="No Tf operator found for DA of field: "+t;return e.call(this,n)||this}return Vy(t,e),t}(Error),Lb=function(e){function t(t,n){var r="Failed to parse number (line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "'+n+'"';return e.call(this,r)||this}return Vy(t,e),t}(Error),jb=function(e){function t(t,n){var r="Failed to parse PDF document (line:"+t.line+" col:"+t.column+" offset="+t.offset+"): "+n;return e.call(this,r)||this}return Vy(t,e),t}(Error),Ub=function(e){function t(t,n,r){var i="Expected next byte to be "+n+" but it was actually "+r;return e.call(this,t,i)||this}return Vy(t,e),t}(jb),Bb=function(e){function t(t,n){var r="Failed to parse PDF object starting with the following byte: "+n;return e.call(this,t,r)||this}return Vy(t,e),t}(jb),qb=function(e){function t(t){return e.call(this,t,"Failed to parse invalid PDF object")||this}return Vy(t,e),t}(jb),zb=function(e){function t(t){return e.call(this,t,"Failed to parse PDF stream")||this}return Vy(t,e),t}(jb),Vb=function(e){function t(t){return e.call(this,t,"Failed to parse PDF literal string due to unbalanced parenthesis")||this}return Vy(t,e),t}(jb),Hb=function(e){function t(t){return e.call(this,t,"Parser stalled")||this}return Vy(t,e),t}(jb),Wb=function(e){function t(t){return e.call(this,t,"No PDF header found")||this}return Vy(t,e),t}(jb),Kb=function(e){function t(t,n){var r="Did not find expected keyword '"+bv(n)+"'";return e.call(this,t,r)||this}return Vy(t,e),t}(jb);!function(e){e[e.Null=0]="Null",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Newline=10]="Newline",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationPoint=33]="ExclamationPoint",e[e.Hash=35]="Hash",e[e.Percent=37]="Percent",e[e.LeftParen=40]="LeftParen",e[e.RightParen=41]="RightParen",e[e.Plus=43]="Plus",e[e.Minus=45]="Minus",e[e.Dash=45]="Dash",e[e.Period=46]="Period",e[e.ForwardSlash=47]="ForwardSlash",e[e.Zero=48]="Zero",e[e.One=49]="One",e[e.Two=50]="Two",e[e.Three=51]="Three",e[e.Four=52]="Four",e[e.Five=53]="Five",e[e.Six=54]="Six",e[e.Seven=55]="Seven",e[e.Eight=56]="Eight",e[e.Nine=57]="Nine",e[e.LessThan=60]="LessThan",e[e.GreaterThan=62]="GreaterThan",e[e.A=65]="A",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.O=79]="O",e[e.P=80]="P",e[e.R=82]="R",e[e.LeftSquareBracket=91]="LeftSquareBracket",e[e.BackSlash=92]="BackSlash",e[e.RightSquareBracket=93]="RightSquareBracket",e[e.a=97]="a",e[e.b=98]="b",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.i=105]="i",e[e.j=106]="j",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.x=120]="x",e[e.LeftCurly=123]="LeftCurly",e[e.RightCurly=125]="RightCurly",e[e.Tilde=126]="Tilde"}(bb||(bb={}));const Gb=bb;const Xb=function(){function e(e,t){this.major=String(e),this.minor=String(t)}return e.prototype.toString=function(){var e=rv(129);return"%PDF-"+this.major+"."+this.minor+"\n%"+e+e+e+e},e.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=Gb.Percent,e[t++]=Gb.P,e[t++]=Gb.D,e[t++]=Gb.F,e[t++]=Gb.Dash,t+=ov(this.major,e,t),e[t++]=Gb.Period,t+=ov(this.minor,e,t),e[t++]=Gb.Newline,e[t++]=Gb.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-n},e.forVersion=function(t,n){return new e(t,n)},e}();const Yb=function(){function e(){}return e.prototype.clone=function(e){throw new wb(this.constructor.name,"clone")},e.prototype.toString=function(){throw new wb(this.constructor.name,"toString")},e.prototype.sizeInBytes=function(){throw new wb(this.constructor.name,"sizeInBytes")},e.prototype.copyBytesInto=function(e,t){throw new wb(this.constructor.name,"copyBytesInto")},e}();const Qb=function(e){function t(t){var n=e.call(this)||this;return n.numberValue=t,n.stringValue=function(e){var t,n=String(e);if(Math.abs(e)<1){if(t=parseInt(e.toString().split("e-")[1])){var r=e<0;r&&(e*=-1),e*=Math.pow(10,t-1),n="0."+new Array(t).join("0")+e.toString().substring(2),r&&(n="-"+n)}}else(t=parseInt(e.toString().split("+")[1]))>20&&(t-=20,n=(e/=Math.pow(10,t)).toString()+new Array(t+1).join("0"));return n}(t),n}return Vy(t,e),t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(e,t){return t+=ov(this.stringValue,e,t),this.stringValue.length},t.of=function(e){return new t(e)},t}(Yb);var Jb=function(e){function t(t){var n=e.call(this)||this;return n.array=[],n.context=t,n}return Vy(t,e),t.prototype.size=function(){return this.array.length},t.prototype.push=function(e){this.array.push(e)},t.prototype.insert=function(e,t){this.array.splice(e,0,t)},t.prototype.indexOf=function(e){var t=this.array.indexOf(e);return-1===t?void 0:t},t.prototype.remove=function(e){this.array.splice(e,1)},t.prototype.set=function(e,t){this.array[e]=t},t.prototype.get=function(e){return this.array[e]},t.prototype.lookupMaybe=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=this.context).lookupMaybe.apply(t,Gy([this.get(e)],n))},t.prototype.lookup=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=this.context).lookup.apply(t,Gy([this.get(e)],n))},t.prototype.asRectangle=function(){if(4!==this.size())throw new _b(this.size());var e=this.lookup(0,Qb).asNumber(),t=this.lookup(1,Qb).asNumber();return{x:e,y:t,width:this.lookup(2,Qb).asNumber()-e,height:this.lookup(3,Qb).asNumber()-t}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),r=0,i=this.size();r<i;r++)n.push(this.array[r]);return n},t.prototype.toString=function(){for(var e="[ ",t=0,n=this.size();t<n;t++)e+=this.get(t).toString(),e+=" ";return e+="]"},t.prototype.sizeInBytes=function(){for(var e=3,t=0,n=this.size();t<n;t++)e+=this.get(t).sizeInBytes()+1;return e},t.prototype.copyBytesInto=function(e,t){var n=t;e[t++]=Gb.LeftSquareBracket,e[t++]=Gb.Space;for(var r=0,i=this.size();r<i;r++)t+=this.get(r).copyBytesInto(e,t),e[t++]=Gb.Space;return e[t++]=Gb.RightSquareBracket,t-n},t.prototype.scalePDFNumbers=function(e,t){for(var n=0,r=this.size();n<r;n++){var i=this.lookup(n);if(i instanceof Qb){var o=n%2===0?e:t;this.set(n,Qb.of(i.asNumber()*o))}}},t.withContext=function(e){return new t(e)},t}(Yb);const Zb=Jb;var $b={};const ew=function(e){function t(t,n){var r=this;if(t!==$b)throw new Cb("PDFBool");return(r=e.call(this)||this).value=n,r}return Vy(t,e),t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(e,t){return this.value?(e[t++]=Gb.t,e[t++]=Gb.r,e[t++]=Gb.u,e[t++]=Gb.e,4):(e[t++]=Gb.f,e[t++]=Gb.a,e[t++]=Gb.l,e[t++]=Gb.s,e[t++]=Gb.e,5)},t.True=new t($b,!0),t.False=new t($b,!1),t}(Yb);var tw=new Uint8Array(256);tw[Gb.LeftParen]=1,tw[Gb.RightParen]=1,tw[Gb.LessThan]=1,tw[Gb.GreaterThan]=1,tw[Gb.LeftSquareBracket]=1,tw[Gb.RightSquareBracket]=1,tw[Gb.LeftCurly]=1,tw[Gb.RightCurly]=1,tw[Gb.ForwardSlash]=1,tw[Gb.Percent]=1;var nw=new Uint8Array(256);nw[Gb.Null]=1,nw[Gb.Tab]=1,nw[Gb.Newline]=1,nw[Gb.FormFeed]=1,nw[Gb.CarriageReturn]=1,nw[Gb.Space]=1;for(var rw=new Uint8Array(256),iw=0;iw<256;iw++)rw[iw]=nw[iw]||tw[iw]?1:0;rw[Gb.Hash]=1;var ow=function(e){return e.replace(/#([\dABCDEF]{2})/g,(function(e,t){return function(e){return rv(parseInt(e,16))}(t)}))},sw={},aw=new Map,cw=function(e){function t(t,n){var r=this;if(t!==sw)throw new Cb("PDFName");r=e.call(this)||this;for(var i,o="/",s=0,a=n.length;s<a;s++){var c=n[s],l=ev(c);o+=(i=l)>=Gb.ExclamationPoint&&i<=Gb.Tilde&&!rw[i]?c:"#"+nv(l)}return r.encodedName=o,r}return Vy(t,e),t.prototype.asBytes=function(){for(var e=[],t="",n=!1,r=function(t){void 0!==t&&e.push(t),n=!1},i=1,o=this.encodedName.length;i<o;i++){var s=this.encodedName[i],a=ev(s),c=this.encodedName[i+1];n?a>=Gb.Zero&&a<=Gb.Nine||a>=Gb.a&&a<=Gb.f||a>=Gb.A&&a<=Gb.F?2!==(t+=s).length&&(c>="0"&&c<="9"||c>="a"&&c<="f"||c>="A"&&c<="F")||(r(parseInt(t,16)),t=""):r(a):a===Gb.Hash?n=!0:r(a)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return String.fromCharCode.apply(String,Array.from(e))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(e,t){return t+=ov(this.encodedName,e,t),this.encodedName.length},t.of=function(e){var n=ow(e),r=aw.get(n);return r||(r=new t(sw,n),aw.set(n,r)),r},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(Yb);const lw=cw;const uw=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(e,t){return e[t++]=Gb.n,e[t++]=Gb.u,e[t++]=Gb.l,e[t++]=Gb.l,4},t}(Yb));var hw=function(e){function t(t,n){var r=e.call(this)||this;return r.dict=t,r.context=n,r}return Vy(t,e),t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(e,t){this.dict.set(e,t)},t.prototype.get=function(e,t){void 0===t&&(t=!1);var n=this.dict.get(e);if(n!==uw||t)return n},t.prototype.has=function(e){var t=this.dict.get(e);return void 0!==t&&t!==uw},t.prototype.lookupMaybe=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n.includes(uw),o=(t=this.context).lookupMaybe.apply(t,Gy([this.get(e,i)],n));if(o!==uw||i)return o},t.prototype.lookup=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n.includes(uw),o=(t=this.context).lookup.apply(t,Gy([this.get(e,i)],n));if(o!==uw||i)return o},t.prototype.delete=function(e){return this.dict.delete(e)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(e){void 0===e&&(e="");for(var t=this.keys(),n=lw.of(this.context.addRandomSuffix(e,10));t.includes(n);)n=lw.of(this.context.addRandomSuffix(e,10));return n},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),r=this.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];n.set(a,c)}return n},t.prototype.toString=function(){for(var e="<<\n",t=this.entries(),n=0,r=t.length;n<r;n++){var i=t[n],o=i[0],s=i[1];e+=o.toString()+" "+s.toString()+"\n"}return e+=">>"},t.prototype.sizeInBytes=function(){for(var e=5,t=this.entries(),n=0,r=t.length;n<r;n++){var i=t[n],o=i[0],s=i[1];e+=o.sizeInBytes()+s.sizeInBytes()+2}return e},t.prototype.copyBytesInto=function(e,t){var n=t;e[t++]=Gb.LessThan,e[t++]=Gb.LessThan,e[t++]=Gb.Newline;for(var r=this.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];t+=a.copyBytesInto(e,t),e[t++]=Gb.Space,t+=c.copyBytesInto(e,t),e[t++]=Gb.Newline}return e[t++]=Gb.GreaterThan,e[t++]=Gb.GreaterThan,t-n},t.withContext=function(e){return new t(new Map,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(Yb);const dw=hw;var fw=function(e){function t(t){var n=e.call(this)||this;return n.dict=t,n}return Vy(t,e),t.prototype.clone=function(e){throw new wb(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new wb(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new wb(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new wb(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var e=this.getContentsSize();this.dict.set(lw.Length,Qb.of(e))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var e=this.dict.toString();return e+="\nstream\n",e+=this.getContentsString(),e+="\nendstream"},t.prototype.copyBytesInto=function(e,t){this.updateDict();var n=t;t+=this.dict.copyBytesInto(e,t),e[t++]=Gb.Newline,e[t++]=Gb.s,e[t++]=Gb.t,e[t++]=Gb.r,e[t++]=Gb.e,e[t++]=Gb.a,e[t++]=Gb.m,e[t++]=Gb.Newline;for(var r=this.getContents(),i=0,o=r.length;i<o;i++)e[t++]=r[i];return e[t++]=Gb.Newline,e[t++]=Gb.e,e[t++]=Gb.n,e[t++]=Gb.d,e[t++]=Gb.s,e[t++]=Gb.t,e[t++]=Gb.r,e[t++]=Gb.e,e[t++]=Gb.a,e[t++]=Gb.m,t-n},t}(Yb);const pw=fw;const gw=function(e){function t(t,n){var r=e.call(this,t)||this;return r.contents=n,r}return Vy(t,e),t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(e){return t.of(this.dict.clone(e),this.contents.slice())},t.prototype.getContentsString=function(){return bv(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(e,n){return new t(e,n)},t}(pw);var mw={},yw=new Map;const vw=function(e){function t(t,n,r){var i=this;if(t!==mw)throw new Cb("PDFRef");return(i=e.call(this)||this).objectNumber=n,i.generationNumber=r,i.tag=n+" "+r+" R",i}return Vy(t,e),t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(e,t){return t+=ov(this.tag,e,t),this.tag.length},t.of=function(e,n){void 0===n&&(n=0);var r=e+" "+n+" R",i=yw.get(r);return i||(i=new t(mw,e,n),yw.set(r,i)),i},t}(Yb);var bw=function(){function e(e,t){this.name=e,this.args=t||[]}return e.prototype.clone=function(t){for(var n=new Array(this.args.length),r=0,i=n.length;r<i;r++){var o=this.args[r];n[r]=o instanceof Yb?o.clone(t):o}return e.of(this.name,n)},e.prototype.toString=function(){for(var e="",t=0,n=this.args.length;t<n;t++)e+=String(this.args[t])+" ";return e+=this.name},e.prototype.sizeInBytes=function(){for(var e=0,t=0,n=this.args.length;t<n;t++){var r=this.args[t];e+=(r instanceof Yb?r.sizeInBytes():r.length)+1}return e+=this.name.length},e.prototype.copyBytesInto=function(e,t){for(var n=t,r=0,i=this.args.length;r<i;r++){var o=this.args[r];t+=o instanceof Yb?o.copyBytesInto(e,t):ov(o,e,t),e[t++]=Gb.Space}return(t+=ov(this.name,e,t))-n},e.of=function(t,n){return new e(t,n)},e}();const ww=bw;var Cw;!function(e){e.NonStrokingColor="sc",e.NonStrokingColorN="scn",e.NonStrokingColorRgb="rg",e.NonStrokingColorGray="g",e.NonStrokingColorCmyk="k",e.NonStrokingColorspace="cs",e.StrokingColor="SC",e.StrokingColorN="SCN",e.StrokingColorRgb="RG",e.StrokingColorGray="G",e.StrokingColorCmyk="K",e.StrokingColorspace="CS",e.BeginMarkedContentSequence="BDC",e.BeginMarkedContent="BMC",e.EndMarkedContent="EMC",e.MarkedContentPointWithProps="DP",e.MarkedContentPoint="MP",e.DrawObject="Do",e.ConcatTransformationMatrix="cm",e.PopGraphicsState="Q",e.PushGraphicsState="q",e.SetFlatness="i",e.SetGraphicsStateParams="gs",e.SetLineCapStyle="J",e.SetLineDashPattern="d",e.SetLineJoinStyle="j",e.SetLineMiterLimit="M",e.SetLineWidth="w",e.SetTextMatrix="Tm",e.SetRenderingIntent="ri",e.AppendRectangle="re",e.BeginInlineImage="BI",e.BeginInlineImageData="ID",e.EndInlineImage="EI",e.ClipEvenOdd="W*",e.ClipNonZero="W",e.CloseAndStroke="s",e.CloseFillEvenOddAndStroke="b*",e.CloseFillNonZeroAndStroke="b",e.ClosePath="h",e.AppendBezierCurve="c",e.CurveToReplicateFinalPoint="y",e.CurveToReplicateInitialPoint="v",e.EndPath="n",e.FillEvenOddAndStroke="B*",e.FillEvenOdd="f*",e.FillNonZeroAndStroke="B",e.FillNonZero="f",e.LegacyFillNonZero="F",e.LineTo="l",e.MoveTo="m",e.ShadingFill="sh",e.StrokePath="S",e.BeginText="BT",e.EndText="ET",e.MoveText="Td",e.MoveTextSetLeading="TD",e.NextLine="T*",e.SetCharacterSpacing="Tc",e.SetFontAndSize="Tf",e.SetTextHorizontalScaling="Tz",e.SetTextLineHeight="TL",e.SetTextRenderingMode="Tr",e.SetTextRise="Ts",e.SetWordSpacing="Tw",e.ShowText="Tj",e.ShowTextAdjusted="TJ",e.ShowTextLine="'",e.ShowTextLineAndSpace='"',e.Type3D0="d0",e.Type3D1="d1",e.BeginCompatibilitySection="BX",e.EndCompatibilitySection="EX"}(Cw||(Cw={}));const Sw=Cw;const Aw=function(e){function t(t,n){var r=e.call(this,t)||this;return r.computeContents=function(){var e=r.getUnencodedContents();return r.encode?Uv().deflate(e):e},r.encode=n,n&&t.set(lw.of("Filter"),lw.of("FlateDecode")),r.contentsCache=vb.populatedBy(r.computeContents),r}return Vy(t,e),t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new wb(this.constructor.name,"getUnencodedContents")},t}(pw);var kw=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this,t,r)||this;return i.operators=n,i}return Vy(t,e),t.prototype.push=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.operators).push.apply(e,t)},t.prototype.clone=function(e){for(var n=new Array(this.operators.length),r=0,i=this.operators.length;r<i;r++)n[r]=this.operators[r].clone(e);var o=this.dict,s=this.encode;return t.of(o.clone(e),n,s)},t.prototype.getContentsString=function(){for(var e="",t=0,n=this.operators.length;t<n;t++)e+=this.operators[t]+"\n";return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=0,n=0,r=this.operators.length;n<r;n++)t+=this.operators[n].copyBytesInto(e,t),e[t++]=Gb.Newline;return e},t.prototype.getUnencodedContentsSize=function(){for(var e=0,t=0,n=this.operators.length;t<n;t++)e+=this.operators[t].sizeInBytes()+1;return e},t.of=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(Aw);const xw=kw;var Tw=function(){function e(e){this.seed=e}return e.prototype.nextInt=function(){var e=1e4*Math.sin(this.seed++);return e-Math.floor(e)},e.withSeed=function(t){return new e(t)},e}(),Ew=function(e,t){var n=e[0],r=t[0];return n.objectNumber-r.objectNumber},_w=function(){function e(){this.largestObjectNumber=0,this.header=Xb.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=Tw.withSeed(1)}return e.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},e.prototype.nextRef=function(){return this.largestObjectNumber+=1,vw.of(this.largestObjectNumber)},e.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},e.prototype.delete=function(e){return this.indirectObjects.delete(e)},e.prototype.lookupMaybe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.includes(uw),i=e instanceof vw?this.indirectObjects.get(e):e;if(i&&(i!==uw||r)){for(var o=0,s=t.length;o<s;o++){var a=t[o];if(a===uw){if(i===uw)return i}else if(i instanceof a)return i}throw new Sb(t,i)}},e.prototype.lookup=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e instanceof vw?this.indirectObjects.get(e):e;if(0===t.length)return r;for(var i=0,o=t.length;i<o;i++){var s=t[i];if(s===uw){if(r===uw)return r}else if(r instanceof s)return r}throw new Sb(t,r)},e.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),n=0,r=t.length;n<r;n++){var i=t[n],o=i[0];if(i[1]===e)return o}},e.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(Ew)},e.prototype.obj=function(e){if(e instanceof Yb)return e;if(null===e||void 0===e)return uw;if("string"===typeof e)return lw.of(e);if("number"===typeof e)return Qb.of(e);if("boolean"===typeof e)return e?ew.True:ew.False;if(Array.isArray(e)){for(var t=Zb.withContext(this),n=0,r=e.length;n<r;n++)t.push(this.obj(e[n]));return t}var i=dw.withContext(this),o=Object.keys(e);for(n=0,r=o.length;n<r;n++){var s=o[n],a=e[s];void 0!==a&&i.set(lw.of(s),this.obj(a))}return i},e.prototype.stream=function(e,t){return void 0===t&&(t={}),gw.of(this.obj(t),yv(e))},e.prototype.flateStream=function(e,t){return void 0===t&&(t={}),this.stream(Uv().deflate(yv(e)),Hy(Hy({},t),{Filter:"FlateDecode"}))},e.prototype.contentStream=function(e,t){return void 0===t&&(t={}),xw.of(this.obj(t),e)},e.prototype.formXObject=function(e,t){return void 0===t&&(t={}),this.contentStream(e,Hy(Hy({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},e.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=ww.of(Sw.PushGraphicsState),n=xw.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},e.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=ww.of(Sw.PopGraphicsState),n=xw.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},e.prototype.addRandomSuffix=function(e,t){return void 0===t&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},e.create=function(){return new e},e}();const Iw=_w;var Pw=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this,t,n)||this;return i.normalized=!1,i.autoNormalizeCTM=r,i}return Vy(t,e),t.prototype.clone=function(e){for(var n=t.fromMapWithContext(new Map,e||this.context,this.autoNormalizeCTM),r=this.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];n.set(a,c)}return n},t.prototype.Parent=function(){return this.lookupMaybe(lw.Parent,dw)},t.prototype.Contents=function(){return this.lookup(lw.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(lw.Annots,Zb)},t.prototype.BleedBox=function(){return this.lookupMaybe(lw.BleedBox,Zb)},t.prototype.TrimBox=function(){return this.lookupMaybe(lw.TrimBox,Zb)},t.prototype.ArtBox=function(){return this.lookupMaybe(lw.ArtBox,Zb)},t.prototype.Resources=function(){var e=this.getInheritableAttribute(lw.Resources);return this.context.lookupMaybe(e,dw)},t.prototype.MediaBox=function(){var e=this.getInheritableAttribute(lw.MediaBox);return this.context.lookup(e,Zb)},t.prototype.CropBox=function(){var e=this.getInheritableAttribute(lw.CropBox);return this.context.lookupMaybe(e,Zb)},t.prototype.Rotate=function(){var e=this.getInheritableAttribute(lw.Rotate);return this.context.lookupMaybe(e,Qb)},t.prototype.getInheritableAttribute=function(e){var t;return this.ascend((function(n){t||(t=n.get(e))})),t},t.prototype.setParent=function(e){this.set(lw.Parent,e)},t.prototype.addContentStream=function(e){var t=this.normalizedEntries().Contents||this.context.obj([]);this.set(lw.Contents,t),t.push(e)},t.prototype.wrapContentStreams=function(e,t){var n=this.Contents();return n instanceof Zb&&(n.insert(0,e),n.push(t),!0)},t.prototype.addAnnot=function(e){this.normalizedEntries().Annots.push(e)},t.prototype.removeAnnot=function(e){var t=this.normalizedEntries().Annots,n=t.indexOf(e);void 0!==n&&t.remove(n)},t.prototype.setFontDictionary=function(e,t){this.normalizedEntries().Font.set(e,t)},t.prototype.newFontDictionaryKey=function(e){return this.normalizedEntries().Font.uniqueKey(e)},t.prototype.newFontDictionary=function(e,t){var n=this.newFontDictionaryKey(e);return this.setFontDictionary(n,t),n},t.prototype.setXObject=function(e,t){this.normalizedEntries().XObject.set(e,t)},t.prototype.newXObjectKey=function(e){return this.normalizedEntries().XObject.uniqueKey(e)},t.prototype.newXObject=function(e,t){var n=this.newXObjectKey(e);return this.setXObject(n,t),n},t.prototype.setExtGState=function(e,t){this.normalizedEntries().ExtGState.set(e,t)},t.prototype.newExtGStateKey=function(e){return this.normalizedEntries().ExtGState.uniqueKey(e)},t.prototype.newExtGState=function(e,t){var n=this.newExtGStateKey(e);return this.setExtGState(n,t),n},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.normalize=function(){if(!this.normalized){var e=this.context,t=this.get(lw.Contents);this.context.lookup(t)instanceof pw&&this.set(lw.Contents,e.obj([t])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var n=this.getInheritableAttribute(lw.Resources),r=e.lookupMaybe(n,dw)||e.obj({});this.set(lw.Resources,r);var i=r.lookupMaybe(lw.Font,dw)||e.obj({});r.set(lw.Font,i);var o=r.lookupMaybe(lw.XObject,dw)||e.obj({});r.set(lw.XObject,o);var s=r.lookupMaybe(lw.ExtGState,dw)||e.obj({});r.set(lw.ExtGState,s);var a=this.Annots()||e.obj([]);this.set(lw.Annots,a),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var e=this.Annots(),t=this.Resources();return{Annots:e,Resources:t,Contents:this.Contents(),Font:t.lookup(lw.Font,dw),XObject:t.lookup(lw.XObject,dw),ExtGState:t.lookup(lw.ExtGState,dw)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(e,n){var r=new Map;return r.set(lw.Type,lw.Page),r.set(lw.Parent,n),r.set(lw.Resources,e.obj({})),r.set(lw.MediaBox,e.obj([0,0,612,792])),new t(r,e,!1)},t.fromMapWithContext=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(dw);const Rw=Pw;var Nw=function(){function e(e,t){var n=this;this.traversedObjects=new Map,this.copy=function(e){return e instanceof Rw?n.copyPDFPage(e):e instanceof dw?n.copyPDFDict(e):e instanceof Zb?n.copyPDFArray(e):e instanceof pw?n.copyPDFStream(e):e instanceof vw?n.copyPDFIndirectObject(e):e.clone()},this.copyPDFPage=function(e){for(var t=e.clone(),r=Rw.InheritableEntries,i=0,o=r.length;i<o;i++){var s=lw.of(r[i]),a=t.getInheritableAttribute(s);!t.get(s)&&a&&t.set(s,a)}return t.delete(lw.of("Parent")),n.copyPDFDict(t)},this.copyPDFDict=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=e.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];t.set(a,n.copy(c))}return t},this.copyPDFArray=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=0,i=e.size();r<i;r++){var o=e.get(r);t.set(r,n.copy(o))}return t},this.copyPDFStream=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=e.dict.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],c=s[1];t.dict.set(a,n.copy(c))}return t},this.copyPDFIndirectObject=function(e){if(!n.traversedObjects.has(e)){var t=n.dest.nextRef();n.traversedObjects.set(e,t);var r=n.src.lookup(e);if(r){var i=n.copy(r);n.dest.assign(t,i)}}return n.traversedObjects.get(e)},this.src=e,this.dest=t}return e.for=function(t,n){return new e(t,n)},e}();const Ow=Nw;var Fw=function(){function e(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return e.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},e.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},e.prototype.toString=function(){for(var e="xref\n",t=0,n=this.subsections.length;t<n;t++){var r=this.subsections[t];e+=r[0].ref.objectNumber+" "+r.length+"\n";for(var i=0,o=r.length;i<o;i++){var s=r[i];e+=iv(String(s.offset),10,"0"),e+=" ",e+=iv(String(s.ref.generationNumber),5,"0"),e+=" ",e+=s.deleted?"f":"n",e+=" \n"}}return e},e.prototype.sizeInBytes=function(){for(var e=5,t=0,n=this.subsections.length;t<n;t++){var r=this.subsections[t],i=r.length,o=r[0];e+=2,e+=String(o.ref.objectNumber).length,e+=String(i).length,e+=20*i}return e},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=Gb.x,e[t++]=Gb.r,e[t++]=Gb.e,e[t++]=Gb.f,e[t++]=Gb.Newline,(t+=this.copySubsectionsIntoBuffer(this.subsections,e,t))-n},e.prototype.copySubsectionsIntoBuffer=function(e,t,n){for(var r=n,i=e.length,o=0;o<i;o++){var s=this.subsections[o],a=String(s[0].ref.objectNumber);n+=ov(a,t,n),t[n++]=Gb.Space;var c=String(s.length);n+=ov(c,t,n),t[n++]=Gb.Newline,n+=this.copyEntriesIntoBuffer(s,t,n)}return n-r},e.prototype.copyEntriesIntoBuffer=function(e,t,n){for(var r=e.length,i=0;i<r;i++){var o=e[i],s=iv(String(o.offset),10,"0");n+=ov(s,t,n),t[n++]=Gb.Space;var a=iv(String(o.ref.generationNumber),5,"0");n+=ov(a,t,n),t[n++]=Gb.Space,t[n++]=o.deleted?Gb.f:Gb.n,t[n++]=Gb.Space,t[n++]=Gb.Newline}return 20*r},e.prototype.append=function(e){if(0===this.chunkLength)return this.subsections.push([e]),this.chunkIdx=0,void(this.chunkLength=1);var t=this.subsections[this.chunkIdx],n=t[this.chunkLength-1];e.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},e.create=function(){return new e({ref:vw.of(0,65535),offset:0,deleted:!0})},e.createEmpty=function(){return new e},e}();const Mw=Fw;const Dw=function(){function e(e){this.lastXRefOffset=String(e)}return e.prototype.toString=function(){return"startxref\n"+this.lastXRefOffset+"\n%%EOF"},e.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=Gb.s,e[t++]=Gb.t,e[t++]=Gb.a,e[t++]=Gb.r,e[t++]=Gb.t,e[t++]=Gb.x,e[t++]=Gb.r,e[t++]=Gb.e,e[t++]=Gb.f,e[t++]=Gb.Newline,t+=ov(this.lastXRefOffset,e,t),e[t++]=Gb.Newline,e[t++]=Gb.Percent,e[t++]=Gb.Percent,e[t++]=Gb.E,e[t++]=Gb.O,e[t++]=Gb.F,t-n},e.forLastCrossRefSectionOffset=function(t){return new e(t)},e}();const Lw=function(){function e(e){this.dict=e}return e.prototype.toString=function(){return"trailer\n"+this.dict.toString()},e.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=Gb.t,e[t++]=Gb.r,e[t++]=Gb.a,e[t++]=Gb.i,e[t++]=Gb.l,e[t++]=Gb.e,e[t++]=Gb.r,e[t++]=Gb.Newline,(t+=this.dict.copyBytesInto(e,t))-n},e.of=function(t){return new e(t)},e}();var jw=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this,t.obj({}),r)||this;return i.objects=n,i.offsets=i.computeObjectOffsets(),i.offsetsString=i.computeOffsetsString(),i.dict.set(lw.of("Type"),lw.of("ObjStm")),i.dict.set(lw.of("N"),Qb.of(i.objects.length)),i.dict.set(lw.of("First"),Qb.of(i.offsetsString.length)),i}return Vy(t,e),t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(e){return t.withContextAndObjects(e||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var e=this.offsetsString,t=0,n=this.objects.length;t<n;t++){e+=this.objects[t][1]+"\n"}return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=ov(this.offsetsString,e,0),n=0,r=this.objects.length;n<r;n++){t+=this.objects[n][1].copyBytesInto(e,t),e[t++]=Gb.Newline}return e},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+mv(this.offsets)[1]+mv(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var e="",t=0,n=this.offsets.length;t<n;t++){var r=this.offsets[t];e+=r[0]+" "+r[1]+" "}return e},t.prototype.computeObjectOffsets=function(){for(var e=0,t=new Array(this.objects.length),n=0,r=this.objects.length;n<r;n++){var i=this.objects[n],o=i[0],s=i[1];t[n]=[o.objectNumber,e],e+=s.sizeInBytes()+1}return t},t.withContextAndObjects=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(Aw);const Uw=jw;var Bw=function(){function e(e,t){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(e){return n.parsedObjects+=e,n.parsedObjects%n.objectsPerTick===0},this.context=e,this.objectsPerTick=t}return e.prototype.serializeToBuffer=function(){return Wy(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,c,l,u,h,d,f,p,g,m;return Ky(this,(function(y){switch(y.label){case 0:return[4,this.computeBufferSize()];case 1:e=y.sent(),t=e.size,n=e.header,r=e.indirectObjects,i=e.xref,o=e.trailerDict,s=e.trailer,a=0,c=new Uint8Array(t),a+=n.copyBytesInto(c,a),c[a++]=Gb.Newline,c[a++]=Gb.Newline,l=0,u=r.length,y.label=2;case 2:return l<u?(h=r[l],d=h[0],f=h[1],p=String(d.objectNumber),a+=ov(p,c,a),c[a++]=Gb.Space,g=String(d.generationNumber),a+=ov(g,c,a),c[a++]=Gb.Space,c[a++]=Gb.o,c[a++]=Gb.b,c[a++]=Gb.j,c[a++]=Gb.Newline,a+=f.copyBytesInto(c,a),c[a++]=Gb.Newline,c[a++]=Gb.e,c[a++]=Gb.n,c[a++]=Gb.d,c[a++]=Gb.o,c[a++]=Gb.b,c[a++]=Gb.j,c[a++]=Gb.Newline,c[a++]=Gb.Newline,m=f instanceof Uw?f.getObjectsCount():1,this.shouldWaitForTick(m)?[4,Av()]:[3,4]):[3,5];case 3:y.sent(),y.label=4;case 4:return l++,[3,2];case 5:return i&&(a+=i.copyBytesInto(c,a),c[a++]=Gb.Newline),o&&(a+=o.copyBytesInto(c,a),c[a++]=Gb.Newline,c[a++]=Gb.Newline),a+=s.copyBytesInto(c,a),[2,c]}}))}))},e.prototype.computeIndirectObjectSize=function(e){var t=e[0],n=e[1];return t.sizeInBytes()+3+(n.sizeInBytes()+9)},e.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},e.prototype.computeBufferSize=function(){return Wy(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,c,l,u;return Ky(this,(function(h){switch(h.label){case 0:e=Xb.forVersion(1,7),t=e.sizeInBytes()+2,n=Mw.create(),r=this.context.enumerateIndirectObjects(),i=0,o=r.length,h.label=1;case 1:return i<o?(s=r[i],a=s[0],n.addEntry(a,t),t+=this.computeIndirectObjectSize(s),this.shouldWaitForTick(1)?[4,Av()]:[3,3]):[3,4];case 2:h.sent(),h.label=3;case 3:return i++,[3,1];case 4:return c=t,t+=n.sizeInBytes()+1,l=Lw.of(this.createTrailerDict()),t+=l.sizeInBytes()+2,u=Dw.forLastCrossRefSectionOffset(c),[2,{size:t+=u.sizeInBytes(),header:e,indirectObjects:r,xref:n,trailerDict:l,trailer:u}]}}))}))},e.forContext=function(t,n){return new e(t,n)},e}();const qw=Bw;var zw=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return Vy(t,e),t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(e,t){for(var n=this.data.length,r=0;r<n;r++)e[t++]=this.data[r];return n},t.of=function(e){return new t(e)},t}(Yb);const Vw=zw;var Hw;!function(e){e[e.Deleted=0]="Deleted",e[e.Uncompressed=1]="Uncompressed",e[e.Compressed=2]="Compressed"}(Hw||(Hw={}));var Ww=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this,t,r)||this;return i.computeIndex=function(){for(var e=[],t=0,n=0,r=i.entries.length;n<r;n++){var o=i.entries[n],s=i.entries[n-1];0===n?e.push(o.ref.objectNumber):o.ref.objectNumber-s.ref.objectNumber>1&&(e.push(t),e.push(o.ref.objectNumber),t=0),t+=1}return e.push(t),e},i.computeEntryTuples=function(){for(var e=new Array(i.entries.length),t=0,n=i.entries.length;t<n;t++){var r=i.entries[t];if(r.type===Hw.Deleted){var o=r.type,s=r.nextFreeObjectNumber,a=r.ref;e[t]=[o,s,a.generationNumber]}if(r.type===Hw.Uncompressed){o=r.type;var c=r.offset;a=r.ref;e[t]=[o,c,a.generationNumber]}if(r.type===Hw.Compressed){o=r.type;var l=r.objectStreamRef,u=r.index;e[t]=[o,l.objectNumber,u]}}return e},i.computeMaxEntryByteWidths=function(){for(var e=i.entryTuplesCache.access(),t=[0,0,0],n=0,r=e.length;n<r;n++){var o=e[n],s=o[0],a=o[1],c=o[2],l=Mv(s),u=Mv(a),h=Mv(c);l>t[0]&&(t[0]=l),u>t[1]&&(t[1]=u),h>t[2]&&(t[2]=h)}return t},i.entries=n||[],i.entryTuplesCache=vb.populatedBy(i.computeEntryTuples),i.maxByteWidthsCache=vb.populatedBy(i.computeMaxEntryByteWidths),i.indexCache=vb.populatedBy(i.computeIndex),t.set(lw.of("Type"),lw.of("XRef")),i}return Vy(t,e),t.prototype.addDeletedEntry=function(e,t){var n=Hw.Deleted;this.entries.push({type:n,ref:e,nextFreeObjectNumber:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(e,t){var n=Hw.Uncompressed;this.entries.push({type:n,ref:e,offset:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(e,t,n){var r=Hw.Compressed;this.entries.push({type:r,ref:e,objectStreamRef:t,index:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(e){var n=this,r=n.dict,i=n.entries,o=n.encode;return t.of(r.clone(e),i.slice(),o)},t.prototype.getContentsString=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),n="",r=0,i=e.length;r<i;r++){for(var o=e[r],s=o[0],a=o[1],c=o[2],l=Cv(Dv(s)),u=Cv(Dv(a)),h=Cv(Dv(c)),d=t[0]-1;d>=0;d--)n+=(l[d]||0).toString(2);for(d=t[1]-1;d>=0;d--)n+=(u[d]||0).toString(2);for(d=t[2]-1;d>=0;d--)n+=(h[d]||0).toString(2)}return n},t.prototype.getUnencodedContents=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),n=new Uint8Array(this.getUnencodedContentsSize()),r=0,i=0,o=e.length;i<o;i++){for(var s=e[i],a=s[0],c=s[1],l=s[2],u=Cv(Dv(a)),h=Cv(Dv(c)),d=Cv(Dv(l)),f=t[0]-1;f>=0;f--)n[r++]=u[f]||0;for(f=t[1]-1;f>=0;f--)n[r++]=h[f]||0;for(f=t[2]-1;f>=0;f--)n[r++]=d[f]||0}return n},t.prototype.getUnencodedContentsSize=function(){var e=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n];return t}(this.maxByteWidthsCache.access());return e*this.entries.length},t.prototype.updateDict=function(){e.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),n=this.indexCache.access(),r=this.dict.context;this.dict.set(lw.of("W"),r.obj(t)),this.dict.set(lw.of("Index"),r.obj(n))},t.create=function(e,n){void 0===n&&(n=!0);var r=new t(e,[],n);return r.addDeletedEntry(vw.of(0,65535),0),r},t.of=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(Aw);const Kw=Ww;var Gw=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.encodeStreams=r,o.objectsPerStream=i,o}return Vy(t,e),t.prototype.computeBufferSize=function(){return Wy(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,c,l,u,h,d,f,p,g,m,y,v;return Ky(this,(function(b){switch(b.label){case 0:e=this.context.largestObjectNumber+1,t=Xb.forVersion(1,7),n=t.sizeInBytes()+2,r=Kw.create(this.createTrailerDict(),this.encodeStreams),i=[],o=[],s=[],a=this.context.enumerateIndirectObjects(),h=0,d=a.length,b.label=1;case 1:return h<d?(c=a[h],p=c[0],l=c[1],p===this.context.trailerInfo.Encrypt||l instanceof pw||l instanceof Vw||0!==p.generationNumber?(i.push(c),r.addUncompressedEntry(p,n),n+=this.computeIndirectObjectSize(c),this.shouldWaitForTick(1)?[4,Av()]:[3,3]):[3,4]):[3,6];case 2:b.sent(),b.label=3;case 3:return[3,5];case 4:f=mv(o),u=mv(s),f&&f.length%this.objectsPerStream!==0||(f=[],o.push(f),u=vw.of(e++),s.push(u)),r.addCompressedEntry(p,u,f.length),f.push(c),b.label=5;case 5:return h++,[3,1];case 6:h=0,d=o.length,b.label=7;case 7:return h<d?(f=o[h],p=s[h],g=Uw.withContextAndObjects(this.context,f,this.encodeStreams),r.addUncompressedEntry(p,n),n+=this.computeIndirectObjectSize([p,g]),i.push([p,g]),this.shouldWaitForTick(f.length)?[4,Av()]:[3,9]):[3,10];case 8:b.sent(),b.label=9;case 9:return h++,[3,7];case 10:return m=vw.of(e++),r.dict.set(lw.of("Size"),Qb.of(e)),r.addUncompressedEntry(m,n),y=n,n+=this.computeIndirectObjectSize([m,r]),i.push([m,r]),v=Dw.forLastCrossRefSectionOffset(y),[2,{size:n+=v.sizeInBytes(),header:t,indirectObjects:i,trailer:v}]}}))}))},t.forContext=function(e,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=50),new t(e,n,r,i)},t}(qw);const Xw=Gw;var Yw=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return Vy(t,e),t.prototype.asBytes=function(){for(var e=this.value+(this.value.length%2===1?"0":""),t=e.length,n=new Uint8Array(e.length/2),r=0,i=0;r<t;){var o=parseInt(e.substring(r,r+2),16);n[i]=o,r+=2,i+=1}return n},t.prototype.decodeText=function(){var e=this.asBytes();return Fv(e)?Ev(e):yb(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=pv(e);if(!t)throw new Ib(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=Gb.LessThan,t+=ov(this.value,e,t),e[t++]=Gb.GreaterThan,this.value.length+2},t.of=function(e){return new t(e)},t.fromText=function(e){for(var n=function(e,t){void 0===t&&(t=!0);var n=[];t&&n.push(65279);for(var r=0,i=e.length;r<i;){var o=e.codePointAt(r);if(o<65536)n.push(o),r+=1;else{if(!(o<1114112))throw new Error("Invalid code point: 0x"+nv(o));n.push(kv(o),xv(o)),r+=2}}return new Uint16Array(n)}(e),r="",i=0,o=n.length;i<o;i++)r+=tv(n[i],4);return new t(r)},t}(Yb);const Qw=Yw;var Jw=function(){function e(e,t){this.encoding=e===Hv.ZapfDingbats?Jv.ZapfDingbats:e===Hv.Symbol?Jv.Symbol:Jv.WinAnsi,this.font=Gv.load(e),this.fontName=this.font.FontName,this.customName=t}return e.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=nv(t[r].code);return Qw.of(n.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var n=this.encodeTextAsGlyphs(e),r=0,i=0,o=n.length;i<o;i++){var s=n[i].name,a=(n[i+1]||{}).name,c=this.font.getXAxisKerningForPair(s,a)||0;r+=this.widthOfGlyph(s)+c}return r*(t/1e3)},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var n=t.descender,r=void 0===n||n,i=this.font,o=i.Ascender,s=i.Descender,a=i.FontBBox,c=(o||a[3])-(s||a[1]);return r||(c+=s||0),c/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,n=t.Ascender,r=t.Descender,i=t.FontBBox;return 1e3*e/((n||i[3])-(r||i[1]))},e.prototype.embedIntoContext=function(e,t){var n=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Jv.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,n),t):e.register(n)},e.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},e.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),n=new Array(t.length),r=0,i=t.length;r<i;r++){var o=t[r].codePointAt(0);n[r]=this.encoding.encodeUnicodeCodePoint(o)}return n},e.for=function(t,n){return new e(t,n)},e}();const Zw=Jw;var $w=function(e){return"/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n"+e.length+" beginbfchar\n"+e.map((function(e){return e[0]+" "+e[1]})).join("\n")+"\nendbfchar\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},eC=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"<"+e.join("")+">"},tC=function(e){return tv(e,4)},nC=function(e){if(function(e){return e>=0&&e<=65535}(e))return tC(e);if(function(e){return e>=65536&&e<=1114111}(e)){var t=kv(e),n=xv(e);return""+tC(t)+tC(n)}var r=nv(e);throw new Error("0x"+r+" is not a valid UTF-8 or UTF-16 codepoint.")},rC=function(e){var t=e["OS/2"]?e["OS/2"].sFamilyClass:0;return function(e){var t=0,n=function(e){t|=1<<e-1};return e.fixedPitch&&n(1),e.serif&&n(2),e.symbolic&&n(3),e.script&&n(4),e.nonsymbolic&&n(6),e.italic&&n(7),e.allCap&&n(17),e.smallCap&&n(18),e.forceBold&&n(19),t}({fixedPitch:e.post.isFixedPitch,serif:1<=t&&t<=7,symbolic:!0,script:10===t,italic:e.head.macStyle.italic})},iC=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return Vy(t,e),t.prototype.asBytes=function(){for(var e=[],t="",n=!1,r=function(t){void 0!==t&&e.push(t),n=!1},i=0,o=this.value.length;i<o;i++){var s=this.value[i],a=ev(s),c=this.value[i+1];n?a===Gb.Newline||a===Gb.CarriageReturn?r():a===Gb.n?r(Gb.Newline):a===Gb.r?r(Gb.CarriageReturn):a===Gb.t?r(Gb.Tab):a===Gb.b?r(Gb.Backspace):a===Gb.f?r(Gb.FormFeed):a===Gb.LeftParen?r(Gb.LeftParen):a===Gb.RightParen?r(Gb.RightParen):a===Gb.Backspace?r(Gb.BackSlash):a>=Gb.Zero&&a<=Gb.Seven?3!==(t+=s).length&&c>="0"&&c<="7"||(r(parseInt(t,8)),t=""):r(a):a===Gb.BackSlash?n=!0:r(a)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return Fv(e)?Ev(e):yb(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=pv(e);if(!t)throw new Ib(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=Gb.LeftParen,t+=ov(this.value,e,t),e[t++]=Gb.RightParen,this.value.length+2},t.of=function(e){return new t(e)},t.fromDate=function(e){return new t("D:"+iv(String(e.getUTCFullYear()),4,"0")+iv(String(e.getUTCMonth()+1),2,"0")+iv(String(e.getUTCDate()),2,"0")+iv(String(e.getUTCHours()),2,"0")+iv(String(e.getUTCMinutes()),2,"0")+iv(String(e.getUTCSeconds()),2,"0")+"Z")},t}(Yb);const oC=iC;var sC=function(){function e(e,t,n,r){var i=this;this.allGlyphsInFontSortedById=function(){for(var e=new Array(i.font.characterSet.length),t=0,n=e.length;t<n;t++){var r=i.font.characterSet[t];e[t]=i.font.glyphForCodePoint(r)}return function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],s=e[r-1];0!==r&&t(o)===t(s)||n.push(o)}return n}(e.sort(wv),(function(e){return e.id}))},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=r,this.baseFontName="",this.glyphCache=vb.populatedBy(this.allGlyphsInFontSortedById)}return e.for=function(t,n,r,i){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(o){switch(o.label){case 0:return[4,t.create(n)];case 1:return[2,new e(o.sent(),n,r,i)]}}))}))},e.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=tv(t[r].id,4);return Qw.of(n.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var n=this.font.layout(e,this.fontFeatures).glyphs,r=0,i=0,o=n.length;i<o;i++)r+=n[i].advanceWidth*this.scale;return r*(t/1e3)},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var n=t.descender,r=void 0===n||n,i=this.font,o=i.ascent,s=i.descent,a=i.bbox,c=(o||a.maxY)*this.scale-(s||a.minY)*this.scale;return r||(c-=Math.abs(s)||0),c/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,n=t.ascent,r=t.descent,i=t.bbox;return 1e3*e/((n||i.maxY)*this.scale-(r||i.minY)*this.scale)},e.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},e.prototype.embedFontDict=function(e,t){return Wy(this,void 0,void 0,(function(){var n,r,i;return Ky(this,(function(o){switch(o.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return n=o.sent(),r=this.embedUnicodeCmap(e),i=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:r}),t?(e.assign(t,i),[2,t]):[2,e.register(i)]}}))}))},e.prototype.isCFF=function(){return this.font.cff},e.prototype.embedCIDFontDict=function(e){return Wy(this,void 0,void 0,(function(){var t,n;return Ky(this,(function(r){switch(r.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=r.sent(),n=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:oC.of("Adobe"),Ordering:oC.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(n)]}}))}))},e.prototype.embedFontDescriptor=function(e){return Wy(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,l,u,h,d,f,p,g;return Ky(this,(function(m){switch(m.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=m.sent(),n=this.scale,r=this.font,i=r.italicAngle,o=r.ascent,s=r.descent,a=r.capHeight,c=r.xHeight,l=this.font.bbox,u=l.minX,h=l.minY,d=l.maxX,f=l.maxY,p=e.obj(((g={Type:"FontDescriptor",FontName:this.baseFontName,Flags:rC(this.font),FontBBox:[u*n,h*n,d*n,f*n],ItalicAngle:i,Ascent:o*n,Descent:s*n,CapHeight:(a||o)*n,XHeight:(c||0)*n,StemV:0})[this.isCFF()?"FontFile3":"FontFile2"]=t,g)),[2,e.register(p)]}}))}))},e.prototype.serializeFont=function(){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(e){return[2,this.fontData]}))}))},e.prototype.embedFontStream=function(e){return Wy(this,void 0,void 0,(function(){var t,n,r;return Ky(this,(function(i){switch(i.label){case 0:return r=(n=e).flateStream,[4,this.serializeFont()];case 1:return t=r.apply(n,[i.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}}))}))},e.prototype.embedUnicodeCmap=function(e){var t=function(e,t){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=e[r],s=eC(tC(t(o))),a=eC.apply(void 0,o.codePoints.map(nC));n[r]=[s,a]}return $w(n)}(this.glyphCache.access(),this.glyphId.bind(this)),n=e.flateStream(t);return e.register(n)},e.prototype.glyphId=function(e){return e?e.id:-1},e.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],n=[],r=0,i=e.length;r<i;r++){var o=e[r],s=e[r-1],a=this.glyphId(o),c=this.glyphId(s);0===r?t.push(a):a-c!==1&&(t.push(n),t.push(a),n=[]),n.push(o.advanceWidth*this.scale)}return t.push(n),t},e}();const aC=sC;var cC=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.subset=o.font.createSubset(),o.glyphs=[],o.glyphCache=vb.populatedBy((function(){return o.glyphs})),o.glyphIdMap=new Map,o}return Vy(t,e),t.for=function(e,n,r,i){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(o){switch(o.label){case 0:return[4,e.create(n)];case 1:return[2,new t(o.sent(),n,r,i)]}}))}))},t.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(t.length),r=0,i=t.length;r<i;r++){var o=t[r],s=this.subset.includeGlyph(o);this.glyphs[s-1]=o,this.glyphIdMap.set(o.id,s),n[r]=tv(s,4)}return this.glyphCache.invalidate(),Qw.of(n.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(e){return e?this.glyphIdMap.get(e.id):-1},t.prototype.serializeFont=function(){var e=this;return new Promise((function(t,n){var r=[];e.subset.encodeStream().on("data",(function(e){return r.push(e)})).on("end",(function(){return t(function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;var i=new Uint8Array(t),o=0;for(n=0,r=e.length;n<r;n++){var s=e[n];i.set(s,o),o+=s.length}return i}(r))})).on("error",(function(e){return n(e)}))}))},t}(aC);const lC=cC;var uC;!function(e){e.Source="Source",e.Data="Data",e.Alternative="Alternative",e.Supplement="Supplement",e.EncryptedPayload="EncryptedPayload",e.FormData="EncryptedPayload",e.Schema="Schema",e.Unspecified="Unspecified"}(uC||(uC={}));var hC=function(){function e(e,t,n){void 0===n&&(n={}),this.fileData=e,this.fileName=t,this.options=n}return e.for=function(t,n,r){return void 0===r&&(r={}),new e(t,n,r)},e.prototype.embedIntoContext=function(e,t){return Wy(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,l,u;return Ky(this,(function(h){return n=this.options,r=n.mimeType,i=n.description,o=n.creationDate,s=n.modificationDate,a=n.afRelationship,c=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:null!==r&&void 0!==r?r:void 0,Params:{Size:this.fileData.length,CreationDate:o?oC.fromDate(o):void 0,ModDate:s?oC.fromDate(s):void 0}}),l=e.register(c),u=e.obj({Type:"Filespec",F:oC.of(this.fileName),UF:Qw.fromText(this.fileName),EF:{F:l},Desc:i?Qw.fromText(i):void 0,AFRelationship:null!==a&&void 0!==a?a:void 0}),t?(e.assign(t,u),[2,t]):[2,e.register(u)]}))}))},e}();const dC=hC;var fC,pC=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487];!function(e){e.DeviceGray="DeviceGray",e.DeviceRGB="DeviceRGB",e.DeviceCMYK="DeviceCMYK"}(fC||(fC={}));var gC={1:fC.DeviceGray,3:fC.DeviceRGB,4:fC.DeviceCMYK},mC=function(){function e(e,t,n,r,i){this.imageData=e,this.bitsPerComponent=t,this.width=n,this.height=r,this.colorSpace=i}return e.for=function(t){return Wy(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,l;return Ky(this,(function(u){if(n=new DataView(t.buffer),65496!==n.getUint16(0))throw new Error("SOI not found in JPEG");for(r=2;r<n.byteLength&&(i=n.getUint16(r),r+=2,!pC.includes(i));)r+=n.getUint16(r);if(!pC.includes(i))throw new Error("Invalid JPEG");if(r+=2,o=n.getUint8(r++),s=n.getUint16(r),r+=2,a=n.getUint16(r),r+=2,c=n.getUint8(r++),!(l=gC[c]))throw new Error("Unknown JPEG channel.");return[2,new e(t,o,a,s,l)]}))}))},e.prototype.embedIntoContext=function(e,t){return Wy(this,void 0,void 0,(function(){var n;return Ky(this,(function(r){return n=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===fC.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]}))}))},e}();const yC=mC;var vC={toRGBA8:function(e){var t=e.width,n=e.height;if(null==e.tabs.acTL)return[vC.toRGBA8.decodeImage(e.data,t,n,e).buffer];var r=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var i=t*n*4,o=new Uint8Array(i),s=new Uint8Array(i),a=new Uint8Array(i),c=0;c<e.frames.length;c++){var l=e.frames[c],u=l.rect.x,h=l.rect.y,d=l.rect.width,f=l.rect.height,p=vC.toRGBA8.decodeImage(l.data,d,f,e);if(0!=c)for(var g=0;g<i;g++)a[g]=o[g];if(0==l.blend?vC._copyTile(p,d,f,o,t,n,u,h,0):1==l.blend&&vC._copyTile(p,d,f,o,t,n,u,h,1),r.push(o.buffer.slice(0)),0==l.dispose);else if(1==l.dispose)vC._copyTile(s,d,f,o,t,n,u,h,0);else if(2==l.dispose)for(g=0;g<i;g++)o[g]=a[g]}return r}};vC.toRGBA8.decodeImage=function(e,t,n,r){var i=t*n,o=vC.decode._getBPP(r),s=Math.ceil(t*o/8),a=new Uint8Array(4*i),c=new Uint32Array(a.buffer),l=r.ctype,u=r.depth,h=vC._bin.readUshort;Date.now();if(6==l){var d=i<<2;if(8==u)for(var f=0;f<d;f+=4)a[f]=e[f],a[f+1]=e[f+1],a[f+2]=e[f+2],a[f+3]=e[f+3];if(16==u)for(f=0;f<d;f++)a[f]=e[f<<1]}else if(2==l){var p=r.tabs.tRNS;if(null==p){if(8==u)for(f=0;f<i;f++){var g=3*f;c[f]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g]}if(16==u)for(f=0;f<i;f++){g=6*f;c[f]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g]}}else{var m=p[0],y=p[1],v=p[2];if(8==u)for(f=0;f<i;f++){var b=f<<2;g=3*f;c[f]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==m&&e[g+1]==y&&e[g+2]==v&&(a[b+3]=0)}if(16==u)for(f=0;f<i;f++){b=f<<2,g=6*f;c[f]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g],h(e,g)==m&&h(e,g+2)==y&&h(e,g+4)==v&&(a[b+3]=0)}}}else if(3==l){var w=r.tabs.PLTE,C=r.tabs.tRNS,S=C?C.length:0;if(1==u)for(var A=0;A<n;A++){var k=A*s,x=A*t;for(f=0;f<t;f++){b=x+f<<2;var T=3*(E=e[k+(f>>3)]>>7-(7&f)&1);a[b]=w[T],a[b+1]=w[T+1],a[b+2]=w[T+2],a[b+3]=E<S?C[E]:255}}if(2==u)for(A=0;A<n;A++)for(k=A*s,x=A*t,f=0;f<t;f++){b=x+f<<2,T=3*(E=e[k+(f>>2)]>>6-((3&f)<<1)&3);a[b]=w[T],a[b+1]=w[T+1],a[b+2]=w[T+2],a[b+3]=E<S?C[E]:255}if(4==u)for(A=0;A<n;A++)for(k=A*s,x=A*t,f=0;f<t;f++){b=x+f<<2,T=3*(E=e[k+(f>>1)]>>4-((1&f)<<2)&15);a[b]=w[T],a[b+1]=w[T+1],a[b+2]=w[T+2],a[b+3]=E<S?C[E]:255}if(8==u)for(f=0;f<i;f++){var E;b=f<<2,T=3*(E=e[f]);a[b]=w[T],a[b+1]=w[T+1],a[b+2]=w[T+2],a[b+3]=E<S?C[E]:255}}else if(4==l){if(8==u)for(f=0;f<i;f++){b=f<<2;var _=e[I=f<<1];a[b]=_,a[b+1]=_,a[b+2]=_,a[b+3]=e[I+1]}if(16==u)for(f=0;f<i;f++){var I;b=f<<2,_=e[I=f<<2];a[b]=_,a[b+1]=_,a[b+2]=_,a[b+3]=e[I+2]}}else if(0==l)for(m=r.tabs.tRNS?r.tabs.tRNS:-1,A=0;A<n;A++){var P=A*s,R=A*t;if(1==u)for(var N=0;N<t;N++){var O=(_=255*(e[P+(N>>>3)]>>>7-(7&N)&1))==255*m?0:255;c[R+N]=O<<24|_<<16|_<<8|_}else if(2==u)for(N=0;N<t;N++){O=(_=85*(e[P+(N>>>2)]>>>6-((3&N)<<1)&3))==85*m?0:255;c[R+N]=O<<24|_<<16|_<<8|_}else if(4==u)for(N=0;N<t;N++){O=(_=17*(e[P+(N>>>1)]>>>4-((1&N)<<2)&15))==17*m?0:255;c[R+N]=O<<24|_<<16|_<<8|_}else if(8==u)for(N=0;N<t;N++){O=(_=e[P+N])==m?0:255;c[R+N]=O<<24|_<<16|_<<8|_}else if(16==u)for(N=0;N<t;N++){_=e[P+(N<<1)],O=h(e,P+(N<<f))==m?0:255;c[R+N]=O<<24|_<<16|_<<8|_}}return a},vC.decode=function(e){for(var t,n=new Uint8Array(e),r=8,i=vC._bin,o=i.readUshort,s=i.readUint,a={tabs:{},frames:[]},c=new Uint8Array(n.length),l=0,u=0,h=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(n[d]!=h[d])throw"The input is not a PNG file!";for(;r<n.length;){var f=i.readUint(n,r);r+=4;var p=i.readASCII(n,r,4);if(r+=4,"IHDR"==p)vC.decode._IHDR(n,r,a);else if("IDAT"==p){for(d=0;d<f;d++)c[l+d]=n[r+d];l+=f}else if("acTL"==p)a.tabs[p]={num_frames:s(n,r),num_plays:s(n,r+4)},t=new Uint8Array(n.length);else if("fcTL"==p){var g;if(0!=u)(g=a.frames[a.frames.length-1]).data=vC.decode._decompress(a,t.slice(0,u),g.rect.width,g.rect.height),u=0;var m={x:s(n,r+12),y:s(n,r+16),width:s(n,r+4),height:s(n,r+8)},y=o(n,r+22);y=o(n,r+20)/(0==y?100:y);var v={rect:m,delay:Math.round(1e3*y),dispose:n[r+24],blend:n[r+25]};a.frames.push(v)}else if("fdAT"==p){for(d=0;d<f-4;d++)t[u+d]=n[r+d+4];u+=f-4}else if("pHYs"==p)a.tabs[p]=[i.readUint(n,r),i.readUint(n,r+4),n[r+8]];else if("cHRM"==p){a.tabs[p]=[];for(d=0;d<8;d++)a.tabs[p].push(i.readUint(n,r+4*d))}else if("tEXt"==p){null==a.tabs[p]&&(a.tabs[p]={});var b=i.nextZero(n,r),w=i.readASCII(n,r,b-r),C=i.readASCII(n,b+1,r+f-b-1);a.tabs[p][w]=C}else if("iTXt"==p){null==a.tabs[p]&&(a.tabs[p]={});b=0;var S=r;b=i.nextZero(n,S);w=i.readASCII(n,S,b-S),n[S=b+1],n[S+1];S+=2,b=i.nextZero(n,S);i.readASCII(n,S,b-S);S=b+1,b=i.nextZero(n,S);i.readUTF8(n,S,b-S);S=b+1;C=i.readUTF8(n,S,f-(S-r));a.tabs[p][w]=C}else if("PLTE"==p)a.tabs[p]=i.readBytes(n,r,f);else if("hIST"==p){var A=a.tabs.PLTE.length/3;a.tabs[p]=[];for(d=0;d<A;d++)a.tabs[p].push(o(n,r+2*d))}else if("tRNS"==p)3==a.ctype?a.tabs[p]=i.readBytes(n,r,f):0==a.ctype?a.tabs[p]=o(n,r):2==a.ctype&&(a.tabs[p]=[o(n,r),o(n,r+2),o(n,r+4)]);else if("gAMA"==p)a.tabs[p]=i.readUint(n,r)/1e5;else if("sRGB"==p)a.tabs[p]=n[r];else if("bKGD"==p)0==a.ctype||4==a.ctype?a.tabs[p]=[o(n,r)]:2==a.ctype||6==a.ctype?a.tabs[p]=[o(n,r),o(n,r+2),o(n,r+4)]:3==a.ctype&&(a.tabs[p]=n[r]);else if("IEND"==p)break;r+=f;i.readUint(n,r);r+=4}0!=u&&((g=a.frames[a.frames.length-1]).data=vC.decode._decompress(a,t.slice(0,u),g.rect.width,g.rect.height),u=0);return a.data=vC.decode._decompress(a,c,a.width,a.height),delete a.compress,delete a.interlace,delete a.filter,a},vC.decode._decompress=function(e,t,n,r){Date.now();var i=vC.decode._getBPP(e),o=Math.ceil(n*i/8),s=new Uint8Array((o+1+e.interlace)*r);t=vC.decode._inflate(t,s);Date.now();return 0==e.interlace?t=vC.decode._filterZero(t,e,0,n,r):1==e.interlace&&(t=vC.decode._readInterlace(t,e)),t},vC.decode._inflate=function(e,t){return vC.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},vC.inflateRaw=function(){var e={H:{}};return e.H.N=function(t,n){var r,i,o=Uint8Array,s=0,a=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0;if(3==t[0]&&0==t[1])return n||new o(0);var g=e.H,m=g.b,y=g.e,v=g.R,b=g.n,w=g.A,C=g.Z,S=g.m,A=null==n;for(A&&(n=new o(t.length>>>2<<3));0==s;)if(s=m(t,p,1),a=m(t,p+1,2),p+=3,0!=a){if(A&&(n=e.H.W(n,f+(1<<17))),1==a&&(r=S.J,i=S.h,h=511,d=31),2==a){c=y(t,p,5)+257,l=y(t,p+5,5)+1,u=y(t,p+10,4)+4;p+=14;for(var k=1,x=0;x<38;x+=2)S.Q[x]=0,S.Q[x+1]=0;for(x=0;x<u;x++){var T=y(t,p+3*x,3);S.Q[1+(S.X[x]<<1)]=T,T>k&&(k=T)}p+=3*u,b(S.Q,k),w(S.Q,k,S.u),r=S.w,i=S.d,p=v(S.u,(1<<k)-1,c+l,t,p,S.v);var E=g.V(S.v,0,c,S.C);h=(1<<E)-1;var _=g.V(S.v,c,l,S.D);d=(1<<_)-1,b(S.C,E),w(S.C,E,r),b(S.D,_),w(S.D,_,i)}for(;;){var I=r[C(t,p)&h];p+=15&I;var P=I>>>4;if(P>>>8==0)n[f++]=P;else{if(256==P)break;var R=f+P-254;if(P>264){var N=S.q[P-257];R=f+(N>>>3)+y(t,p,7&N),p+=7&N}var O=i[C(t,p)&d];p+=15&O;var F=O>>>4,M=S.c[F],D=(M>>>4)+m(t,p,15&M);for(p+=15&M;f<R;)n[f]=n[f++-D],n[f]=n[f++-D],n[f]=n[f++-D],n[f]=n[f++-D];f=R}}}else{0!=(7&p)&&(p+=8-(7&p));var L=4+(p>>>3),j=t[L-4]|t[L-3]<<8;A&&(n=e.H.W(n,f+j)),n.set(new o(t.buffer,t.byteOffset+L,j),f),p=L+j<<3,f+=j}return n.length==f?n:n.slice(0,f)},e.H.W=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(n<<1);return r.set(e,0),r},e.H.R=function(t,n,r,i,o,s){for(var a=e.H.e,c=e.H.Z,l=0;l<r;){var u=t[c(i,o)&n];o+=15&u;var h=u>>>4;if(h<=15)s[l]=h,l++;else{var d=0,f=0;16==h?(f=3+a(i,o,2),o+=2,d=s[l-1]):17==h?(f=3+a(i,o,3),o+=3):18==h&&(f=11+a(i,o,7),o+=7);for(var p=l+f;l<p;)s[l]=d,l++}}return o},e.H.V=function(e,t,n,r){for(var i=0,o=0,s=r.length>>>1;o<n;){var a=e[o+t];r[o<<1]=0,r[1+(o<<1)]=a,a>i&&(i=a),o++}for(;o<s;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},e.H.n=function(t,n){for(var r,i,o,s,a=e.H.m,c=t.length,l=a.j,u=0;u<=n;u++)l[u]=0;for(u=1;u<c;u+=2)l[t[u]]++;var h=a.K;for(r=0,l[0]=0,i=1;i<=n;i++)r=r+l[i-1]<<1,h[i]=r;for(o=0;o<c;o+=2)0!=(s=t[o+1])&&(t[o]=h[s],h[s]++)},e.H.A=function(t,n,r){for(var i=t.length,o=e.H.m.r,s=0;s<i;s+=2)if(0!=t[s+1])for(var a=s>>1,c=t[s+1],l=a<<4|c,u=n-c,h=t[s]<<u,d=h+(1<<u);h!=d;){r[o[h]>>>15-n]=l,h++}},e.H.l=function(t,n){for(var r=e.H.m.r,i=15-n,o=0;o<t.length;o+=2){var s=t[o]<<n-t[o+1];t[o]=r[s]>>>i}},e.H.M=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){var e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var t=e.H.m,n=0;n<32768;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.r[n]=(r>>>16|r<<16)>>>17}function i(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];i(t._,144,8),i(t._,112,9),i(t._,24,7),i(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),i(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),i(t.Q,19,0),i(t.C,286,0),i(t.D,30,0),i(t.v,320,0)}(),e.H.N}(),vC.decode._readInterlace=function(e,t){for(var n=t.width,r=t.height,i=vC.decode._getBPP(t),o=i>>3,s=Math.ceil(n*i/8),a=new Uint8Array(r*s),c=0,l=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],f=0;f<7;){for(var p=h[f],g=d[f],m=0,y=0,v=l[f];v<r;)v+=p,y++;for(var b=u[f];b<n;)b+=g,m++;var w=Math.ceil(m*i/8);vC.decode._filterZero(e,t,c,m,y);for(var C=0,S=l[f];S<r;){for(var A=u[f],k=c+C*w<<3;A<n;){var x;if(1==i)x=(x=e[k>>3])>>7-(7&k)&1,a[S*s+(A>>3)]|=x<<7-(7&A);if(2==i)x=(x=e[k>>3])>>6-(7&k)&3,a[S*s+(A>>2)]|=x<<6-((3&A)<<1);if(4==i)x=(x=e[k>>3])>>4-(7&k)&15,a[S*s+(A>>1)]|=x<<4-((1&A)<<2);if(i>=8)for(var T=S*s+A*o,E=0;E<o;E++)a[T+E]=e[(k>>3)+E];k+=i,A+=g}C++,S+=p}m*y!=0&&(c+=y*(1+w)),f+=1}return a},vC.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},vC.decode._filterZero=function(e,t,n,r,i){var o=vC.decode._getBPP(t),s=Math.ceil(r*o/8),a=vC.decode._paeth;o=Math.ceil(o/8);var c=0,l=1,u=e[n],h=0;if(u>1&&(e[n]=[0,0,1][u-2]),3==u)for(h=o;h<s;h++)e[h+1]=e[h+1]+(e[h+1-o]>>>1)&255;for(var d=0;d<i;d++)if(h=0,0==(u=e[(l=(c=n+d*s)+d+1)-1]))for(;h<s;h++)e[c+h]=e[l+h];else if(1==u){for(;h<o;h++)e[c+h]=e[l+h];for(;h<s;h++)e[c+h]=e[l+h]+e[c+h-o]}else if(2==u)for(;h<s;h++)e[c+h]=e[l+h]+e[c+h-s];else if(3==u){for(;h<o;h++)e[c+h]=e[l+h]+(e[c+h-s]>>>1);for(;h<s;h++)e[c+h]=e[l+h]+(e[c+h-s]+e[c+h-o]>>>1)}else{for(;h<o;h++)e[c+h]=e[l+h]+a(0,e[c+h-s],0);for(;h<s;h++)e[c+h]=e[l+h]+a(e[c+h-o],e[c+h-s],e[c+h-o-s])}return e},vC.decode._paeth=function(e,t,n){var r=e+t-n,i=r-e,o=r-t,s=r-n;return i*i<=o*o&&i*i<=s*s?e:o*o<=s*s?t:n},vC.decode._IHDR=function(e,t,n){var r=vC._bin;n.width=r.readUint(e,t),t+=4,n.height=r.readUint(e,t),t+=4,n.depth=e[t],t++,n.ctype=e[t],t++,n.compress=e[t],t++,n.filter=e[t],t++,n.interlace=e[t],t++},vC._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var r,i="",o=0;o<n;o++)i+="%"+vC._bin.pad(e[t+o].toString(16));try{r=decodeURIComponent(i)}catch(aj){return vC._bin.readASCII(e,t,n)}return r}},vC._copyTile=function(e,t,n,r,i,o,s,a,c){for(var l=Math.min(t,i),u=Math.min(n,o),h=0,d=0,f=0;f<u;f++)for(var p=0;p<l;p++)if(s>=0&&a>=0?(h=f*t+p<<2,d=(a+f)*i+s+p<<2):(h=(-a+f)*t-s+p<<2,d=f*i+p<<2),0==c)r[d]=e[h],r[d+1]=e[h+1],r[d+2]=e[h+2],r[d+3]=e[h+3];else if(1==c){var g=e[h+3]*(1/255),m=e[h]*g,y=e[h+1]*g,v=e[h+2]*g,b=r[d+3]*(1/255),w=r[d]*b,C=r[d+1]*b,S=r[d+2]*b,A=1-g,k=g+b*A,x=0==k?0:1/k;r[d+3]=255*k,r[d+0]=(m+w*A)*x,r[d+1]=(y+C*A)*x,r[d+2]=(v+S*A)*x}else if(2==c){g=e[h+3],m=e[h],y=e[h+1],v=e[h+2],b=r[d+3],w=r[d],C=r[d+1],S=r[d+2];g==b&&m==w&&y==C&&v==S?(r[d]=0,r[d+1]=0,r[d+2]=0,r[d+3]=0):(r[d]=m,r[d+1]=y,r[d+2]=v,r[d+3]=g)}else if(3==c){g=e[h+3],m=e[h],y=e[h+1],v=e[h+2],b=r[d+3],w=r[d],C=r[d+1],S=r[d+2];if(g==b&&m==w&&y==C&&v==S)continue;if(g<220&&b>20)return!1}return!0},vC.encode=function(e,t,n,r,i,o,s){null==r&&(r=0),null==s&&(s=!1);var a=vC.encode.compress(e,t,n,r,[!1,!1,!1,0,s]);return vC.encode.compressPNG(a,-1),vC.encode._main(a,t,n,i,o)},vC.encodeLL=function(e,t,n,r,i,o,s,a){for(var c={ctype:0+(1==r?0:2)+(0==i?0:4),depth:o,frames:[]},l=(Date.now(),(r+i)*o),u=l*t,h=0;h<e.length;h++)c.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[h]),blend:0,dispose:1,bpp:Math.ceil(l/8),bpl:Math.ceil(u/8)});return vC.encode.compressPNG(c,0,!0),vC.encode._main(c,t,n,s,a)},vC.encode._main=function(e,t,n,r,i){null==i&&(i={});var o=vC.crc.crc,s=vC._bin.writeUint,a=vC._bin.writeUshort,c=vC._bin.writeASCII,l=8,u=e.frames.length>1,h=!1,d=33+(u?20:0);if(null!=i.sRGB&&(d+=13),null!=i.pHYs&&(d+=21),3==e.ctype){for(var f=e.plte.length,p=0;p<f;p++)e.plte[p]>>>24!=255&&(h=!0);d+=8+3*f+4+(h?8+1*f+4:0)}for(var g=0;g<e.frames.length;g++){u&&(d+=38),d+=(k=e.frames[g]).cimg.length+12,0!=g&&(d+=4)}d+=12;var m=new Uint8Array(d),y=[137,80,78,71,13,10,26,10];for(p=0;p<8;p++)m[p]=y[p];if(s(m,l,13),c(m,l+=4,"IHDR"),s(m,l+=4,t),s(m,l+=4,n),m[l+=4]=e.depth,m[++l]=e.ctype,m[++l]=0,m[++l]=0,m[++l]=0,s(m,++l,o(m,l-17,17)),l+=4,null!=i.sRGB&&(s(m,l,1),c(m,l+=4,"sRGB"),m[l+=4]=i.sRGB,s(m,++l,o(m,l-5,5)),l+=4),null!=i.pHYs&&(s(m,l,9),c(m,l+=4,"pHYs"),s(m,l+=4,i.pHYs[0]),s(m,l+=4,i.pHYs[1]),m[l+=4]=i.pHYs[2],s(m,++l,o(m,l-13,13)),l+=4),u&&(s(m,l,8),c(m,l+=4,"acTL"),s(m,l+=4,e.frames.length),s(m,l+=4,null!=i.loop?i.loop:0),s(m,l+=4,o(m,l-12,12)),l+=4),3==e.ctype){s(m,l,3*(f=e.plte.length)),c(m,l+=4,"PLTE"),l+=4;for(p=0;p<f;p++){var v=3*p,b=e.plte[p],w=255&b,C=b>>>8&255,S=b>>>16&255;m[l+v+0]=w,m[l+v+1]=C,m[l+v+2]=S}if(s(m,l+=3*f,o(m,l-3*f-4,3*f+4)),l+=4,h){s(m,l,f),c(m,l+=4,"tRNS"),l+=4;for(p=0;p<f;p++)m[l+p]=e.plte[p]>>>24&255;s(m,l+=f,o(m,l-f-4,f+4)),l+=4}}var A=0;for(g=0;g<e.frames.length;g++){var k=e.frames[g];u&&(s(m,l,26),c(m,l+=4,"fcTL"),s(m,l+=4,A++),s(m,l+=4,k.rect.width),s(m,l+=4,k.rect.height),s(m,l+=4,k.rect.x),s(m,l+=4,k.rect.y),a(m,l+=4,r[g]),a(m,l+=2,1e3),m[l+=2]=k.dispose,m[++l]=k.blend,s(m,++l,o(m,l-30,30)),l+=4);var x=k.cimg;s(m,l,(f=x.length)+(0==g?0:4));var T=l+=4;c(m,l,0==g?"IDAT":"fdAT"),l+=4,0!=g&&(s(m,l,A++),l+=4),m.set(x,l),s(m,l+=f,o(m,T,l-T)),l+=4}return s(m,l,0),c(m,l+=4,"IEND"),s(m,l+=4,o(m,l-4,4)),l+=4,m.buffer},vC.encode.compressPNG=function(e,t,n){for(var r=0;r<e.frames.length;r++){var i=e.frames[r],o=(i.rect.width,i.rect.height),s=new Uint8Array(o*i.bpl+o);i.cimg=vC.encode._filterZero(i.img,o,i.bpp,i.bpl,s,t,n)}},vC.encode.compress=function(e,t,n,r,i){for(var o=i[0],s=i[1],a=i[2],c=i[3],l=i[4],u=6,h=8,d=255,f=0;f<e.length;f++)for(var p=new Uint8Array(e[f]),g=p.length,m=0;m<g;m+=4)d&=p[m+3];var y=255!=d,v=vC.encode.framize(e,t,n,o,s,a),b={},w=[],C=[];if(0!=r){var S=[];for(m=0;m<v.length;m++)S.push(v[m].img.buffer);var A=vC.encode.concatRGBA(S),k=vC.quantize(A,r),x=0,T=new Uint8Array(k.abuf);for(m=0;m<v.length;m++){var E=(W=v[m].img).length;C.push(new Uint8Array(k.inds.buffer,x>>2,E>>2));for(f=0;f<E;f+=4)W[f]=T[x+f],W[f+1]=T[x+f+1],W[f+2]=T[x+f+2],W[f+3]=T[x+f+3];x+=E}for(m=0;m<k.plte.length;m++)w.push(k.plte[m].est.rgba)}else for(f=0;f<v.length;f++){var _=v[f],I=new Uint32Array(_.img.buffer),P=_.rect.width,R=(g=I.length,new Uint8Array(g));C.push(R);for(m=0;m<g;m++){var N=I[m];if(0!=m&&N==I[m-1])R[m]=R[m-1];else if(m>P&&N==I[m-P])R[m]=R[m-P];else{var O=b[N];if(null==O&&(b[N]=O=w.length,w.push(N),w.length>=300))break;R[m]=O}}}var F=w.length;F<=256&&0==l&&(h=F<=2?1:F<=4?2:F<=16?4:8,h=Math.max(h,c));for(f=0;f<v.length;f++){(_=v[f]).rect.x,_.rect.y,P=_.rect.width;var M=_.rect.height,D=_.img,L=(new Uint32Array(D.buffer),4*P),j=4;if(F<=256&&0==l){L=Math.ceil(h*P/8);for(var U=new Uint8Array(L*M),B=C[f],q=0;q<M;q++){m=q*L;var z=q*P;if(8==h)for(var V=0;V<P;V++)U[m+V]=B[z+V];else if(4==h)for(V=0;V<P;V++)U[m+(V>>1)]|=B[z+V]<<4-4*(1&V);else if(2==h)for(V=0;V<P;V++)U[m+(V>>2)]|=B[z+V]<<6-2*(3&V);else if(1==h)for(V=0;V<P;V++)U[m+(V>>3)]|=B[z+V]<<7-1*(7&V)}D=U,u=3,j=1}else if(0==y&&1==v.length){U=new Uint8Array(P*M*3);var H=P*M;for(m=0;m<H;m++){var W,K=4*m;U[W=3*m]=D[K],U[W+1]=D[K+1],U[W+2]=D[K+2]}D=U,u=2,j=3,L=3*P}_.img=D,_.bpl=L,_.bpp=j}return{ctype:u,depth:h,plte:w,frames:v}},vC.encode.framize=function(e,t,n,r,i,o){for(var s=[],a=0;a<e.length;a++){var c,l=new Uint8Array(e[a]),u=new Uint32Array(l.buffer),h=0,d=0,f=t,p=n,g=r?1:0;if(0!=a){for(var m=o||r||1==a||0!=s[a-2].dispose?1:2,y=0,v=1e9,b=0;b<m;b++){for(var w=new Uint8Array(e[a-1-b]),C=new Uint32Array(e[a-1-b]),S=t,A=n,k=-1,x=-1,T=0;T<n;T++)for(var E=0;E<t;E++){u[F=T*t+E]!=C[F]&&(E<S&&(S=E),E>k&&(k=E),T<A&&(A=T),T>x&&(x=T))}-1==k&&(S=A=k=x=0),i&&(1==(1&S)&&S--,1==(1&A)&&A--);var _=(k-S+1)*(x-A+1);_<v&&(v=_,y=b,h=S,d=A,f=k-S+1,p=x-A+1)}w=new Uint8Array(e[a-1-y]);1==y&&(s[a-1].dispose=2),c=new Uint8Array(f*p*4),vC._copyTile(w,t,n,c,f,p,-h,-d,0),1==(g=vC._copyTile(l,t,n,c,f,p,-h,-d,3)?1:0)?vC.encode._prepareDiff(l,t,n,c,{x:h,y:d,width:f,height:p}):vC._copyTile(l,t,n,c,f,p,-h,-d,0)}else c=l.slice(0);s.push({rect:{x:h,y:d,width:f,height:p},img:c,blend:g,dispose:0})}if(r)for(a=0;a<s.length;a++){if(1!=(M=s[a]).blend){var I=M.rect,P=s[a-1].rect,R=Math.min(I.x,P.x),N=Math.min(I.y,P.y),O={x:R,y:N,width:Math.max(I.x+I.width,P.x+P.width)-R,height:Math.max(I.y+I.height,P.y+P.height)-N};s[a-1].dispose=1,a-1!=0&&vC.encode._updateFrame(e,t,n,s,a-1,O,i),vC.encode._updateFrame(e,t,n,s,a,O,i)}}if(1!=e.length)for(var F=0;F<s.length;F++){var M;(M=s[F]).rect.width*M.rect.height}return s},vC.encode._updateFrame=function(e,t,n,r,i,o,s){for(var a=Uint8Array,c=Uint32Array,l=new a(e[i-1]),u=new c(e[i-1]),h=i+1<e.length?new a(e[i+1]):null,d=new a(e[i]),f=new c(d.buffer),p=t,g=n,m=-1,y=-1,v=0;v<o.height;v++)for(var b=0;b<o.width;b++){var w=o.x+b,C=o.y+v,S=C*t+w,A=f[S];0==A||0==r[i-1].dispose&&u[S]==A&&(null==h||0!=h[4*S+3])||(w<p&&(p=w),w>m&&(m=w),C<g&&(g=C),C>y&&(y=C))}-1==m&&(p=g=m=y=0),s&&(1==(1&p)&&p--,1==(1&g)&&g--),o={x:p,y:g,width:m-p+1,height:y-g+1};var k=r[i];k.rect=o,k.blend=1,k.img=new Uint8Array(o.width*o.height*4),0==r[i-1].dispose?(vC._copyTile(l,t,n,k.img,o.width,o.height,-o.x,-o.y,0),vC.encode._prepareDiff(d,t,n,k.img,o)):vC._copyTile(d,t,n,k.img,o.width,o.height,-o.x,-o.y,0)},vC.encode._prepareDiff=function(e,t,n,r,i){vC._copyTile(e,t,n,r,i.width,i.height,-i.x,-i.y,2)},vC.encode._filterZero=function(e,t,n,r,i,o,s){var a,c=[],l=[0,1,2,3,4];-1!=o?l=[o]:(t*r>5e5||1==n)&&(l=[0]),s&&(a={level:0});for(var u=s&&null!=UZIP?UZIP:Uv(),h=0;h<l.length;h++){for(var d=0;d<t;d++)vC.encode._filterLine(i,e,d,r,n,l[h]);c.push(u.deflate(i,a))}var f,p=1e9;for(h=0;h<c.length;h++)c[h].length<p&&(f=h,p=c[h].length);return c[f]},vC.encode._filterLine=function(e,t,n,r,i,o){var s=n*r,a=s+n,c=vC.decode._paeth;if(e[a]=o,a++,0==o)if(r<500)for(var l=0;l<r;l++)e[a+l]=t[s+l];else e.set(new Uint8Array(t.buffer,s,r),a);else if(1==o){for(l=0;l<i;l++)e[a+l]=t[s+l];for(l=i;l<r;l++)e[a+l]=t[s+l]-t[s+l-i]+256&255}else if(0==n){for(l=0;l<i;l++)e[a+l]=t[s+l];if(2==o)for(l=i;l<r;l++)e[a+l]=t[s+l];if(3==o)for(l=i;l<r;l++)e[a+l]=t[s+l]-(t[s+l-i]>>1)+256&255;if(4==o)for(l=i;l<r;l++)e[a+l]=t[s+l]-c(t[s+l-i],0,0)+256&255}else{if(2==o)for(l=0;l<r;l++)e[a+l]=t[s+l]+256-t[s+l-r]&255;if(3==o){for(l=0;l<i;l++)e[a+l]=t[s+l]+256-(t[s+l-r]>>1)&255;for(l=i;l<r;l++)e[a+l]=t[s+l]+256-(t[s+l-r]+t[s+l-i]>>1)&255}if(4==o){for(l=0;l<i;l++)e[a+l]=t[s+l]+256-c(0,t[s+l-r],0)&255;for(l=i;l<r;l++)e[a+l]=t[s+l]+256-c(t[s+l-i],t[s+l-r],t[s+l-i-r])&255}}},vC.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=vC.crc.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^vC.crc.update(4294967295,e,t,n)}},vC.quantize=function(e,t){for(var n=new Uint8Array(e),r=n.slice(0),i=new Uint32Array(r.buffer),o=vC.quantize.getKDtree(r,t),s=o[0],a=o[1],c=(vC.quantize.planeDst,n),l=i,u=c.length,h=new Uint8Array(n.length>>2),d=0;d<u;d+=4){var f=c[d]*(1/255),p=c[d+1]*(1/255),g=c[d+2]*(1/255),m=c[d+3]*(1/255),y=vC.quantize.getNearest(s,f,p,g,m);h[d>>2]=y.ind,l[d>>2]=y.est.rgba}return{abuf:r.buffer,inds:h,plte:a}},vC.quantize.getKDtree=function(e,t,n){null==n&&(n=1e-4);var r=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=vC.quantize.stats(e,i.i0,i.i1),i.est=vC.quantize.estats(i.bst);for(var o=[i];o.length<t;){for(var s=0,a=0,c=0;c<o.length;c++)o[c].est.L>s&&(s=o[c].est.L,a=c);if(s<n)break;var l=o[a],u=vC.quantize.splitPixels(e,r,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=u||l.i1<=u)l.est.L=0;else{var h={i0:l.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};h.bst=vC.quantize.stats(e,h.i0,h.i1),h.est=vC.quantize.estats(h.bst);var d={i0:u,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};d.bst={R:[],m:[],N:l.bst.N-h.bst.N};for(c=0;c<16;c++)d.bst.R[c]=l.bst.R[c]-h.bst.R[c];for(c=0;c<4;c++)d.bst.m[c]=l.bst.m[c]-h.bst.m[c];d.est=vC.quantize.estats(d.bst),l.left=h,l.right=d,o[a]=h,o.push(d)}}o.sort((function(e,t){return t.bst.N-e.bst.N}));for(c=0;c<o.length;c++)o[c].ind=c;return[i,o]},vC.quantize.getNearest=function(e,t,n,r,i){if(null==e.left)return e.tdst=vC.quantize.dist(e.est.q,t,n,r,i),e;var o=vC.quantize.planeDst(e.est,t,n,r,i),s=e.left,a=e.right;o>0&&(s=e.right,a=e.left);var c=vC.quantize.getNearest(s,t,n,r,i);if(c.tdst<=o*o)return c;var l=vC.quantize.getNearest(a,t,n,r,i);return l.tdst<c.tdst?l:c},vC.quantize.planeDst=function(e,t,n,r,i){var o=e.e;return o[0]*t+o[1]*n+o[2]*r+o[3]*i-e.eMq},vC.quantize.dist=function(e,t,n,r,i){var o=t-e[0],s=n-e[1],a=r-e[2],c=i-e[3];return o*o+s*s+a*a+c*c},vC.quantize.splitPixels=function(e,t,n,r,i,o){var s=vC.quantize.vecDot;r-=4;for(;n<r;){for(;s(e,n,i)<=o;)n+=4;for(;s(e,r,i)>o;)r-=4;if(n>=r)break;var a=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=a,n+=4,r-=4}for(;s(e,n,i)>o;)n-=4;return n+4},vC.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},vC.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=n-t>>2,s=t;s<n;s+=4){var a=e[s]*(1/255),c=e[s+1]*(1/255),l=e[s+2]*(1/255),u=e[s+3]*(1/255);i[0]+=a,i[1]+=c,i[2]+=l,i[3]+=u,r[0]+=a*a,r[1]+=a*c,r[2]+=a*l,r[3]+=a*u,r[5]+=c*c,r[6]+=c*l,r[7]+=c*u,r[10]+=l*l,r[11]+=l*u,r[15]+=u*u}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:o}},vC.quantize.estats=function(e){var t=e.R,n=e.m,r=e.N,i=n[0],o=n[1],s=n[2],a=n[3],c=0==r?0:1/r,l=[t[0]-i*i*c,t[1]-i*o*c,t[2]-i*s*c,t[3]-i*a*c,t[4]-o*i*c,t[5]-o*o*c,t[6]-o*s*c,t[7]-o*a*c,t[8]-s*i*c,t[9]-s*o*c,t[10]-s*s*c,t[11]-s*a*c,t[12]-a*i*c,t[13]-a*o*c,t[14]-a*s*c,t[15]-a*a*c],u=l,h=vC.M4,d=[.5,.5,.5,.5],f=0,p=0;if(0!=r)for(var g=0;g<10&&(d=h.multVec(u,d),p=Math.sqrt(h.dot(d,d)),d=h.sml(1/p,d),!(Math.abs(p-f)<1e-9));g++)f=p;var m=[i*c,o*c,s*c,a*c];return{Cov:l,q:m,e:d,L:f,eMq255:h.dot(h.sml(255,m),d),eMq:h.dot(d,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0]))>>>0}},vC.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},vC.encode.concatRGBA=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].byteLength;var r=new Uint8Array(t),i=0;for(n=0;n<e.length;n++){for(var o=new Uint8Array(e[n]),s=o.length,a=0;a<s;a+=4){var c=o[a],l=o[a+1],u=o[a+2],h=o[a+3];0==h&&(c=l=u=0),r[i+a]=c,r[i+a+1]=l,r[i+a+2]=u,r[i+a+3]=h}i+=s}return r.buffer};const bC=vC;var wC;!function(e){e.Greyscale="Greyscale",e.Truecolour="Truecolour",e.IndexedColour="IndexedColour",e.GreyscaleWithAlpha="GreyscaleWithAlpha",e.TruecolourWithAlpha="TruecolourWithAlpha"}(wC||(wC={}));var CC=function(){function e(e){var t=bC.decode(e),n=bC.toRGBA8(t);if(n.length>1)throw new Error("Animated PNGs are not supported");var r=function(e){for(var t=Math.floor(e.length/4),n=new Uint8Array(3*t),r=new Uint8Array(1*t),i=0,o=0,s=0;i<e.length;)n[o++]=e[i++],n[o++]=e[i++],n[o++]=e[i++],r[s++]=e[i++];return{rgbChannel:n,alphaChannel:r}}(new Uint8Array(n[0])),i=r.rgbChannel,o=r.alphaChannel;this.rgbChannel=i,o.some((function(e){return e<255}))&&(this.alphaChannel=o),this.type=function(e){if(0===e)return wC.Greyscale;if(2===e)return wC.Truecolour;if(3===e)return wC.IndexedColour;if(4===e)return wC.GreyscaleWithAlpha;if(6===e)return wC.TruecolourWithAlpha;throw new Error("Unknown color type: "+e)}(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return e.load=function(t){return new e(t)},e}(),SC=function(){function e(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return e.for=function(t){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(n){return[2,new e(CC.load(t))]}))}))},e.prototype.embedIntoContext=function(e,t){return Wy(this,void 0,void 0,(function(){var n,r;return Ky(this,(function(i){return n=this.embedAlphaChannel(e),r=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),t?(e.assign(t,r),[2,t]):[2,e.register(r)]}))}))},e.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},e}();const AC=SC;var kC=function(){function e(e,t,n){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&n?t+n:this.bytes.length}return Object.defineProperty(e.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){void 0===t&&(t=!1);var n=this.bytes,r=this.pos,i=this.end;if(e){var o=r+e;o>i&&(o=i),this.pos=o;s=n.subarray(r,o);return t?new Uint8ClampedArray(s):s}var s=n.subarray(r,i);return t?new Uint8ClampedArray(s):s},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var n=this.getBytes(e,t);return this.pos-=n.length,n},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=this.start},e.prototype.moveStart=function(){this.start=this.pos},e.prototype.makeSubStream=function(t,n){return new e(this.bytes,t,n)},e.prototype.decode=function(){return this.bytes},e}();const xC=kC;var TC=new Uint8Array(0),EC=function(){function e(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=TC,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){var n;void 0===t&&(t=!1);var r=this.pos;if(e){for(this.ensureBuffer(r+e),n=r+e;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;n>i&&(n=i)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var o=this.buffer.subarray(r,n);return!t||o instanceof Uint8ClampedArray?o:new Uint8ClampedArray(o)},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var n=this.getBytes(e,t);return this.pos-=n.length,n},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=0},e.prototype.makeSubStream=function(e,t){for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new xC(this.buffer,e,t)},e.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},e.prototype.readBlock=function(){throw new wb(this.constructor.name,"readBlock")},e.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var n=this.minBufferLength;n<e;)n*=2;var r=new Uint8Array(n);return r.set(t),this.buffer=r},e}();const _C=EC;var IC=function(e){return 32===e||9===e||13===e||10===e},PC=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r.input=new Uint8Array(5),n&&(n*=.8),r}return Vy(t,e),t.prototype.readBlock=function(){for(var e=this.stream,t=e.getByte();IC(t);)t=e.getByte();if(-1!==t&&126!==t){var n,r,i=this.bufferLength;if(122===t){for(n=this.ensureBuffer(i+4),r=0;r<4;++r)n[i+r]=0;this.bufferLength+=4}else{var o=this.input;for(o[0]=t,r=1;r<5;++r){for(t=e.getByte();IC(t);)t=e.getByte();if(o[r]=t,-1===t||126===t)break}if(n=this.ensureBuffer(i+r-1),this.bufferLength+=r-1,r<5){for(;r<5;++r)o[r]=117;this.eof=!0}var s=0;for(r=0;r<5;++r)s=85*s+(o[r]-33);for(r=3;r>=0;--r)n[i+r]=255&s,s>>=8}}else this.eof=!0},t}(_C);const RC=PC;var NC=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r.firstDigit=-1,n&&(n*=.5),r}return Vy(t,e),t.prototype.readBlock=function(){var e=this.stream.getBytes(8e3);if(e.length){for(var t=e.length+1>>1,n=this.ensureBuffer(this.bufferLength+t),r=this.bufferLength,i=this.firstDigit,o=0,s=e.length;o<s;o++){var a=e[o],c=void 0;if(a>=48&&a<=57)c=15&a;else{if(!(a>=65&&a<=70||a>=97&&a<=102)){if(62===a){this.eof=!0;break}continue}c=9+(15&a)}i<0?i=c:(n[r++]=i<<4|c,i=-1)}i>=0&&this.eof&&(n[r++]=i<<4,i=-1),this.firstDigit=i,this.bufferLength=r}else this.eof=!0},t}(_C);const OC=NC;var FC=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MC=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),DC=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),LC=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],jC=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],UC=function(e){function t(t,n){var r=e.call(this,n)||this;r.stream=t;var i=t.getByte(),o=t.getByte();if(-1===i||-1===o)throw new Error("Invalid header in flate stream: "+i+", "+o);if(8!==(15&i))throw new Error("Unknown compression method in flate stream: "+i+", "+o);if(((i<<8)+o)%31!==0)throw new Error("Bad FCHECK in flate stream: "+i+", "+o);if(32&o)throw new Error("FDICT bit set in flate stream: "+i+", "+o);return r.codeSize=0,r.codeBuf=0,r}return Vy(t,e),t.prototype.readBlock=function(){var e,t,n=this.stream,r=this.getBits(3);if(1&r&&(this.eof=!0),0!==(r>>=1)){var i,o;if(1===r)i=LC,o=jC;else{if(2!==r)throw new Error("Unknown block type in flate stream");var s=this.getBits(5)+257,a=this.getBits(5)+1,c=this.getBits(4)+4,l=new Uint8Array(FC.length),u=void 0;for(u=0;u<c;++u)l[FC[u]]=this.getBits(3);var h=this.generateHuffmanTable(l);t=0,u=0;for(var d=s+a,f=new Uint8Array(d),p=void 0,g=void 0,m=void 0;u<d;){var y=this.getCode(h);if(16===y)p=2,g=3,m=t;else if(17===y)p=3,g=3,m=t=0;else{if(18!==y){f[u++]=t=y;continue}p=7,g=11,m=t=0}for(var v=this.getBits(p)+g;v-- >0;)f[u++]=m}i=this.generateHuffmanTable(f.subarray(0,s)),o=this.generateHuffmanTable(f.subarray(s,d))}for(var b=(e=this.buffer)?e.length:0,w=this.bufferLength;;){var C=this.getCode(i);if(C<256)w+1>=b&&(b=(e=this.ensureBuffer(w+1)).length),e[w++]=C;else{if(256===C)return void(this.bufferLength=w);var S=(C=MC[C-=257])>>16;S>0&&(S=this.getBits(S)),t=(65535&C)+S,C=this.getCode(o),(S=(C=DC[C])>>16)>0&&(S=this.getBits(S));var A=(65535&C)+S;w+t>=b&&(b=(e=this.ensureBuffer(w+t)).length);for(var k=0;k<t;++k,++w)e[w]=e[w-A]}}}else{var x=void 0;if(-1===(x=n.getByte()))throw new Error("Bad block header in flate stream");var T=x;if(-1===(x=n.getByte()))throw new Error("Bad block header in flate stream");if(T|=x<<8,-1===(x=n.getByte()))throw new Error("Bad block header in flate stream");var E=x;if(-1===(x=n.getByte()))throw new Error("Bad block header in flate stream");if((E|=x<<8)!==(65535&~T)&&(0!==T||0!==E))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var _=this.bufferLength;e=this.ensureBuffer(_+T);var I=_+T;if(this.bufferLength=I,0===T)-1===n.peekByte()&&(this.eof=!0);else for(var P=_;P<I;++P){if(-1===(x=n.getByte())){this.eof=!0;break}e[P]=x}}},t.prototype.getBits=function(e){for(var t,n=this.stream,r=this.codeSize,i=this.codeBuf;r<e;){if(-1===(t=n.getByte()))throw new Error("Bad encoding in flate stream");i|=t<<r,r+=8}return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=r-=e,t},t.prototype.getCode=function(e){for(var t,n=this.stream,r=e[0],i=e[1],o=this.codeSize,s=this.codeBuf;o<i&&-1!==(t=n.getByte());)s|=t<<o,o+=8;var a=r[s&(1<<i)-1];"number"===typeof r&&console.log("FLATE:",a);var c=a>>16,l=65535&a;if(c<1||o<c)throw new Error("Bad encoding in flate stream");return this.codeBuf=s>>c,this.codeSize=o-c,l},t.prototype.generateHuffmanTable=function(e){var t,n=e.length,r=0;for(t=0;t<n;++t)e[t]>r&&(r=e[t]);for(var i=1<<r,o=new Int32Array(i),s=1,a=0,c=2;s<=r;++s,a<<=1,c<<=1)for(var l=0;l<n;++l)if(e[l]===s){var u=0,h=a;for(t=0;t<s;++t)u=u<<1|1&h,h>>=1;for(t=u;t<i;t+=c)o[t]=s<<16|l;++a}return[o,r]},t}(_C);const BC=UC;var qC=function(e){function t(t,n,r){var i=e.call(this,n)||this;i.stream=t,i.cachedData=0,i.bitsCached=0;for(var o=4096,s={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(o),dictionaryLengths:new Uint16Array(o),dictionaryPrevCodes:new Uint16Array(o),currentSequence:new Uint8Array(o),currentSequenceLength:0},a=0;a<256;++a)s.dictionaryValues[a]=a,s.dictionaryLengths[a]=1;return i.lzwState=s,i}return Vy(t,e),t.prototype.readBlock=function(){var e,t,n,r=1024,i=this.lzwState;if(i){var o=i.earlyChange,s=i.nextCode,a=i.dictionaryValues,c=i.dictionaryLengths,l=i.dictionaryPrevCodes,u=i.codeLength,h=i.prevCode,d=i.currentSequence,f=i.currentSequenceLength,p=0,g=this.bufferLength,m=this.ensureBuffer(this.bufferLength+r);for(e=0;e<512;e++){var y=this.readBits(u),v=f>0;if(!y||y<256)d[0]=y,f=1;else{if(!(y>=258)){if(256===y){u=9,s=258,f=0;continue}this.eof=!0,delete this.lzwState;break}if(y<s)for(t=(f=c[y])-1,n=y;t>=0;t--)d[t]=a[n],n=l[n];else d[f++]=d[0]}if(v&&(l[s]=h,c[s]=c[h]+1,a[s]=d[0],u=++s+o&s+o-1?u:0|Math.min(Math.log(s+o)/.6931471805599453+1,12)),h=y,r<(p+=f)){do{r+=512}while(r<p);m=this.ensureBuffer(this.bufferLength+r)}for(t=0;t<f;t++)m[g++]=d[t]}i.nextCode=s,i.codeLength=u,i.prevCode=h,i.currentSequenceLength=f,this.bufferLength=g}},t.prototype.readBits=function(e){for(var t=this.bitsCached,n=this.cachedData;t<e;){var r=this.stream.getByte();if(-1===r)return this.eof=!0,null;n=n<<8|r,t+=8}return this.bitsCached=t-=e,this.cachedData=n,n>>>t&(1<<e)-1},t}(_C);const zC=qC;var VC=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r}return Vy(t,e),t.prototype.readBlock=function(){var e=this.stream.getBytes(2);if(!e||e.length<2||128===e[0])this.eof=!0;else{var t,n=this.bufferLength,r=e[0];if(r<128){if((t=this.ensureBuffer(n+r+1))[n++]=e[1],r>0){var i=this.stream.getBytes(r);t.set(i,n),n+=r}}else{r=257-r;var o=e[1];t=this.ensureBuffer(n+r+1);for(var s=0;s<r;s++)t[n++]=o}this.bufferLength=n}},t}(_C);const HC=VC;var WC=function(e,t,n){if(t===lw.of("FlateDecode"))return new BC(e);if(t===lw.of("LZWDecode")){var r=1;if(n instanceof dw){var i=n.lookup(lw.of("EarlyChange"));i instanceof Qb&&(r=i.asNumber())}return new zC(e,void 0,r)}if(t===lw.of("ASCII85Decode"))return new RC(e);if(t===lw.of("ASCIIHexDecode"))return new OC(e);if(t===lw.of("RunLengthDecode"))return new HC(e);throw new Ab(t.asString())},KC=function(e){var t=e.dict,n=e.contents,r=new xC(n),i=t.lookup(lw.of("Filter")),o=t.lookup(lw.of("DecodeParms"));if(i instanceof lw)r=WC(r,i,o);else if(i instanceof Zb)for(var s=0,a=i.size();s<a;s++)r=WC(r,i.lookup(s,lw),o&&o.lookupMaybe(s,dw));else if(i)throw new Sb([lw,Zb],i);return r},GC=function(){function e(e,t,n){this.page=e;var r=null!==t&&void 0!==t?t:function(e){var t=e.MediaBox();return{left:0,bottom:0,right:t.lookup(2,Qb).asNumber()-t.lookup(0,Qb).asNumber(),top:t.lookup(3,Qb).asNumber()-t.lookup(1,Qb).asNumber()}}(e);this.width=r.right-r.left,this.height=r.top-r.bottom,this.boundingBox=r,this.transformationMatrix=null!==n&&void 0!==n?n:function(e){return[1,0,0,1,-e.left,-e.bottom]}(r)}return e.for=function(t,n,r){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(i){return[2,new e(t,n,r)]}))}))},e.prototype.embedIntoContext=function(e,t){return Wy(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,l,u,h;return Ky(this,(function(d){if(n=this.page.normalizedEntries(),r=n.Contents,i=n.Resources,!r)throw new xb;return o=this.decodeContents(r),s=this.boundingBox,a=s.left,c=s.bottom,l=s.right,u=s.top,h=e.flateStream(o,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[a,c,l,u],Matrix:this.transformationMatrix,Resources:i}),t?(e.assign(t,h),[2,t]):[2,e.register(h)]}))}))},e.prototype.decodeContents=function(e){for(var t=Uint8Array.of(Gb.Newline),n=[],r=0,i=e.size();r<i;r++){var o=e.lookup(r,pw),s=void 0;if(o instanceof gw)s=KC(o).decode();else{if(!(o instanceof xw))throw new Tb(o);s=o.getUnencodedContents()}n.push(s,t)}return vv.apply(void 0,n)},e}();const XC=GC;var YC,QC,JC,ZC,$C=function(e,t){if(void 0!==e)return t[e]};!function(e){e.UseNone="UseNone",e.UseOutlines="UseOutlines",e.UseThumbs="UseThumbs",e.UseOC="UseOC"}(YC||(YC={})),function(e){e.L2R="L2R",e.R2L="R2L"}(QC||(QC={})),function(e){e.None="None",e.AppDefault="AppDefault"}(JC||(JC={})),function(e){e.Simplex="Simplex",e.DuplexFlipShortEdge="DuplexFlipShortEdge",e.DuplexFlipLongEdge="DuplexFlipLongEdge"}(ZC||(ZC={}));var eS=function(){function e(e){this.dict=e}return e.prototype.lookupBool=function(e){var t=this.dict.lookup(lw.of(e));if(t instanceof ew)return t},e.prototype.lookupName=function(e){var t=this.dict.lookup(lw.of(e));if(t instanceof lw)return t},e.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},e.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},e.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},e.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},e.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},e.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},e.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},e.prototype.Direction=function(){return this.lookupName("Direction")},e.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},e.prototype.Duplex=function(){return this.lookupName("Duplex")},e.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},e.prototype.PrintPageRange=function(){var e=this.dict.lookup(lw.of("PrintPageRange"));if(e instanceof Zb)return e},e.prototype.NumCopies=function(){var e=this.dict.lookup(lw.of("NumCopies"));if(e instanceof Qb)return e},e.prototype.getHideToolbar=function(){var e,t;return null!==(t=null===(e=this.HideToolbar())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getHideMenubar=function(){var e,t;return null!==(t=null===(e=this.HideMenubar())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getHideWindowUI=function(){var e,t;return null!==(t=null===(e=this.HideWindowUI())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getFitWindow=function(){var e,t;return null!==(t=null===(e=this.FitWindow())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getCenterWindow=function(){var e,t;return null!==(t=null===(e=this.CenterWindow())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getDisplayDocTitle=function(){var e,t;return null!==(t=null===(e=this.DisplayDocTitle())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getNonFullScreenPageMode=function(){var e,t,n=null===(e=this.NonFullScreenPageMode())||void 0===e?void 0:e.decodeText();return null!==(t=$C(n,YC))&&void 0!==t?t:YC.UseNone},e.prototype.getReadingDirection=function(){var e,t,n=null===(e=this.Direction())||void 0===e?void 0:e.decodeText();return null!==(t=$C(n,QC))&&void 0!==t?t:QC.L2R},e.prototype.getPrintScaling=function(){var e,t,n=null===(e=this.PrintScaling())||void 0===e?void 0:e.decodeText();return null!==(t=$C(n,JC))&&void 0!==t?t:JC.AppDefault},e.prototype.getDuplex=function(){var e,t=null===(e=this.Duplex())||void 0===e?void 0:e.decodeText();return $C(t,ZC)},e.prototype.getPickTrayByPDFSize=function(){var e;return null===(e=this.PickTrayByPDFSize())||void 0===e?void 0:e.asBoolean()},e.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],n=0;n<e.size();n+=2){var r=e.lookup(n,Qb).asNumber(),i=e.lookup(n+1,Qb).asNumber();t.push({start:r,end:i})}return t},e.prototype.getNumCopies=function(){var e,t;return null!==(t=null===(e=this.NumCopies())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:1},e.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("HideToolbar"),t)},e.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("HideMenubar"),t)},e.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("HideWindowUI"),t)},e.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("FitWindow"),t)},e.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("CenterWindow"),t)},e.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("DisplayDocTitle"),t)},e.prototype.setNonFullScreenPageMode=function(e){ib(e,"nonFullScreenPageMode",YC);var t=lw.of(e);this.dict.set(lw.of("NonFullScreenPageMode"),t)},e.prototype.setReadingDirection=function(e){ib(e,"readingDirection",QC);var t=lw.of(e);this.dict.set(lw.of("Direction"),t)},e.prototype.setPrintScaling=function(e){ib(e,"printScaling",JC);var t=lw.of(e);this.dict.set(lw.of("PrintScaling"),t)},e.prototype.setDuplex=function(e){ib(e,"duplex",ZC);var t=lw.of(e);this.dict.set(lw.of("Duplex"),t)},e.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("PickTrayByPDFSize"),t)},e.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].start),t.push(e[n].end);ub(t,"printPageRange",["number"]);var i=this.dict.context.obj(t);this.dict.set(lw.of("PrintPageRange"),i)},e.prototype.setNumCopies=function(e){hb(e,"numCopies",1,Number.MAX_VALUE),function(e,t){if(!Number.isInteger(e))throw new Error(nb(t)+" must be an integer, but was actually "+e)}(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(lw.of("NumCopies"),t)},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({}))},e}();const tS=eS;var nS=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,rS=function(){function e(e,t){this.dict=e,this.ref=t}return e.prototype.T=function(){return this.dict.lookupMaybe(lw.of("T"),oC,Qw)},e.prototype.Ff=function(){var e=this.getInheritableAttribute(lw.of("Ff"));return this.dict.context.lookupMaybe(e,Qb)},e.prototype.V=function(){var e=this.getInheritableAttribute(lw.of("V"));return this.dict.context.lookup(e)},e.prototype.Kids=function(){return this.dict.lookupMaybe(lw.of("Kids"),Zb)},e.prototype.DA=function(){var e=this.dict.lookup(lw.of("DA"));if(e instanceof oC||e instanceof Qw)return e},e.prototype.setKids=function(e){this.dict.set(lw.of("Kids"),this.dict.context.obj(e))},e.prototype.getParent=function(){var t=this.dict.get(lw.of("Parent"));if(t instanceof vw)return new e(this.dict.lookup(lw.of("Parent"),dw),t)},e.prototype.setParent=function(e){e?this.dict.set(lw.of("Parent"),e):this.dict.delete(lw.of("Parent"))},e.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},e.prototype.getPartialName=function(){var e;return null===(e=this.T())||void 0===e?void 0:e.decodeText()},e.prototype.setPartialName=function(e){e?this.dict.set(lw.of("T"),Qw.fromText(e)):this.dict.delete(lw.of("T"))},e.prototype.setDefaultAppearance=function(e){this.dict.set(lw.of("DA"),oC.of(e))},e.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof Qw?e.decodeText():null===e||void 0===e?void 0:e.asString()},e.prototype.setFontSize=function(e){var t,n=null!==(t=this.getFullyQualifiedName())&&void 0!==t?t:"",r=this.getDefaultAppearance();if(!r)throw new Mb(n);var i=gv(r,nS);if(!i.match)throw new Db(n);var o=r.slice(0,i.pos-i.match[0].length),s=i.pos<=r.length?r.slice(i.pos):"",a=o+" /"+i.match[1]+" "+e+" Tf "+s;this.setDefaultAppearance(a)},e.prototype.getFlags=function(){var e,t;return null!==(t=null===(e=this.Ff())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:0},e.prototype.setFlags=function(e){this.dict.set(lw.of("Ff"),Qb.of(e))},e.prototype.hasFlag=function(e){return 0!==(this.getFlags()&e)},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.prototype.getInheritableAttribute=function(e){var t;return this.ascend((function(n){t||(t=n.dict.get(e))})),t},e.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},e}();const iS=rS;var oS=function(){function e(e){this.dict=e}return e.prototype.W=function(){var e=this.dict.lookup(lw.of("W"));if(e instanceof Qb)return e},e.prototype.getWidth=function(){var e,t;return null!==(t=null===(e=this.W())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:1},e.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("W"),t)},e.fromDict=function(t){return new e(t)},e}();const sS=oS;var aS=function(){function e(e){this.dict=e}return e.prototype.Rect=function(){return this.dict.lookup(lw.of("Rect"),Zb)},e.prototype.AP=function(){return this.dict.lookupMaybe(lw.of("AP"),dw)},e.prototype.F=function(){var e=this.dict.lookup(lw.of("F"));return this.dict.context.lookupMaybe(e,Qb)},e.prototype.getRectangle=function(){var e,t=this.Rect();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:{x:0,y:0,width:0,height:0}},e.prototype.setRectangle=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=this.dict.context.obj([t,n,t+r,n+i]);this.dict.set(lw.of("Rect"),o)},e.prototype.getAppearanceState=function(){var e=this.dict.lookup(lw.of("AS"));if(e instanceof lw)return e},e.prototype.setAppearanceState=function(e){this.dict.set(lw.of("AS"),e)},e.prototype.setAppearances=function(e){this.dict.set(lw.of("AP"),e)},e.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(lw.of("AP"),e)),e},e.prototype.getNormalAppearance=function(){var e=this.ensureAP().get(lw.of("N"));if(e instanceof vw||e instanceof dw)return e;throw new Error("Unexpected N type: "+(null===e||void 0===e?void 0:e.constructor.name))},e.prototype.setNormalAppearance=function(e){this.ensureAP().set(lw.of("N"),e)},e.prototype.setRolloverAppearance=function(e){this.ensureAP().set(lw.of("R"),e)},e.prototype.setDownAppearance=function(e){this.ensureAP().set(lw.of("D"),e)},e.prototype.removeRolloverAppearance=function(){var e=this.AP();null===e||void 0===e||e.delete(lw.of("R"))},e.prototype.removeDownAppearance=function(){var e=this.AP();null===e||void 0===e||e.delete(lw.of("D"))},e.prototype.getAppearances=function(){var e=this.AP();if(e)return{normal:e.lookup(lw.of("N"),dw,pw),rollover:e.lookupMaybe(lw.of("R"),dw,pw),down:e.lookupMaybe(lw.of("D"),dw,pw)}},e.prototype.getFlags=function(){var e,t;return null!==(t=null===(e=this.F())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:0},e.prototype.setFlags=function(e){this.dict.set(lw.of("F"),Qb.of(e))},e.prototype.hasFlag=function(e){return 0!==(this.getFlags()&e)},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.fromDict=function(t){return new e(t)},e}();const cS=aS;var lS=function(){function e(e){this.dict=e}return e.prototype.R=function(){var e=this.dict.lookup(lw.of("R"));if(e instanceof Qb)return e},e.prototype.BC=function(){var e=this.dict.lookup(lw.of("BC"));if(e instanceof Zb)return e},e.prototype.BG=function(){var e=this.dict.lookup(lw.of("BG"));if(e instanceof Zb)return e},e.prototype.CA=function(){var e=this.dict.lookup(lw.of("CA"));if(e instanceof Qw||e instanceof oC)return e},e.prototype.RC=function(){var e=this.dict.lookup(lw.of("RC"));if(e instanceof Qw||e instanceof oC)return e},e.prototype.AC=function(){var e=this.dict.lookup(lw.of("AC"));if(e instanceof Qw||e instanceof oC)return e},e.prototype.getRotation=function(){var e;return null===(e=this.R())||void 0===e?void 0:e.asNumber()},e.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],n=0,r=null===e||void 0===e?void 0:e.size();n<r;n++){var i=e.get(n);i instanceof Qb&&t.push(i.asNumber())}return t}},e.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],n=0,r=null===e||void 0===e?void 0:e.size();n<r;n++){var i=e.get(n);i instanceof Qb&&t.push(i.asNumber())}return t}},e.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),n=this.AC();return{normal:null===e||void 0===e?void 0:e.decodeText(),rollover:null===t||void 0===t?void 0:t.decodeText(),down:null===n||void 0===n?void 0:n.decodeText()}},e.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("R"),t)},e.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("BC"),t)},e.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(lw.of("BG"),t)},e.prototype.setCaptions=function(e){var t=Qw.fromText(e.normal);if(this.dict.set(lw.of("CA"),t),e.rollover){var n=Qw.fromText(e.rollover);this.dict.set(lw.of("RC"),n)}else this.dict.delete(lw.of("RC"));if(e.down){var r=Qw.fromText(e.down);this.dict.set(lw.of("AC"),r)}else this.dict.delete(lw.of("AC"))},e.fromDict=function(t){return new e(t)},e}();const uS=lS;var hS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.MK=function(){var e=this.dict.lookup(lw.of("MK"));if(e instanceof dw)return e},t.prototype.BS=function(){var e=this.dict.lookup(lw.of("BS"));if(e instanceof dw)return e},t.prototype.DA=function(){var e=this.dict.lookup(lw.of("DA"));if(e instanceof oC||e instanceof Qw)return e},t.prototype.P=function(){var e=this.dict.get(lw.of("P"));if(e instanceof vw)return e},t.prototype.setP=function(e){this.dict.set(lw.of("P"),e)},t.prototype.setDefaultAppearance=function(e){this.dict.set(lw.of("DA"),oC.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof Qw?e.decodeText():null===e||void 0===e?void 0:e.asString()},t.prototype.getAppearanceCharacteristics=function(){var e=this.MK();if(e)return uS.fromDict(e)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var e=this.MK();if(e)return uS.fromDict(e);var t=uS.fromDict(this.dict.context.obj({}));return this.dict.set(lw.of("MK"),t.dict),t},t.prototype.getBorderStyle=function(){var e=this.BS();if(e)return sS.fromDict(e)},t.prototype.getOrCreateBorderStyle=function(){var e=this.BS();if(e)return sS.fromDict(e);var t=sS.fromDict(this.dict.context.obj({}));return this.dict.set(lw.of("BS"),t.dict),t},t.prototype.getOnValue=function(){var e,t=null===(e=this.getAppearances())||void 0===e?void 0:e.normal;if(t instanceof dw)for(var n=t.keys(),r=0,i=n.length;r<i;r++){var o=n[r];if(o!==lw.of("Off"))return o}},t.fromDict=function(e){return new t(e)},t.create=function(e,n){return new t(e.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n}))},t}(cS);const dS=hS;var fS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.FT=function(){var e=this.getInheritableAttribute(lw.of("FT"));return this.dict.context.lookup(e,lw)},t.prototype.getWidgets=function(){var e=this.Kids();if(!e)return[dS.fromDict(this.dict)];for(var t=new Array(e.size()),n=0,r=e.size();n<r;n++){var i=e.lookup(n,dw);t[n]=dS.fromDict(i)}return t},t.prototype.addWidget=function(e){this.normalizedEntries().Kids.push(e)},t.prototype.removeWidget=function(e){var t=this.Kids();if(t){if(e<0||e>t.size())throw new Nb(e,0,t.size());t.remove(e)}else{if(0!==e)throw new Nb(e,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([this.ref]),this.dict.set(lw.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t}(iS);const pS=fS;var gS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.Opt=function(){return this.dict.lookupMaybe(lw.of("Opt"),oC,Qw,Zb)},t.prototype.setOpt=function(e){this.dict.set(lw.of("Opt"),this.dict.context.obj(e))},t.prototype.getExportValues=function(){var e=this.Opt();if(e){if(e instanceof oC||e instanceof Qw)return[e];for(var t=[],n=0,r=e.size();n<r;n++){var i=e.lookup(n);(i instanceof oC||i instanceof Qw)&&t.push(i)}return t}},t.prototype.removeExportValue=function(e){var t=this.Opt();if(t)if(t instanceof oC||t instanceof Qw){if(0!==e)throw new Nb(e,0,0);this.setOpt([])}else{if(e<0||e>t.size())throw new Nb(e,0,t.size());t.remove(e)}},t.prototype.normalizeExportValues=function(){for(var e,t,n,r,i=null!==(e=this.getExportValues())&&void 0!==e?e:[],o=[],s=this.getWidgets(),a=0,c=s.length;a<c;a++){var l=s[a],u=null!==(t=i[a])&&void 0!==t?t:Qw.fromText(null!==(r=null===(n=l.getOnValue())||void 0===n?void 0:n.decodeText())&&void 0!==r?r:"");o.push(u)}this.setOpt(o)},t.prototype.addOpt=function(e,t){var n;this.normalizeExportValues();var r,i=e.decodeText();if(t)for(var o=null!==(n=this.getExportValues())&&void 0!==n?n:[],s=0,a=o.length;s<a;s++){o[s].decodeText()===i&&(r=s)}var c=this.Opt();return c.push(e),null!==r&&void 0!==r?r:c.size()-1},t.prototype.addWidgetWithOpt=function(e,t,n){var r=this.addOpt(t,n),i=lw.of(String(r));return this.addWidget(e),i},t}(pS);const mS=gS;var yS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.setValue=function(e){var t;if(e!==(null!==(t=this.getOnValue())&&void 0!==t?t:lw.of("Yes"))&&e!==lw.of("Off"))throw new Ob;this.dict.set(lw.of("V"),e);for(var n=this.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r],s=o.getOnValue()===e?e:lw.of("Off");o.setAppearanceState(s)}},t.prototype.getValue=function(){var e=this.V();return e instanceof lw?e:lw.of("Off")},t.prototype.getOnValue=function(){var e=this.getWidgets()[0];return null===e||void 0===e?void 0:e.getOnValue()},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Kids:[]});return new t(n,e.register(n))},t}(mS);const vS=yS;var bS,wS,CS,SS,AS=function(e){return 1<<e};!function(e){e[e.ReadOnly=AS(0)]="ReadOnly",e[e.Required=AS(1)]="Required",e[e.NoExport=AS(2)]="NoExport"}(bS||(bS={})),function(e){e[e.NoToggleToOff=AS(14)]="NoToggleToOff",e[e.Radio=AS(15)]="Radio",e[e.PushButton=AS(16)]="PushButton",e[e.RadiosInUnison=AS(25)]="RadiosInUnison"}(wS||(wS={})),function(e){e[e.Multiline=AS(12)]="Multiline",e[e.Password=AS(13)]="Password",e[e.FileSelect=AS(20)]="FileSelect",e[e.DoNotSpellCheck=AS(22)]="DoNotSpellCheck",e[e.DoNotScroll=AS(23)]="DoNotScroll",e[e.Comb=AS(24)]="Comb",e[e.RichText=AS(25)]="RichText"}(CS||(CS={})),function(e){e[e.Combo=AS(17)]="Combo",e[e.Edit=AS(18)]="Edit",e[e.Sort=AS(19)]="Sort",e[e.MultiSelect=AS(21)]="MultiSelect",e[e.DoNotSpellCheck=AS(22)]="DoNotSpellCheck",e[e.CommitOnSelChange=AS(26)]="CommitOnSelChange"}(SS||(SS={}));var kS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.setValues=function(e){if(this.hasFlag(SS.Combo)&&!this.hasFlag(SS.Edit)&&!this.valuesAreValid(e))throw new Ob;if(0===e.length&&this.dict.delete(lw.of("V")),1===e.length&&this.dict.set(lw.of("V"),e[0]),e.length>1){if(!this.hasFlag(SS.MultiSelect))throw new Fb;this.dict.set(lw.of("V"),this.dict.context.obj(e))}this.updateSelectedIndices(e)},t.prototype.valuesAreValid=function(e){for(var t=this.getOptions(),n=function(n,r){var i=e[n].decodeText();if(!t.find((function(e){return i===(e.display||e.value).decodeText()})))return{value:!1}},r=0,i=e.length;r<i;r++){var o=n(r);if("object"===typeof o)return o.value}return!0},t.prototype.updateSelectedIndices=function(e){if(e.length>1){for(var t=new Array(e.length),n=this.getOptions(),r=function(r,i){var o=e[r].decodeText();t[r]=n.findIndex((function(e){return o===(e.display||e.value).decodeText()}))},i=0,o=e.length;i<o;i++)r(i);this.dict.set(lw.of("I"),this.dict.context.obj(t.sort()))}else this.dict.delete(lw.of("I"))},t.prototype.getValues=function(){var e=this.V();if(e instanceof oC||e instanceof Qw)return[e];if(e instanceof Zb){for(var t=[],n=0,r=e.size();n<r;n++){var i=e.lookup(n);(i instanceof oC||i instanceof Qw)&&t.push(i)}return t}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(lw.of("Opt"),oC,Qw,Zb)},t.prototype.setOptions=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++){var i=e[n],o=i.value,s=i.display;t[n]=this.dict.context.obj([o,s||o])}this.dict.set(lw.of("Opt"),this.dict.context.obj(t))},t.prototype.getOptions=function(){var e=this.Opt();if(e instanceof oC||e instanceof Qw)return[{value:e,display:e}];if(e instanceof Zb){for(var t=[],n=0,r=e.size();n<r;n++){var i=e.lookup(n);if((i instanceof oC||i instanceof Qw)&&t.push({value:i,display:i}),i instanceof Zb&&i.size()>0){var o=i.lookup(0,oC,Qw),s=i.lookupMaybe(1,oC,Qw);t.push({value:o,display:s||o})}}return t}return[]},t}(pS);const xS=kS;var TS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Ff:SS.Combo,Kids:[]});return new t(n,e.register(n))},t}(xS);const ES=TS;var _S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.addField=function(e){var t=this.normalizedEntries().Kids;null===t||void 0===t||t.push(e)},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([]),this.dict.set(lw.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({});return new t(n,e.register(n))},t}(iS);const IS=_S;var PS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.fromDict=function(e,n){return new t(e,n)},t}(pS);const RS=PS;var NS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.MaxLen=function(){var e=this.dict.lookup(lw.of("MaxLen"));if(e instanceof Qb)return e},t.prototype.Q=function(){var e=this.dict.lookup(lw.of("Q"));if(e instanceof Qb)return e},t.prototype.setMaxLength=function(e){this.dict.set(lw.of("MaxLen"),Qb.of(e))},t.prototype.removeMaxLength=function(){this.dict.delete(lw.of("MaxLen"))},t.prototype.getMaxLength=function(){var e;return null===(e=this.MaxLen())||void 0===e?void 0:e.asNumber()},t.prototype.setQuadding=function(e){this.dict.set(lw.of("Q"),Qb.of(e))},t.prototype.getQuadding=function(){var e;return null===(e=this.Q())||void 0===e?void 0:e.asNumber()},t.prototype.setValue=function(e){this.dict.set(lw.of("V"),e)},t.prototype.removeValue=function(){this.dict.delete(lw.of("V"))},t.prototype.getValue=function(){var e=this.V();if(e instanceof oC||e instanceof Qw)return e},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Tx",Kids:[]});return new t(n,e.register(n))},t}(pS);const OS=NS;var FS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:wS.PushButton,Kids:[]});return new t(n,e.register(n))},t}(mS);const MS=FS;var DS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.setValue=function(e){if(!this.getOnValues().includes(e)&&e!==lw.of("Off"))throw new Ob;this.dict.set(lw.of("V"),e);for(var t=this.getWidgets(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getOnValue()===e?e:lw.of("Off");i.setAppearanceState(o)}},t.prototype.getValue=function(){var e=this.V();return e instanceof lw?e:lw.of("Off")},t.prototype.getOnValues=function(){for(var e=this.getWidgets(),t=[],n=0,r=e.length;n<r;n++){var i=e[n].getOnValue();i&&t.push(i)}return t},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:wS.Radio,Kids:[]});return new t(n,e.register(n))},t}(mS);const LS=DS;var jS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Kids:[]});return new t(n,e.register(n))},t}(xS);const US=jS;var BS=function(e){if(!e)return[];for(var t=[],n=0,r=e.size();n<r;n++){var i=e.get(n),o=e.lookup(n);i instanceof vw&&o instanceof dw&&t.push([qS(o,i),i])}return t},qS=function(e,t){return zS(e)?IS.fromDict(e,t):VS(e,t)},zS=function(e){var t=e.lookup(lw.of("Kids"));if(t instanceof Zb)for(var n=0,r=t.size();n<r;n++){var i=t.lookup(n);if(i instanceof dw&&i.has(lw.of("T")))return!0}return!1},VS=function(e,t){var n=GS(e,lw.of("FT")),r=e.context.lookup(n,lw);return r===lw.of("Btn")?HS(e,t):r===lw.of("Ch")?WS(e,t):r===lw.of("Tx")?OS.fromDict(e,t):r===lw.of("Sig")?RS.fromDict(e,t):pS.fromDict(e,t)},HS=function(e,t){var n,r=GS(e,lw.of("Ff")),i=e.context.lookupMaybe(r,Qb),o=null!==(n=null===i||void 0===i?void 0:i.asNumber())&&void 0!==n?n:0;return KS(o,wS.PushButton)?MS.fromDict(e,t):KS(o,wS.Radio)?LS.fromDict(e,t):vS.fromDict(e,t)},WS=function(e,t){var n,r=GS(e,lw.of("Ff")),i=e.context.lookupMaybe(r,Qb),o=null!==(n=null===i||void 0===i?void 0:i.asNumber())&&void 0!==n?n:0;return KS(o,SS.Combo)?ES.fromDict(e,t):US.fromDict(e,t)},KS=function(e,t){return 0!==(e&t)},GS=function(e,t){var n;return XS(e,(function(e){n||(n=e.get(t))})),n},XS=function(e,t){t(e);var n=e.lookupMaybe(lw.of("Parent"),dw);n&&XS(n,t)},YS=function(){function e(e){this.dict=e}return e.prototype.Fields=function(){var e=this.dict.lookup(lw.of("Fields"));if(e instanceof Zb)return e},e.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=new Array(e.size()),n=0,r=e.size();n<r;n++){var i=e.get(n),o=e.lookup(n,dw);t[n]=[qS(o,i),i]}return t},e.prototype.getAllFields=function(){var e=[],t=function(n){if(n)for(var r=0,i=n.length;r<i;r++){var o=n[r];e.push(o);var s=o[0];s instanceof IS&&t(BS(s.Kids()))}};return t(this.getFields()),e},e.prototype.addField=function(e){var t=this.normalizedEntries().Fields;null===t||void 0===t||t.push(e)},e.prototype.removeField=function(e){var t=e.getParent(),n=void 0===t?this.normalizedEntries().Fields:t.Kids(),r=null===n||void 0===n?void 0:n.indexOf(e.ref);if(void 0===n||void 0===r)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());n.remove(r),void 0!==t&&0===n.size()&&this.removeField(t)},e.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(lw.of("Fields"),e)),{Fields:e}},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({Fields:[]}))},e}();const QS=YS;var JS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.Pages=function(){return this.lookup(lw.of("Pages"),dw)},t.prototype.AcroForm=function(){return this.lookupMaybe(lw.of("AcroForm"),dw)},t.prototype.getAcroForm=function(){var e=this.AcroForm();if(e)return QS.fromDict(e)},t.prototype.getOrCreateAcroForm=function(){var e=this.getAcroForm();if(!e){e=QS.create(this.context);var t=this.context.register(e.dict);this.set(lw.of("AcroForm"),t)}return e},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(lw.of("ViewerPreferences"),dw)},t.prototype.getViewerPreferences=function(){var e=this.ViewerPreferences();if(e)return tS.fromDict(e)},t.prototype.getOrCreateViewerPreferences=function(){var e=this.getViewerPreferences();if(!e){e=tS.create(this.context);var t=this.context.register(e.dict);this.set(lw.of("ViewerPreferences"),t)}return e},t.prototype.insertLeafNode=function(e,t){var n=this.get(lw.of("Pages"));return this.Pages().insertLeafNode(e,t)||n},t.prototype.removeLeafNode=function(e){this.Pages().removeLeafNode(e)},t.withContextAndPages=function(e,n){var r=new Map;return r.set(lw.of("Type"),lw.of("Catalog")),r.set(lw.of("Pages"),n),new t(r,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(dw);const ZS=JS;var $S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vy(t,e),t.prototype.Parent=function(){return this.lookup(lw.of("Parent"))},t.prototype.Kids=function(){return this.lookup(lw.of("Kids"),Zb)},t.prototype.Count=function(){return this.lookup(lw.of("Count"),Qb)},t.prototype.pushTreeNode=function(e){this.Kids().push(e)},t.prototype.pushLeafNode=function(e){var t=this.Kids();this.insertLeafKid(t.size(),e)},t.prototype.insertLeafNode=function(e,n){var r=this.Kids(),i=this.Count().asNumber();if(n>i)throw new Pb(n,i);for(var o=n,s=0,a=r.size();s<a;s++){if(0===o)return void this.insertLeafKid(s,e);var c=r.get(s),l=this.context.lookup(c);if(l instanceof t){if(l.Count().asNumber()>o)return l.insertLeafNode(e,o)||c;o-=l.Count().asNumber()}l instanceof Rw&&(o-=1)}if(0!==o)throw new Rb(n,"insertLeafNode");this.insertLeafKid(r.size(),e)},t.prototype.removeLeafNode=function(e,n){void 0===n&&(n=!0);var r=this.Kids(),i=this.Count().asNumber();if(e>=i)throw new Pb(e,i);for(var o=e,s=0,a=r.size();s<a;s++){var c=r.get(s),l=this.context.lookup(c);if(l instanceof t){if(l.Count().asNumber()>o)return l.removeLeafNode(o,n),void(n&&0===l.Kids().size()&&r.remove(s));o-=l.Count().asNumber()}if(l instanceof Rw){if(0===o)return void this.removeKid(s);o-=1}}throw new Rb(e,"removeLeafNode")},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.traverse=function(e){for(var n=this.Kids(),r=0,i=n.size();r<i;r++){var o=n.get(r),s=this.context.lookup(o);s instanceof t&&s.traverse(e),e(s,o)}},t.prototype.insertLeafKid=function(e,t){var n=this.Kids();this.ascend((function(e){var t=e.Count().asNumber()+1;e.set(lw.of("Count"),Qb.of(t))})),n.insert(e,t)},t.prototype.removeKid=function(e){var t=this.Kids();t.lookup(e)instanceof Rw&&this.ascend((function(e){var t=e.Count().asNumber()-1;e.set(lw.of("Count"),Qb.of(t))})),t.remove(e)},t.withContext=function(e,n){var r=new Map;return r.set(lw.of("Type"),lw.of("Pages")),r.set(lw.of("Kids"),e.obj([])),r.set(lw.of("Count"),e.obj(0)),n&&r.set(lw.of("Parent"),n),new t(r,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(dw);const eA=$S;var tA=new Uint8Array(256);tA[Gb.Zero]=1,tA[Gb.One]=1,tA[Gb.Two]=1,tA[Gb.Three]=1,tA[Gb.Four]=1,tA[Gb.Five]=1,tA[Gb.Six]=1,tA[Gb.Seven]=1,tA[Gb.Eight]=1,tA[Gb.Nine]=1;var nA=new Uint8Array(256);nA[Gb.Period]=1,nA[Gb.Plus]=1,nA[Gb.Minus]=1;for(var rA=new Uint8Array(256),iA=0;iA<256;iA++)rA[iA]=tA[iA]||nA[iA]?1:0;var oA=Gb.Newline,sA=Gb.CarriageReturn,aA=function(){function e(e,t){void 0===t&&(t=!1),this.bytes=e,this.capNumbers=t}return e.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!tA[t])break;e+=rv(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new Lb(this.bytes.position(),e);return n},e.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!rA[t])break;if(e+=rv(this.bytes.next()),t===Gb.Period)break}for(;!this.bytes.done();){t=this.bytes.peek();if(!tA[t])break;e+=rv(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new Lb(this.bytes.position(),e);if(n>Number.MAX_SAFE_INTEGER){if(this.capNumbers){var r="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(r),Number.MAX_SAFE_INTEGER}r="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(r)}return n},e.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&nw[this.bytes.peek()];)this.bytes.next()},e.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===oA||e===sA)return;this.bytes.next()}},e.prototype.skipComment=function(){if(this.bytes.peek()!==Gb.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===oA||e===sA)return!0;this.bytes.next()}return!0},e.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},e.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),n=0,r=e.length;n<r;n++)if(this.bytes.done()||this.bytes.next()!==e[n])return this.bytes.moveTo(t),!1;return!0},e}();const cA=aA;var lA=function(){function e(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return e.prototype.moveTo=function(e){this.idx=e},e.prototype.next=function(){var e=this.bytes[this.idx++];return e===Gb.Newline?(this.line+=1,this.column=0):this.column+=1,e},e.prototype.assertNext=function(e){if(this.peek()!==e)throw new Ub(this.position(),e,this.peek());return this.next()},e.prototype.peek=function(){return this.bytes[this.idx]},e.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},e.prototype.peekAt=function(e){return this.bytes[e]},e.prototype.done=function(){return this.idx>=this.length},e.prototype.offset=function(){return this.idx},e.prototype.slice=function(e,t){return this.bytes.slice(e,t)},e.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},e.of=function(t){return new e(t)},e.fromPDFRawStream=function(t){return e.of(KC(t).decode())},e}();const uA=lA;var hA=Gb.Space,dA=Gb.CarriageReturn,fA=Gb.Newline,pA=[Gb.s,Gb.t,Gb.r,Gb.e,Gb.a,Gb.m],gA=[Gb.e,Gb.n,Gb.d,Gb.s,Gb.t,Gb.r,Gb.e,Gb.a,Gb.m],mA={header:[Gb.Percent,Gb.P,Gb.D,Gb.F,Gb.Dash],eof:[Gb.Percent,Gb.Percent,Gb.E,Gb.O,Gb.F],obj:[Gb.o,Gb.b,Gb.j],endobj:[Gb.e,Gb.n,Gb.d,Gb.o,Gb.b,Gb.j],xref:[Gb.x,Gb.r,Gb.e,Gb.f],trailer:[Gb.t,Gb.r,Gb.a,Gb.i,Gb.l,Gb.e,Gb.r],startxref:[Gb.s,Gb.t,Gb.a,Gb.r,Gb.t,Gb.x,Gb.r,Gb.e,Gb.f],true:[Gb.t,Gb.r,Gb.u,Gb.e],false:[Gb.f,Gb.a,Gb.l,Gb.s,Gb.e],null:[Gb.n,Gb.u,Gb.l,Gb.l],stream:pA,streamEOF1:Gy(pA,[hA,dA,fA]),streamEOF2:Gy(pA,[dA,fA]),streamEOF3:Gy(pA,[dA]),streamEOF4:Gy(pA,[fA]),endstream:gA,EOF1endstream:Gy([dA,fA],gA),EOF2endstream:Gy([dA],gA),EOF3endstream:Gy([fA],gA)},yA=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t,r)||this;return i.context=n,i}return Vy(t,e),t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(mA.true))return ew.True;if(this.matchKeyword(mA.false))return ew.False;if(this.matchKeyword(mA.null))return uw;var e=this.bytes.peek();if(e===Gb.LessThan&&this.bytes.peekAhead(1)===Gb.LessThan)return this.parseDictOrStream();if(e===Gb.LessThan)return this.parseHexString();if(e===Gb.LeftParen)return this.parseString();if(e===Gb.ForwardSlash)return this.parseName();if(e===Gb.LeftSquareBracket)return this.parseArray();if(rA[e])return this.parseNumberOrRef();throw new Bb(this.bytes.position(),e)},t.prototype.parseNumberOrRef=function(){var e=this.parseRawNumber();this.skipWhitespaceAndComments();var t=this.bytes.offset();if(tA[this.bytes.peek()]){var n=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===Gb.R)return this.bytes.assertNext(Gb.R),vw.of(e,n)}return this.bytes.moveTo(t),Qb.of(e)},t.prototype.parseHexString=function(){var e="";for(this.bytes.assertNext(Gb.LessThan);!this.bytes.done()&&this.bytes.peek()!==Gb.GreaterThan;)e+=rv(this.bytes.next());return this.bytes.assertNext(Gb.GreaterThan),Qw.of(e)},t.prototype.parseString=function(){for(var e=0,t=!1,n="";!this.bytes.done();){var r=this.bytes.next();if(n+=rv(r),t||(r===Gb.LeftParen&&(e+=1),r===Gb.RightParen&&(e-=1)),r===Gb.BackSlash?t=!t:t&&(t=!1),0===e)return oC.of(n.substring(1,n.length-1))}throw new Vb(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(Gb.ForwardSlash);for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(nw[t]||tw[t])break;e+=rv(t),this.bytes.next()}return lw.of(e)},t.prototype.parseArray=function(){this.bytes.assertNext(Gb.LeftSquareBracket),this.skipWhitespaceAndComments();for(var e=Zb.withContext(this.context);this.bytes.peek()!==Gb.RightSquareBracket;){var t=this.parseObject();e.push(t),this.skipWhitespaceAndComments()}return this.bytes.assertNext(Gb.RightSquareBracket),e},t.prototype.parseDict=function(){this.bytes.assertNext(Gb.LessThan),this.bytes.assertNext(Gb.LessThan),this.skipWhitespaceAndComments();for(var e=new Map;!this.bytes.done()&&this.bytes.peek()!==Gb.GreaterThan&&this.bytes.peekAhead(1)!==Gb.GreaterThan;){var t=this.parseName(),n=this.parseObject();e.set(t,n),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(Gb.GreaterThan),this.bytes.assertNext(Gb.GreaterThan);var r=e.get(lw.of("Type"));return r===lw.of("Catalog")?ZS.fromMapWithContext(e,this.context):r===lw.of("Pages")?eA.fromMapWithContext(e,this.context):r===lw.of("Page")?Rw.fromMapWithContext(e,this.context):dw.fromMapWithContext(e,this.context)},t.prototype.parseDictOrStream=function(){var e=this.bytes.position(),t=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(mA.streamEOF1)&&!this.matchKeyword(mA.streamEOF2)&&!this.matchKeyword(mA.streamEOF3)&&!this.matchKeyword(mA.streamEOF4)&&!this.matchKeyword(mA.stream))return t;var n,r=this.bytes.offset(),i=t.get(lw.of("Length"));i instanceof Qb?(n=r+i.asNumber(),this.bytes.moveTo(n),this.skipWhitespaceAndComments(),this.matchKeyword(mA.endstream)||(this.bytes.moveTo(r),n=this.findEndOfStreamFallback(e))):n=this.findEndOfStreamFallback(e);var o=this.bytes.slice(r,n);return gw.of(t,o)},t.prototype.findEndOfStreamFallback=function(e){for(var t=1,n=this.bytes.offset();!this.bytes.done()&&(n=this.bytes.offset(),this.matchKeyword(mA.stream)?t+=1:this.matchKeyword(mA.EOF1endstream)||this.matchKeyword(mA.EOF2endstream)||this.matchKeyword(mA.EOF3endstream)||this.matchKeyword(mA.endstream)?t-=1:this.bytes.next(),0!==t););if(0!==t)throw new zb(e);return n},t.forBytes=function(e,n,r){return new t(uA.of(e),n,r)},t.forByteStream=function(e,n,r){return void 0===r&&(r=!1),new t(e,n,r)},t}(cA);const vA=yA;var bA=function(e){function t(t,n){var r=e.call(this,uA.fromPDFRawStream(t),t.dict.context)||this,i=t.dict;return r.alreadyParsed=!1,r.shouldWaitForTick=n||function(){return!1},r.firstOffset=i.lookup(lw.of("First"),Qb).asNumber(),r.objectCount=i.lookup(lw.of("N"),Qb).asNumber(),r}return Vy(t,e),t.prototype.parseIntoContext=function(){return Wy(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a;return Ky(this,(function(c){switch(c.label){case 0:if(this.alreadyParsed)throw new kb("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,e=this.parseOffsetsAndObjectNumbers(),t=0,n=e.length,c.label=1;case 1:return t<n?(r=e[t],i=r.objectNumber,o=r.offset,this.bytes.moveTo(this.firstOffset+o),s=this.parseObject(),a=vw.of(i,0),this.context.assign(a,s),this.shouldWaitForTick()?[4,Av()]:[3,3]):[3,4];case 2:c.sent(),c.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var e=[],t=0,n=this.objectCount;t<n;t++){this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.parseRawInt();e.push({objectNumber:r,offset:i})}return e},t.forStream=function(e,n){return new t(e,n)},t}(vA);const wA=bA;var CA=function(){function e(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=uA.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(lw.of("Size"),Qb),n=this.dict.lookup(lw.of("Index"));if(n instanceof Zb){this.subsections=[];for(var r=0,i=n.size();r<i;r+=2){var o=n.lookup(r+0,Qb).asNumber(),s=n.lookup(r+1,Qb).asNumber();this.subsections.push({firstObjectNumber:o,length:s})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var a=this.dict.lookup(lw.of("W"),Zb);this.byteWidths=[-1,-1,-1];for(r=0,i=a.size();r<i;r++)this.byteWidths[r]=a.lookup(r,Qb).asNumber()}return e.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new kb("PDFXRefStreamParser","parseIntoContext");return this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(lw.of("Root")),Encrypt:this.dict.get(lw.of("Encrypt")),Info:this.dict.get(lw.of("Info")),ID:this.dict.get(lw.of("ID"))},this.parseEntries()},e.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,n=t[0],r=t[1],i=t[2],o=0,s=this.subsections.length;o<s;o++)for(var a=this.subsections[o],c=a.firstObjectNumber,l=a.length,u=0;u<l;u++){for(var h=0,d=0,f=n;d<f;d++)h=h<<8|this.bytes.next();var p=0;for(d=0,f=r;d<f;d++)p=p<<8|this.bytes.next();var g=0;for(d=0,f=i;d<f;d++)g=g<<8|this.bytes.next();0===n&&(h=1);var m=c+u,y={ref:vw.of(m,g),offset:p,deleted:0===h,inObjectStream:2===h};e.push(y)}return e},e.forStream=function(t){return new e(t)},e}();const SA=CA;var AA=function(e){function t(t,n,r,i){void 0===n&&(n=1/0),void 0===r&&(r=!1),void 0===i&&(i=!1);var o=e.call(this,uA.of(t),Iw.create(),i)||this;return o.alreadyParsed=!1,o.parsedObjects=0,o.shouldWaitForTick=function(){return o.parsedObjects+=1,o.parsedObjects%o.objectsPerTick===0},o.objectsPerTick=n,o.throwOnInvalidObject=r,o}return Vy(t,e),t.prototype.parseDocument=function(){return Wy(this,void 0,void 0,(function(){var e,t;return Ky(this,(function(n){switch(n.label){case 0:if(this.alreadyParsed)throw new kb("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),n.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(n.sent(),(t=this.bytes.offset())===e)throw new Hb(this.bytes.position());return e=t,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(vw.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(vw.of(0))),[2,this.context]}}))}))},t.prototype.maybeRecoverRoot=function(){var e=function(e){return e instanceof dw&&e.lookup(lw.of("Type"))===lw.of("Catalog")};if(!e(this.context.lookup(this.context.trailerInfo.Root)))for(var t=this.context.enumerateIndirectObjects(),n=0,r=t.length;n<r;n++){var i=t[n],o=i[0];e(i[1])&&(this.context.trailerInfo.Root=o)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(mA.header)){var e=this.parseRawInt();this.bytes.assertNext(Gb.Period);var t=this.parseRawInt(),n=Xb.forVersion(e,t);return this.skipBinaryHeaderComment(),n}this.bytes.next()}throw new Wb(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var e=this.parseRawInt();this.skipWhitespaceAndComments();var t=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(mA.obj))throw new Kb(this.bytes.position(),mA.obj);return vw.of(e,t)},t.prototype.matchIndirectObjectHeader=function(){var e=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch(aj){return this.bytes.moveTo(e),!1}},t.prototype.parseIndirectObject=function(){return Wy(this,void 0,void 0,(function(){var e,t;return Ky(this,(function(n){switch(n.label){case 0:return e=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),t=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(mA.endobj),t instanceof gw&&t.dict.lookup(lw.of("Type"))===lw.of("ObjStm")?[4,wA.forStream(t,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return n.sent(),[3,3];case 2:t instanceof gw&&t.dict.lookup(lw.of("Type"))===lw.of("XRef")?SA.forStream(t).parseIntoContext():this.context.assign(e,t),n.label=3;case 3:return[2,e]}}))}))},t.prototype.tryToParseInvalidIndirectObject=function(){var e=this.bytes.position(),t="Trying to parse invalid object: "+JSON.stringify(e)+")";if(this.throwOnInvalidObject)throw new Error(t);console.warn(t);var n=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+n),this.skipWhitespaceAndComments();for(var r=this.bytes.offset(),i=!0;!this.bytes.done()&&(this.matchKeyword(mA.endobj)&&(i=!1),i);)this.bytes.next();if(i)throw new qb(e);var o=this.bytes.offset()-mA.endobj.length,s=Vw.of(this.bytes.slice(r,o));return this.context.assign(n,s),n},t.prototype.parseIndirectObjects=function(){return Wy(this,void 0,void 0,(function(){var e;return Ky(this,(function(t){switch(t.label){case 0:this.skipWhitespaceAndComments(),t.label=1;case 1:if(this.bytes.done()||!tA[this.bytes.peek()])return[3,8];e=this.bytes.offset(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return t.sent(),[3,5];case 4:return t.sent(),this.bytes.moveTo(e),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,Av()]:[3,7];case 6:t.sent(),t.label=7;case 7:return[3,1];case 8:return[2]}}))}))},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(mA.xref)){this.skipWhitespaceAndComments();for(var e=-1,t=Mw.createEmpty();!this.bytes.done()&&tA[this.bytes.peek()];){var n=this.parseRawInt();this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.bytes.peek();if(i===Gb.n||i===Gb.f){var o=vw.of(e,r);this.bytes.next()===Gb.n?t.addEntry(o,n):t.addDeletedEntry(o,n),e+=1}else e=n;this.skipWhitespaceAndComments()}return t}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(mA.trailer)){this.skipWhitespaceAndComments();var e=this.parseDict(),t=this.context;t.trailerInfo={Root:e.get(lw.of("Root"))||t.trailerInfo.Root,Encrypt:e.get(lw.of("Encrypt"))||t.trailerInfo.Encrypt,Info:e.get(lw.of("Info"))||t.trailerInfo.Info,ID:e.get(lw.of("ID"))||t.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(mA.startxref)){this.skipWhitespaceAndComments();var e=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(mA.eof),this.skipWhitespaceAndComments(),this.matchKeyword(mA.eof),this.skipWhitespaceAndComments(),Dw.forLastCrossRefSectionOffset(e)}},t.prototype.parseDocumentSection=function(){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(e){switch(e.label){case 0:return[4,this.parseIndirectObjects()];case 1:return e.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}}))}))},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var e=this.bytes.offset(),t=this.bytes.peek();if(t>=Gb.Space&&t<=Gb.Tilde&&(this.matchKeyword(mA.xref)||this.matchKeyword(mA.trailer)||this.matchKeyword(mA.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(e);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var e=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(e)}catch(aj){this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(e,n,r,i){return new t(e,n,r,i)},t}(vA);const kA=AA;var xA,TA=function(e){return 1<<e};!function(e){e[e.Invisible=TA(0)]="Invisible",e[e.Hidden=TA(1)]="Hidden",e[e.Print=TA(2)]="Print",e[e.NoZoom=TA(3)]="NoZoom",e[e.NoRotate=TA(4)]="NoRotate",e[e.NoView=TA(5)]="NoView",e[e.ReadOnly=TA(6)]="ReadOnly",e[e.Locked=TA(7)]="Locked",e[e.ToggleNoView=TA(8)]="ToggleNoView",e[e.LockedContents=TA(9)]="LockedContents"}(xA||(xA={}));var EA,_A=function(e){return e instanceof lw?e:lw.of(e)},IA=function(e){return e instanceof Qb?e:Qb.of(e)},PA=function(e){return e instanceof Qb?e.asNumber():e};!function(e){e.Degrees="degrees",e.Radians="radians"}(EA||(EA={}));var RA,NA=function(e){return cb(e,"degreeAngle",["number"]),{type:EA.Degrees,angle:e}},OA=EA.Radians,FA=EA.Degrees,MA=function(e){return e*Math.PI/180},DA=function(e){return e.type===OA?e.angle:e.type===FA?MA(e.angle):Lv("Invalid rotation: "+JSON.stringify(e))},LA=function(e){return e.type===OA?180*e.angle/Math.PI:e.type===FA?e.angle:Lv("Invalid rotation: "+JSON.stringify(e))},jA=function(e){void 0===e&&(e=0);var t=e/90%4;return 0===t?0:1===t?90:2===t?180:3===t?270:0},UA=function(e,t){void 0===t&&(t=0);var n=jA(t);return 90===n||270===n?{width:e.height,height:e.width}:{width:e.width,height:e.height}},BA=function(){return ww.of(Sw.ClipNonZero)},qA=Math.cos,zA=Math.sin,VA=Math.tan,HA=function(e,t,n,r,i,o){return ww.of(Sw.ConcatTransformationMatrix,[IA(e),IA(t),IA(n),IA(r),IA(i),IA(o)])},WA=function(e,t){return HA(1,0,0,1,e,t)},KA=function(e,t){return HA(e,0,0,t,0,0)},GA=function(e){return HA(qA(PA(e)),zA(PA(e)),-zA(PA(e)),qA(PA(e)),0,0)},XA=function(e){return GA(MA(PA(e)))},YA=function(e,t){return HA(1,VA(PA(e)),VA(PA(t)),1,0,0)},QA=function(e,t){return ww.of(Sw.SetLineDashPattern,["["+e.map(IA).join(" ")+"]",IA(t)])};!function(e){e[e.Butt=0]="Butt",e[e.Round=1]="Round",e[e.Projecting=2]="Projecting"}(RA||(RA={}));var JA,ZA=function(e){return ww.of(Sw.SetLineCapStyle,[IA(e)])};!function(e){e[e.Miter=0]="Miter",e[e.Round=1]="Round",e[e.Bevel=2]="Bevel"}(JA||(JA={}));var $A,ek=function(e){return ww.of(Sw.SetGraphicsStateParams,[_A(e)])},tk=function(){return ww.of(Sw.PushGraphicsState)},nk=function(){return ww.of(Sw.PopGraphicsState)},rk=function(e){return ww.of(Sw.SetLineWidth,[IA(e)])},ik=function(e,t,n,r,i,o){return ww.of(Sw.AppendBezierCurve,[IA(e),IA(t),IA(n),IA(r),IA(i),IA(o)])},ok=function(e,t,n,r){return ww.of(Sw.CurveToReplicateInitialPoint,[IA(e),IA(t),IA(n),IA(r)])},sk=function(){return ww.of(Sw.ClosePath)},ak=function(e,t){return ww.of(Sw.MoveTo,[IA(e),IA(t)])},ck=function(e,t){return ww.of(Sw.LineTo,[IA(e),IA(t)])},lk=function(){return ww.of(Sw.StrokePath)},uk=function(){return ww.of(Sw.FillNonZero)},hk=function(){return ww.of(Sw.FillNonZeroAndStroke)},dk=function(){return ww.of(Sw.EndPath)},fk=function(e){return ww.of(Sw.ShowText,[e])},pk=function(){return ww.of(Sw.BeginText)},gk=function(){return ww.of(Sw.EndText)},mk=function(e,t){return ww.of(Sw.SetFontAndSize,[_A(e),IA(t)])};!function(e){e[e.Fill=0]="Fill",e[e.Outline=1]="Outline",e[e.FillAndOutline=2]="FillAndOutline",e[e.Invisible=3]="Invisible",e[e.FillAndClip=4]="FillAndClip",e[e.OutlineAndClip=5]="OutlineAndClip",e[e.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",e[e.Clip=7]="Clip"}($A||($A={}));var yk,vk=function(e,t,n,r,i){return function(e,t,n,r,i,o){return ww.of(Sw.SetTextMatrix,[IA(e),IA(t),IA(n),IA(r),IA(i),IA(o)])}(qA(PA(e)),zA(PA(e))+VA(PA(t)),-zA(PA(e))+VA(PA(n)),qA(PA(e)),r,i)},bk=function(e){return ww.of(Sw.DrawObject,[_A(e)])},wk=function(e){return ww.of(Sw.BeginMarkedContent,[_A(e)])},Ck=function(){return ww.of(Sw.EndMarkedContent)};!function(e){e.Grayscale="Grayscale",e.RGB="RGB",e.CMYK="CMYK"}(yk||(yk={}));var Sk,Ak=function(e){return hb(e,"gray",0,1),{type:yk.Grayscale,gray:e}},kk=function(e,t,n){return hb(e,"red",0,1),hb(t,"green",0,1),hb(n,"blue",0,1),{type:yk.RGB,red:e,green:t,blue:n}},xk=function(e,t,n,r){return hb(e,"cyan",0,1),hb(t,"magenta",0,1),hb(n,"yellow",0,1),hb(r,"key",0,1),{type:yk.CMYK,cyan:e,magenta:t,yellow:n,key:r}},Tk=yk.Grayscale,Ek=yk.RGB,_k=yk.CMYK,Ik=function(e){return e.type===Tk?(c=e.gray,ww.of(Sw.NonStrokingColorGray,[IA(c)])):e.type===Ek?(o=e.red,s=e.green,a=e.blue,ww.of(Sw.NonStrokingColorRgb,[IA(o),IA(s),IA(a)])):e.type===_k?(t=e.cyan,n=e.magenta,r=e.yellow,i=e.key,ww.of(Sw.NonStrokingColorCmyk,[IA(t),IA(n),IA(r),IA(i)])):Lv("Invalid color: "+JSON.stringify(e));var t,n,r,i,o,s,a,c},Pk=function(e){return e.type===Tk?(c=e.gray,ww.of(Sw.StrokingColorGray,[IA(c)])):e.type===Ek?(o=e.red,s=e.green,a=e.blue,ww.of(Sw.StrokingColorRgb,[IA(o),IA(s),IA(a)])):e.type===_k?(t=e.cyan,n=e.magenta,r=e.yellow,i=e.key,ww.of(Sw.StrokingColorCmyk,[IA(t),IA(n),IA(r),IA(i)])):Lv("Invalid color: "+JSON.stringify(e));var t,n,r,i,o,s,a,c},Rk=function(e,t){return void 0===t&&(t=1),1===(null===e||void 0===e?void 0:e.length)?Ak(e[0]*t):3===(null===e||void 0===e?void 0:e.length)?kk(e[0]*t,e[1]*t,e[2]*t):4===(null===e||void 0===e?void 0:e.length)?xk(e[0]*t,e[1]*t,e[2]*t,e[3]*t):void 0},Nk=function(e){return e.type===Tk?[e.gray]:e.type===Ek?[e.red,e.green,e.blue]:e.type===_k?[e.cyan,e.magenta,e.yellow,e.key]:Lv("Invalid color: "+JSON.stringify(e))},Ok=0,Fk=0,Mk=0,Dk=0,Lk=0,jk=0,Uk=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),Bk={M:function(e){return Ok=e[0],Fk=e[1],Mk=Dk=null,Lk=Ok,jk=Fk,ak(Ok,Fk)},m:function(e){return Ok+=e[0],Fk+=e[1],Mk=Dk=null,Lk=Ok,jk=Fk,ak(Ok,Fk)},C:function(e){return Ok=e[4],Fk=e[5],Mk=e[2],Dk=e[3],ik(e[0],e[1],e[2],e[3],e[4],e[5])},c:function(e){var t=ik(e[0]+Ok,e[1]+Fk,e[2]+Ok,e[3]+Fk,e[4]+Ok,e[5]+Fk);return Mk=Ok+e[2],Dk=Fk+e[3],Ok+=e[4],Fk+=e[5],t},S:function(e){null!==Mk&&null!==Dk||(Mk=Ok,Dk=Fk);var t=ik(Ok-(Mk-Ok),Fk-(Dk-Fk),e[0],e[1],e[2],e[3]);return Mk=e[0],Dk=e[1],Ok=e[2],Fk=e[3],t},s:function(e){null!==Mk&&null!==Dk||(Mk=Ok,Dk=Fk);var t=ik(Ok-(Mk-Ok),Fk-(Dk-Fk),Ok+e[0],Fk+e[1],Ok+e[2],Fk+e[3]);return Mk=Ok+e[0],Dk=Fk+e[1],Ok+=e[2],Fk+=e[3],t},Q:function(e){return Mk=e[0],Dk=e[1],Ok=e[2],Fk=e[3],ok(e[0],e[1],Ok,Fk)},q:function(e){var t=ok(e[0]+Ok,e[1]+Fk,e[2]+Ok,e[3]+Fk);return Mk=Ok+e[0],Dk=Fk+e[1],Ok+=e[2],Fk+=e[3],t},T:function(e){null===Mk||null===Dk?(Mk=Ok,Dk=Fk):(Mk=Ok-(Mk-Ok),Dk=Fk-(Dk-Fk));var t=ok(Mk,Dk,e[0],e[1]);return Mk=Ok-(Mk-Ok),Dk=Fk-(Dk-Fk),Ok=e[0],Fk=e[1],t},t:function(e){null===Mk||null===Dk?(Mk=Ok,Dk=Fk):(Mk=Ok-(Mk-Ok),Dk=Fk-(Dk-Fk));var t=ok(Mk,Dk,Ok+e[0],Fk+e[1]);return Ok+=e[0],Fk+=e[1],t},A:function(e){var t=qk(Ok,Fk,e);return Ok=e[5],Fk=e[6],t},a:function(e){e[5]+=Ok,e[6]+=Fk;var t=qk(Ok,Fk,e);return Ok=e[5],Fk=e[6],t},L:function(e){return Ok=e[0],Fk=e[1],Mk=Dk=null,ck(Ok,Fk)},l:function(e){return Ok+=e[0],Fk+=e[1],Mk=Dk=null,ck(Ok,Fk)},H:function(e){return Ok=e[0],Mk=Dk=null,ck(Ok,Fk)},h:function(e){return Ok+=e[0],Mk=Dk=null,ck(Ok,Fk)},V:function(e){return Fk=e[0],Mk=Dk=null,ck(Ok,Fk)},v:function(e){return Fk+=e[0],Mk=Dk=null,ck(Ok,Fk)},Z:function(){var e=sk();return Ok=Lk,Fk=jk,e},z:function(){var e=sk();return Ok=Lk,Fk=jk,e}},qk=function(e,t,n){for(var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],l=n[6],u=[],h=0,d=zk(c,l,r,i,s,a,o,e,t);h<d.length;h++){var f=d[h],p=Vk.apply(void 0,f);u.push(ik.apply(void 0,p))}return u},zk=function(e,t,n,r,i,o,s,a,c){var l=s*(Math.PI/180),u=Math.sin(l),h=Math.cos(l);n=Math.abs(n),r=Math.abs(r);var d=(Mk=h*(a-e)*.5+u*(c-t)*.5)*Mk/(n*n)+(Dk=h*(c-t)*.5-u*(a-e)*.5)*Dk/(r*r);d>1&&(n*=d=Math.sqrt(d),r*=d);var f=h/n,p=u/n,g=-u/r,m=h/r,y=f*a+p*c,v=g*a+m*c,b=f*e+p*t,w=g*e+m*t,C=1/((b-y)*(b-y)+(w-v)*(w-v))-.25;C<0&&(C=0);var S=Math.sqrt(C);o===i&&(S=-S);var A=.5*(y+b)-S*(w-v),k=.5*(v+w)+S*(b-y),x=Math.atan2(v-k,y-A),T=Math.atan2(w-k,b-A)-x;T<0&&1===o?T+=2*Math.PI:T>0&&0===o&&(T-=2*Math.PI);for(var E=Math.ceil(Math.abs(T/(.5*Math.PI+.001))),_=[],I=0;I<E;I++){var P=x+I*T/E,R=x+(I+1)*T/E;_[I]=[A,k,P,R,n,r,u,h]}return _},Vk=function(e,t,n,r,i,o,s,a){var c=a*i,l=-s*o,u=s*i,h=a*o,d=.5*(r-n),f=8/3*Math.sin(.5*d)*Math.sin(.5*d)/Math.sin(d),p=e+Math.cos(n)-f*Math.sin(n),g=t+Math.sin(n)+f*Math.cos(n),m=e+Math.cos(r),y=t+Math.sin(r),v=m+f*Math.sin(r),b=y-f*Math.cos(r);return[c*p+l*g,u*p+h*g,c*v+l*b,u*v+h*b,c*m+l*y,u*m+h*y]},Hk=function(e){return function(e){Ok=Fk=Mk=Dk=Lk=jk=0;for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.cmd&&"function"===typeof Bk[r.cmd]){var i=Bk[r.cmd](r.args);Array.isArray(i)?t=t.concat(i):t.push(i)}}return t}(function(e){for(var t,n=[],r=[],i="",o=!1,s=0,a=0,c=e;a<c.length;a++){var l=c[a];if(Uk.has(l))s=Uk.get(l),t&&(i.length>0&&(r[r.length]=+i),n[n.length]={cmd:t,args:r},r=[],i="",o=!1),t=l;else if([" ",","].includes(l)||"-"===l&&i.length>0&&"e"!==i[i.length-1]||"."===l&&o){if(0===i.length)continue;r.length===s?(n[n.length]={cmd:t,args:r},r=[+i],"M"===t&&(t="L"),"m"===t&&(t="l")):r[r.length]=+i,o="."===l,i=["-","."].includes(l)?l:""}else i+=l,"."===l&&(o=!0)}return i.length>0&&(r.length===s?(n[n.length]={cmd:t,args:r},r=[+i],"M"===t&&(t="L"),"m"===t&&(t="l")):r[r.length]=+i),n[n.length]={cmd:t,args:r},n}(e))},Wk=function(e,t){return[tk(),t.graphicsState&&ek(t.graphicsState),WA(t.x,t.y),GA(DA(t.rotate)),KA(t.width,t.height),YA(DA(t.xSkew),DA(t.ySkew)),bk(e),nk()].filter(Boolean)},Kk=function(e){var t,n;return[tk(),e.graphicsState&&ek(e.graphicsState),e.color&&Ik(e.color),e.borderColor&&Pk(e.borderColor),rk(e.borderWidth),e.borderLineCap&&ZA(e.borderLineCap),QA(null!==(t=e.borderDashArray)&&void 0!==t?t:[],null!==(n=e.borderDashPhase)&&void 0!==n?n:0),WA(e.x,e.y),GA(DA(e.rotate)),YA(DA(e.xSkew),DA(e.ySkew)),ak(0,0),ck(0,e.height),ck(e.width,e.height),ck(e.width,0),sk(),e.color&&e.borderWidth?hk():e.color?uk():e.borderColor?lk():sk(),nk()].filter(Boolean)},Gk=(Math.sqrt(2)-1)/3*4,Xk=function(e){var t,n,r;return Gy([tk(),e.graphicsState&&ek(e.graphicsState),e.color&&Ik(e.color),e.borderColor&&Pk(e.borderColor),rk(e.borderWidth),e.borderLineCap&&ZA(e.borderLineCap),QA(null!==(t=e.borderDashArray)&&void 0!==t?t:[],null!==(n=e.borderDashPhase)&&void 0!==n?n:0)],void 0===e.rotate?function(e){var t=PA(e.x),n=PA(e.y),r=PA(e.xScale),i=PA(e.yScale),o=r*Gk,s=i*Gk,a=(t-=r)+2*r,c=(n-=i)+2*i,l=t+r,u=n+i;return[tk(),ak(t,u),ik(t,u-s,l-o,n,l,n),ik(l+o,n,a,u-s,a,u),ik(a,u+s,l+o,c,l,c),ik(l-o,c,t,u+s,t,u),nk()]}({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale}):function(e){var t=PA(e.x),n=PA(e.y),r=PA(e.xScale),i=PA(e.yScale),o=-r,s=-i,a=r*Gk,c=i*Gk,l=o+2*r,u=s+2*i,h=o+r,d=s+i;return[WA(t,n),GA(DA(e.rotate)),ak(o,d),ik(o,d-c,h-a,s,h,s),ik(h+a,s,l,d-c,l,d),ik(l,d+c,h+a,u,h,u),ik(h-a,u,o,d+c,o,d)]}({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale,rotate:null!==(r=e.rotate)&&void 0!==r?r:NA(0)}),[e.color&&e.borderWidth?hk():e.color?uk():e.borderColor?lk():sk(),nk()]).filter(Boolean)},Yk=function(e){return 0===e.rotation?[WA(0,0),XA(0)]:90===e.rotation?[WA(e.width,0),XA(90)]:180===e.rotation?[WA(e.width,e.height),XA(180)]:270===e.rotation?[WA(0,e.height),XA(270)]:[]},Qk=function(e){var t=Kk({x:e.x,y:e.y,width:e.width,height:e.height,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)});if(!e.filled)return t;var n=PA(e.width),r=PA(e.height),i=function(e){var t=PA(e.size),n=-.25,r=-.49,i=-.675,o=.3995/.965+r;return[tk(),e.color&&Pk(e.color),rk(e.thickness),WA(e.x,e.y),ak(i*t,o*t),ck(n*t,r*t),ck(.69*t,.475*t),lk(),nk()].filter(Boolean)}({x:n/2,y:r/2,size:Math.min(n,r)/2,thickness:e.thickness,color:e.markColor});return Gy([tk()],t,i,[nk()])},Jk=function(e){var t=PA(e.width),n=PA(e.height),r=Math.min(t,n)/2,i=Xk({x:e.x,y:e.y,xScale:r,yScale:r,color:e.color,borderColor:e.borderColor,borderWidth:e.borderWidth});if(!e.filled)return i;var o=Xk({x:e.x,y:e.y,xScale:.45*r,yScale:.45*r,color:e.dotColor,borderColor:void 0,borderWidth:0});return Gy([tk()],i,o,[nk()])},Zk=function(e){var t=PA(e.x),n=PA(e.y),r=PA(e.width),i=PA(e.height),o=Kk({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)}),s=$k(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)});return Gy([tk()],o,s,[nk()])},$k=function(e,t){for(var n=[pk(),Ik(t.color),mk(t.font,t.size)],r=0,i=e.length;r<i;r++){var o=e[r],s=o.encoded,a=o.x,c=o.y;n.push(vk(DA(t.rotate),DA(t.xSkew),DA(t.ySkew),a,c),fk(s))}return n.push(gk()),n},ex=function(e){var t=PA(e.x),n=PA(e.y),r=PA(e.width),i=PA(e.height),o=PA(e.borderWidth),s=PA(e.padding),a=t+o/2+s,c=n+o/2+s,l=r-2*(o/2+s),u=i-2*(o/2+s),h=[ak(a,c),ck(a,c+u),ck(a+l,c+u),ck(a+l,c),sk(),BA(),dk()],d=Kk({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)}),f=$k(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)}),p=Gy([wk("Tx"),tk()],f,[nk(),Ck()]);return Gy([tk()],d,h,p,[nk()])},tx=function(e){function t(){return e.call(this,"Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.")||this}return Vy(t,e),t}(Error),nx=function(e){function t(){return e.call(this,"Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.")||this}return Vy(t,e),t}(Error),rx=function(e){function t(){return e.call(this,"A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.")||this}return Vy(t,e),t}(Error),ix=function(e){function t(){return e.call(this,"PDFDocument has no pages so `PDFDocument.removePage` cannot be called")||this}return Vy(t,e),t}(Error),ox=function(e){function t(t){var n='PDFDocument has no form field with the name "'+t+'"';return e.call(this,n)||this}return Vy(t,e),t}(Error),sx=function(e){function t(t,n,r){var i,o,s='Expected field "'+t+'" to be of type '+(null===n||void 0===n?void 0:n.name)+", but it is actually of type "+(null!==(o=null===(i=null===r||void 0===r?void 0:r.constructor)||void 0===i?void 0:i.name)&&void 0!==o?o:r);return e.call(this,s)||this}return Vy(t,e),t}(Error),ax=(function(e){function t(t){var n='Failed to select check box due to missing onValue: "'+t+'"';return e.call(this,n)||this}Vy(t,e)}(Error),function(e){function t(t){var n='A field already exists with the specified name: "'+t+'"';return e.call(this,n)||this}return Vy(t,e),t}(Error)),cx=function(e){function t(t){var n='Field name contains invalid component: "'+t+'"';return e.call(this,n)||this}return Vy(t,e),t}(Error),lx=(function(e){function t(t){var n='A non-terminal field already exists with the specified name: "'+t+'"';return e.call(this,n)||this}Vy(t,e)}(Error),function(e){function t(t){var n="Reading rich text fields is not supported: Attempted to read rich text field: "+t;return e.call(this,n)||this}return Vy(t,e),t}(Error)),ux=function(e){function t(t,n){var r="Failed to layout combed text as lineLength="+t+" is greater than cellCount="+n;return e.call(this,r)||this}return Vy(t,e),t}(Error),hx=function(e){function t(t,n,r){var i="Attempted to set text with length="+t+" for TextField with maxLength="+n+" and name="+r;return e.call(this,i)||this}return Vy(t,e),t}(Error),dx=function(e){function t(t,n,r){var i="Attempted to set maxLength="+n+", which is less than "+t+", the length of this field's current value (name="+r+")";return e.call(this,i)||this}return Vy(t,e),t}(Error);!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(Sk||(Sk={}));var fx=function(e,t,n,r){void 0===r&&(r=!1);for(var i=4;i<500;){for(var o=0,s=0,a=e.length;s<a;s++){o+=1;for(var c=e[s].split(" "),l=n.width,u=0,h=c.length;u<h;u++){var d=u===h-1?c[u]:c[u]+" ",f=t.widthOfTextAtSize(d,i);(l-=f)<=0&&(o+=1,l=n.width-f)}}if(!r&&o>e.length)return i-1;var p=t.heightAtSize(i);if((p+.2*p)*o>Math.abs(n.height))return i-1;i+=1}return i},px=function(e,t,n,r){for(var i=n.width/r,o=n.height,s=4,a=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=hv(e,n),o=i[0],s=i[1];t.push(o),n+=s}return t}(e);s<500;){for(var c=0,l=a.length;c<l;c++){var u=a[c];if(t.widthOfTextAtSize(u,s)>.75*i)return s-1}if(t.heightAtSize(s,{descender:!1})>o)return s-1;s+=1}return s},gx=function(e){for(var t=e.length;t>0;t--)if(/\s/.test(e[t]))return t},mx=function(e,t,n,r){for(var i,o=e.length;o>0;){var s=e.substring(0,o),a=n.encodeText(s),c=n.widthOfTextAtSize(s,r);if(c<t)return{line:s,encoded:a,width:c,remainder:e.substring(o)||void 0};o=null!==(i=gx(s))&&void 0!==i?i:0}return{line:e,encoded:n.encodeText(e),width:n.widthOfTextAtSize(e,r),remainder:void 0}},yx=function(e,t){var n=t.alignment,r=t.fontSize,i=t.font,o=t.bounds,s=lv(sv(e));void 0!==r&&0!==r||(r=fx(s,i,o,!0));for(var a=i.heightAtSize(r),c=a+.2*a,l=[],u=o.x,h=o.y,d=o.x+o.width,f=o.y+o.height,p=o.y+o.height,g=0,m=s.length;g<m;g++)for(var y=s[g];void 0!==y;){var v=mx(y,o.width,i,r),b=v.line,w=v.encoded,C=v.width,S=v.remainder,A=n===Sk.Left?o.x:n===Sk.Center?o.x+o.width/2-C/2:n===Sk.Right?o.x+o.width-C:o.x;A<u&&(u=A),(p-=c)<h&&(h=p),A+C>d&&(d=A+C),p+a>f&&(f=p+a),l.push({text:b,encoded:w,width:C,height:a,x:A,y:p}),y=null===S||void 0===S?void 0:S.trim()}return{fontSize:r,lineHeight:c,lines:l,bounds:{x:u,y:h,width:d-u,height:f-h}}},vx=function(e,t){var n=t.alignment,r=t.fontSize,i=t.font,o=t.bounds,s=uv(sv(e));void 0!==r&&0!==r||(r=fx([s],i,o));var a=i.encodeText(s),c=i.widthOfTextAtSize(s,r),l=i.heightAtSize(r,{descender:!1}),u=n===Sk.Left?o.x:n===Sk.Center?o.x+o.width/2-c/2:n===Sk.Right?o.x+o.width-c:o.x,h=o.y+(o.height/2-l/2);return{fontSize:r,line:{text:s,encoded:a,width:c,height:l,x:u,y:h},bounds:{x:u,y:h,width:c,height:l}}},bx=function(e){return"normal"in e?e:{normal:e}},wx=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,Cx=function(e){var t,n,r=null!==(t=e.getDefaultAppearance())&&void 0!==t?t:"",i=null!==(n=gv(r,wx).match)&&void 0!==n?n:[],o=Number(i[2]);return isFinite(o)?o:void 0},Sx=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Ax=function(e){var t,n=null!==(t=e.getDefaultAppearance())&&void 0!==t?t:"",r=gv(n,Sx).match,i=null!==r&&void 0!==r?r:[],o=i[1],s=i[2],a=i[3],c=i[4],l=i[5];return"g"===l&&o?Ak(Number(o)):"rg"===l&&o&&s&&a?kk(Number(o),Number(s),Number(a)):"k"===l&&o&&s&&a&&c?xk(Number(o),Number(s),Number(a),Number(c)):void 0},kx=function(e,t,n,r){var i;void 0===r&&(r=0);var o=[Ik(t).toString(),mk(null!==(i=null===n||void 0===n?void 0:n.name)&&void 0!==i?i:"dummy__noop",r).toString()].join("\n");e.setDefaultAppearance(o)},xx=function(e,t){var n,r,i,o=Ax(t),s=Ax(e.acroField),a=t.getRectangle(),c=t.getAppearanceCharacteristics(),l=t.getBorderStyle(),u=null!==(n=null===l||void 0===l?void 0:l.getWidth())&&void 0!==n?n:0,h=jA(null===c||void 0===c?void 0:c.getRotation()),d=UA(a,h),f=d.width,p=d.height,g=Yk(Hy(Hy({},a),{rotation:h})),m=kk(0,0,0),y=null!==(r=Rk(null===c||void 0===c?void 0:c.getBorderColor()))&&void 0!==r?r:m,v=Rk(null===c||void 0===c?void 0:c.getBackgroundColor()),b=Rk(null===c||void 0===c?void 0:c.getBackgroundColor(),.8),w=null!==(i=null!==o&&void 0!==o?o:s)&&void 0!==i?i:m;kx(o?t:e.acroField,w);var C={x:0+u/2,y:0+u/2,width:f-u,height:p-u,thickness:1.5,borderWidth:u,borderColor:y,markColor:w};return{normal:{on:Gy(g,Qk(Hy(Hy({},C),{color:v,filled:!0}))),off:Gy(g,Qk(Hy(Hy({},C),{color:v,filled:!1})))},down:{on:Gy(g,Qk(Hy(Hy({},C),{color:b,filled:!0}))),off:Gy(g,Qk(Hy(Hy({},C),{color:b,filled:!1})))}}},Tx=function(e,t){var n,r,i,o=Ax(t),s=Ax(e.acroField),a=t.getRectangle(),c=t.getAppearanceCharacteristics(),l=t.getBorderStyle(),u=null!==(n=null===l||void 0===l?void 0:l.getWidth())&&void 0!==n?n:0,h=jA(null===c||void 0===c?void 0:c.getRotation()),d=UA(a,h),f=d.width,p=d.height,g=Yk(Hy(Hy({},a),{rotation:h})),m=kk(0,0,0),y=null!==(r=Rk(null===c||void 0===c?void 0:c.getBorderColor()))&&void 0!==r?r:m,v=Rk(null===c||void 0===c?void 0:c.getBackgroundColor()),b=Rk(null===c||void 0===c?void 0:c.getBackgroundColor(),.8),w=null!==(i=null!==o&&void 0!==o?o:s)&&void 0!==i?i:m;kx(o?t:e.acroField,w);var C={x:f/2,y:p/2,width:f-u,height:p-u,borderWidth:u,borderColor:y,dotColor:w};return{normal:{on:Gy(g,Jk(Hy(Hy({},C),{color:v,filled:!0}))),off:Gy(g,Jk(Hy(Hy({},C),{color:v,filled:!1})))},down:{on:Gy(g,Jk(Hy(Hy({},C),{color:b,filled:!0}))),off:Gy(g,Jk(Hy(Hy({},C),{color:b,filled:!1})))}}},Ex=function(e,t,n){var r,i,o,s,a,c=Ax(t),l=Ax(e.acroField),u=Cx(t),h=Cx(e.acroField),d=t.getRectangle(),f=t.getAppearanceCharacteristics(),p=t.getBorderStyle(),g=null===f||void 0===f?void 0:f.getCaptions(),m=null!==(r=null===g||void 0===g?void 0:g.normal)&&void 0!==r?r:"",y=null!==(o=null!==(i=null===g||void 0===g?void 0:g.down)&&void 0!==i?i:m)&&void 0!==o?o:"",v=null!==(s=null===p||void 0===p?void 0:p.getWidth())&&void 0!==s?s:0,b=jA(null===f||void 0===f?void 0:f.getRotation()),w=UA(d,b),C=w.width,S=w.height,A=Yk(Hy(Hy({},d),{rotation:b})),k=kk(0,0,0),x=Rk(null===f||void 0===f?void 0:f.getBorderColor()),T=Rk(null===f||void 0===f?void 0:f.getBackgroundColor()),E=Rk(null===f||void 0===f?void 0:f.getBackgroundColor(),.8),_={x:v,y:v,width:C-2*v,height:S-2*v},I=vx(m,{alignment:Sk.Center,fontSize:null!==u&&void 0!==u?u:h,font:n,bounds:_}),P=vx(y,{alignment:Sk.Center,fontSize:null!==u&&void 0!==u?u:h,font:n,bounds:_}),R=Math.min(I.fontSize,P.fontSize),N=null!==(a=null!==c&&void 0!==c?c:l)&&void 0!==a?a:k;kx(c||void 0!==u?t:e.acroField,N,n,R);var O={x:0+v/2,y:0+v/2,width:C-v,height:S-v,borderWidth:v,borderColor:x,textColor:N,font:n.name,fontSize:R};return{normal:Gy(A,Zk(Hy(Hy({},O),{color:T,textLines:[I.line]}))),down:Gy(A,Zk(Hy(Hy({},O),{color:E,textLines:[P.line]})))}},_x=function(e,t,n){var r,i,o,s,a,c,l=Ax(t),u=Ax(e.acroField),h=Cx(t),d=Cx(e.acroField),f=t.getRectangle(),p=t.getAppearanceCharacteristics(),g=t.getBorderStyle(),m=null!==(r=e.getText())&&void 0!==r?r:"",y=null!==(i=null===g||void 0===g?void 0:g.getWidth())&&void 0!==i?i:0,v=jA(null===p||void 0===p?void 0:p.getRotation()),b=UA(f,v),w=b.width,C=b.height,S=Yk(Hy(Hy({},f),{rotation:v})),A=kk(0,0,0),k=Rk(null===p||void 0===p?void 0:p.getBorderColor()),x=Rk(null===p||void 0===p?void 0:p.getBackgroundColor()),T=e.isCombed()?0:1,E={x:y+T,y:y+T,width:w-2*(y+T),height:C-2*(y+T)};if(e.isMultiline())a=(_=yx(m,{alignment:e.getAlignment(),fontSize:null!==h&&void 0!==h?h:d,font:n,bounds:E})).lines,c=_.fontSize;else if(e.isCombed()){var _=function(e,t){var n=t.fontSize,r=t.font,i=t.bounds,o=t.cellCount,s=uv(sv(e));if(s.length>o)throw new ux(s.length,o);void 0!==n&&0!==n||(n=px(s,r,i,o));for(var a=i.width/o,c=r.heightAtSize(n,{descender:!1}),l=i.y+(i.height/2-c/2),u=[],h=i.x,d=i.y,f=i.x+i.width,p=i.y+i.height,g=0,m=0;g<o;){var y=hv(s,m),v=y[0],b=y[1],w=r.encodeText(v),C=r.widthOfTextAtSize(v,n),S=i.x+(a*g+a/2)-C/2;S<h&&(h=S),l<d&&(d=l),S+C>f&&(f=S+C),l+c>p&&(p=l+c),u.push({text:s,encoded:w,width:C,height:c,x:S,y:l}),g+=1,m+=b}return{fontSize:n,cells:u,bounds:{x:h,y:d,width:f-h,height:p-d}}}(m,{fontSize:null!==h&&void 0!==h?h:d,font:n,bounds:E,cellCount:null!==(o=e.getMaxLength())&&void 0!==o?o:0});a=_.cells,c=_.fontSize}else{a=[(_=vx(m,{alignment:e.getAlignment(),fontSize:null!==h&&void 0!==h?h:d,font:n,bounds:E})).line],c=_.fontSize}var I=null!==(s=null!==l&&void 0!==l?l:u)&&void 0!==s?s:A;kx(l||void 0!==h?t:e.acroField,I,n,c);var P={x:0+y/2,y:0+y/2,width:w-y,height:C-y,borderWidth:null!==y&&void 0!==y?y:0,borderColor:k,textColor:I,font:n.name,fontSize:c,color:x,textLines:a,padding:T};return Gy(S,ex(P))},Ix=function(e,t,n){var r,i,o,s=Ax(t),a=Ax(e.acroField),c=Cx(t),l=Cx(e.acroField),u=t.getRectangle(),h=t.getAppearanceCharacteristics(),d=t.getBorderStyle(),f=null!==(r=e.getSelected()[0])&&void 0!==r?r:"",p=null!==(i=null===d||void 0===d?void 0:d.getWidth())&&void 0!==i?i:0,g=jA(null===h||void 0===h?void 0:h.getRotation()),m=UA(u,g),y=m.width,v=m.height,b=Yk(Hy(Hy({},u),{rotation:g})),w=kk(0,0,0),C=Rk(null===h||void 0===h?void 0:h.getBorderColor()),S=Rk(null===h||void 0===h?void 0:h.getBackgroundColor()),A={x:p+1,y:p+1,width:y-2*(p+1),height:v-2*(p+1)},k=vx(f,{alignment:Sk.Left,fontSize:null!==c&&void 0!==c?c:l,font:n,bounds:A}),x=k.line,T=k.fontSize,E=null!==(o=null!==s&&void 0!==s?s:a)&&void 0!==o?o:w;kx(s||void 0!==c?t:e.acroField,E,n,T);var _={x:0+p/2,y:0+p/2,width:y-p,height:v-p,borderWidth:null!==p&&void 0!==p?p:0,borderColor:C,textColor:E,font:n.name,fontSize:T,color:S,textLines:[x],padding:1};return Gy(b,ex(_))},Px=function(e,t,n){var r,i,o=Ax(t),s=Ax(e.acroField),a=Cx(t),c=Cx(e.acroField),l=t.getRectangle(),u=t.getAppearanceCharacteristics(),h=t.getBorderStyle(),d=null!==(r=null===h||void 0===h?void 0:h.getWidth())&&void 0!==r?r:0,f=jA(null===u||void 0===u?void 0:u.getRotation()),p=UA(l,f),g=p.width,m=p.height,y=Yk(Hy(Hy({},l),{rotation:f})),v=kk(0,0,0),b=Rk(null===u||void 0===u?void 0:u.getBorderColor()),w=Rk(null===u||void 0===u?void 0:u.getBackgroundColor()),C=e.getOptions(),S=e.getSelected();e.isSorted()&&C.sort();for(var A="",k=0,x=C.length;k<x;k++)A+=C[k],k<x-1&&(A+="\n");var T={x:d+1,y:d+1,width:g-2*(d+1),height:m-2*(d+1)},E=yx(A,{alignment:Sk.Left,fontSize:null!==a&&void 0!==a?a:c,font:n,bounds:T}),_=E.lines,I=E.fontSize,P=E.lineHeight,R=[];for(k=0,x=_.length;k<x;k++){var N=_[k];S.includes(N.text)&&R.push(k)}var O=kk(.6,193/255,218/255),F=null!==(i=null!==o&&void 0!==o?o:s)&&void 0!==i?i:v;return kx(o||void 0!==a?t:e.acroField,F,n,I),Gy(y,function(e){for(var t=PA(e.x),n=PA(e.y),r=PA(e.width),i=PA(e.height),o=PA(e.lineHeight),s=PA(e.borderWidth),a=PA(e.padding),c=t+s/2+a,l=n+s/2+a,u=r-2*(s/2+a),h=i-2*(s/2+a),d=[ak(c,l),ck(c,l+h),ck(c+u,l+h),ck(c+u,l),sk(),BA(),dk()],f=Kk({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)}),p=[],g=0,m=e.selectedLines.length;g<m;g++){var y=e.textLines[e.selectedLines[g]];p.push.apply(p,Kk({x:y.x-a,y:y.y-(o-y.height)/2,width:r-s,height:y.height+(o-y.height)/2,borderWidth:0,color:e.selectedColor,borderColor:void 0,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)}))}var v=$k(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)}),b=Gy([wk("Tx"),tk()],v,[nk(),Ck()]);return Gy([tk()],f,p,d,b,[nk()])}({x:0+d/2,y:0+d/2,width:g-d,height:m-d,borderWidth:null!==d&&void 0!==d?d:0,borderColor:b,textColor:F,font:n.name,fontSize:I,color:w,textLines:_,lineHeight:P,selectedColor:O,selectedLines:R,padding:1}))},Rx=function(){function e(e,t,n){this.alreadyEmbedded=!1,cb(e,"ref",[[vw,"PDFRef"]]),cb(t,"doc",[[pT,"PDFDocument"]]),cb(n,"embedder",[[XC,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=n.width,this.height=n.height,this.embedder=n}return e.prototype.scale=function(e){return cb(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const Nx=Rx;var Ox=function(){function e(e,t,n){this.modified=!0,cb(e,"ref",[[vw,"PDFRef"]]),cb(t,"doc",[[pT,"PDFDocument"]]),cb(n,"embedder",[[aC,"CustomFontEmbedder"],[Zw,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=n.fontName,this.embedder=n}return e.prototype.encodeText=function(e){return cb(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},e.prototype.widthOfTextAtSize=function(e,t){return cb(e,"text",["string"]),cb(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},e.prototype.heightAtSize=function(e,t){var n;return cb(e,"size",["number"]),lb(null===t||void 0===t?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:null===(n=null===t||void 0===t?void 0:t.descender)||void 0===n||n})},e.prototype.sizeAtHeight=function(e){return cb(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},e.prototype.getCharacterSet=function(){return this.embedder instanceof Zw?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},e.prototype.embed=function(){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const Fx=Ox;var Mx=function(){function e(e,t,n){cb(e,"ref",[[vw,"PDFRef"]]),cb(t,"doc",[[pT,"PDFDocument"]]),cb(n,"embedder",[[yC,"JpegEmbedder"],[AC,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=n.width,this.height=n.height,this.embedder=n}return e.prototype.scale=function(e){return cb(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.scaleToFit=function(e,t){cb(e,"width",["number"]),cb(t,"height",["number"]);var n=e/this.width,r=t/this.height,i=Math.min(n,r);return this.scale(i)},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return Wy(this,void 0,void 0,(function(){var e,t,n;return Ky(this,(function(r){switch(r.label){case 0:return this.embedder?(this.embedTask||(t=(e=this).doc,n=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,n)),[4,this.embedTask]):[2];case 1:return r.sent(),this.embedder=void 0,[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const Dx=Mx;var Lx;!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(Lx||(Lx={}));var jx=function(e){lb(null===e||void 0===e?void 0:e.x,"options.x",["number"]),lb(null===e||void 0===e?void 0:e.y,"options.y",["number"]),lb(null===e||void 0===e?void 0:e.width,"options.width",["number"]),lb(null===e||void 0===e?void 0:e.height,"options.height",["number"]),lb(null===e||void 0===e?void 0:e.textColor,"options.textColor",[[Object,"Color"]]),lb(null===e||void 0===e?void 0:e.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),lb(null===e||void 0===e?void 0:e.borderColor,"options.borderColor",[[Object,"Color"]]),lb(null===e||void 0===e?void 0:e.borderWidth,"options.borderWidth",["number"]),lb(null===e||void 0===e?void 0:e.rotate,"options.rotate",[[Object,"Rotation"]])},Ux=function(){function e(e,t,n){cb(e,"acroField",[[pS,"PDFAcroTerminal"]]),cb(t,"ref",[[vw,"PDFRef"]]),cb(n,"doc",[[pT,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=n}return e.prototype.getName=function(){var e;return null!==(e=this.acroField.getFullyQualifiedName())&&void 0!==e?e:""},e.prototype.isReadOnly=function(){return this.acroField.hasFlag(bS.ReadOnly)},e.prototype.enableReadOnly=function(){this.acroField.setFlagTo(bS.ReadOnly,!0)},e.prototype.disableReadOnly=function(){this.acroField.setFlagTo(bS.ReadOnly,!1)},e.prototype.isRequired=function(){return this.acroField.hasFlag(bS.Required)},e.prototype.enableRequired=function(){this.acroField.setFlagTo(bS.Required,!0)},e.prototype.disableRequired=function(){this.acroField.setFlagTo(bS.Required,!1)},e.prototype.isExported=function(){return!this.acroField.hasFlag(bS.NoExport)},e.prototype.enableExporting=function(){this.acroField.setFlagTo(bS.NoExport,!1)},e.prototype.disableExporting=function(){this.acroField.setFlagTo(bS.NoExport,!0)},e.prototype.needsAppearancesUpdate=function(){throw new wb(this.constructor.name,"needsAppearancesUpdate")},e.prototype.defaultUpdateAppearances=function(e){throw new wb(this.constructor.name,"defaultUpdateAppearances")},e.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},e.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},e.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},e.prototype.createWidget=function(e){var t,n=e.textColor,r=e.backgroundColor,i=e.borderColor,o=e.borderWidth,s=LA(e.rotate),a=e.caption,c=e.x,l=e.y,u=e.width+o,h=e.height+o,d=Boolean(e.hidden),f=e.page;fb(s,"degreesAngle",90);var p=dS.create(this.doc.context,this.ref),g=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var r=e.x,i=e.y,o=e.width,s=e.height,a=jA(n),c=t/2;return 0===a?{x:r-c,y:i-c,width:o,height:s}:90===a?{x:r-s+c,y:i-c,width:s,height:o}:180===a?{x:r-o+c,y:i-s+c,width:o,height:s}:270===a?{x:r-c,y:i-o+c,width:s,height:o}:{x:r-c,y:i-c,width:o,height:s}}({x:c,y:l,width:u,height:h},o,s);p.setRectangle(g),f&&p.setP(f);var m=p.getOrCreateAppearanceCharacteristics();r&&m.setBackgroundColor(Nk(r)),m.setRotation(s),a&&m.setCaptions({normal:a}),i&&m.setBorderColor(Nk(i));var y=p.getOrCreateBorderStyle();if(void 0!==o&&y.setWidth(o),p.setFlagTo(xA.Print,!0),p.setFlagTo(xA.Hidden,d),p.setFlagTo(xA.Invisible,!1),n){var v=(null!==(t=this.acroField.getDefaultAppearance())&&void 0!==t?t:"")+"\n"+Ik(n).toString();this.acroField.setDefaultAppearance(v)}return p},e.prototype.updateWidgetAppearanceWithFont=function(e,t,n){var r=n.normal,i=n.rollover,o=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,r,t),rollover:i&&this.createAppearanceStream(e,i,t),down:o&&this.createAppearanceStream(e,o,t)})},e.prototype.updateOnOffWidgetAppearance=function(e,t,n){var r=n.normal,i=n.rollover,o=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,r,t),rollover:i&&this.createAppearanceDict(e,i,t),down:o&&this.createAppearanceDict(e,o,t)})},e.prototype.updateWidgetAppearances=function(e,t){var n=t.normal,r=t.rollover,i=t.down;e.setNormalAppearance(n),r?e.setRolloverAppearance(r):e.removeRolloverAppearance(),i?e.setDownAppearance(i):e.removeDownAppearance()},e.prototype.createAppearanceStream=function(e,t,n){var r,i=this.acroField.dict.context,o=e.getRectangle(),s=o.width,a=o.height,c=n&&{Font:(r={},r[n.name]=n.ref,r)},l=i.formXObject(t,{Resources:c,BBox:i.obj([0,0,s,a]),Matrix:i.obj([1,0,0,1,0,0])});return i.register(l)},e.prototype.createImageAppearanceStream=function(e,t,n){var r,i,o=this.acroField.dict.context,s=e.getRectangle(),a=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),l=null!==(i=null===c||void 0===c?void 0:c.getWidth())&&void 0!==i?i:0,u=jA(null===a||void 0===a?void 0:a.getRotation()),h=Yk(Hy(Hy({},s),{rotation:u})),d=UA(s,u),f=t.scaleToFit(d.width-2*l,d.height-2*l),p={x:l,y:l,width:f.width,height:f.height,rotate:NA(0),xSkew:NA(0),ySkew:NA(0)};n===Lx.Center?(p.x+=(d.width-2*l)/2-f.width/2,p.y+=(d.height-2*l)/2-f.height/2):n===Lx.Right&&(p.x=d.width-l-f.width,p.y=d.height-l-f.height);var g=this.doc.context.addRandomSuffix("Image",10),m=Gy(h,Wk(g,p)),y={XObject:(r={},r[g]=t.ref,r)},v=o.formXObject(m,{Resources:y,BBox:o.obj([0,0,s.width,s.height]),Matrix:o.obj([1,0,0,1,0,0])});return o.register(v)},e.prototype.createAppearanceDict=function(e,t,n){var r=this.acroField.dict.context,i=this.createAppearanceStream(e,t.on),o=this.createAppearanceStream(e,t.off),s=r.obj({});return s.set(n,i),s.set(lw.of("Off"),o),s},e}();const Bx=Ux;var qx=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return cb(t,"acroCheckBox",[[vS,"PDFAcroCheckBox"]]),i.acroField=t,i}return Vy(t,e),t.prototype.check=function(){var e,t=null!==(e=this.acroField.getOnValue())&&void 0!==e?e:lw.of("Yes");this.markAsDirty(),this.acroField.setValue(t)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(lw.of("Off"))},t.prototype.isChecked=function(){var e=this.acroField.getOnValue();return!!e&&e===this.acroField.getValue()},t.prototype.addToPage=function(e,t){var n,r,i,o,s,a;cb(e,"page",[[vT,"PDFPage"]]),jx(t),t||(t={}),"textColor"in t||(t.textColor=kk(0,0,0)),"backgroundColor"in t||(t.backgroundColor=kk(1,1,1)),"borderColor"in t||(t.borderColor=kk(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var c=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(i=t.width)&&void 0!==i?i:50,height:null!==(o=t.height)&&void 0!==o?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(s=t.borderWidth)&&void 0!==s?s:0,rotate:null!==(a=t.rotate)&&void 0!==a?a:NA(0),hidden:t.hidden,page:e.ref}),l=this.doc.context.register(c.dict);this.acroField.addWidget(l),c.setAppearanceState(lw.of("Off")),this.updateWidgetAppearance(c,lw.of("Yes")),e.node.addAnnot(l)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getAppearanceState(),s=null===(e=i.getAppearances())||void 0===e?void 0:e.normal;if(!(s instanceof dw))return!0;if(o&&!s.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){var t;lb(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r],s=null!==(t=o.getOnValue())&&void 0!==t?t:lw.of("Yes");s&&this.updateWidgetAppearance(o,s,e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=bx((null!==n&&void 0!==n?n:xx)(this,e));this.updateOnOffWidgetAppearance(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bx);const zx=qx;var Vx=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return cb(t,"acroComboBox",[[ES,"PDFAcroComboBox"]]),i.acroField=t,i}return Vy(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=new Array(e.length),n=0,r=t.length;n<r;n++){var i=e[n],o=i.display,s=i.value;t[n]=(null!==o&&void 0!==o?o:s).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t},t.prototype.setOptions=function(e){cb(e,"options",[Array]);for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]={value:Qw.fromText(e[n])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){cb(e,"options",["string",Array]);for(var t=Array.isArray(e)?e:[e],n=this.acroField.getOptions(),r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]={value:Qw.fromText(t[i])};this.acroField.setOptions(n.concat(r))},t.prototype.select=function(e,t){void 0===t&&(t=!1),cb(e,"options",["string",Array]),cb(t,"merge",["boolean"]);var n=Array.isArray(e)?e:[e],r=this.getOptions();n.find((function(e){return!r.includes(e)}))&&this.enableEditing(),this.markAsDirty(),(n.length>1||1===n.length&&t)&&this.enableMultiselect();for(var i=new Array(n.length),o=0,s=n.length;o<s;o++)i[o]=Qw.fromText(n[o]);if(t){var a=this.acroField.getValues();this.acroField.setValues(a.concat(i))}else this.acroField.setValues(i)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){pb(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(SS.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(SS.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(SS.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(SS.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(SS.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(SS.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(SS.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(SS.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(SS.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(SS.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(SS.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(SS.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(SS.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(SS.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(SS.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){var n,r,i,o,s,a,c;cb(e,"page",[[vT,"PDFPage"]]),jx(t),t||(t={}),"textColor"in t||(t.textColor=kk(0,0,0)),"backgroundColor"in t||(t.backgroundColor=kk(1,1,1)),"borderColor"in t||(t.borderColor=kk(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var l=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(i=t.width)&&void 0!==i?i:200,height:null!==(o=t.height)&&void 0!==o?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(s=t.borderWidth)&&void 0!==s?s:0,rotate:null!==(a=t.rotate)&&void 0!==a?a:NA(0),hidden:t.hidden,page:e.ref}),u=this.doc.context.register(l.dict);this.acroField.addWidget(u);var h=null!==(c=t.font)&&void 0!==c?c:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(l,h),e.node.addAnnot(u)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof pw))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){cb(e,"font",[[Fx,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cb(e,"font",[[Fx,"PDFFont"]]),lb(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=bx((null!==n&&void 0!==n?n:Ix)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bx);const Hx=Vx;var Wx=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return cb(t,"acroListBox",[[US,"PDFAcroListBox"]]),i.acroField=t,i}return Vy(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=new Array(e.length),n=0,r=t.length;n<r;n++){var i=e[n],o=i.display,s=i.value;t[n]=(null!==o&&void 0!==o?o:s).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t},t.prototype.setOptions=function(e){cb(e,"options",[Array]),this.markAsDirty();for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]={value:Qw.fromText(e[n])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){cb(e,"options",["string",Array]),this.markAsDirty();for(var t=Array.isArray(e)?e:[e],n=this.acroField.getOptions(),r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]={value:Qw.fromText(t[i])};this.acroField.setOptions(n.concat(r))},t.prototype.select=function(e,t){void 0===t&&(t=!1),cb(e,"options",["string",Array]),cb(t,"merge",["boolean"]);var n=Array.isArray(e)?e:[e];!function(e,t,n){Array.isArray(n)||(n=Zv(n));for(var r=0,i=e.length;r<i;r++)ib(e[r],t,n)}(n,"option",this.getOptions()),this.markAsDirty(),(n.length>1||1===n.length&&t)&&this.enableMultiselect();for(var r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]=Qw.fromText(n[i]);if(t){var s=this.acroField.getValues();this.acroField.setValues(s.concat(r))}else this.acroField.setValues(r)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){pb(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(SS.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(SS.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(SS.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(SS.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(SS.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(SS.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(SS.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(SS.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(SS.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){var n,r,i,o,s,a,c;cb(e,"page",[[vT,"PDFPage"]]),jx(t),t||(t={}),"textColor"in t||(t.textColor=kk(0,0,0)),"backgroundColor"in t||(t.backgroundColor=kk(1,1,1)),"borderColor"in t||(t.borderColor=kk(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var l=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(i=t.width)&&void 0!==i?i:200,height:null!==(o=t.height)&&void 0!==o?o:100,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(s=t.borderWidth)&&void 0!==s?s:0,rotate:null!==(a=t.rotate)&&void 0!==a?a:NA(0),hidden:t.hidden,page:e.ref}),u=this.doc.context.register(l.dict);this.acroField.addWidget(u);var h=null!==(c=t.font)&&void 0!==c?c:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(l,h),e.node.addAnnot(u)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof pw))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){cb(e,"font",[[Fx,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cb(e,"font",[[Fx,"PDFFont"]]),lb(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=bx((null!==n&&void 0!==n?n:Px)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bx);const Kx=Wx;var Gx=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return cb(t,"acroRadioButton",[[LS,"PDFAcroRadioButton"]]),i.acroField=t,i}return Vy(t,e),t.prototype.getOptions=function(){var e=this.acroField.getExportValues();if(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t}var i=this.acroField.getOnValues(),o=new Array(i.length);for(n=0,r=o.length;n<r;n++)o[n]=i[n].decodeText();return o},t.prototype.getSelected=function(){var e=this.acroField.getValue();if(e!==lw.of("Off")){var t=this.acroField.getExportValues();if(t)for(var n=this.acroField.getOnValues(),r=0,i=n.length;r<i;r++)if(n[r]===e)return t[r].decodeText();return e.decodeText()}},t.prototype.select=function(e){cb(e,"option",["string"]);var t=this.getOptions();ib(e,"option",t),this.markAsDirty();var n=this.acroField.getOnValues(),r=this.acroField.getExportValues();if(r)for(var i=0,o=r.length;i<o;i++)r[i].decodeText()===e&&this.acroField.setValue(n[i]);else for(i=0,o=n.length;i<o;i++){var s=n[i];s.decodeText()===e&&this.acroField.setValue(s)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(lw.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(wS.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(wS.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(wS.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(wS.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(wS.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(wS.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(e,t,n){var r,i,o,s,a,c,l,u,h;cb(e,"option",["string"]),cb(t,"page",[[vT,"PDFPage"]]),jx(n);var d=this.createWidget({x:null!==(r=null===n||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(i=null===n||void 0===n?void 0:n.y)&&void 0!==i?i:0,width:null!==(o=null===n||void 0===n?void 0:n.width)&&void 0!==o?o:50,height:null!==(s=null===n||void 0===n?void 0:n.height)&&void 0!==s?s:50,textColor:null!==(a=null===n||void 0===n?void 0:n.textColor)&&void 0!==a?a:kk(0,0,0),backgroundColor:null!==(c=null===n||void 0===n?void 0:n.backgroundColor)&&void 0!==c?c:kk(1,1,1),borderColor:null!==(l=null===n||void 0===n?void 0:n.borderColor)&&void 0!==l?l:kk(0,0,0),borderWidth:null!==(u=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==u?u:1,rotate:null!==(h=null===n||void 0===n?void 0:n.rotate)&&void 0!==h?h:NA(0),hidden:null===n||void 0===n?void 0:n.hidden,page:t.ref}),f=this.doc.context.register(d.dict),p=this.acroField.addWidgetWithOpt(f,Qw.fromText(e),!this.isMutuallyExclusive());d.setAppearanceState(lw.of("Off")),this.updateWidgetAppearance(d,p),t.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getAppearanceState(),s=null===(e=i.getAppearances())||void 0===e?void 0:e.normal;if(!(s instanceof dw))return!0;if(o&&!s.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){lb(e,"provider",[Function]);for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getOnValue();o&&this.updateWidgetAppearance(i,o,e)}},t.prototype.updateWidgetAppearance=function(e,t,n){var r=bx((null!==n&&void 0!==n?n:Tx)(this,e));this.updateOnOffWidgetAppearance(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bx);const Xx=Gx;var Yx=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return cb(t,"acroSignature",[[RS,"PDFAcroSignature"]]),i.acroField=t,i}return Vy(t,e),t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(e,n,r){return new t(e,n,r)},t}(Bx);const Qx=Yx;var Jx=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return cb(t,"acroText",[[OS,"PDFAcroText"]]),i.acroField=t,i}return Vy(t,e),t.prototype.getText=function(){var e=this.acroField.getValue();if(!e&&this.isRichFormatted())throw new lx(this.getName());return null===e||void 0===e?void 0:e.decodeText()},t.prototype.setText=function(e){lb(e,"text",["string"]);var t=this.getMaxLength();if(void 0!==t&&e&&e.length>t)throw new hx(e.length,t,this.getName());this.markAsDirty(),this.disableRichFormatting(),e?this.acroField.setValue(Qw.fromText(e)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var e=this.acroField.getQuadding();return 0===e?Sk.Left:1===e?Sk.Center:2===e?Sk.Right:Sk.Left},t.prototype.setAlignment=function(e){ib(e,"alignment",Sk),this.markAsDirty(),this.acroField.setQuadding(e)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(e){if(db(e,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),void 0===e)this.acroField.removeMaxLength();else{var t=this.getText();if(t&&t.length>e)throw new dx(t.length,e,this.getName());this.acroField.setMaxLength(e)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(e){for(var t=this.getAlignment(),n=t===Sk.Center?Lx.Center:t===Sk.Right?Lx.Right:Lx.Left,r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=this.createImageAppearanceStream(s,e,n);this.updateWidgetAppearances(s,{normal:a})}this.markAsClean()},t.prototype.setFontSize=function(e){pb(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(CS.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(CS.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(CS.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(CS.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(CS.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(CS.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(CS.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(CS.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(CS.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(CS.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(CS.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(CS.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(CS.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(CS.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(CS.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(CS.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&void 0!==this.getMaxLength()},t.prototype.enableCombing=function(){if(void 0===this.getMaxLength()){console.warn("PDFTextFields must have a max length in order to be combed")}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(CS.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(CS.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(CS.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(CS.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(CS.RichText,!1)},t.prototype.addToPage=function(e,t){var n,r,i,o,s,a,c;cb(e,"page",[[vT,"PDFPage"]]),jx(t),t||(t={}),"textColor"in t||(t.textColor=kk(0,0,0)),"backgroundColor"in t||(t.backgroundColor=kk(1,1,1)),"borderColor"in t||(t.borderColor=kk(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var l=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(i=t.width)&&void 0!==i?i:200,height:null!==(o=t.height)&&void 0!==o?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(s=t.borderWidth)&&void 0!==s?s:0,rotate:null!==(a=t.rotate)&&void 0!==a?a:NA(0),hidden:t.hidden,page:e.ref}),u=this.doc.context.register(l.dict);this.acroField.addWidget(u);var h=null!==(c=t.font)&&void 0!==c?c:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(l,h),e.node.addAnnot(u)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof pw))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){cb(e,"font",[[Fx,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cb(e,"font",[[Fx,"PDFFont"]]),lb(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=bx((null!==n&&void 0!==n?n:_x)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bx);const Zx=Jx;var $x;!function(e){e.Courier="Courier",e.CourierBold="Courier-Bold",e.CourierOblique="Courier-Oblique",e.CourierBoldOblique="Courier-BoldOblique",e.Helvetica="Helvetica",e.HelveticaBold="Helvetica-Bold",e.HelveticaOblique="Helvetica-Oblique",e.HelveticaBoldOblique="Helvetica-BoldOblique",e.TimesRoman="Times-Roman",e.TimesRomanBold="Times-Bold",e.TimesRomanItalic="Times-Italic",e.TimesRomanBoldItalic="Times-BoldItalic",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats"}($x||($x={}));var eT=function(){function e(e,t){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont($x.Helvetica)},cb(e,"acroForm",[[QS,"PDFAcroForm"]]),cb(t,"doc",[[pT,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=vb.populatedBy(this.embedDefaultFont)}return e.prototype.hasXFA=function(){return this.acroForm.dict.has(lw.of("XFA"))},e.prototype.deleteXFA=function(){this.acroForm.dict.delete(lw.of("XFA"))},e.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=i[0],s=i[1],a=rT(o,s,this.doc);a&&t.push(a)}return t},e.prototype.getFieldMaybe=function(e){cb(e,"name",["string"]);for(var t=this.getFields(),n=0,r=t.length;n<r;n++){var i=t[n];if(i.getName()===e)return i}},e.prototype.getField=function(e){cb(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new ox(e)},e.prototype.getButton=function(e){cb(e,"name",["string"]);var t=this.getField(e);if(t instanceof wT)return t;throw new sx(e,wT,t)},e.prototype.getCheckBox=function(e){cb(e,"name",["string"]);var t=this.getField(e);if(t instanceof zx)return t;throw new sx(e,zx,t)},e.prototype.getDropdown=function(e){cb(e,"name",["string"]);var t=this.getField(e);if(t instanceof Hx)return t;throw new sx(e,Hx,t)},e.prototype.getOptionList=function(e){cb(e,"name",["string"]);var t=this.getField(e);if(t instanceof Kx)return t;throw new sx(e,Kx,t)},e.prototype.getRadioGroup=function(e){cb(e,"name",["string"]);var t=this.getField(e);if(t instanceof Xx)return t;throw new sx(e,Xx,t)},e.prototype.getSignature=function(e){cb(e,"name",["string"]);var t=this.getField(e);if(t instanceof Qx)return t;throw new sx(e,Qx,t)},e.prototype.getTextField=function(e){cb(e,"name",["string"]);var t=this.getField(e);if(t instanceof Zx)return t;throw new sx(e,Zx,t)},e.prototype.createButton=function(e){cb(e,"name",["string"]);var t=iT(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=MS.create(this.doc.context);return r.setPartialName(t.terminal),oT(n,[r,r.ref],t.terminal),wT.of(r,r.ref,this.doc)},e.prototype.createCheckBox=function(e){cb(e,"name",["string"]);var t=iT(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=vS.create(this.doc.context);return r.setPartialName(t.terminal),oT(n,[r,r.ref],t.terminal),zx.of(r,r.ref,this.doc)},e.prototype.createDropdown=function(e){cb(e,"name",["string"]);var t=iT(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=ES.create(this.doc.context);return r.setPartialName(t.terminal),oT(n,[r,r.ref],t.terminal),Hx.of(r,r.ref,this.doc)},e.prototype.createOptionList=function(e){cb(e,"name",["string"]);var t=iT(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=US.create(this.doc.context);return r.setPartialName(t.terminal),oT(n,[r,r.ref],t.terminal),Kx.of(r,r.ref,this.doc)},e.prototype.createRadioGroup=function(e){cb(e,"name",["string"]);var t=iT(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=LS.create(this.doc.context);return r.setPartialName(t.terminal),oT(n,[r,r.ref],t.terminal),Xx.of(r,r.ref,this.doc)},e.prototype.createTextField=function(e){cb(e,"name",["string"]);var t=iT(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=OS.create(this.doc.context);return r.setPartialName(t.terminal),oT(n,[r,r.ref],t.terminal),Zx.of(r,r.ref,this.doc)},e.prototype.flatten=function(e){void 0===e&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),n=0,r=t.length;n<r;n++){for(var i=t[n],o=i.acroField.getWidgets(),s=0,a=o.length;s<a;s++){var c=o[s],l=this.findWidgetPage(c),u=this.findWidgetAppearanceRef(i,c),h=l.node.newXObject("FlatWidget",u),d=c.getRectangle(),f=Gy([tk(),WA(d.x,d.y)],Yk(Hy(Hy({},d),{rotation:0})),[bk(h),nk()]).filter(Boolean);l.pushOperators.apply(l,f)}this.removeField(i)}},e.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),n=new Set,r=0,i=t.length;r<i;r++){var o=t[r],s=this.findWidgetAppearanceRef(e,o),a=this.findWidgetPage(o);n.add(a),a.node.removeAnnot(s)}n.forEach((function(t){return t.node.removeAnnot(e.ref)})),this.acroForm.removeField(e.acroField);for(var c=e.acroField.normalizedEntries().Kids,l=c.size(),u=0;u<l;u++){var h=c.get(u);h instanceof vw&&this.doc.context.delete(h)}this.doc.context.delete(e.ref)},e.prototype.updateFieldAppearances=function(e){lb(e,"font",[[Fx,"PDFFont"]]),e=null!==e&&void 0!==e?e:this.getDefaultFont();for(var t=this.getFields(),n=0,r=t.length;n<r;n++){var i=t[n];i.needsAppearancesUpdate()&&i.defaultUpdateAppearances(e)}},e.prototype.markFieldAsDirty=function(e){lb(e,"fieldRef",[[vw,"PDFRef"]]),this.dirtyFields.add(e)},e.prototype.markFieldAsClean=function(e){lb(e,"fieldRef",[[vw,"PDFRef"]]),this.dirtyFields.delete(e)},e.prototype.fieldIsDirty=function(e){return lb(e,"fieldRef",[[vw,"PDFRef"]]),this.dirtyFields.has(e)},e.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},e.prototype.findWidgetPage=function(e){var t=e.P(),n=this.doc.getPages().find((function(e){return e.ref===t}));if(void 0===n){var r=this.doc.context.getObjectRef(e.dict);if(void 0===r)throw new Error("Could not find PDFRef for PDFObject");if(void 0===(n=this.doc.findPageForAnnotationRef(r)))throw new Error("Could not find page for PDFRef "+r)}return n},e.prototype.findWidgetAppearanceRef=function(e,t){var n,r=t.getNormalAppearance();if(r instanceof dw&&(e instanceof zx||e instanceof Xx)){var i=e.acroField.getValue(),o=null!==(n=r.get(i))&&void 0!==n?n:r.get(lw.of("Off"));o instanceof vw&&(r=o)}if(!(r instanceof vw)){var s=e.getName();throw new Error("Failed to extract appearance ref for: "+s)}return r},e.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],n=0,r=e.length;n<r;n++){var i=e[n];if(!i)throw new cx(i);var o=t[0],s=t[1],a=this.findNonTerminal(i,o);if(a)t=a;else{var c=IS.create(this.doc.context);c.setPartialName(i),c.setParent(s);var l=this.doc.context.register(c.dict);o.addField(l),t=[c,l]}}return t},e.prototype.findNonTerminal=function(e,t){for(var n=t instanceof QS?this.acroForm.getFields():BS(t.Kids()),r=0,i=n.length;r<i;r++){var o=n[r],s=o[0],a=o[1];if(s.getPartialName()===e){if(s instanceof IS)return[s,a];throw new ax(e)}}},e.of=function(t,n){return new e(t,n)},e}();const tT=eT;var nT,rT=function(e,t,n){return e instanceof MS?wT.of(e,t,n):e instanceof vS?zx.of(e,t,n):e instanceof ES?Hx.of(e,t,n):e instanceof US?Kx.of(e,t,n):e instanceof OS?Zx.of(e,t,n):e instanceof LS?Xx.of(e,t,n):e instanceof RS?Qx.of(e,t,n):void 0},iT=function(e){if(0===e.length)throw new Error("PDF field names must not be empty strings");for(var t=e.split("."),n=0,r=t.length;n<r;n++)if(""===t[n])throw new Error('Periods in PDF field names must be separated by at least one character: "'+e+'"');return 1===t.length?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},oT=function(e,t,n){for(var r=e[0],i=e[1],o=t[0],s=t[1],a=r.normalizedEntries(),c=(BS("Kids"in a?a.Kids:a.Fields)),l=0,u=c.length;l<u;l++)if(c[l][0].getPartialName()===n)throw new ax(n);r.addField(s),o.setParent(i)},sT={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]};!function(e){e[e.Fastest=1/0]="Fastest",e[e.Fast=1500]="Fast",e[e.Medium=500]="Medium",e[e.Slow=100]="Slow"}(nT||(nT={}));var aT=function(){function e(e,t,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=n}return e.prototype.embed=function(){return Wy(this,void 0,void 0,(function(){var e,t,n,r;return Ky(this,(function(i){switch(i.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=i.sent(),this.doc.catalog.has(lw.of("Names"))||this.doc.catalog.set(lw.of("Names"),this.doc.context.obj({})),(t=this.doc.catalog.lookup(lw.of("Names"),dw)).has(lw.of("EmbeddedFiles"))||t.set(lw.of("EmbeddedFiles"),this.doc.context.obj({})),(n=t.lookup(lw.of("EmbeddedFiles"),dw)).has(lw.of("Names"))||n.set(lw.of("Names"),this.doc.context.obj([])),(r=n.lookup(lw.of("Names"),Zb)).push(Qw.fromText(this.embedder.fileName)),r.push(e),this.doc.catalog.has(lw.of("AF"))||this.doc.catalog.set(lw.of("AF"),this.doc.context.obj([])),this.doc.catalog.lookup(lw.of("AF"),Zb).push(e),this.alreadyEmbedded=!0,i.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const cT=aT;var lT=function(){function e(e,t,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=n}return e.prototype.embed=function(){return Wy(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return Ky(this,(function(a){switch(a.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,t=e.catalog,n=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:r=a.sent(),t.has(lw.of("Names"))||t.set(lw.of("Names"),n.obj({})),(i=t.lookup(lw.of("Names"),dw)).has(lw.of("JavaScript"))||i.set(lw.of("JavaScript"),n.obj({})),(o=i.lookup(lw.of("JavaScript"),dw)).has(lw.of("Names"))||o.set(lw.of("Names"),n.obj([])),(s=o.lookup(lw.of("Names"),Zb)).push(Qw.fromText(this.embedder.scriptName)),s.push(r),this.alreadyEmbedded=!0,a.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const uT=lT;var hT=function(){function e(e,t){this.script=e,this.scriptName=t}return e.for=function(t,n){return new e(t,n)},e.prototype.embedIntoContext=function(e,t){return Wy(this,void 0,void 0,(function(){var n;return Ky(this,(function(r){return n=e.obj({Type:"Action",S:"JavaScript",JS:Qw.fromText(this.script)}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]}))}))},e}();const dT=hT;var fT=function(){function e(e,t,n){var r=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var e=[];return r.catalog.Pages().traverse((function(t,n){if(t instanceof Rw){var i=r.pageMap.get(t);i||(i=vT.of(t,n,r),r.pageMap.set(t,i)),e.push(i)}})),e},this.getOrCreateForm=function(){var e=r.catalog.getOrCreateAcroForm();return tT.of(e,r)},cb(e,"context",[[Iw,"PDFContext"]]),cb(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=vb.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=vb.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new tx;n&&this.updateInfoDict()}return e.load=function(t,n){return void 0===n&&(n={}),Wy(this,void 0,void 0,(function(){var r,i,o,s,a,c,l,u,h,d,f;return Ky(this,(function(p){switch(p.label){case 0:return r=n.ignoreEncryption,i=void 0!==r&&r,o=n.parseSpeed,s=void 0===o?nT.Slow:o,a=n.throwOnInvalidObject,c=void 0!==a&&a,l=n.updateMetadata,u=void 0===l||l,h=n.capNumbers,d=void 0!==h&&h,cb(t,"pdf",["string",Uint8Array,ArrayBuffer]),cb(i,"ignoreEncryption",["boolean"]),cb(s,"parseSpeed",["number"]),cb(c,"throwOnInvalidObject",["boolean"]),f=Sv(t),[4,kA.forBytesWithOptions(f,s,c,d).parseDocument()];case 1:return[2,new e(p.sent(),i,u)]}}))}))},e.create=function(t){return void 0===t&&(t={}),Wy(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Ky(this,(function(c){return n=t.updateMetadata,r=void 0===n||n,i=Iw.create(),o=eA.withContext(i),s=i.register(o),a=ZS.withContextAndPages(i,s),i.trailerInfo.Root=i.register(a),[2,new e(i,!1,r)]}))}))},e.prototype.registerFontkit=function(e){this.fontkit=e},e.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},e.prototype.getTitle=function(){var e=this.getInfoDict().lookup(lw.Title);if(e)return gT(e),e.decodeText()},e.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(lw.Author);if(e)return gT(e),e.decodeText()},e.prototype.getSubject=function(){var e=this.getInfoDict().lookup(lw.Subject);if(e)return gT(e),e.decodeText()},e.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(lw.Keywords);if(e)return gT(e),e.decodeText()},e.prototype.getCreator=function(){var e=this.getInfoDict().lookup(lw.Creator);if(e)return gT(e),e.decodeText()},e.prototype.getProducer=function(){var e=this.getInfoDict().lookup(lw.Producer);if(e)return gT(e),e.decodeText()},e.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(lw.CreationDate);if(e)return gT(e),e.decodeDate()},e.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(lw.ModDate);if(e)return gT(e),e.decodeDate()},e.prototype.setTitle=function(e,t){cb(e,"title",["string"]);var n=lw.of("Title");(this.getInfoDict().set(n,Qw.fromText(e)),null===t||void 0===t?void 0:t.showInWindowTitleBar)&&this.catalog.getOrCreateViewerPreferences().setDisplayDocTitle(!0)},e.prototype.setAuthor=function(e){cb(e,"author",["string"]);var t=lw.of("Author");this.getInfoDict().set(t,Qw.fromText(e))},e.prototype.setSubject=function(e){cb(e,"author",["string"]);var t=lw.of("Subject");this.getInfoDict().set(t,Qw.fromText(e))},e.prototype.setKeywords=function(e){cb(e,"keywords",[Array]);var t=lw.of("Keywords");this.getInfoDict().set(t,Qw.fromText(e.join(" ")))},e.prototype.setCreator=function(e){cb(e,"creator",["string"]);var t=lw.of("Creator");this.getInfoDict().set(t,Qw.fromText(e))},e.prototype.setProducer=function(e){cb(e,"creator",["string"]);var t=lw.of("Producer");this.getInfoDict().set(t,Qw.fromText(e))},e.prototype.setLanguage=function(e){cb(e,"language",["string"]);var t=lw.of("Lang");this.catalog.set(t,oC.of(e))},e.prototype.setCreationDate=function(e){cb(e,"creationDate",[[Date,"Date"]]);var t=lw.of("CreationDate");this.getInfoDict().set(t,oC.fromDate(e))},e.prototype.setModificationDate=function(e){cb(e,"modificationDate",[[Date,"Date"]]);var t=lw.of("ModDate");this.getInfoDict().set(t,oC.fromDate(e))},e.prototype.getPageCount=function(){return void 0===this.pageCount&&(this.pageCount=this.getPages().length),this.pageCount},e.prototype.getPages=function(){return this.pageCache.access()},e.prototype.getPage=function(e){var t=this.getPages();return hb(e,"index",0,t.length-1),t[e]},e.prototype.getPageIndices=function(){return function(e,t){for(var n=new Array(t-e),r=0,i=n.length;r<i;r++)n[r]=e+r;return n}(0,this.getPageCount())},e.prototype.removePage=function(e){var t=this.getPageCount();if(0===this.pageCount)throw new ix;hb(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},e.prototype.addPage=function(e){return cb(e,"page",["undefined",[vT,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},e.prototype.insertPage=function(e,t){var n=this.getPageCount();if(hb(e,"index",0,n),cb(t,"page",["undefined",[vT,"PDFPage"],Array]),!t||Array.isArray(t)){var r=Array.isArray(t)?t:sT.A4;(t=vT.create(this)).setSize.apply(t,r)}else if(t.doc!==this)throw new rx;var i=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(i),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=n+1,t},e.prototype.copyPages=function(t,n){return Wy(this,void 0,void 0,(function(){var r,i,o,s,a,c,l,u;return Ky(this,(function(h){switch(h.label){case 0:return cb(t,"srcDoc",[[e,"PDFDocument"]]),cb(n,"indices",[Array]),[4,t.flush()];case 1:for(h.sent(),r=Ow.for(t.context,this.context),i=t.getPages(),o=new Array(n.length),s=0,a=n.length;s<a;s++)c=i[n[s]],l=r.copy(c.node),u=this.context.register(l),o[s]=vT.of(l,u,this);return[2,o]}}))}))},e.prototype.copy=function(){return Wy(this,void 0,void 0,(function(){var t,n,r,i;return Ky(this,(function(o){switch(o.label){case 0:return[4,e.create()];case 1:return[4,(t=o.sent()).copyPages(this,this.getPageIndices())];case 2:for(n=o.sent(),r=0,i=n.length;r<i;r++)t.addPage(n[r]);return void 0!==this.getAuthor()&&t.setAuthor(this.getAuthor()),void 0!==this.getCreationDate()&&t.setCreationDate(this.getCreationDate()),void 0!==this.getCreator()&&t.setCreator(this.getCreator()),void 0!==this.getModificationDate()&&t.setModificationDate(this.getModificationDate()),void 0!==this.getProducer()&&t.setProducer(this.getProducer()),void 0!==this.getSubject()&&t.setSubject(this.getSubject()),void 0!==this.getTitle()&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}}))}))},e.prototype.addJavaScript=function(e,t){cb(e,"name",["string"]),cb(t,"script",["string"]);var n=dT.for(t,e),r=this.context.nextRef(),i=uT.of(r,this,n);this.javaScripts.push(i)},e.prototype.attach=function(e,t,n){return void 0===n&&(n={}),Wy(this,void 0,void 0,(function(){var r,i,o,s;return Ky(this,(function(a){return cb(e,"attachment",["string",Uint8Array,ArrayBuffer]),cb(t,"name",["string"]),lb(n.mimeType,"mimeType",["string"]),lb(n.description,"description",["string"]),lb(n.creationDate,"options.creationDate",[Date]),lb(n.modificationDate,"options.modificationDate",[Date]),ob(n.afRelationship,"options.afRelationship",uC),r=Sv(e),i=dC.for(r,t,n),o=this.context.nextRef(),s=cT.of(o,this,i),this.embeddedFiles.push(s),[2]}))}))},e.prototype.embedFont=function(e,t){return void 0===t&&(t={}),Wy(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,l,u,h;return Ky(this,(function(d){switch(d.label){case 0:return n=t.subset,r=void 0!==n&&n,i=t.customName,o=t.features,cb(e,"font",["string",Uint8Array,ArrayBuffer]),cb(r,"subset",["boolean"]),eb(e)?(s=Zw.for(e,i),[3,7]):[3,1];case 1:return(f=e)instanceof Uint8Array||f instanceof ArrayBuffer||"string"===typeof f?(a=Sv(e),c=this.assertFontkit(),r?[4,lC.for(c,a,i,o)]:[3,3]):[3,6];case 2:return l=d.sent(),[3,5];case 3:return[4,aC.for(c,a,i,o)];case 4:l=d.sent(),d.label=5;case 5:return s=l,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return u=this.context.nextRef(),h=Fx.of(u,this,s),this.fonts.push(h),[2,h]}var f}))}))},e.prototype.embedStandardFont=function(e,t){if(cb(e,"font",["string"]),!eb(e))throw new TypeError("`font` must be one of type `StandardFonts`");var n=Zw.for(e,t),r=this.context.nextRef(),i=Fx.of(r,this,n);return this.fonts.push(i),i},e.prototype.embedJpg=function(e){return Wy(this,void 0,void 0,(function(){var t,n,r,i;return Ky(this,(function(o){switch(o.label){case 0:return cb(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=Sv(e),[4,yC.for(t)];case 1:return n=o.sent(),r=this.context.nextRef(),i=Dx.of(r,this,n),this.images.push(i),[2,i]}}))}))},e.prototype.embedPng=function(e){return Wy(this,void 0,void 0,(function(){var t,n,r,i;return Ky(this,(function(o){switch(o.label){case 0:return cb(e,"png",["string",Uint8Array,ArrayBuffer]),t=Sv(e),[4,AC.for(t)];case 1:return n=o.sent(),r=this.context.nextRef(),i=Dx.of(r,this,n),this.images.push(i),[2,i]}}))}))},e.prototype.embedPdf=function(t,n){return void 0===n&&(n=[0]),Wy(this,void 0,void 0,(function(){var r,i;return Ky(this,(function(o){switch(o.label){case 0:return cb(t,"pdf",["string",Uint8Array,ArrayBuffer,[e,"PDFDocument"]]),cb(n,"indices",[Array]),t instanceof e?(r=t,[3,3]):[3,1];case 1:return[4,e.load(t)];case 2:r=o.sent(),o.label=3;case 3:return i=function(e,t){for(var n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e[t[r]];return n}(r.getPages(),n),[2,this.embedPages(i)]}}))}))},e.prototype.embedPage=function(e,t,n){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(r){switch(r.label){case 0:return cb(e,"page",[[vT,"PDFPage"]]),[4,this.embedPages([e],[t],[n])];case 1:return[2,r.sent()[0]]}}))}))},e.prototype.embedPages=function(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=[]),Wy(this,void 0,void 0,(function(){var r,i,o,s,a,c,l,u,h,d,f,p,g;return Ky(this,(function(m){switch(m.label){case 0:if(0===e.length)return[2,[]];for(c=0,l=e.length-1;c<l;c++)if(r=e[c],i=e[c+1],r.node.context!==i.node.context)throw new Eb;o=e[0].node.context,s=o===this.context?function(e){return e}:Ow.for(o,this.context).copy,a=new Array(e.length),c=0,l=e.length,m.label=1;case 1:return c<l?(u=s(e[c].node),h=t[c],d=n[c],[4,XC.for(u,h,d)]):[3,4];case 2:f=m.sent(),p=this.context.nextRef(),a[c]=Nx.of(p,this,f),m.label=3;case 3:return c++,[3,1];case 4:return(g=this.embeddedPages).push.apply(g,a),[2,a]}}))}))},e.prototype.flush=function(){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}}))}))},e.prototype.save=function(e){return void 0===e&&(e={}),Wy(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,l;return Ky(this,(function(u){switch(u.label){case 0:return t=e.useObjectStreams,n=void 0===t||t,r=e.addDefaultPage,i=void 0===r||r,o=e.objectsPerTick,s=void 0===o?50:o,a=e.updateFieldAppearances,c=void 0===a||a,cb(n,"useObjectStreams",["boolean"]),cb(i,"addDefaultPage",["boolean"]),cb(s,"objectsPerTick",["number"]),cb(c,"updateFieldAppearances",["boolean"]),i&&0===this.getPageCount()&&this.addPage(),c&&(l=this.formCache.getValue())&&l.updateFieldAppearances(),[4,this.flush()];case 1:return u.sent(),[2,(n?Xw:qw).forContext(this.context,s).serializeToBuffer()]}}))}))},e.prototype.saveAsBase64=function(e){return void 0===e&&(e={}),Wy(this,void 0,void 0,(function(){var t,n,r,i,o;return Ky(this,(function(s){switch(s.label){case 0:return t=e.dataUri,n=void 0!==t&&t,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["dataUri"]),cb(n,"dataUri",["boolean"]),[4,this.save(r)];case 1:return i=s.sent(),o=function(e){for(var t="",n=e.length,r=0;r<n;r+=3)t+=Xy[e[r]>>2],t+=Xy[(3&e[r])<<4|e[r+1]>>4],t+=Xy[(15&e[r+1])<<2|e[r+2]>>6],t+=Xy[63&e[r+2]];return n%3===2?t=t.substring(0,t.length-1)+"=":n%3===1&&(t=t.substring(0,t.length-2)+"=="),t}(i),[2,n?"data:application/pdf;base64,"+o:o]}}))}))},e.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),n=0,r=t.length;n<r;n++){var i=t[n],o=i.node.Annots();if(void 0!==(null===o||void 0===o?void 0:o.indexOf(e)))return i}},e.prototype.embedAll=function(e){return Wy(this,void 0,void 0,(function(){var t,n;return Ky(this,(function(r){switch(r.label){case 0:t=0,n=e.length,r.label=1;case 1:return t<n?[4,e[t].embed()]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,n=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),n.get(lw.of("Creator"))||this.setCreator(e),n.get(lw.of("CreationDate"))||this.setCreationDate(t)},e.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof dw)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},e.prototype.assertFontkit=function(){if(!this.fontkit)throw new nx;return this.fontkit},e}();const pT=fT;function gT(e){if(!(e instanceof Qw)&&!(e instanceof oC))throw new Sb([Qw,oC],e)}var mT;!function(e){e.Normal="Normal",e.Multiply="Multiply",e.Screen="Screen",e.Overlay="Overlay",e.Darken="Darken",e.Lighten="Lighten",e.ColorDodge="ColorDodge",e.ColorBurn="ColorBurn",e.HardLight="HardLight",e.SoftLight="SoftLight",e.Difference="Difference",e.Exclusion="Exclusion"}(mT||(mT={}));var yT=function(){function e(e,t,n){this.fontSize=24,this.fontColor=kk(0,0,0),this.lineHeight=24,this.x=0,this.y=0,cb(e,"leafNode",[[Rw,"PDFPageLeaf"]]),cb(t,"ref",[[vw,"PDFRef"]]),cb(n,"doc",[[pT,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=n}return e.prototype.setRotation=function(e){var t=LA(e);fb(t,"degreesAngle",90),this.node.set(lw.of("Rotate"),this.doc.context.obj(t))},e.prototype.getRotation=function(){var e=this.node.Rotate();return NA(e?e.asNumber():0)},e.prototype.setSize=function(e,t){cb(e,"width",["number"]),cb(t,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,e,t);var r=this.getCropBox(),i=this.getBleedBox(),o=this.getTrimBox(),s=this.getArtBox(),a=this.node.CropBox(),c=this.node.BleedBox(),l=this.node.TrimBox(),u=this.node.ArtBox();a&&tb(r,n)&&this.setCropBox(n.x,n.y,e,t),c&&tb(i,n)&&this.setBleedBox(n.x,n.y,e,t),l&&tb(o,n)&&this.setTrimBox(n.x,n.y,e,t),u&&tb(s,n)&&this.setArtBox(n.x,n.y,e,t)},e.prototype.setWidth=function(e){cb(e,"width",["number"]),this.setSize(e,this.getSize().height)},e.prototype.setHeight=function(e){cb(e,"height",["number"]),this.setSize(this.getSize().width,e)},e.prototype.setMediaBox=function(e,t,n,r){cb(e,"x",["number"]),cb(t,"y",["number"]),cb(n,"width",["number"]),cb(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(lw.MediaBox,i)},e.prototype.setCropBox=function(e,t,n,r){cb(e,"x",["number"]),cb(t,"y",["number"]),cb(n,"width",["number"]),cb(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(lw.CropBox,i)},e.prototype.setBleedBox=function(e,t,n,r){cb(e,"x",["number"]),cb(t,"y",["number"]),cb(n,"width",["number"]),cb(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(lw.BleedBox,i)},e.prototype.setTrimBox=function(e,t,n,r){cb(e,"x",["number"]),cb(t,"y",["number"]),cb(n,"width",["number"]),cb(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(lw.TrimBox,i)},e.prototype.setArtBox=function(e,t,n,r){cb(e,"x",["number"]),cb(t,"y",["number"]),cb(n,"width",["number"]),cb(r,"height",["number"]);var i=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(lw.ArtBox,i)},e.prototype.getSize=function(){var e=this.getMediaBox();return{width:e.width,height:e.height}},e.prototype.getWidth=function(){return this.getSize().width},e.prototype.getHeight=function(){return this.getSize().height},e.prototype.getMediaBox=function(){return this.node.MediaBox().asRectangle()},e.prototype.getCropBox=function(){var e,t=this.node.CropBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getMediaBox()},e.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.translateContent=function(e,t){cb(e,"x",["number"]),cb(t,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(tk(),WA(e,t)),r=this.doc.context.register(n),i=this.createContentStream(nk()),o=this.doc.context.register(i);this.node.wrapContentStreams(r,o)},e.prototype.scale=function(e,t){cb(e,"x",["number"]),cb(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},e.prototype.scaleContent=function(e,t){cb(e,"x",["number"]),cb(t,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(tk(),KA(e,t)),r=this.doc.context.register(n),i=this.createContentStream(nk()),o=this.doc.context.register(i);this.node.wrapContentStreams(r,o)},e.prototype.scaleAnnotations=function(e,t){cb(e,"x",["number"]),cb(t,"y",["number"]);var n=this.node.Annots();if(n)for(var r=0;r<n.size();r++){var i=n.lookup(r);i instanceof dw&&this.scaleAnnot(i,e,t)}},e.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},e.prototype.setFont=function(e){cb(e,"font",[[Fx,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},e.prototype.setFontSize=function(e){cb(e,"fontSize",["number"]),this.fontSize=e},e.prototype.setFontColor=function(e){cb(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},e.prototype.setLineHeight=function(e){cb(e,"lineHeight",["number"]),this.lineHeight=e},e.prototype.getPosition=function(){return{x:this.x,y:this.y}},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.moveTo=function(e,t){cb(e,"x",["number"]),cb(t,"y",["number"]),this.x=e,this.y=t},e.prototype.moveDown=function(e){cb(e,"yDecrease",["number"]),this.y-=e},e.prototype.moveUp=function(e){cb(e,"yIncrease",["number"]),this.y+=e},e.prototype.moveLeft=function(e){cb(e,"xDecrease",["number"]),this.x-=e},e.prototype.moveRight=function(e){cb(e,"xIncrease",["number"]),this.x+=e},e.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ub(e,"operator",[[ww,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,e)},e.prototype.drawText=function(e,t){var n,r,i,o,s,a,c;void 0===t&&(t={}),cb(e,"text",["string"]),lb(t.color,"options.color",[[Object,"Color"]]),db(t.opacity,"opacity.opacity",0,1),lb(t.font,"options.font",[[Fx,"PDFFont"]]),lb(t.size,"options.size",["number"]),lb(t.rotate,"options.rotate",[[Object,"Rotation"]]),lb(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),lb(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),lb(t.x,"options.x",["number"]),lb(t.y,"options.y",["number"]),lb(t.lineHeight,"options.lineHeight",["number"]),lb(t.maxWidth,"options.maxWidth",["number"]),lb(t.wordBreaks,"options.wordBreaks",[Array]),ob(t.blendMode,"options.blendMode",mT);for(var l=this.setOrEmbedFont(t.font),u=l.oldFont,h=l.newFont,d=l.newFontKey,f=t.size||this.fontSize,p=t.wordBreaks||this.doc.defaultWordBreaks,g=void 0===t.maxWidth?lv(sv(e)):dv(e,p,t.maxWidth,(function(e){return h.widthOfTextAtSize(e,f)})),m=new Array(g.length),y=0,v=g.length;y<v;y++)m[y]=h.encodeText(g[y]);var b=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),w=this.getContentStream();w.push.apply(w,function(e,t){for(var n,r=[tk(),t.graphicsState&&ek(t.graphicsState),pk(),Ik(t.color),mk(t.font,t.size),(n=t.lineHeight,ww.of(Sw.SetTextLineHeight,[IA(n)])),vk(DA(t.rotate),DA(t.xSkew),DA(t.ySkew),t.x,t.y)].filter(Boolean),i=0,o=e.length;i<o;i++)r.push(fk(e[i]),ww.of(Sw.NextLine));return r.push(gk(),nk()),r}(m,{color:null!==(n=t.color)&&void 0!==n?n:this.fontColor,font:d,size:f,rotate:null!==(r=t.rotate)&&void 0!==r?r:NA(0),xSkew:null!==(i=t.xSkew)&&void 0!==i?i:NA(0),ySkew:null!==(o=t.ySkew)&&void 0!==o?o:NA(0),x:null!==(s=t.x)&&void 0!==s?s:this.x,y:null!==(a=t.y)&&void 0!==a?a:this.y,lineHeight:null!==(c=t.lineHeight)&&void 0!==c?c:this.lineHeight,graphicsState:b})),t.font&&(u?this.setFont(u):this.resetFont())},e.prototype.drawImage=function(e,t){var n,r,i,o,s,a,c;void 0===t&&(t={}),cb(e,"image",[[Dx,"PDFImage"]]),lb(t.x,"options.x",["number"]),lb(t.y,"options.y",["number"]),lb(t.width,"options.width",["number"]),lb(t.height,"options.height",["number"]),lb(t.rotate,"options.rotate",[[Object,"Rotation"]]),lb(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),lb(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),db(t.opacity,"opacity.opacity",0,1),ob(t.blendMode,"options.blendMode",mT);var l=this.node.newXObject("Image",e.ref),u=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),h=this.getContentStream();h.push.apply(h,Wk(l,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,width:null!==(i=t.width)&&void 0!==i?i:e.size().width,height:null!==(o=t.height)&&void 0!==o?o:e.size().height,rotate:null!==(s=t.rotate)&&void 0!==s?s:NA(0),xSkew:null!==(a=t.xSkew)&&void 0!==a?a:NA(0),ySkew:null!==(c=t.ySkew)&&void 0!==c?c:NA(0),graphicsState:u}))},e.prototype.drawPage=function(e,t){var n,r,i,o,s;void 0===t&&(t={}),cb(e,"embeddedPage",[[Nx,"PDFEmbeddedPage"]]),lb(t.x,"options.x",["number"]),lb(t.y,"options.y",["number"]),lb(t.xScale,"options.xScale",["number"]),lb(t.yScale,"options.yScale",["number"]),lb(t.width,"options.width",["number"]),lb(t.height,"options.height",["number"]),lb(t.rotate,"options.rotate",[[Object,"Rotation"]]),lb(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),lb(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),db(t.opacity,"opacity.opacity",0,1),ob(t.blendMode,"options.blendMode",mT);var a=this.node.newXObject("EmbeddedPdfPage",e.ref),c=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),l=void 0!==t.width?t.width/e.width:void 0!==t.xScale?t.xScale:1,u=void 0!==t.height?t.height/e.height:void 0!==t.yScale?t.yScale:1,h=this.getContentStream();h.push.apply(h,function(e,t){return[tk(),t.graphicsState&&ek(t.graphicsState),WA(t.x,t.y),GA(DA(t.rotate)),KA(t.xScale,t.yScale),YA(DA(t.xSkew),DA(t.ySkew)),bk(e),nk()].filter(Boolean)}(a,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,xScale:l,yScale:u,rotate:null!==(i=t.rotate)&&void 0!==i?i:NA(0),xSkew:null!==(o=t.xSkew)&&void 0!==o?o:NA(0),ySkew:null!==(s=t.ySkew)&&void 0!==s?s:NA(0),graphicsState:c}))},e.prototype.drawSvgPath=function(e,t){var n,r,i,o,s,a,c,l,u;void 0===t&&(t={}),cb(e,"path",["string"]),lb(t.x,"options.x",["number"]),lb(t.y,"options.y",["number"]),lb(t.scale,"options.scale",["number"]),lb(t.rotate,"options.rotate",[[Object,"Rotation"]]),lb(t.borderWidth,"options.borderWidth",["number"]),lb(t.color,"options.color",[[Object,"Color"]]),db(t.opacity,"opacity.opacity",0,1),lb(t.borderColor,"options.borderColor",[[Object,"Color"]]),lb(t.borderDashArray,"options.borderDashArray",[Array]),lb(t.borderDashPhase,"options.borderDashPhase",["number"]),ob(t.borderLineCap,"options.borderLineCap",RA),db(t.borderOpacity,"options.borderOpacity",0,1),ob(t.blendMode,"options.blendMode",mT);var h=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});"color"in t||"borderColor"in t||(t.borderColor=kk(0,0,0));var d=this.getContentStream();d.push.apply(d,function(e,t){var n,r,i;return Gy([tk(),t.graphicsState&&ek(t.graphicsState),WA(t.x,t.y),GA(DA(null!==(n=t.rotate)&&void 0!==n?n:NA(0))),t.scale?KA(t.scale,-t.scale):KA(1,-1),t.color&&Ik(t.color),t.borderColor&&Pk(t.borderColor),t.borderWidth&&rk(t.borderWidth),t.borderLineCap&&ZA(t.borderLineCap),QA(null!==(r=t.borderDashArray)&&void 0!==r?r:[],null!==(i=t.borderDashPhase)&&void 0!==i?i:0)],Hk(e),[t.color&&t.borderWidth?hk():t.color?uk():t.borderColor?lk():sk(),nk()]).filter(Boolean)}(e,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,scale:t.scale,rotate:null!==(i=t.rotate)&&void 0!==i?i:NA(0),color:null!==(o=t.color)&&void 0!==o?o:void 0,borderColor:null!==(s=t.borderColor)&&void 0!==s?s:void 0,borderWidth:null!==(a=t.borderWidth)&&void 0!==a?a:0,borderDashArray:null!==(c=t.borderDashArray)&&void 0!==c?c:void 0,borderDashPhase:null!==(l=t.borderDashPhase)&&void 0!==l?l:void 0,borderLineCap:null!==(u=t.borderLineCap)&&void 0!==u?u:void 0,graphicsState:h}))},e.prototype.drawLine=function(e){var t,n,r,i,o;cb(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),cb(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),cb(e.start.x,"options.start.x",["number"]),cb(e.start.y,"options.start.y",["number"]),cb(e.end.x,"options.end.x",["number"]),cb(e.end.y,"options.end.y",["number"]),lb(e.thickness,"options.thickness",["number"]),lb(e.color,"options.color",[[Object,"Color"]]),lb(e.dashArray,"options.dashArray",[Array]),lb(e.dashPhase,"options.dashPhase",["number"]),ob(e.lineCap,"options.lineCap",RA),db(e.opacity,"opacity.opacity",0,1),ob(e.blendMode,"options.blendMode",mT);var s=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=kk(0,0,0));var a=this.getContentStream();a.push.apply(a,function(e){var t,n;return[tk(),e.graphicsState&&ek(e.graphicsState),e.color&&Pk(e.color),rk(e.thickness),QA(null!==(t=e.dashArray)&&void 0!==t?t:[],null!==(n=e.dashPhase)&&void 0!==n?n:0),ak(e.start.x,e.start.y),e.lineCap&&ZA(e.lineCap),ak(e.start.x,e.start.y),ck(e.end.x,e.end.y),lk(),nk()].filter(Boolean)}({start:e.start,end:e.end,thickness:null!==(t=e.thickness)&&void 0!==t?t:1,color:null!==(n=e.color)&&void 0!==n?n:void 0,dashArray:null!==(r=e.dashArray)&&void 0!==r?r:void 0,dashPhase:null!==(i=e.dashPhase)&&void 0!==i?i:void 0,lineCap:null!==(o=e.lineCap)&&void 0!==o?o:void 0,graphicsState:s}))},e.prototype.drawRectangle=function(e){var t,n,r,i,o,s,a,c,l,u,h,d,f;void 0===e&&(e={}),lb(e.x,"options.x",["number"]),lb(e.y,"options.y",["number"]),lb(e.width,"options.width",["number"]),lb(e.height,"options.height",["number"]),lb(e.rotate,"options.rotate",[[Object,"Rotation"]]),lb(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),lb(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),lb(e.borderWidth,"options.borderWidth",["number"]),lb(e.color,"options.color",[[Object,"Color"]]),db(e.opacity,"opacity.opacity",0,1),lb(e.borderColor,"options.borderColor",[[Object,"Color"]]),lb(e.borderDashArray,"options.borderDashArray",[Array]),lb(e.borderDashPhase,"options.borderDashPhase",["number"]),ob(e.borderLineCap,"options.borderLineCap",RA),db(e.borderOpacity,"options.borderOpacity",0,1),ob(e.blendMode,"options.blendMode",mT);var p=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=kk(0,0,0));var g=this.getContentStream();g.push.apply(g,Kk({x:null!==(t=e.x)&&void 0!==t?t:this.x,y:null!==(n=e.y)&&void 0!==n?n:this.y,width:null!==(r=e.width)&&void 0!==r?r:150,height:null!==(i=e.height)&&void 0!==i?i:100,rotate:null!==(o=e.rotate)&&void 0!==o?o:NA(0),xSkew:null!==(s=e.xSkew)&&void 0!==s?s:NA(0),ySkew:null!==(a=e.ySkew)&&void 0!==a?a:NA(0),borderWidth:null!==(c=e.borderWidth)&&void 0!==c?c:0,color:null!==(l=e.color)&&void 0!==l?l:void 0,borderColor:null!==(u=e.borderColor)&&void 0!==u?u:void 0,borderDashArray:null!==(h=e.borderDashArray)&&void 0!==h?h:void 0,borderDashPhase:null!==(d=e.borderDashPhase)&&void 0!==d?d:void 0,graphicsState:p,borderLineCap:null!==(f=e.borderLineCap)&&void 0!==f?f:void 0}))},e.prototype.drawSquare=function(e){void 0===e&&(e={});var t=e.size;lb(t,"size",["number"]),this.drawRectangle(Hy(Hy({},e),{width:t,height:t}))},e.prototype.drawEllipse=function(e){var t,n,r,i,o,s,a,c,l,u,h;void 0===e&&(e={}),lb(e.x,"options.x",["number"]),lb(e.y,"options.y",["number"]),lb(e.xScale,"options.xScale",["number"]),lb(e.yScale,"options.yScale",["number"]),lb(e.rotate,"options.rotate",[[Object,"Rotation"]]),lb(e.color,"options.color",[[Object,"Color"]]),db(e.opacity,"opacity.opacity",0,1),lb(e.borderColor,"options.borderColor",[[Object,"Color"]]),db(e.borderOpacity,"options.borderOpacity",0,1),lb(e.borderWidth,"options.borderWidth",["number"]),lb(e.borderDashArray,"options.borderDashArray",[Array]),lb(e.borderDashPhase,"options.borderDashPhase",["number"]),ob(e.borderLineCap,"options.borderLineCap",RA),ob(e.blendMode,"options.blendMode",mT);var d=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=kk(0,0,0));var f=this.getContentStream();f.push.apply(f,Xk({x:null!==(t=e.x)&&void 0!==t?t:this.x,y:null!==(n=e.y)&&void 0!==n?n:this.y,xScale:null!==(r=e.xScale)&&void 0!==r?r:100,yScale:null!==(i=e.yScale)&&void 0!==i?i:100,rotate:null!==(o=e.rotate)&&void 0!==o?o:void 0,color:null!==(s=e.color)&&void 0!==s?s:void 0,borderColor:null!==(a=e.borderColor)&&void 0!==a?a:void 0,borderWidth:null!==(c=e.borderWidth)&&void 0!==c?c:0,borderDashArray:null!==(l=e.borderDashArray)&&void 0!==l?l:void 0,borderDashPhase:null!==(u=e.borderDashPhase)&&void 0!==u?u:void 0,borderLineCap:null!==(h=e.borderLineCap)&&void 0!==h?h:void 0,graphicsState:d}))},e.prototype.drawCircle=function(e){void 0===e&&(e={});var t=e.size,n=void 0===t?100:t;lb(n,"size",["number"]),this.drawEllipse(Hy(Hy({},e),{xScale:n,yScale:n}))},e.prototype.setOrEmbedFont=function(e){var t=this.font,n=this.fontKey;return e?this.setFont(e):this.getFont(),{oldFont:t,oldFontKey:n,newFont:this.font,newFontKey:this.fontKey}},e.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont($x.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},e.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},e.prototype.getContentStream=function(e){return void 0===e&&(e=!0),e&&this.contentStream||(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef)),this.contentStream},e.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.doc.context.obj({});return xw.of(n,e)},e.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,n=e.borderOpacity,r=e.blendMode;if(void 0!==t||void 0!==n||void 0!==r){var i=this.doc.context.obj({Type:"ExtGState",ca:t,CA:n,BM:r});return this.node.newExtGState("GS",i)}},e.prototype.scaleAnnot=function(e,t,n){for(var r=["RD","CL","Vertices","QuadPoints","L","Rect"],i=0,o=r.length;i<o;i++){var s=e.lookup(lw.of(r[i]));s instanceof Zb&&s.scalePDFNumbers(t,n)}var a=e.lookup(lw.of("InkList"));if(a instanceof Zb)for(i=0,o=a.size();i<o;i++){var c=a.lookup(i);c instanceof Zb&&c.scalePDFNumbers(t,n)}},e.of=function(t,n,r){return new e(t,n,r)},e.create=function(t){cb(t,"doc",[[pT,"PDFDocument"]]);var n=vw.of(-1),r=Rw.withContextAndParent(t.context,n);return new e(r,t.context.register(r),t)},e}();const vT=yT;var bT=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return cb(t,"acroButton",[[MS,"PDFAcroPushButton"]]),i.acroField=t,i}return Vy(t,e),t.prototype.setImage=function(e,t){void 0===t&&(t=Lx.Center);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r],s=this.createImageAppearanceStream(o,e,t);this.updateWidgetAppearances(o,{normal:s})}this.markAsClean()},t.prototype.setFontSize=function(e){pb(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.addToPage=function(e,t,n){var r,i,o,s,a,c,l,u,h,d,f;lb(e,"text",["string"]),lb(t,"page",[[vT,"PDFPage"]]),jx(n);var p=this.createWidget({x:(null!==(r=null===n||void 0===n?void 0:n.x)&&void 0!==r?r:0)-(null!==(i=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==i?i:0)/2,y:(null!==(o=null===n||void 0===n?void 0:n.y)&&void 0!==o?o:0)-(null!==(s=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==s?s:0)/2,width:null!==(a=null===n||void 0===n?void 0:n.width)&&void 0!==a?a:100,height:null!==(c=null===n||void 0===n?void 0:n.height)&&void 0!==c?c:50,textColor:null!==(l=null===n||void 0===n?void 0:n.textColor)&&void 0!==l?l:kk(0,0,0),backgroundColor:null!==(u=null===n||void 0===n?void 0:n.backgroundColor)&&void 0!==u?u:kk(.75,.75,.75),borderColor:null===n||void 0===n?void 0:n.borderColor,borderWidth:null!==(h=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==h?h:0,rotate:null!==(d=null===n||void 0===n?void 0:n.rotate)&&void 0!==d?d:NA(0),caption:e,hidden:null===n||void 0===n?void 0:n.hidden,page:t.ref}),g=this.doc.context.register(p.dict);this.acroField.addWidget(g);var m=null!==(f=null===n||void 0===n?void 0:n.font)&&void 0!==f?f:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(p,m),t.node.addAnnot(g)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof pw))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){cb(e,"font",[[Fx,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cb(e,"font",[[Fx,"PDFFont"]]),lb(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,i=n.length;r<i;r++){var o=n[r];this.updateWidgetAppearance(o,e,t)}},t.prototype.updateWidgetAppearance=function(e,t,n){var r=bx((null!==n&&void 0!==n?n:Ex)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}(Bx);const wT=bT;async function CT(e){const t=By.getDocument({data:e,cMapUrl:"https://unpkg.com/pdfjs-dist@latest/cmaps/",cMapPacked:!0}),n=await t.promise;console.log("PDF loaded successfully. Number of pages:",n.numPages);const r=[];for(let i=1;i<=n.numPages;i++){const e=await n.getPage(i),t=await e.getAnnotations();for(const n of t)if(n.fieldName){let e="",t="";"Tx"===n.fieldType?(e="txt",t="text"):"Ch"===n.fieldType?(e="ch",t="dropdown"):"Btn"===n.fieldType&&n.checkBox&&(e="chk",t="checkbox");const o=n.rect||[0,0,0,0],[s,a,c,l]=o,u=s,h=a,d=Math.abs(c-s),f=Math.abs(l-a),p=(n.options||[]).filter(((e,t,n)=>{var r,i;return(null===(r=e.exportValue)||void 0===r?void 0:r.trim())&&(null===(i=e.displayValue)||void 0===i?void 0:i.trim())&&n.findIndex((t=>t.exportValue.trim().toLowerCase()===e.exportValue.trim().toLowerCase()&&t.displayValue.trim().toLowerCase()===e.displayValue.trim().toLowerCase()))===t})),g=void 0!==n.fieldValue?n.fieldValue:"",m={fieldType:t,label:n.alternativeText||n.fieldName,associatedLabel:n.alternativeText||n.fieldName,inputField:{fieldName:n.fieldName,inputType:e,value:g,options:p,x:u,y:h,width:d,height:f,page:i}};r.push(m)}}return console.log(`PDF conversion complete. Found ${r.length} form fields.`),r}By.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${By.version}/pdf.worker.min.js`;const ST=function(e){let{size:t="medium",text:n="Loading..."}=e;return(0,It.jsxs)("div",{className:`loading-spinner-container ${t}`,children:[(0,It.jsx)("div",{className:"loading-spinner"}),n&&(0,It.jsx)("p",{className:"loading-text",children:n})]})};const AT=function(t){let{pdfData:n,onClose:r}=t;const[i,o]=(0,e.useState)(!1),[s,a]=(0,e.useState)(null),[c,l]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=await async function(e){try{if(console.log("=== PDF Processing Started ==="),console.log("Original PDF URL:",e),e.includes("firebasestorage.googleapis.com")){console.log("Detected Firebase Storage URL");const t=jy(),n=e.split("/o/")[1].split("?")[0],r=Ly(t,decodeURIComponent(n));try{return await Dy(r),CT(await Oy(r))}catch(s){throw console.error("Firebase Storage error:",s),s}}const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch PDF: ${t.status} ${t.statusText}`);return CT(await t.arrayBuffer())}catch(s){throw console.error("Error in convertPdfToJson:",s),s}}(n.url);if(l(e),console.log(e),0===e.length)return void a("No form fields found in this PDF")}catch(e){console.error("Error converting PDF to JSON:",e),a("Failed to parse form fields")}})()}),[n]);const u=(e,t)=>{l((n=>{var r;if(!n||!n[e]||!n[e].inputField)return console.warn(`Invalid index or missing inputField at index ${e}`),n;const i=[...n],o=null===(r=i[e].inputField.inputType)||void 0===r?void 0:r.toLowerCase();return i[e]={...i[e],inputField:{...i[e].inputField,value:"chk"===o?"Off"!==t&&t?t:"":"ch"===o?"-- select --"===t||0===t.length?[]:[t]:t}},i}))};return null!==n&&void 0!==n&&n.formFields&&0!==n.formFields.length?(0,It.jsx)("div",{className:"fill-form-modal",children:(0,It.jsxs)("div",{className:"fill-form-content",style:{padding:"20px"},children:[(0,It.jsxs)("h2",{children:["Fill Form: ",n.name]}),(0,It.jsx)("div",{className:"form-fields",children:0===c.length?(0,It.jsx)("p",{children:"Attempting to load form\u2026"}):c.map(((e,t)=>{var n;const{label:r,inputField:i}=e,o=i.fieldName,s=(i.inputType||"").toLowerCase();let a=null!==(n=i.value)&&void 0!==n?n:"";const c=i.options||[],{width:l,height:h}=i;return""===s||/^field\s?\d+$/i.test(r.trim().toLowerCase())?null:("ch"===s&&Array.isArray(a)&&(a=a[0]||""),(0,It.jsxs)("div",{className:"form-field",children:[(0,It.jsx)("label",{htmlFor:o,className:"field-label",children:Array.isArray(r)?r[0]:r}),"chk"===s?(0,It.jsxs)("div",{className:"checkbox-container",children:[(0,It.jsx)("input",{type:"checkbox",id:o,checked:"Off"!==a&&!!a,onChange:e=>u(t,e.target.checked),className:"field-input"}),Array.isArray(r)&&r[1]&&(0,It.jsx)("span",{className:"checkbox-label",children:r[1]})]}):"ch"===s?(0,It.jsxs)("select",{id:o,value:a||"",onChange:e=>u(t,e.target.value),className:"field-input select-dropdown",children:[(0,It.jsx)("option",{value:"",children:"-- select --"}),c.map((e=>(0,It.jsx)("option",{value:e.exportValue,children:e.displayValue},e.exportValue)))]}):h>20?(0,It.jsx)("textarea",{id:o,value:a,onChange:e=>u(t,e.target.value),className:"field-input",style:{height:`${h+60}px`,width:`${l+60}px`,maxWidth:"100%",boxSizing:"border-box",padding:"6px",lineHeight:"1"}}):(0,It.jsx)("input",{type:"text",id:o,value:a,onChange:e=>u(t,e.target.value),className:"field-input",style:{height:2*h+"px",width:1.5*l+"px",maxWidth:"100%"}})]},t))}))}),s&&(0,It.jsx)("div",{className:"error",children:s}),(0,It.jsxs)("div",{className:"button-group",style:{marginTop:"24px"},children:[(0,It.jsx)("button",{className:"generate-button",onClick:async()=>{o(!0),a(null);try{await async function(e,t){try{console.log("--- PDF Fill Debug ---"),console.log("Fetching PDF from:",e.url);const i=await fetch(e.url);if(!i.ok)throw new Error(`Failed to fetch PDF: ${i.status} ${i.statusText}`);const o=await i.arrayBuffer(),s=await pT.load(o),a=s.getForm();for(let e=0;e<t.length;e++){var n;const{fieldName:i,value:o,options:s}=t[e].inputField,c=null===(n=a.getFieldMaybe)||void 0===n?void 0:n.call(a,i);if(!c){console.warn(`Field '${i}' not found.`);continue}const l=c.constructor.name;switch(l){case"PDFTextField":c.setText((null===o||void 0===o?void 0:o.toString())||"");break;case"PDFDropdown":{var r;const e=(null===o||void 0===o||null===(r=o.toString())||void 0===r?void 0:r.trim())||"";(s||[]).map((e=>e.exportValue||e)).includes(e)?c.select(e):console.warn(`Invalid dropdown value: "${e}" for field "${i}". Skipping.`);break}case"PDFCheckBox":"Off"!==o&&o?c.check():c.uncheck();break;default:console.warn(`Unsupported field type: ${l}`)}}const c=await s.save(),l=new Blob([c],{type:"application/pdf"}),u=URL.createObjectURL(l),h=document.createElement("a");h.href=u,h.download="filled-form-"+e.name+".pdf",h.click(),URL.revokeObjectURL(u)}catch(s){throw console.error("Error in DownloadUpdatedJsonToPdf:",s),new Error(`Failed to generate filled PDF: ${s.message}`)}}(n,c),r()}catch(s){console.error("Error generating PDF:",s),"AbortError"===s.name?a("Request timed out while loading the PDF"):s.message.includes("Failed to load PDF")?a("Unable to access the PDF file. Please check if the file exists and is accessible."):a("Error generating filled PDF: "+s.message)}finally{o(!1)}},disabled:i,children:i?"Generating PDF\u2026":"Generate Filled PDF"}),(0,It.jsx)("button",{className:"cancel-button",onClick:r,disabled:i,children:"Cancel"})]})]})}):(0,It.jsx)("div",{className:"fill-form-modal",children:(0,It.jsxs)("div",{className:"fill-form-content",children:[(0,It.jsx)("h2",{children:"Error"}),(0,It.jsx)("p",{children:"No form fields found in this PDF."}),(0,It.jsx)("button",{className:"cancel-button",onClick:r,children:"Close"})]})})};const kT=function(e){let{closeModal:t,pdf:n,refreshAllPdfs:r,onDeleteStart:i}=e;return(0,It.jsx)("div",{className:"modal-overlay",children:(0,It.jsxs)("div",{className:"modal-content",children:[(0,It.jsx)("h2",{children:"Delete PDF"}),(0,It.jsxs)("p",{children:["Are you sure you want to delete ",n.name,"? This action cannot be undone."]}),(0,It.jsxs)("div",{className:"button-group",children:[(0,It.jsx)("button",{className:"modal-button del",onClick:async()=>{try{i&&i(n.id),t(),(async()=>{try{await Promise.all([(async()=>{const e=Ly(jy(),`pdfs/${n.name}`);await function(e){return ky(e=on(e))}(e)})(),(async()=>{await Ig(Ep(Mg,"pdfs",n.id))})()]),!i&&r&&r()}catch(Lv){console.error("Error deleting PDF:",Lv),alert(`Failed to delete ${n.name}. Please try again.`),r&&r()}})()}catch(Lv){console.error("Error in delete operation:",Lv),alert("Failed to start delete operation. Please try again.")}},children:"Confirm Delete"}),(0,It.jsx)("button",{className:"cancel-button",onClick:t,children:"Cancel"})]})]})})};function xT(e){if(void 0===e||null===e)return"N/A";const t=["bytes","KB","MB","GB","TB"];let n=0;for(;e>=1024&&n<t.length-1;)e/=1024,n++;return`${e.toFixed(2)} ${t[n]}`}const TT=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[o,s]=(0,e.useState)(!1),[a,c]=(0,e.useState)(!0),[l,u]=(0,e.useState)(new Set),[h,d]=(0,e.useState)(null),[f,p]=(0,e.useState)([]),g=async()=>{try{const e=Ly(jy(),"pdfs"),t=Tp(Mg,"pdfs"),n=await Tg(t),r=await My(e),i=new Map;for(const s of r.items){const e=await Dy(s),t=await Fy(s);i.set(s.name,{url:e,metadata:t})}const o=n.docs.map((e=>{var t,n,r;const o=e.data(),s=i.get(o.name)||{url:null,metadata:null};return{id:e.id,name:o.name,url:s.url,size:null===(t=s.metadata)||void 0===t?void 0:t.size,contentType:null===(n=s.metadata)||void 0===n?void 0:n.contentType,updated:null===(r=s.metadata)||void 0===r?void 0:r.updated,formFields:o.formFields||[],originalPdfUrl:o.originalPdfUrl}}));p(o),c(!1)}catch(Lv){console.error("Error fetching pdf files: ",Lv)}};return(0,e.useEffect)((()=>{g()}),[]),(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsxs)("div",{className:"header",children:[(0,It.jsx)("h3",{children:"Dynamic PDF Field Retrieval"}),(0,It.jsx)("img",{src:qg,alt:"dots",className:"dots"})]}),(0,It.jsxs)("div",{className:"table-container",children:[(0,It.jsxs)("div",{className:"table-header exp",children:[(0,It.jsxs)("div",{className:"exp-spaced",children:[(0,It.jsx)("span",{className:"yellow-bar exp"}),(0,It.jsx)("h2",{className:"table-title",children:"My PDF Documents"})]}),(0,It.jsx)(Kg,{bg:"white",textColor:"#222222",icon:Tt,text:"Upload PDF File",onClick:()=>n(!0)})]}),(0,It.jsxs)("table",{className:"global-table",children:[(0,It.jsx)("thead",{children:(0,It.jsx)("tr",{children:["Name","Size","Type","Last Updated Date","Preview","Actions"].map((e=>(0,It.jsxs)("th",{children:[e," \u2b0d"]},e)))})}),(0,It.jsx)("tbody",{children:f.length>0?f.map((e=>(0,It.jsxs)("tr",{className:"table-row",children:[(0,It.jsx)("td",{children:e.name||"N/A"}),(0,It.jsx)("td",{children:xT(e.size)||"N/A"}),(0,It.jsx)("td",{children:e.contentType?e.contentType.split("/")[1]:"N/A"}),(0,It.jsx)("td",{children:e.updated||"N/A"}),(0,It.jsx)("td",{children:e.url?(0,It.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Preview"}):"N/A"}),(0,It.jsxs)("td",{children:[(0,It.jsx)(kt,{className:"icon edit-icon",onClick:()=>{var t;(t=e).formFields&&0!==t.formFields.length?(d(t),i(!0)):alert("This PDF has no form fields to fill out.")},style:{opacity:l.has(e.id)?.5:1}}),(0,It.jsx)(Et,{className:"icon delete-icon",onClick:()=>{return t=e,void(l.has(t.id)||(d(t),s(!0)));var t},style:{opacity:l.has(e.id)?.5:1,cursor:l.has(e.id)?"not-allowed":"pointer"}})]})]},e.id||e.name))):a?(0,It.jsx)("tr",{children:(0,It.jsx)("td",{colSpan:"6",children:"Loading PDF Documents"})}):!a&&0===f.length&&(0,It.jsx)("tr",{children:(0,It.jsx)("td",{colSpan:"6",children:"No PDF Documents available"})})})]})]})]}),t&&(0,It.jsx)(qy,{closeModal:()=>{n(!1),g()},refreshUploadPDF:g}),r&&h&&(0,It.jsx)(AT,{pdfData:h,onClose:()=>{i(!1),d(null)}}),o&&h&&(0,It.jsx)(kT,{closeModal:()=>{s(!1),d(null)},pdf:h,refreshAllPdfs:g,onDeleteStart:e=>{u((t=>{if(t.has(e))return t;const n=new Set(t);return n.add(e),n})),p((t=>t.filter((t=>t.id!==e)))),s(!1),d(null)}})]})};const ET=function(){return(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsx)("div",{className:"header",children:(0,It.jsx)("h3",{children:"Document Templates"})}),(0,It.jsx)("div",{className:"content",children:(0,It.jsx)("p",{children:"Document templates functionality coming soon..."})})]})]})};const _T=function(){return(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsx)("div",{className:"header",children:(0,It.jsx)("h3",{children:"Document Library"})}),(0,It.jsx)("div",{className:"content",children:(0,It.jsx)("p",{children:"Document library functionality coming soon..."})})]})]})},IT={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},PT=400,RT=499,NT=500,OT=599,FT=[IT.OPENID_SCOPE,IT.PROFILE_SCOPE,IT.OFFLINE_ACCESS_SCOPE],MT=[...FT,IT.EMAIL_SCOPE],DT="Content-Type",LT="Content-Length",jT="Retry-After",UT="X-AnchorMailbox",BT="x-ms-request-id",qT="x-ms-httpver",zT="active-account-filters",VT="common",HT="organizations",WT="consumers",KT="access_token",GT="xms_cc",XT={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},YT={PLAIN:"plain",S256:"S256"},QT="code",JT="id_token token refresh_token",ZT="query",$T="fragment",eE="query",tE="authorization_code",nE="refresh_token",rE="MSSTS",iE="ADFS",oE="Generic",sE="-",aE=".",cE={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},lE="appmetadata",uE="1",hE="authority-metadata",dE=86400,fE="config",pE="cache",gE="network",mE="hardcoded_values",yE={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},vE={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},bE=60,wE=3600,CE="throttling",SE="retry-after, h429",AE="invalid_grant",kE="client_mismatch",xE=200,TE=400,EE="1",_E="3",IE="4",PE="2",RE="4",NE="5",OE="0",FE="1",ME="2",DE="3",LE="4",jE="pop";var UE;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(UE||(UE={}));class BE{constructor(e,t,n){this.level=UE.Info;const r=e||BE.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:UE.Info,this.correlationId=r.correlationId||IT.EMPTY_STRING,this.packageName=t||IT.EMPTY_STRING,this.packageVersion=n||IT.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:UE.Info}}clone(e,t,n){return new BE({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${UE[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:UE.Error,containsPii:!1,correlationId:t||IT.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:UE.Error,containsPii:!0,correlationId:t||IT.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:UE.Warning,containsPii:!1,correlationId:t||IT.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:UE.Warning,containsPii:!0,correlationId:t||IT.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:UE.Info,containsPii:!1,correlationId:t||IT.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:UE.Info,containsPii:!0,correlationId:t||IT.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:UE.Verbose,containsPii:!1,correlationId:t||IT.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:UE.Verbose,containsPii:!0,correlationId:t||IT.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:UE.Trace,containsPii:!1,correlationId:t||IT.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:UE.Trace,containsPii:!0,correlationId:t||IT.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const qE="AAD",zE="OIDC",VE="EAR",HE="none",WE="unexpected_error",KE="post_request_failed",GE={[WE]:"Unexpected error in authentication.",[KE]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class XE extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,XE.prototype),this.errorCode=e||IT.EMPTY_STRING,this.errorMessage=t||IT.EMPTY_STRING,this.subError=n||IT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function YE(e,t){return new XE(e,t?`${GE[e]} ${t}`:GE[e])}const QE="client_info_decoding_error",JE="client_info_empty_error",ZE="token_parsing_error",$E="null_or_empty_token",e_="endpoints_resolution_error",t_="network_error",n_="openid_config_error",r_="hash_not_deserialized",i_="invalid_state",o_="state_mismatch",s_="state_not_found",a_="nonce_mismatch",c_="auth_time_not_found",l_="max_age_transpired",u_="multiple_matching_tokens",h_="multiple_matching_accounts",d_="multiple_matching_appMetadata",f_="request_cannot_be_made",p_="cannot_remove_empty_scope",g_="cannot_append_scopeset",m_="empty_input_scopeset",y_="device_code_polling_cancelled",v_="device_code_expired",b_="device_code_unknown_error",w_="no_account_in_silent_request",C_="invalid_cache_record",S_="invalid_cache_environment",A_="no_account_found",k_="no_crypto_object",x_="unexpected_credential_type",T_="invalid_assertion",E_="invalid_client_credential",__="token_refresh_required",I_="user_timeout_reached",P_="token_claims_cnf_required_for_signedjwt",R_="authorization_code_missing_from_server_response",N_="binding_key_not_removed",O_="end_session_endpoint_not_supported",F_="key_id_missing",M_="no_network_connectivity",D_="user_canceled",L_="missing_tenant_id_error",j_="method_not_implemented",U_="nested_app_auth_bridge_disabled",B_={[QE]:"The client info could not be parsed/decoded correctly",[JE]:"The client info was empty",[ZE]:"Token cannot be parsed",[$E]:"The token is null or empty",[e_]:"Endpoints cannot be resolved",[t_]:"Network request failed",[n_]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[r_]:"The hash parameters could not be deserialized",[i_]:"State was not the expected format",[o_]:"State mismatch error",[s_]:"State not found",[a_]:"Nonce mismatch error",[c_]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[l_]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[u_]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[h_]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[d_]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[f_]:"Token request cannot be made without authorization code or refresh token.",[p_]:"Cannot remove null or empty scope from ScopeSet",[g_]:"Cannot append ScopeSet",[m_]:"Empty input ScopeSet cannot be processed",[y_]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[v_]:"Device code is expired.",[b_]:"Device code stopped polling for unknown reasons.",[w_]:"Please pass an account object, silent flow is not supported without account information",[C_]:"Cache record object was null or undefined.",[S_]:"Invalid environment when attempting to create cache entry",[A_]:"No account found in cache for given key.",[k_]:"No crypto object detected.",[x_]:"Unexpected credential type.",[T_]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[E_]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[__]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[I_]:"User defined timeout for device code polling reached",[P_]:"Cannot generate a POP jwt if the token_claims are not populated",[R_]:"Server response does not contain an authorization code to proceed",[N_]:"Could not remove the credential's binding key from storage.",[O_]:"The provided authority does not support logout",[F_]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[M_]:"No network connectivity. Check your internet connection.",[D_]:"User cancelled the flow.",[L_]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[j_]:"This method has not been implemented",[U_]:"The nested app auth bridge is disabled"};class q_ extends XE{constructor(e,t){super(e,t?`${B_[e]}: ${t}`:B_[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,q_.prototype)}}function z_(e,t){return new q_(e,t)}const V_={createNewGuid:()=>{throw z_(j_)},base64Decode:()=>{throw z_(j_)},base64Encode:()=>{throw z_(j_)},base64UrlEncode:()=>{throw z_(j_)},encodeKid:()=>{throw z_(j_)},async getPublicKeyThumbprint(){throw z_(j_)},async removeTokenBindingKey(){throw z_(j_)},async clearKeystore(){throw z_(j_)},async signJwt(){throw z_(j_)},async hashString(){throw z_(j_)}},H_="@azure/msal-common",W_="15.5.1";function K_(e,t){const n=function(e){if(!e)throw z_($E);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw z_(ZE);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw z_(ZE)}}function G_(e,t){if(0===t||Date.now()-3e5>e+t)throw z_(l_)}function X_(){return Math.round((new Date).getTime()/1e3)}function Y_(e){return e.getTime()/1e3}function Q_(e){return e?new Date(1e3*Number(e)):new Date}function J_(e,t){const n=Number(e)||0;return X_()+t>n}function Z_(e){return[rI(e),iI(e),oI(e),sI(e),aI(e)].join(sE).toLowerCase()}function $_(e,t,n,r,i){return{credentialType:cE.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:i}}function eI(e,t,n,r,i,o,s,a,c,l,u,h,d,f,p){const g={homeAccountId:e,credentialType:cE.ACCESS_TOKEN,secret:n,cachedAt:X_().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:r,realm:i,target:o,tokenType:u||vE.BEARER};if(h&&(g.userAssertionHash=h),l&&(g.refreshOn=l.toString()),f&&(g.requestedClaims=f,g.requestedClaimsHash=p),g.tokenType?.toLowerCase()!==vE.BEARER.toLowerCase())switch(g.credentialType=cE.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case vE.POP:const e=K_(n,c);if(!e?.cnf?.kid)throw z_(P_);g.keyId=e.cnf.kid;break;case vE.SSH:g.keyId=d}return g}function tI(e,t,n,r,i,o,s){const a={credentialType:cE.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function nI(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function rI(e){return[e.homeAccountId,e.environment].join(sE).toLowerCase()}function iI(e){const t=e.credentialType===cE.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(sE).toLowerCase()}function oI(e){return(e.target||"").toLowerCase()}function sI(e){return(e.requestedClaimsHash||"").toLowerCase()}function aI(e){return e.tokenType&&e.tokenType.toLowerCase()!==vE.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function cI(){return X_()+dE}function lI(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function uI(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function hI(e){return e.expiresAt<=X_()}const dI="redirect_uri_empty",fI="claims_request_parsing_error",pI="authority_uri_insecure",gI="url_parse_error",mI="empty_url_error",yI="empty_input_scopes_error",vI="invalid_prompt_value",bI="invalid_claims",wI="token_request_empty",CI="logout_request_empty",SI="invalid_code_challenge_method",AI="pkce_params_missing",kI="invalid_cloud_discovery_metadata",xI="invalid_authority_metadata",TI="untrusted_authority",EI="missing_ssh_jwk",_I="missing_ssh_kid",II="missing_nonce_authentication_header",PI="invalid_authentication_header",RI="cannot_set_OIDCOptions",NI="cannot_allow_platform_broker",OI="authority_mismatch",FI={[dI]:"A redirect URI is required for all calls, and none has been set.",[fI]:"Could not parse the given claims request object.",[pI]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[gI]:"URL could not be parsed into appropriate segments.",[mI]:"URL was empty or null.",[yI]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[vI]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[bI]:"Given claims parameter must be a stringified JSON object.",[wI]:"Token request was empty and not found in cache.",[CI]:"The logout request was null or undefined.",[SI]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[AI]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[kI]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[xI]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[TI]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[EI]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[_I]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[II]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[PI]:"Invalid authentication header provided",[RI]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[NI]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[OI]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class MI extends XE{constructor(e){super(e,FI[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,MI.prototype)}}function DI(e){return new MI(e)}class LI{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(aj){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,i]=e.split(/=(.+)/g,2);n&&i&&(t[r(n)]=r(i))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(aj){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class jI{constructor(e){const t=e?LI.trimArrayEntries([...e]):[],n=t?LI.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw DI(yI);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||IT.EMPTY_STRING).split(" ");return new jI(t)}static createSearchScopes(e){const t=new jI(e);return t.containsOnlyOIDCScopes()?t.removeScope(IT.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new jI(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return MT.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(aj){throw z_(g_)}}removeScope(e){if(!e)throw z_(p_);this.scopes.delete(e.trim())}removeOIDCScopes(){MT.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw z_(m_);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw z_(m_);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return IT.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function UI(e,t){if(!e)throw z_(JE);try{const n=t(e);return JSON.parse(n)}catch(aj){throw z_(QE)}}function BI(e){if(!e)throw z_(QE);const t=e.split(aE,2);return{uid:t[0],utid:t.length<2?IT.EMPTY_STRING:t[1]}}function qI(e,t){return!!e&&!!t&&e===t.split(".")[1]}function zI(e,t,n,r){if(r){const{oid:t,sub:n,tid:i,name:o,tfp:s,acr:a}=r,c=i||s||a||"";return{tenantId:c,localAccountId:t||n||"",name:o,isHomeTenant:qI(c,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:qI(n,e)}}function VI(e,t,n,r){let i=e;if(t){const{isHomeTenant:n,...r}=t;i={...e,...r}}if(n){const{isHomeTenant:t,...o}=zI(e.homeAccountId,e.localAccountId,e.tenantId,n);return i={...i,...o,idTokenClaims:n,idToken:r},i}return i}const HI=0,WI=1,KI=2,GI=3;function XI(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class YI{generateAccountId(){return[this.homeAccountId,this.environment].join(sE).toLowerCase()}generateAccountKey(){return YI.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(sE).toLowerCase()}static createAccount(e,t,n){const r=new YI;let i;t.authorityType===WI?r.authorityType=iE:t.protocolMode===zE?r.authorityType=oE:r.authorityType=rE,e.clientInfo&&n&&(i=UI(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const o=e.environment||t&&t.getPreferredCache();if(!o)throw z_(S_);r.environment=o,r.realm=i?.utid||XI(e.idTokenClaims)||"",r.localAccountId=i?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const s=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,a=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=s||a||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=zI(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new YI;return r.authorityType=e.authorityType||oE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,i){if(t!==WI&&t!==KI){if(e)try{const t=UI(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(aj){}n.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},i=t.idTokenClaims||{};r=n.iat===i.iat&&n.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function QI(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function JI(e){if(!e||e.indexOf("=")<0)return null;try{const t=QI(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch(aj){throw z_(r_)}return null}function ZI(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=new Array;return e.forEach(((e,i)=>{!t&&n&&i in n?r.push(`${i}=${e}`):r.push(`${i}=${encodeURIComponent(e)}`)})),r.join("&")}class $I{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw DI(mI);e.includes("#")||(this._urlString=$I.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return LI.endsWith(t,"?")?t=t.slice(0,-1):LI.endsWith(t,"?/")&&(t=t.slice(0,-2)),LI.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(aj){throw DI(gI)}if(!e.HostNameAndPort||!e.PathSegments)throw DI(gI);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw DI(pI)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return $I.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==VT&&n[0]!==HT||(n[0]=e),$I.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw DI(gI);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw DI(gI);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===IT.FORWARD_SLASH){const n=new $I(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new $I(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!JI(e)}}const eP={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},tP={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},nP=new Set;function rP(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const i=iP(t,e);if(i)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function iP(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}tP.metadata.forEach((e=>{e.aliases.forEach((e=>{nP.add(e)}))}));const oP="cache_quota_exceeded",sP="cache_error_unknown",aP={[oP]:"Exceeded cache storage capacity.",[sP]:"Unexpected error occurred when using cache storage."};class cP extends Error{constructor(e,t){const n=t||(aP[e]?aP[e]:aP[sP]);super(`${e}: ${n}`),Object.setPrototypeOf(this,cP.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class lP{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(H_,W_),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let i,o=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const s=this.getIdToken(e,t,n.tenantId);return s&&(i=K_(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,r))?null:(o=VI(e,n,i,s?.secret),o)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let i=r.tenantProfiles||new Map;const o=this.getTokenKeys();if(t){const e=i.get(t);if(!e)return[];i=new Map([[t,e]])}const s=[];return i.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,o,e,n);t&&s.push(t)})),s}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw z_(C_);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==n?.idToken&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==n?.accessToken&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==n?.refreshToken&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(aj){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),aj instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${aj.message}`,t),"QuotaExceededError"===aj.name||"NS_ERROR_DOM_QUOTA_REACHED"===aj.name||aj.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new cP(oP)):new cP(aj.name,aj.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${aj}`,t),new cP(sP))}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=jI.fromString(e.target),o=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){jI.fromString(t.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const i={localAccountId:e?.localAccountId,name:e?.name},o=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,i)));o&&0===o.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(sE).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(sE).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(cE.ID_TOKEN.toLowerCase())&&-1===t.indexOf(cE.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(cE.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(cE.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(cE.REFRESH_TOKEN.toLowerCase())>-1){const e=`${cE.REFRESH_TOKEN}${sE}${this.clientId}${sE}`,n=`${cE.REFRESH_TOKEN}${sE}${uE}${sE}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===cE.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===vE.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===cE.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===vE.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(Lv){throw z_(N_)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=YI.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getIdToken called");const o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:cE.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(o,t),a=s.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let t=s;if(!n){const n=new Map;s.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&i&&r.addFields({multiMatchedID:s.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,i,o){this.commonLogger.trace("CacheManager - getAccessToken called");const s=jI.createSearchScopes(t.scopes),a=t.authenticationScheme||vE.BEARER,c=a&&a.toLowerCase()!==vE.BEARER.toLowerCase()?cE.ACCESS_TOKEN_WITH_AUTH_SCHEME:cE.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:s,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,h=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,l)&&h.push(t)}}));const d=h.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),h.forEach((e=>{this.removeAccessToken(Z_(e))})),i&&o&&i.addFields({multiMatchedAT:h.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),h[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const o=t?uE:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:cE.REFRESH_TOKEN,clientId:this.clientId,familyId:o},a=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];a.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,s)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,s)&&c.push(t)}}));const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&r&&i&&r.addFields({multiMatchedRT:l},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),i=r.length;if(i<1)return null;if(i>1)throw z_(d_);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==uE)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const i=new $I(r).getUrlComponents().HostNameAndPort;n=rP(i,e.cloudDiscoveryMetadata?.metadata,fE,t)||rP(i,tP.metadata,mE,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==cE.ACCESS_TOKEN&&e.credentialType!==cE.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return jI.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(lE)}isAuthorityMetadata(e){return-1!==e.indexOf(hE)}generateAuthorityMetadataCacheKey(e){return`${hE}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class uP extends lP{async setAccount(){throw z_(j_)}getAccount(){throw z_(j_)}async setIdTokenCredential(){throw z_(j_)}getIdTokenCredential(){throw z_(j_)}async setAccessTokenCredential(){throw z_(j_)}getAccessTokenCredential(){throw z_(j_)}async setRefreshTokenCredential(){throw z_(j_)}getRefreshTokenCredential(){throw z_(j_)}setAppMetadata(){throw z_(j_)}getAppMetadata(){throw z_(j_)}setServerTelemetry(){throw z_(j_)}getServerTelemetry(){throw z_(j_)}setAuthorityMetadata(){throw z_(j_)}getAuthorityMetadata(){throw z_(j_)}getAuthorityMetadataKeys(){throw z_(j_)}setThrottlingCache(){throw z_(j_)}getThrottlingCache(){throw z_(j_)}removeItem(){throw z_(j_)}getKeys(){throw z_(j_)}getAccountKeys(){throw z_(j_)}getTokenKeys(){throw z_(j_)}}const hP={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},dP={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:UE.Info,correlationId:IT.EMPTY_STRING},fP={claimsBasedCachingEnabled:!1},pP={async sendGetRequestAsync(){throw z_(j_)},async sendPostRequestAsync(){throw z_(j_)}},gP={sku:IT.SKU,version:W_,cpu:IT.EMPTY_STRING,os:IT.EMPTY_STRING},mP={clientSecret:IT.EMPTY_STRING,clientAssertion:void 0},yP={azureCloudInstance:HE,tenant:`${IT.DEFAULT_COMMON_TENANT}`},vP={application:{appName:"",appVersion:""}};function bP(e){return e.authOptions.authority.options.protocolMode===zE}const wP={sendGetRequestAsync:()=>Promise.reject(z_(j_)),sendPostRequestAsync:()=>Promise.reject(z_(j_))},CP="acquireTokenByCode",SP="acquireTokenByRefreshToken",AP="acquireTokenSilent",kP="acquireTokenSilentAsync",xP="acquireTokenPopup",TP="acquireTokenPreRedirect",EP="acquireTokenRedirect",_P="cryptoOptsGetPublicKeyThumbprint",IP="cryptoOptsSignJwt",PP="silentCacheClientAcquireToken",RP="silentIframeClientAcquireToken",NP="awaitConcurrentIframe",OP="silentRefreshClientAcquireToken",FP="ssoSilent",MP="standardInteractionClientGetDiscoveredAuthority",DP="nativeInteractionClientAcquireToken",LP="networkClientSendPostRequestAsync",jP="refreshTokenClientExecutePostToTokenEndpoint",UP="authorizationCodeClientExecutePostToTokenEndpoint",BP="refreshTokenClientExecuteTokenRequest",qP="refreshTokenClientAcquireToken",zP="refreshTokenClientAcquireTokenWithCachedRefreshToken",VP="refreshTokenClientAcquireTokenByRefreshToken",HP="refreshTokenClientCreateTokenRequestBody",WP="acquireTokenFromCache",KP="silentFlowClientAcquireCachedToken",GP="silentFlowClientGenerateResultFromCacheRecord",XP="acquireTokenBySilentIframe",YP="initializeBaseRequest",QP="initializeSilentRequest",JP="initializeClientApplication",ZP="initializeCache",$P="silentIframeClientTokenHelper",eR="silentHandlerInitiateAuthRequest",tR="silentHandlerMonitorIframeForHash",nR="silentHandlerLoadFrame",rR="silentHandlerLoadFrameSync",iR="standardInteractionClientCreateAuthCodeClient",oR="standardInteractionClientGetClientConfiguration",sR="standardInteractionClientInitializeAuthorizationRequest",aR="getAuthCodeUrl",cR="getStandardParams",lR="handleCodeResponseFromServer",uR="handleCodeResponse",hR="handleResponseEar",dR="handleResponsePlatformBroker",fR="handleResponseCode",pR="updateTokenEndpointAuthority",gR="authClientAcquireToken",mR="authClientExecuteTokenRequest",yR="authClientCreateTokenRequestBody",vR="popTokenGenerateCnf",bR="popTokenGenerateKid",wR="handleServerTokenResponse",CR="deserializeResponse",SR="authorityFactoryCreateDiscoveredInstance",AR="authorityResolveEndpointsAsync",kR="authorityGetCloudDiscoveryMetadataFromNetwork",xR="authorityUpdateCloudDiscoveryMetadata",TR="authorityGetEndpointMetadataFromNetwork",ER="authorityUpdateEndpointMetadata",_R="authorityUpdateMetadataWithRegionalInformation",IR="regionDiscoveryDetectRegion",PR="regionDiscoveryGetRegionFromIMDS",RR="regionDiscoveryGetCurrentVersion",NR="acquireTokenByCodeAsync",OR="handleRedirectPromise",FR="handleNativeRedirectPromise",MR="nativeMessageHandlerHandshake",DR="removeHiddenIframe",LR="clearTokensAndKeysWithClaims",jR="cacheManagerGetRefreshToken",UR="importExistingCache",BR="setUserData",qR="localStorageUpdated",zR="generatePkceCodes",VR="generateCodeVerifier",HR="generateCodeChallengeFromVerifier",WR="sha256Digest",KR="getRandomValues",GR="generateHKDF",XR="generateBaseKey",YR="base64Decode",QR="urlEncodeArr",JR="encrypt",ZR="decrypt",$R="generateEarKey",eN="decryptEarResponse",tN=(new Map([[CP,"ATByCode"],[SP,"ATByRT"],[AP,"ATS"],[kP,"ATSAsync"],[xP,"ATPopup"],[EP,"ATRedirect"],[_P,"CryptoGetPKThumb"],[IP,"CryptoSignJwt"],[PP,"SltCacheClientAT"],[RP,"SltIframeClientAT"],[OP,"SltRClientAT"],[FP,"SsoSlt"],[MP,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[DP,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[LP,"NetClientSendPost"],[jP,"RTClientExecPost"],[UP,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[BP,"RTClientExecTReq"],[qP,"RTClientAT"],[zP,"RTClientATWithCachedRT"],[VP,"RTClientATByRT"],[HP,"RTClientCreateTReqBody"],[WP,"ATFromCache"],[KP,"SltFlowClientATCached"],[GP,"SltFlowClientGenResFromCache"],[XP,"ATBySltIframe"],[YP,"InitBaseReq"],[QP,"InitSltReq"],[JP,"InitClientApplication"],[ZP,"InitCache"],[UR,"importCache"],[BR,"setUserData"],[qR,"localStorageUpdated"],[$P,"SIClientTHelper"],[eR,"SHandlerInitAuthReq"],[tR,"SltHandlerMonitorIframeForHash"],[nR,"SHandlerLoadFrame"],[rR,"SHandlerLoadFrameSync"],[iR,"StdIntClientCreateAuthCodeClient"],[oR,"StdIntClientGetClientConf"],[sR,"StdIntClientInitAuthReq"],[aR,"GetAuthCodeUrl"],[lR,"HandleCodeResFromServer"],[uR,"HandleCodeResp"],[hR,"HandleRespEar"],[fR,"HandleRespCode"],[dR,"HandleRespPlatBroker"],[pR,"UpdTEndpointAuth"],[gR,"AuthClientAT"],[mR,"AuthClientExecTReq"],[yR,"AuthClientCreateTReqBody"],[vR,"PopTGenCnf"],[bR,"PopTGenKid"],[wR,"HandleServerTRes"],[CR,"DeserializeRes"],[SR,"AuthFactCreateDiscInst"],[AR,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[kR,"AuthGetCDMetaFromNet"],[xR,"AuthUpdCDMeta"],[TR,"AuthUpdCDMetaFromNet"],[ER,"AuthUpdEndpointMeta"],[_R,"AuthUpdMetaWithRegInfo"],[IR,"RegDiscDetectReg"],[PR,"RegDiscGetRegFromIMDS"],[RR,"RegDiscGetCurrentVer"],[NR,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[OR,"HandleRedirectPromise"],[FR,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[MR,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[DR,"RemoveHiddenIframe"],[LR,"ClearTAndKeysWithClaims"],[jR,"CacheManagerGetRT"],[zR,"GenPkceCodes"],[VR,"GenCodeVerifier"],[HR,"GenCodeChallengeFromVerifier"],[WR,"Sha256Digest"],[KR,"GetRandomValues"],[GR,"genHKDF"],[XR,"genBaseKey"],[YR,"b64Decode"],[QR,"urlEncArr"],[JR,"encrypt"],[ZR,"decrypt"],[$R,"genEarKey"],[eN,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class nN{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class rN{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:tN,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new nN}}startPerformanceMeasurement(){return new nN}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const iN="invalid_grant",oN=483,sN=600,aN="msal",cN=30,lN="msal.js.browser",uN="53ee284d-920a-4b59-9d30-a60315b26836",hN="ppnbnpeolgkicgegkbkbjmhlideopiji",dN="MATS",fN="Handshake",pN="HandshakeResponse",gN="GetToken",mN="Response",yN="localStorage",vN="sessionStorage",bN="memoryStorage",wN="GET",CN="POST",SN="signin",AN="signout",kN="request.origin",xN="urlHash",TN="request.params",EN="code.verifier",_N="interaction.status",IN="request.native",PN="msal.account.keys",RN="msal.token.keys",NN="wrapper.sku",ON="wrapper.version",FN=861,MN=862,DN=863,LN=865,jN=866,UN=61,BN=961,qN=962;var zN;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(zN||(zN={}));const VN={scopes:FT},HN="msal.db",WN=`${HN}.keys`,KN=0,GN=1,XN=2,YN=3,QN=4,JN=5,ZN=[KN,JN,QN];class $N{navigateInternal(e,t){return $N.defaultNavigateWindow(e,t)}navigateExternal(e,t){return $N.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class eO extends XE{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,eO.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function tO(e,t,n){return new eO(e,t,n)}const nO="pkce_not_created",rO="ear_jwk_empty",iO="ear_jwe_empty",oO="crypto_nonexistent",sO="empty_navigate_uri",aO="hash_empty_error",cO="no_state_in_hash",lO="hash_does_not_contain_known_properties",uO="unable_to_parse_state",hO="state_interaction_type_mismatch",dO="interaction_in_progress",fO="popup_window_error",pO="empty_window_error",gO="user_cancelled",mO="monitor_popup_timeout",yO="monitor_window_timeout",vO="redirect_in_iframe",bO="block_iframe_reload",wO="block_nested_popups",CO="iframe_closed_prematurely",SO="silent_logout_unsupported",AO="no_account_error",kO="silent_prompt_value_error",xO="no_token_request_cache_error",TO="unable_to_parse_token_request_cache_error",EO="auth_request_not_set_error",_O="invalid_cache_type",IO="non_browser_environment",PO="database_not_open",RO="no_network_connectivity",NO="post_request_failed",OO="get_request_failed",FO="failed_to_parse_response",MO="unable_to_load_token",DO="crypto_key_not_found",LO="auth_code_required",jO="auth_code_or_nativeAccountId_required",UO="spa_code_and_nativeAccountId_present",BO="database_unavailable",qO="unable_to_acquire_token_from_native_platform",zO="native_handshake_timeout",VO="native_extension_not_installed",HO="native_connection_not_established",WO="uninitialized_public_client_application",KO="native_prompt_not_supported",GO="invalid_base64_string",XO="invalid_pop_token_request",YO="failed_to_build_headers",QO="failed_to_parse_headers",JO="failed_to_decrypt_ear_response",ZO="For more visit: aka.ms/msaljs/browser-errors",$O={[nO]:"The PKCE code challenge and verifier could not be generated.",[rO]:"No EAR encryption key provided. This is unexpected.",[iO]:"Server response does not contain ear_jwe property. This is unexpected.",[oO]:"The crypto object or function is not available.",[sO]:"Navigation URI is empty. Please check stack trace for more info.",[aO]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${ZO}`,[cO]:"Hash does not contain state. Please verify that the request originated from msal.",[lO]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${ZO}`,[uO]:"Unable to parse state. Please verify that the request originated from msal.",[hO]:"Hash contains state but the interaction type does not match the caller.",[dO]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${ZO}`,[fO]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[pO]:"window.open returned null or undefined window object.",[gO]:"User cancelled the flow.",[mO]:`Token acquisition in popup failed due to timeout.  ${ZO}`,[yO]:`Token acquisition in iframe failed due to timeout.  ${ZO}`,[vO]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[bO]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${ZO}`,[wO]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[CO]:"The iframe being monitored was closed prematurely.",[SO]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[AO]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[kO]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[xO]:"No token request found in cache.",[TO]:"The cached token request could not be parsed.",[EO]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[_O]:"Invalid cache type",[IO]:"Login and token requests are not supported in non-browser environments.",[PO]:"Database is not open!",[RO]:"No network connectivity. Check your internet connection.",[NO]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[OO]:"Network request failed. Please check the network trace to determine root cause.",[FO]:"Failed to parse network response. Check network trace.",[MO]:"Error loading token to cache.",[DO]:"Cryptographic Key or Keypair not found in browser storage.",[LO]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[jO]:"An authorization code or nativeAccountId must be provided to this flow.",[UO]:"Request cannot contain both spa code and native account id.",[BO]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[qO]:`Unable to acquire token from native platform.  ${ZO}`,[zO]:"Timed out while attempting to establish connection to browser extension",[VO]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[HO]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${ZO}`,[WO]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${ZO}`,[KO]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[GO]:"Invalid base64 encoded string.",[XO]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[YO]:"Failed to build request headers object.",[QO]:"Failed to parse response headers",[JO]:"Failed to decrypt ear response"};class eF extends XE{constructor(e,t){super(e,$O[e],t),Object.setPrototypeOf(this,eF.prototype),this.name="BrowserAuthError"}}function tF(e,t){return new eF(e,t)}class nF{async sendGetRequestAsync(e,t){let n,r={},i=0;const o=rF(t);try{n=await fetch(e,{method:wN,headers:o})}catch(aj){throw tF(window.navigator.onLine?OO:RO)}r=iF(n.headers);try{return i=n.status,{headers:r,body:await n.json(),status:i}}catch(aj){throw tO(tF(FO),i,r)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=rF(t);let i,o=0,s={};try{i=await fetch(e,{method:CN,headers:r,body:n})}catch(aj){throw tF(window.navigator.onLine?NO:RO)}s=iF(i.headers);try{return o=i.status,{headers:s,body:await i.json(),status:o}}catch(aj){throw tO(tF(FO),o,s)}}}function rF(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(aj){throw tF(YO)}}function iF(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(aj){throw tF(QO)}}function oF(e){return encodeURIComponent(aF(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function sF(e){return cF(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aF(e){return cF((new TextEncoder).encode(e))}function cF(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function lF(e){return(new TextDecoder).decode(uF(e))}function uF(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw tF(GO)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const hF="AES-GCM",dF="HKDF",fF="SHA-256",pF=new Uint8Array([1,0,1]),gF="0123456789abcdef",mF=new Uint32Array(1),yF="raw",vF="encrypt",bF="decrypt",wF={name:"RSASSA-PKCS1-v1_5",hash:fF,modulusLength:2048,publicExponent:pF};async function CF(e,t,n){t?.addQueueMeasurement(WR,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(fF,r)}function SF(e){return window.crypto.getRandomValues(e)}function AF(){return window.crypto.getRandomValues(mF),mF[0]}function kF(){const e=Date.now(),t=1024*AF()+(1023&AF()),n=new Uint8Array(16),r=Math.trunc(t/2**30),i=t&2**30-1,o=AF();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let s="";for(let a=0;a<n.length;a++)s+=gF.charAt(n[a]>>>4),s+=gF.charAt(15&n[a]),3!==a&&5!==a&&7!==a&&9!==a||(s+="-");return s}async function xF(e){return window.crypto.subtle.exportKey("jwk",e)}async function TF(){const e=await _F(),t={alg:"dir",kty:"oct",k:sF(new Uint8Array(e))};return aF(JSON.stringify(t))}async function EF(e,t){const n=t.split(".");if(5!==n.length)throw tF(JO,"jwe_length");const r=await async function(e){const t=lF(e),n=uF(JSON.parse(t).k);return window.crypto.subtle.importKey(yF,n,hF,!1,[bF])}(e).catch((()=>{throw tF(JO,"import_key")}));try{const e=(new TextEncoder).encode(n[0]),t=uF(n[2]),i=uF(n[3]),o=uF(n[4]),s=8*o.byteLength,a=new Uint8Array(i.length+o.length);a.set(i),a.set(o,i.length);const c=await window.crypto.subtle.decrypt({name:hF,iv:t,tagLength:s,additionalData:e},r,a);return(new TextDecoder).decode(c)}catch(aj){throw tF(JO,"decrypt")}}async function _F(){const e=await window.crypto.subtle.generateKey({name:hF,length:256},!0,[vF,bF]);return window.crypto.subtle.exportKey(yF,e)}async function IF(e){return window.crypto.subtle.importKey(yF,e,dF,!1,["deriveKey"])}async function PF(e,t,n){return window.crypto.subtle.deriveKey({name:dF,salt:t,hash:fF,info:(new TextEncoder).encode(n)},e,{name:hF,length:256},!1,[vF,bF])}async function RF(e,t,n){const r=(new TextEncoder).encode(t),i=window.crypto.getRandomValues(new Uint8Array(16)),o=await PF(e,i,n),s=await window.crypto.subtle.encrypt({name:hF,iv:new Uint8Array(12)},o,r);return{data:sF(new Uint8Array(s)),nonce:sF(i)}}async function NF(e,t,n,r){const i=uF(r),o=await PF(e,uF(t),n),s=await window.crypto.subtle.decrypt({name:hF,iv:new Uint8Array(12)},o,i);return(new TextDecoder).decode(s)}async function OF(e){const t=await CF(e);return sF(new Uint8Array(t))}const FF="storage_not_supported",MF="stubbed_public_client_application_called",DF="in_mem_redirect_unavailable",LF={[FF]:"Given storage configuration option was not supported.",[MF]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[DF]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class jF extends XE{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,jF.prototype)}}function UF(e){return new jF(e,LF[e])}function BF(){return window.parent!==window}function qF(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function zF(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${aN}.`))throw tF(wO)}function VF(){if("undefined"===typeof window)throw tF(IO)}function HF(e){if(!e)throw tF(WO)}function WF(e){VF(),function(){if($I.hashContainsKnownProperties(window.location.hash)&&BF())throw tF(bO)}(),zF(),HF(e)}function KF(e,t){if(WF(e),function(e){if(BF()&&!e)throw tF(vO)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===bN&&!t.cache.storeAuthStateInCookie)throw UF(DF)}function GF(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const XF=1e4;const YF="4.11.0";class QF{static loggerCallback(e,t){switch(e){case UE.Error:return void console.error(t);case UE.Info:return void console.info(t);case UE.Verbose:return void console.debug(t);case UE.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:i,telemetry:o}=e;const s={clientId:IT.EMPTY_STRING,authority:`${IT.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:IT.EMPTY_STRING,authorityMetadata:IT.EMPTY_STRING,redirectUri:"undefined"!==typeof window?qF():"",postLogoutRedirectUri:IT.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:qE,OIDCOptions:{serverResponseType:$T,defaultScopes:[IT.OPENID_SCOPE,IT.PROFILE_SCOPE,IT.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:HE,tenant:IT.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:vN,temporaryCacheLocation:vN,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==yN),claimsBasedCachingEnabled:!1},c={loggerCallback:()=>{},logLevel:UE.Info,piiLoggingEnabled:!1},l={...{...hP,loggerOptions:c,networkClient:t?new nF:wP,navigationClient:new $N,loadFrameTimeout:0,windowHashTimeout:i?.loadFrameTimeout||6e4,iframeHashTimeout:i?.loadFrameTimeout||XF,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:cN},...i,loggerOptions:i?.loggerOptions||c},u={application:{appName:IT.EMPTY_STRING,appVersion:IT.EMPTY_STRING},client:new rN};n?.protocolMode!==zE&&n?.OIDCOptions&&new BE(l.loggerOptions).warning(JSON.stringify(DI(RI)));if(n?.protocolMode&&n.protocolMode===zE&&l?.allowPlatformBroker)throw DI(NI);return{auth:{...s,...n,OIDCOptions:{...s.OIDCOptions,...n?.OIDCOptions}},cache:{...a,...r},system:l,telemetry:{...u,...o}}}(e,this.browserEnvironment);try{t=window[vN]}catch(aj){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),i="true"===r||"false"!==r&&void 0,o={...this.config.system.loggerOptions},s=n&&Object.keys(UE).includes(n)?UE[n]:void 0;s&&(o.loggerCallback=QF.loggerCallback,o.logLevel=s),void 0!==i&&(o.piiLoggingEnabled=i),this.logger=new BE(o,"@azure/msal-browser",YF),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class JF extends QF{getModuleName(){return JF.MODULE_NAME}getId(){return JF.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}JF.MODULE_NAME="",JF.ID="StandardOperatingContext";const ZF="missing_kid_error",$F="missing_alg_error",eM={[ZF]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[$F]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class tM extends XE{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,tM.prototype)}}function nM(e){return new tM(e,eM[e])}class rM{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw nM(ZF);if(!e.alg)throw nM($F);const t=new rM({typ:e.typ||jE,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class iM{constructor(){this.dbName=HN,this.version=1,this.tableName=WN,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(tF(BO))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(tF(PO));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(tF(PO));const i=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);i.addEventListener("success",(()=>{this.closeConnection(),n()})),i.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(tF(PO));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(tF(PO));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(tF(PO));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(HN),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class oM{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class sM{constructor(e){this.inMemoryCache=new oM,this.indexedDBCache=new iM,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof eF&&e.errorCode===BO))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(aj){this.handleDatabaseAccessError(aj)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(aj){this.handleDatabaseAccessError(aj)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(aj){this.handleDatabaseAccessError(aj)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(aj){this.handleDatabaseAccessError(aj)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(aj){this.handleDatabaseAccessError(aj)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(aj){return this.handleDatabaseAccessError(aj),!1}}}class aM{constructor(e,t,n){this.logger=e,function(e){if(!window)throw tF(IO);if(!window.crypto)throw tF(oO);if(!e&&!window.crypto.subtle)throw tF(oO,"crypto_subtle_undefined")}(n??!1),this.cache=new sM(this.logger),this.performanceClient=t}createNewGuid(){return kF()}base64Encode(e){return aF(e)}base64Decode(e){return lF(e)}base64UrlEncode(e){return oF(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(_P,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(wF,e,t)}(aM.EXTRACTABLE,aM.POP_KEY_USAGES),r=await xF(n.publicKey),i=cM({e:r.e,kty:r.kty,n:r.n}),o=await this.hashString(i),s=await xF(n.privateKey),a=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,wF,t,n)}(s,!1,["sign"]);return await this.cache.setItem(o,{privateKey:a,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),o}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(aj){return aj instanceof Error?this.logger.error(`Clearing keystore failed with error: ${aj.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const i=this.performanceClient?.startMeasurement(IP,r),o=await this.cache.getItem(t);if(!o)throw tF(DO);const s=await xF(o.publicKey),a=cM(s),c=oF(JSON.stringify({kid:t})),l=oF(rM.getShrHeaderString({...n?.header,alg:s.alg,kid:c}));e.cnf={jwk:JSON.parse(a)};const u=`${l}.${oF(JSON.stringify(e))}`,h=(new TextEncoder).encode(u),d=await async function(e,t){return window.crypto.subtle.sign(wF,e,t)}(o.privateKey,h),f=`${u}.${sF(new Uint8Array(d))}`;return i&&i.end({success:!0}),f}async hashString(e){return OF(e)}}function cM(e){return JSON.stringify(e,Object.keys(e).sort())}aM.POP_KEY_USAGES=["sign","verify"],aM.EXTRACTABLE=!0;const lM=(e,t,n,r,i)=>function(){n.trace(`Executing function ${t}`);const o=r?.startMeasurement(t,i);if(i){const e=t+"CallCount";r?.incrementFields({[e]:1},i)}try{const r=e(...arguments);return o?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(aj){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(aj))}catch(aj){n.trace("Unable to print error message.")}throw o?.end({success:!1},aj),aj}},uM=(e,t,n,r,i)=>function(){n.trace(`Executing function ${t}`);const o=r?.startMeasurement(t,i);if(i){const e=t+"CallCount";r?.incrementFields({[e]:1},i)}return r?.setPreQueueTime(t,i),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),o?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw o?.end({success:!1},e),e}))};class hM{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(IR,this.correlationId);let n=e;if(n)t.region_source=_E;else{const e=hM.IMDS_OPTIONS;try{const r=await uM(this.getRegionFromIMDS.bind(this),PR,this.logger,this.performanceClient,this.correlationId)(IT.IMDS_VERSION,e);if(r.status===xE&&(n=r.body,t.region_source=IE),r.status===TE){const r=await uM(this.getCurrentVersion.bind(this),RR,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=EE,null;const i=await uM(this.getRegionFromIMDS.bind(this),PR,this.logger,this.performanceClient,this.correlationId)(r,e);i.status===xE&&(n=i.body,t.region_source=IE)}}catch(aj){return t.region_source=EE,null}}return n||(t.region_source=EE),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(PR,this.correlationId),this.networkInterface.sendGetRequestAsync(`${IT.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,IT.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(RR,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${IT.IMDS_ENDPOINT}?format=json`,e);return t.status===TE&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(aj){return null}}}hM.IMDS_OPTIONS={headers:{Metadata:"true"}};class dM{constructor(e,t,n,r,i,o,s,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=s,this.correlationId=o,this.managedIdentity=a||!1,this.regionDiscovery=new hM(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(IT.CIAM_AUTH_URL))return GI;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case IT.ADFS:return WI;case IT.DSTS:return KI}return HI}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new $I(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw z_(e_)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw z_(e_)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw z_(e_)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw z_(O_);return this.replacePath(this.metadata.end_session_endpoint)}throw z_(e_)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw z_(e_)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw z_(e_)}canReplaceTenant(e){return 1===e.PathSegments.length&&!dM.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===HI&&this.protocolMode!==zE}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new $I(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,i)=>{let o=r[i];if(0===i&&this.canReplaceTenant(n)){const e=new $I(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];o!==e&&(this.logger.verbose(`Replacing tenant domain name ${o} with id ${e}`),o=e)}e!==o&&(t=t.replace(`/${o}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===WI||this.protocolMode===zE&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(AR,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await uM(this.updateCloudDiscoveryMetadata.bind(this),xR,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await uM(this.updateEndpointMetadata.bind(this),ER,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:cI(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==pE&&n?.source!==pE&&(e.expiresAt=cI(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(ER,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===mE&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){lI(e,await uM(this.updateMetadataWithRegionalInformation.bind(this),_R,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await uM(this.getEndpointMetadataFromNetwork.bind(this),TR,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await uM(this.updateMetadataWithRegionalInformation.bind(this),_R,this.logger,this.performanceClient,this.correlationId)(n)),lI(e,n,!0),gE;throw z_(n_,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),lI(e,t,!1),{source:fE};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return lI(e,t,!1),{source:mE,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=hI(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:pE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new $I(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(aj){throw DI(xI)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(TR,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(aj){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${aj}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in eP?eP[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(_R,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==IT.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=PE,this.regionDiscoveryMetadata.region_used=t,dM.replaceWithRegionalInformation(e,t);const n=await uM(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),IR,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=RE,this.regionDiscoveryMetadata.region_used=n,dM.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=NE}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(xR,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await uM(this.getCloudDiscoveryMetadataFromNetwork.bind(this),kR,this.logger,this.performanceClient,this.correlationId)();if(n)return uI(e,n,!0),gE;throw DI(TI)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||IT.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||IT.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||IT.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),uI(e,t,!1),fE;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,iP(tP.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),uI(e,t,!1),mE;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=hI(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),pE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===GI)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),dM.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=iP(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(aj){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),DI(kI)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),dM.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(kR,this.correlationId);const e=`${IT.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let i,o;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))i=r.body,o=i.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),i=r.body,i.error===IT.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=iP(o,this.hostnameAndPort)}catch(Lv){if(Lv instanceof XE)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${Lv.errorCode}\nError Description: ${Lv.errorMessage}`);else{const t=Lv;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${t.name}\nError Description: ${t.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=dM.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&$I.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==HE){const e=t.tenant?t.tenant:IT.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return IT.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw z_(e_)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return nP.has(e)}static isPublicCloudAuthority(e){return IT.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new $I(e);r.validateAsUri();const i=r.getUrlComponents();let o=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(o=`${t}.${IT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const s=$I.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:o}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=dM.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=dM.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=dM.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new $I(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(IT.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${IT.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function fM(e){return e.endsWith(IT.FORWARD_SLASH)?e:`${e}${IT.FORWARD_SLASH}`}dM.reservedTenantDomains=new Set(["{tenant}","{tenantid}",VT,WT,HT]);const pM="no_tokens_found",gM="native_account_unavailable",mM="refresh_token_expired",yM="bad_token",vM=["interaction_required","consent_required","login_required",yM],bM=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],wM={[pM]:"No refresh token found in the cache. Please sign-in.",[gM]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[mM]:"Refresh token has expired.",[yM]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class CM extends XE{constructor(e,t,n,r,i,o,s,a){super(e,t,n),Object.setPrototypeOf(this,CM.prototype),this.timestamp=r||IT.EMPTY_STRING,this.traceId=i||IT.EMPTY_STRING,this.correlationId=o||IT.EMPTY_STRING,this.claims=s||IT.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=a}}function SM(e,t,n){const r=!!e&&vM.indexOf(e)>-1,i=!!n&&bM.indexOf(n)>-1,o=!!t&&vM.some((e=>t.indexOf(e)>-1));return r||o||i}function AM(e){return new CM(e,wM[e])}function kM(e,t,n){return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.tokenBodyParameters?.clientId}}const xM=864e5,TM="Lax",EM="None";class _M{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[i,...o]=decodeURIComponent(e).trim().split("="),s=o.join("=");if(i===t)return s}return""}getUserData(){throw z_(j_)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:TM,o=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${i};`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*xM);return n.toUTCString()}(n);o+=`expires=${e};`}(r||i===EM)&&(o+="Secure;"),document.cookie=o}async setUserData(){return Promise.reject(z_(j_))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function IM(e){const t=e.getItem(PN);return t?JSON.parse(t):[]}function PM(e,t){const n=t.getItem(`${RN}.${e}`);if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const RM="msal.cache.encryption";class NM{constructor(e,t,n){if(!window.localStorage)throw UF(FF);this.memoryStorage=new oM,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){this.initialized=!0;const t=new _M,n=t.getItem(RM);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(aj){}if(r.key&&r.id){const t=lM(uF,YR,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await uM(IF,GR,this.logger,this.performanceClient,e)(t)},await uM(this.importExistingCache.bind(this),UR,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=kF(),r=await uM(_F,XR,this.logger,this.performanceClient,e)(),i=lM(sF,QR,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await uM(IF,GR,this.logger,this.performanceClient,e)(r)};const o={id:n,key:i};t.setItem(RM,JSON.stringify(o),0,!0,EM)}this.broadcast.addEventListener("message",this.updateCache.bind(this))}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw tF(WO);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw tF(WO);const{data:r,nonce:i}=await uM(RF,JR,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),o={id:this.encryptionCookie.id,nonce:i,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(o)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();IM(this).forEach((e=>this.removeItem(e)));const e=PM(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(IT.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=IM(this);t=await this.importArray(t,e),this.setItem(PN,JSON.stringify(t));const n=PM(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem(`${RN}.${this.clientId}`,JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(aj){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):uM(NF,ZR,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const i=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(i)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(qR);t.add({isBackground:!0});const{key:n,value:r,context:i}=e.data;return n?i&&i!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class OM{constructor(){if(!window.sessionStorage)throw UF(FF)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}const FM="msal:initializeStart",MM="msal:initializeEnd",DM="msal:accountAdded",LM="msal:accountRemoved",jM="msal:activeAccountChanged",UM="msal:loginStart",BM="msal:loginSuccess",qM="msal:loginFailure",zM="msal:acquireTokenStart",VM="msal:acquireTokenSuccess",HM="msal:acquireTokenFailure",WM="msal:acquireTokenFromNetworkStart",KM="msal:ssoSilentStart",GM="msal:ssoSilentSuccess",XM="msal:ssoSilentFailure",YM="msal:acquireTokenByCodeStart",QM="msal:acquireTokenByCodeSuccess",JM="msal:acquireTokenByCodeFailure",ZM="msal:handleRedirectStart",$M="msal:handleRedirectEnd",eD="msal:popupOpened",tD="msal:logoutStart",nD="msal:logoutSuccess",rD="msal:logoutFailure",iD="msal:logoutEnd",oD="msal:restoreFromBFCache";class sD extends lP{constructor(e,t,n,r,i,o,s){super(e,n,r,s),this.cacheConfig=t,this.logger=r,this.internalStorage=new oM,this.browserStorage=aD(e,t.cacheLocation,r,i),this.temporaryCacheStorage=aD(e,t.temporaryCacheLocation,r,i),this.cookieStorage=new _M,this.performanceClient=i,this.eventHandler=o}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(Lv){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&YI.isAccountEntity(n)?lP.toObject(new YI,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await uM(this.browserStorage.setUserData.bind(this.browserStorage),BR,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===yN&&r&&this.eventHandler.emitEvent(DM,void 0,e.getAccountInfo())}getAccountKeys(){return IM(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(PN,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(PN,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===yN&&this.eventHandler.emitEvent(LM,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,cE.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,cE.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,cE.REFRESH_TOKEN)}getTokenKeys(){return PM(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case cE.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case cE.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case cE.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),z_(x_)}this.browserStorage.setItem(`${RN}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case cE.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case cE.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const i=n.accessToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case cE.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const o=n.refreshToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),z_(x_)}this.browserStorage.setItem(`${RN}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,cE.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&nI(r)&&r.hasOwnProperty("realm")&&r.credentialType===cE.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,cE.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=Z_(e);await uM(this.browserStorage.setUserData.bind(this.browserStorage),BR,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,cE.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,cE.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&nI(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===cE.ACCESS_TOKEN||r.credentialType===cE.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,cE.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=Z_(e);await uM(this.browserStorage.setUserData.bind(this.browserStorage),BR,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,cE.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,cE.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&nI(r)&&r.credentialType===cE.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,cE.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=Z_(e);await uM(this.browserStorage.setUserData.bind(this.browserStorage),BR,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,cE.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(i=n)&&0===r.indexOf(lE)&&i.hasOwnProperty("clientId")&&i.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,i}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[lE,t,n].join(sE).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(yE.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(hE)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(NN,e),this.internalStorage.setItem(ON,t)}getWrapperMetadata(){return[this.internalStorage.getItem(NN)||IT.EMPTY_STRING,this.internalStorage.getItem(ON)||IT.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(zT),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(zT);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(jM)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(CE));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===yN){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(IT.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(IT.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(LR,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):LI.startsWith(e,IT.CACHE_PREFIX)?e:`${IT.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(TN)),this.removeTemporaryItem(this.generateCacheKey(EN)),this.removeTemporaryItem(this.generateCacheKey(kN)),this.removeTemporaryItem(this.generateCacheKey(xN)),this.removeTemporaryItem(this.generateCacheKey(IN)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=aF(JSON.stringify(e));if(this.setTemporaryCache(TN,n,!0),t){const e=aF(t);this.setTemporaryCache(EN,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(TN,!0);if(!e)throw tF(xO);const t=this.getTemporaryCache(EN,!0);let n,r="";try{n=JSON.parse(lF(e)),t&&(r=lF(t))}catch(aj){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${aj}`),tF(TO)}return[n,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(IN,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress()?.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${IT.CACHE_PREFIX}.${_N}`,t=this.getTemporaryCache(e,!1);return t?JSON.parse(t):null}setInteractionInProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SN;const n=`${IT.CACHE_PREFIX}.${_N}`;if(e){if(this.getInteractionInProgress())throw tF(dO);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:t}),!1)}else e||this.getInteractionInProgress()?.clientId!==this.clientId||this.removeTemporaryItem(n)}async hydrateCache(e,t){const n=$_(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const i={idToken:n,accessToken:eI(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Y_(e.expiresOn):0,e.extExpiresOn?Y_(e.extExpiresOn):0,lF,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(i,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(aj){if(aj instanceof cP&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(aj){}throw aj}}}function aD(e,t,n,r){try{switch(t){case yN:return new NM(e,n,r);case vN:return new OM}}catch(aj){n.error(aj)}return new oM}class cD{constructor(e){this.eventCallbacks=new Map,this.logger=e||new BE({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||kF();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){const i={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case DM:case LM:case jM:this.broadcastChannel?.postMessage(i);break;default:this.invokeCallbacks(i)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,i]=t;(0===i.length||i.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e.eventType}`),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}const lD="home_account_id",uD="UPN",hD="client_id",dD="redirect_uri",fD="token_type",pD="req_cnf",gD="return_spa_code",mD="x-client-xtra-sku",yD="brk_client_id",vD="brk_redirect_uri",bD="instance_aware";function wD(e,t,n){if(!t)return;const r=e.get(hD);r&&e.has(yD)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(dD)},t)}function CD(e,t){e.set("response_type",t)}function SD(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:FT;!n||r.includes("openid")||t.includes("openid")||r.push("openid");const i=n?[...t||[],...r]:t||[],o=new jI(i);e.set("scope",o.printScopes())}function AD(e,t){e.set(hD,t)}function kD(e,t){e.set(dD,t)}function xD(e,t){e.set("login_hint",t)}function TD(e,t){e.set(UT,`UPN:${t}`)}function ED(e,t){e.set(UT,`Oid:${t.uid}@${t.utid}`)}function _D(e,t){e.set("sid",t)}function ID(e,t,n){const r=function(e,t){let n;if(e)try{n=JSON.parse(e)}catch(aj){throw DI(bI)}else n={};t&&t.length>0&&(n.hasOwnProperty(KT)||(n[KT]={}),n[KT][GT]={values:t});return JSON.stringify(n)}(t,n);try{JSON.parse(r)}catch(aj){throw DI(bI)}e.set("claims",r)}function PD(e,t){e.set("client-request-id",t)}function RD(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function ND(e,t){t?.appName&&e.set("x-app-name",t.appName),t?.appVersion&&e.set("x-app-ver",t.appVersion)}function OD(e,t){t&&e.set("state",t)}function FD(e,t){e.set("client_secret",t)}function MD(e,t){t&&e.set("client_assertion",t)}function DD(e,t){t&&e.set("client_assertion_type",t)}function LD(e,t){e.set("grant_type",t)}function jD(e){e.set("client_info","1")}function UD(e){e.has(bD)||e.set(bD,"true")}function BD(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;!e.has(n)&&r&&e.set(n,r)}))}function qD(e,t){t&&(e.set(fD,vE.POP),e.set(pD,t))}function zD(e,t){t&&(e.set(fD,vE.SSH),e.set(pD,t))}function VD(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function HD(e){e.set("x-ms-lib-capability",SE)}function WD(e,t,n){e.has(yD)||e.set(yD,t),e.has(vD)||e.set(vD,n)}async function KD(e,t,n,r,i,o,s){s?.addQueueMeasurement(SR,o);const a=dM.transformCIAMAuthority(fM(e)),c=new dM(a,t,n,r,i,o,s);try{return await uM(c.resolveEndpointsAsync.bind(c),AR,i,s,o)(),c}catch(aj){throw z_(e_)}}class GD extends XE{constructor(e,t,n,r,i){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=i,Object.setPrototypeOf(this,GD.prototype)}}class XD{static generateThrottlingStorageKey(e){return`${CE}.${JSON.stringify(e)}`}static preProcess(e,t){const n=XD.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new GD(r.errorCodes?.join(" ")||IT.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(XD.checkResponseStatus(n)||XD.checkResponseForRetryAfter(n)){const r={throttleTime:XD.calculateThrottleTime(parseInt(n.headers[jT])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(XD.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(jT)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||bE),n+wE))}static removeThrottle(e,t,n,r){const i=kM(t,n,r),o=this.generateThrottlingStorageKey(i);e.removeItem(o)}}class YD{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:i,storageInterface:o,networkInterface:s,cryptoInterface:a,clientCredentials:c,libraryInfo:l,telemetry:u,serverTelemetryManager:h,persistencePlugin:d,serializableCache:f}=e;const p={...dP,...r};return{authOptions:(g=t,{clientCapabilities:[],azureCloudOptions:yP,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...g}),systemOptions:{...hP,...n},loggerOptions:p,cacheOptions:{...fP,...i},storageInterface:o||new uP(t.clientId,V_,new BE(p)),networkInterface:s||pP,cryptoInterface:a||V_,clientCredentials:c||mP,libraryInfo:{...gP,...l},telemetry:{...vP,...u},serverTelemetryManager:h||null,persistencePlugin:d||null,serializableCache:f||null};var g}(e),this.logger=new BE(this.config.loggerOptions,H_,W_),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[DT]=IT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case lD:try{const n=BI(e.credential);t[UT]=`Oid:${n.uid}@${n.utid}`}catch(aj){this.logger.verbose("Could not parse home account ID for CCS Header: "+aj)}break;case uD:t[UT]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,i,o){o&&this.performanceClient?.addQueueMeasurement(o,i);const s=await this.sendPostRequest(r,e,{body:t,headers:n},i);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,n,r){let i;XD.preProcess(this.cacheManager,e);try{i=await uM(this.networkClient.sendPostRequestAsync.bind(this.networkClient),LP,this.logger,this.performanceClient,r)(t,n);const e=i.headers||{};this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:e[qT]||"",requestId:e[BT]||""},r)}catch(aj){if(aj instanceof eO){const t=aj.responseHeaders;throw t&&this.performanceClient?.addFields({httpVerToken:t[qT]||"",requestId:t[BT]||"",contentTypeHeader:t[DT]||void 0,contentLengthHeader:t[LT]||void 0,httpStatus:aj.httpStatus},r),aj.error}throw aj instanceof XE?aj:z_(t_)}return XD.postProcess(this.cacheManager,e,i),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(pR,t);const n=`https://${e}/${this.authority.tenant}/`,r=await KD(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&WD(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&BD(t,e.tokenQueryParameters),PD(t,e.correlationId),wD(t,e.correlationId,this.performanceClient),ZI(t)}}class QD{static setRequestState(e,t,n){const r=QD.generateLibraryState(e,n);return t?`${r}${IT.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw z_(k_);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw z_(k_);if(!t)throw z_(i_);try{const n=t.split(IT.RESOURCE_DELIM),r=n[0],i=n.length>1?n.slice(1).join(IT.RESOURCE_DELIM):IT.EMPTY_STRING,o=e.base64Decode(r),s=JSON.parse(o);return{userRequestState:i||IT.EMPTY_STRING,libraryState:s}}catch(aj){throw z_(i_)}}}const JD="sw";class ZD{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(vR,e.correlationId);const n=await uM(this.generateKid.bind(this),vR,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(bR,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:JD}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:i,resourceRequestUri:o,shrClaims:s,shrNonce:a,shrOptions:c}=n,l=o?new $I(o):void 0,u=l?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:X_(),m:i?.toUpperCase(),u:u?.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:s||void 0,...r},t,c,n.correlationId)}}class $D{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class eL{constructor(e,t,n,r,i,o,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=i,this.persistencePlugin=o,this.performanceClient=s}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||IT.NOT_AVAILABLE} - Timestamp: ${e.timestamp||IT.NOT_AVAILABLE} - Description: ${e.error_description||IT.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||IT.NOT_AVAILABLE} - Trace ID: ${e.trace_id||IT.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,i=new GD(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=NT&&e.status<=OT)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${i}`);if(t&&e.status&&e.status>=PT&&e.status<=RT)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${i}`);if(SM(e.error,e.error_description,e.suberror))throw new CM(e.error,e.error_description,e.suberror,e.timestamp||IT.EMPTY_STRING,e.trace_id||IT.EMPTY_STRING,e.correlation_id||IT.EMPTY_STRING,e.claims||IT.EMPTY_STRING,r);throw i}}async handleServerTokenResponse(e,t,n,r,i,o,s,a,c){let l,u;if(this.performanceClient?.addQueueMeasurement(wR,e.correlation_id),e.id_token){if(l=K_(e.id_token||IT.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&l.nonce!==i.nonce)throw z_(a_);if(r.maxAge||0===r.maxAge){const e=l.auth_time;if(!e)throw z_(c_);G_(e,r.maxAge)}}this.homeAccountIdentifier=YI.generateHomeAccountId(e.client_info||IT.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,l),i&&i.state&&(u=QD.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;const h=this.generateCacheRecord(e,t,n,r,l,o,i);let d;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),d=new $D(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(d)),s&&!a&&h.account){const e=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await eL.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,l,u,void 0,c)}await this.cacheStorage.saveCacheRecord(h,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&d&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(d))}return eL.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,l,u,e,c)}generateCacheRecord(e,t,n,r,i,o,s){const a=t.getPreferredCache();if(!a)throw z_(S_);const c=XI(i);let l,u;e.id_token&&i&&(l=$_(this.homeAccountIdentifier,a,e.id_token,this.clientId,c||""),u=tL(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,a,c,s,void 0,this.logger));let h=null;if(e.access_token){const i=e.scope?jI.fromString(e.scope):new jI(r.scopes||[]),s=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,d=n+s,f=d+l,p=u&&u>0?n+u:void 0;h=eI(this.homeAccountIdentifier,a,e.access_token,this.clientId,c||t.tenant||"",i.printScopes(),d,f,this.cryptoObj.base64Decode,p,e.token_type,o,e.key_id,r.claims,r.requestedClaimsHash)}let d=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}d=tI(this.homeAccountIdentifier,a,e.refresh_token,this.clientId,e.foci,o,t)}let f=null;return e.foci&&(f={clientId:this.clientId,environment:a,familyId:e.foci}),{account:u,idToken:l,accessToken:h,refreshToken:d,appMetadata:f}}static async generateAuthenticationResult(e,t,n,r,i,o,s,a,c){let l,u,h=IT.EMPTY_STRING,d=[],f=null,p=IT.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==vE.POP||i.popKid)h=n.accessToken.secret;else{const t=new ZD(e),{secret:r,keyId:o}=n.accessToken;if(!o)throw z_(F_);h=await t.signPopToken(r,o,i)}d=jI.fromString(n.accessToken.target).asArray(),f=Q_(n.accessToken.expiresOn),l=Q_(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(u=Q_(n.accessToken.refreshOn))}n.appMetadata&&(p=n.appMetadata.familyId===uE?uE:"");const g=o?.oid||o?.sub||"",m=o?.tid||"";a?.spa_accountid&&n.account&&(n.account.nativeAccountId=a?.spa_accountid);const y=n.account?VI(n.account.getAccountInfo(),void 0,o,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:g,tenantId:m,scopes:d,account:y,idToken:n?.idToken?.secret||"",idTokenClaims:o||{},accessToken:h,fromCache:r,expiresOn:f,extExpiresOn:l,refreshOn:u,correlationId:i.correlationId,requestId:c||IT.EMPTY_STRING,familyId:p,tokenType:n.accessToken?.tokenType||IT.EMPTY_STRING,state:s?s.userRequestState:IT.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||IT.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||IT.EMPTY_STRING,code:a?.spa_code,fromNativeBroker:!1}}}function tL(e,t,n,r,i,o,s,a,c,l,u){u?.verbose("setCachedAccount called");const h=e.getAccountKeys().find((e=>e.startsWith(n)));let d=null;h&&(d=e.getAccount(h));const f=d||YI.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},t,r),p=f.tenantProfiles||[],g=a||f.realm;if(g&&!p.find((e=>e.tenantId===g))){const e=zI(n,f.localAccountId,g,i);p.push(e)}return f.tenantProfiles=p,f}class nL{static validateRedirectUri(e){if(!e)throw DI(dI)}static validatePrompt(e){const t=[];for(const n in XT)t.push(XT[n]);if(t.indexOf(e)<0)throw DI(vI)}static validateClaims(e){try{JSON.parse(e)}catch(aj){throw DI(bI)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw DI(AI);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([YT.PLAIN,YT.S256].indexOf(e)<0)throw DI(SI)}}async function rL(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class iL extends YD{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(gR,e.correlationId),!e.code)throw z_(f_);const n=X_(),r=await uM(this.executeTokenRequest.bind(this),mR,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=r.headers?.[BT],o=new eL(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return o.validateTokenResponse(r.body),uM(o.handleServerTokenResponse.bind(o),wR,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw DI(CI);const t=this.createLogoutUrlQueryString(e);return $I.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(mR,t.correlationId);const n=this.createTokenQueryParameters(t),r=$I.appendQueryString(e.tokenEndpoint,n),i=await uM(this.createTokenRequestBody.bind(this),yR,this.logger,this.performanceClient,t.correlationId)(t);let o;if(t.clientInfo)try{const e=UI(t.clientInfo,this.cryptoUtils.base64Decode);o={credential:`${e.uid}${aE}${e.utid}`,type:lD}}catch(aj){this.logger.verbose("Could not parse client info for CCS Header: "+aj)}const s=this.createTokenRequestHeaders(o||t.ccsCredential),a=kM(this.config.authOptions.clientId,t);return uM(this.executePostToTokenEndpoint.bind(this),UP,this.logger,this.performanceClient,t.correlationId)(r,i,s,a,t.correlationId,UP)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(yR,e.correlationId);const t=new Map;if(AD(t,e.embeddedClientId||e.tokenBodyParameters?.[hD]||this.config.authOptions.clientId),this.includeRedirectUri?kD(t,e.redirectUri):nL.validateRedirectUri(e.redirectUri),SD(t,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(t,e.code),RD(t,this.config.libraryInfo),ND(t,this.config.telemetry.application),HD(t),this.serverTelemetryManager&&!bP(this.config)&&VD(t,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&FD(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;MD(t,await rL(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),DD(t,n.assertionType)}if(LD(t,tE),jD(t),e.authenticationScheme===vE.POP){const n=new ZD(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await uM(n.generateCnf.bind(n),vR,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}qD(t,r)}else if(e.authenticationScheme===vE.SSH){if(!e.sshJwk)throw DI(EI);zD(t,e.sshJwk)}let n;if((!LI.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ID(t,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=UI(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${aE}${t.utid}`,type:lD}}catch(aj){this.logger.verbose("Could not parse client info for CCS Header: "+aj)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case lD:try{ED(t,BI(n.credential))}catch(aj){this.logger.verbose("Could not parse home account ID for CCS Header: "+aj)}break;case uD:TD(t,n.credential)}return e.embeddedClientId&&WD(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&BD(t,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[gD]||BD(t,{[gD]:"1"}),wD(t,e.correlationId,this.performanceClient),ZI(t)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&PD(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&OD(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&BD(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&UD(t),ZI(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function oL(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=e,s=new Map([[0,[n,r]],[2,[i,o]]]);let a=[];if(t?.length){if(a=t.split(","),a.length<4)return t}else a=Array.from({length:4},(()=>"|"));return s.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:i}=e;if(n>=t.length)return;t[n]=[r,i].join("|")}({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})})),a.join(",")}class sL{constructor(e,t){this.cacheOutcome=OE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||IT.EMPTY_STRING,this.wrapperVer=e.wrapperVer||IT.EMPTY_STRING,this.telemetryCacheKey=yE.CACHE_KEY+sE+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${yE.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(yE.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(yE.VALUE_SEPARATOR);return[yE.SCHEMA_VERSION,i,r].join(yE.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=sL.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(yE.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(yE.VALUE_SEPARATOR),i=e.errors.length,o=[i,t<i?yE.OVERFLOW_TRUE:yE.OVERFLOW_FALSE].join(yE.VALUE_SEPARATOR);return[yE.SCHEMA_VERSION,e.cacheHits,n,r,o].join(yE.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=yE.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof XE?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(yE.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=sL.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const i=e.errors.length;for(t=0;t<i;t++){const i=e.failedRequests[2*t]||IT.EMPTY_STRING,o=e.failedRequests[2*t+1]||IT.EMPTY_STRING,s=e.errors[t]||IT.EMPTY_STRING;if(r+=i.toString().length+o.toString().length+s.length+3,!(r<yE.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||IT.EMPTY_STRING),e.push(this.regionSource||IT.EMPTY_STRING),e.push(this.regionOutcome||IT.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return oL(e)}}class aL{constructor(e,t,n,r,i,o,s,a,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=o,this.nativeMessageHandler=a,this.correlationId=c||kF(),this.logger=r.clone(lN,YF,this.correlationId),this.performanceClient=s}async clearCacheOnLogout(e){if(e){YI.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(YI.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(Lv){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(aj){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return $I.getAbsoluteUrl(t,qF())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new sL(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(MP,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,o=n?.length?"true"===n:this.config.auth.instanceAware,s=t&&o?this.config.auth.authority.replace($I.getDomainFromUrl(i),t.environment):i,a=dM.generateAuthority(s,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await uM(KD,SR,this.logger,this.performanceClient,this.correlationId)(a,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw DI(OI);return c}}async function cL(e,t,n,r){n.addQueueMeasurement(YP,e.correlationId);const i=e.authority||t.auth.authority,o=[...e&&e.scopes||[]],s={...e,correlationId:e.correlationId,authority:i,scopes:o};if(s.authenticationScheme){if(s.authenticationScheme===vE.SSH){if(!e.sshJwk)throw DI(EI);if(!e.sshKid)throw DI(_I)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}else s.authenticationScheme=vE.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!LI.isEmptyObj(e.claims)&&(s.requestedClaimsHash=await OF(e.claims)),s}async function lL(e,t,n,r,i){r.addQueueMeasurement(QP,e.correlationId);const o=await uM(cL,YP,i,r,e.correlationId)(e,n,r,i);return{...e,...o,account:t,forceRefresh:e.forceRefresh||!1}}class uL extends aL{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||kF(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=$I.getAbsoluteUrl(e.postLogoutRedirectUri,qF())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=$I.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,qF())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=$I.getAbsoluteUrl(qF(),qF())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(iR,this.correlationId);const t=await uM(this.getClientConfiguration.bind(this),oR,this.logger,this.performanceClient,this.correlationId)(e);return new iL(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:o}=e;this.performanceClient.addQueueMeasurement(oR,this.correlationId);const s=await uM(this.getDiscoveredAuthority.bind(this),MP,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:o}),a=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:a.loggerCallback,piiLoggingEnabled:a.piiLoggingEnabled,logLevel:a.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:lN,version:YF,cpu:IT.EMPTY_STRING,os:IT.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(sR,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},i=QD.setRequestState(this.browserCrypto,e&&e.state||IT.EMPTY_STRING,r),o={...await uM(cL,YP,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:i,nonce:e.nonce||kF(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return o;const s=e.account||this.browserStorage.getActiveAccount();return s&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${s.homeAccountId}`,this.correlationId),o.account=s),o}}const hL="user_switch",dL={[hL]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class fL extends XE{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,fL.prototype),this.name="NativeAuthError",this.ext=n}}function pL(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function gL(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return AM(gM);case"USER_INTERACTION_REQUIRED":return new CM(e,t);case"USER_CANCEL":return tF(gO);case"NO_NETWORK":return tF(RO)}return new fL(e,dL[e]||t,n)}class mL{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(MR)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:uN,extensionId:this.extensionId,responseId:kF(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new mL(e,t,n,hN);return await r.sendHandshakeRequest(),r}catch(aj){const i=new mL(e,t,n);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:uN,extensionId:this.extensionId,responseId:kF(),body:{method:fN}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(tF(zO)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===uN&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===fN){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(tF(VO))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===mN){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(gL(e.code,e.description,e.ext));else{if(!e.result)throw YE(WE,"Event does not contain result.");e.result.code&&e.result.description?n.reject(gL(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===pN){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${i}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(i):r&&r.reject(i)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case vE.BEARER:case vE.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}function yL(e,t,n){const r=JI(e);if(!r)throw QI(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),tF(lO)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),tF(aO));return r}function vL(e,t,n){if(!e.state)throw tF(cO);const r=function(e,t){if(!t)return null;try{return QD.parseRequestState(e,t).libraryState.meta}catch(aj){throw z_(i_)}}(t,e.state);if(!r)throw tF(uO);if(r.interactionType!==n)throw tF(hO)}function bL(e,t,n,r){const i=t.correlationId,o=new Map;AD(o,t.embeddedClientId||t.extraQueryParameters?.[hD]||e.clientId);if(SD(o,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,e.authority.options.OIDCOptions?.defaultScopes),kD(o,t.redirectUri),PD(o,i),function(e,t){e.set("response_mode",t||eE)}(o,t.responseMode),jD(o),t.prompt&&(!function(e,t){e.set("prompt",t)}(o,t.prompt),r?.addFields({prompt:t.prompt},i)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(o,t.domainHint),r?.addFields({domainHintFromRequest:!0},i)),t.prompt!==XT.SELECT_ACCOUNT)if(t.sid&&t.prompt===XT.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),_D(o,t.sid),r?.addFields({sidFromRequest:!0},i);else if(t.account){const e=(s=t.account,s.idTokenClaims?.sid||null);let a=function(e){return e.idTokenClaims?.login_hint||null}(t.account);if(a&&t.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),a=null),a){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),xD(o,a),r?.addFields({loginHintFromClaim:!0},i);try{ED(o,BI(t.account.homeAccountId))}catch(aj){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===XT.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),_D(o,e),r?.addFields({sidFromClaim:!0},i);try{ED(o,BI(t.account.homeAccountId))}catch(aj){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),xD(o,t.loginHint),TD(o,t.loginHint),r?.addFields({loginHintFromRequest:!0},i);else if(t.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),xD(o,t.account.username),r?.addFields({loginHintFromUpn:!0},i);try{ED(o,BI(t.account.homeAccountId))}catch(aj){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),xD(o,t.loginHint),TD(o,t.loginHint),r?.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");var s;return t.nonce&&function(e,t){e.set("nonce",t)}(o,t.nonce),t.state&&OD(o,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&ID(o,t.claims,e.clientCapabilities),t.embeddedClientId&&WD(o,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(bD)||UD(o),o}function wL(e,t,n,r){const i=ZI(t,n,r);return $I.appendQueryString(e.authorizationEndpoint,i)}function CL(e,t){if(!e.state||!t)throw e.state?z_(s_,"Cached State"):z_(s_,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(aj){throw z_(i_,e.state)}try{r=decodeURIComponent(t)}catch(aj){throw z_(i_,e.state)}if(n!==r)throw z_(o_);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+t.length):void 0}(e);if(SM(e.error,e.error_description,e.suberror))throw new CM(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new GD(e.error||"",e.error_description,e.suberror,t)}}class SL{constructor(e,t,n,r,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=i}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(uR,t.correlationId);try{n=function(e,t){if(CL(e,t),!e.code)throw z_(R_);return e}(e,t.state)}catch(aj){throw aj instanceof GD&&aj.subError===gO?tF(gO):aj}return uM(this.handleCodeResponseFromServer.bind(this),lR,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(lR,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await uM(this.authModule.updateAuthority.bind(this.authModule),pR,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await uM(this.authModule.acquireToken.bind(this.authModule),gR,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:lD}:e.loginHint?{credential:e.loginHint,type:uD}:null}}class AL extends YD{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(KP,e.correlationId);let t=OE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!LI.isEmptyObj(e.claims))throw this.setCacheOutcome(FE,e.correlationId),z_(__);if(!e.account)throw z_(w_);const n=e.account.tenantId||function(e){const t=new $I(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case VT:case HT:case WT:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!i)throw this.setCacheOutcome(ME,e.correlationId),z_(__);if(o=i.cachedAt,Number(o)>X_()||J_(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(DE,e.correlationId),z_(__);var o;i.refreshOn&&J_(i.refreshOn,0)&&(t=LE);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await uM(this.generateResultFromCacheRecord.bind(this),GP,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==OE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(GP,t.correlationId),e.idToken&&(n=K_(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw z_(c_);G_(e,t.maxAge)}return eL.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class kL extends uL{async acquireToken(e){this.performanceClient.addQueueMeasurement(PP,e.correlationId);const t=this.initializeServerTelemetryManager(UN),n=await uM(this.getClientConfiguration.bind(this),oR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new AL(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await uM(r.acquireCachedToken.bind(r),KP,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(Lv){throw Lv instanceof eF&&Lv.errorCode===DO&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),Lv}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class xL extends aL{constructor(e,t,n,r,i,o,s,a,c,l,u,h){super(e,t,n,r,i,o,a,c,h),this.apiId=s,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new kL(e,this.nativeStorageManager,n,r,i,o,a,c,h);const d=this.nativeMessageHandler.getExtensionId()===hN?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=sL.makeExtraSkuString({libraryName:lN,libraryVersion:YF,extensionName:d,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[mD]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(DP,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(DP,e.correlationId),r=X_(),i=this.initializeServerTelemetryManager(this.apiId);try{const o=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,o);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(aj){if(t===GN)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),aj;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...s}=o,a={method:gN,request:s},c=await this.nativeMessageHandler.sendMessage(a),l=this.validateNativeResponse(c);return await this.handleNativeResponse(l,o,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),i.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(aj){throw aj instanceof fL&&i.setNativeBrokerErrorCode(aj.errorCode),aj}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:jI.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),z_(A_);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw z_(A_);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),i={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:i}}catch(aj){throw aj}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),i={method:gN,request:r};try{const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e)}catch(aj){if(aj instanceof fL){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(aj.errorCode),pL(aj))throw aj}}this.browserStorage.setTemporaryCache(IN,JSON.stringify(r),!0);const o={apiId:FN,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(s,o)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...i}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(IN));const o={method:gN,request:i},s=X_();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,i,s),n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(aj){throw aj}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=K_(e.id_token,lF),i=this.createHomeAccountIdentifier(e,r),o=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(t.extraParameters?.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==o&&e.account.id!==t.accountId)throw gL(hL);const s=await this.getDiscoveredAuthority({requestAuthority:t.authority}),a=tL(this.browserStorage,s,i,lF,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const c=await this.generateAuthenticationResult(e,t,r,a,s.canonicalAuthority,n);return await this.cacheAccount(a),await this.cacheNativeTokens(e,t,i,r,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return YI.generateHomeAccountId(e.client_info||IT.EMPTY_STRING,HI,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?jI.fromString(e.scope):jI.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===vE.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new ZD(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw z_(F_);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,i,o){const s=this.addTelemetryFromNativeResponse(e),a=e.scope?jI.fromString(e.scope):jI.fromString(t.scope),c=e.account.properties||{},l=c.UID||n.oid||n.sub||IT.EMPTY_STRING,u=c.TenantId||n.tid||IT.EMPTY_STRING,h=VI(r.getAccountInfo(),void 0,n,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const d=await this.generatePopAccessToken(e,t),f=t.tokenType===vE.POP?vE.POP:vE.BEARER;return{authority:i,uniqueId:l,tenantId:u,scopes:a.asArray(),account:h,idToken:e.id_token,idTokenClaims:n,accessToken:d,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:Q_(o+e.expires_in),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,i,o,s){const a=$_(n,t.authority,e.id_token||"",t.clientId,r.tid||""),c=s+(t.tokenType===vE.POP?IT.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),l=this.generateScopes(e,t),u={idToken:a,accessToken:eI(n,t.authority,i,t.clientId,r.tid||o,l.printScopes(),c,0,lF,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(u,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw YE(WE,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(aj){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new $I(t);n.validateAsUri();const{scopes:r,...i}=e,o=new jI(r||[]);o.appendScopes(FT);const s={...i,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case DN:case UN:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),XT.NONE}if(e.prompt)switch(e.prompt){case XT.NONE:case XT.CONSENT:case XT.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),tF(KO)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(s.signPopToken&&e.popKid)throw tF(XO);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=dN,e.authenticationScheme===vE.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new ZD(this.browserCrypto);let r;if(s.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const i=await uM(n.generateCnf.bind(n),vR,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=i.reqCnfString,s.keyId=i.kid,s.signPopToken=!0}s.reqCnf=r}return this.addRequestSKUs(s),s}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(yD)&&e.extraParameters.hasOwnProperty(vD)&&e.extraParameters.hasOwnProperty(hD);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[vD],n=e.extraParameters[hD]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}async function TL(e,t,n,r,i){const o=bL({...e.auth,authority:t},n,r,i);if(RD(o,{sku:lN,version:YF,os:"",cpu:""}),e.auth.protocolMode!==zE&&ND(o,e.telemetry.application),n.platformBroker&&(function(e){e.set("nativebroker","1")}(o),n.authenticationScheme===vE.POP)){const e=new aM(r,i),t=new ZD(e);let s;if(n.popKid)s=e.encodeKid(n.popKid);else{s=(await uM(t.generateCnf.bind(t),vR,r,i,n.correlationId)(n,r)).reqCnfString}qD(o,s)}return wD(o,n.correlationId,i),o}async function EL(e,t,n,r,i){if(!n.codeChallenge)throw DI(AI);const o=await uM(TL,cR,r,i,n.correlationId)(e,t,n,r,i);return CD(o,QT),function(e,t,n){if(!t||!n)throw DI(AI);e.set("code_challenge",t),e.set("code_challenge_method",n)}(o,n.codeChallenge,IT.S256_CODE_CHALLENGE_METHOD),BD(o,n.extraQueryParameters||{}),wL(t,o,e.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function _L(e,t,n,r,i,o){if(!r.earJwk)throw tF(rO);const s=await TL(t,n,r,i,o);CD(s,JT),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(s,r.earJwk);const a=new Map;BD(a,r.extraQueryParameters||{});return function(e,t,n){const r=e.createElement("form");return r.method="post",r.action=t,n.forEach(((t,n)=>{const i=e.createElement("input");i.hidden=!0,i.name=n,i.value=t,r.appendChild(i)})),e.body.appendChild(r),r}(e,wL(n,a,t.auth.encodeExtraQueryParams,r.extraQueryParameters),s)}async function IL(e,t,n,r,i,o,s,a,c,l){if(!l)throw tF(HO);const u=new aM(a,c),h=new xL(r,i,u,a,s,r.system.navigationClient,n,c,l,t,o,e.correlationId),{userRequestState:d}=QD.parseRequestState(u,e.state);return uM(h.acquireToken.bind(h),DP,a,c,e.correlationId)({...e,state:d,prompt:void 0})}async function PL(e,t,n,r,i,o,s,a,c,l,u,h){if(XD.removeThrottle(s,i.auth.clientId,e),t.accountId)return uM(IL,dR,l,u,e.correlationId)(e,t.accountId,r,i,s,a,c,l,u,h);const d={...e,code:t.code||"",codeVerifier:n},f=new SL(o,s,d,l,u);return await uM(f.handleCodeResponse.bind(f),uR,l,u,e.correlationId)(t,e)}async function RL(e,t,n,r,i,o,s,a,c,l,u){if(XD.removeThrottle(o,r.auth.clientId,e),CL(t,e.state),!t.ear_jwe)throw tF(iO);if(!e.earJwk)throw tF(rO);const h=JSON.parse(await uM(EF,eN,c,l,e.correlationId)(e.earJwk,t.ear_jwe));if(h.accountId)return uM(IL,dR,c,l,e.correlationId)(e,h.accountId,n,r,o,s,a,c,l,u);const d=new eL(r.auth.clientId,o,new aM(c,l),c,null,null,l);d.validateTokenResponse(h);const f={code:"",state:e.state,nonce:e.nonce,client_info:h.client_info,cloud_graph_host_name:h.cloud_graph_host_name,cloud_instance_host_name:h.cloud_instance_host_name,cloud_instance_name:h.cloud_instance_name,msgraph_host:h.msgraph_host};return await uM(d.handleServerTokenResponse.bind(d),wR,c,l,e.correlationId)(h,i,X_(),e,f,void 0,void 0,void 0,void 0)}async function NL(e,t,n){e.addQueueMeasurement(zR,n);const r=lM(OL,VR,t,e,n)(e,t,n);return{verifier:r,challenge:await uM(FL,HR,t,e,n)(r,e,t,n)}}function OL(e,t,n){try{const r=new Uint8Array(32);lM(SF,KR,t,e,n)(r);return sF(r)}catch(aj){throw tF(nO)}}async function FL(e,t,n,r){t.addQueueMeasurement(HR,r);try{const i=await uM(CF,WR,n,t,r)(e,t,r);return sF(new Uint8Array(i))}catch(aj){throw tF(nO)}}class ML extends uL{constructor(e,t,n,r,i,o,s,a,c,l){super(e,t,n,r,i,o,s,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=a,this.eventHandler=i}acquireToken(e,t){try{const n={popupName:this.generatePopupName(e.scopes||FT,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n,t))}catch(aj){return Promise.reject(aj)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,i))}catch(aj){return Promise.reject(aj)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=await uM(this.initializeAuthorizationRequest.bind(this),sR,this.logger,this.performanceClient,this.correlationId)(e,zN.Popup);t.popup&&GF(r.authority);const i=mL.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);return r.platformBroker=i,this.config.auth.protocolMode===VE?this.executeEarFlow(r,t):this.executeCodeFlow(r,t,n)}async executeCodeFlow(e,t,n){const r=e.correlationId,i=this.initializeServerTelemetryManager(MN),o=n||await uM(NL,zR,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...e,codeChallenge:o.challenge};try{const n=await uM(this.createAuthCodeClient.bind(this),iR,this.logger,this.performanceClient,r)({serverTelemetryManager:i,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),a=await uM(EL,aR,this.logger,this.performanceClient,r)(this.config,n.authority,s,this.logger,this.performanceClient),c=this.initiateAuthRequest(a,t);this.eventHandler.emitEvent(eD,zN.Popup,{popupWindow:c},null);const l=await this.monitorPopupForHash(c,t.popupWindowParent),u=lM(yL,CR,this.logger,this.performanceClient,this.correlationId)(l,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await uM(PL,fR,this.logger,this.performanceClient,r)(e,u,o.verifier,MN,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(aj){throw t.popup?.close(),aj instanceof XE&&(aj.setCorrelationId(this.correlationId),i.cacheFailedRequest(aj)),aj}}async executeEarFlow(e,t){const n=e.correlationId,r=await uM(this.getDiscoveredAuthority.bind(this),MP,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await uM(TF,$R,this.logger,this.performanceClient,n)(),o={...e,earJwk:i},s=t.popup||this.openPopup("about:blank",t);(await _L(s.document,this.config,r,o,this.logger,this.performanceClient)).submit();const a=await uM(this.monitorPopupForHash.bind(this),tR,this.logger,this.performanceClient,n)(s,t.popupWindowParent),c=lM(yL,CR,this.logger,this.performanceClient,this.correlationId)(a,this.config.auth.OIDCOptions.serverResponseType,this.logger);return uM(RL,hR,this.logger,this.performanceClient,n)(o,c,MN,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(tD,zN.Popup,e);const i=this.initializeServerTelemetryManager(qN);try{await this.clearCacheOnLogout(e.account);const o=await uM(this.createAuthCodeClient.bind(this),iR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n,account:e.account||void 0});try{o.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&o.authority.protocolMode===zE){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(nD,zN.Popup,e),r){const e={apiId:qN,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=$I.getAbsoluteUrl(r,qF());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const s=o.getLogoutUri(e);this.eventHandler.emitEvent(nD,zN.Popup,e);const a=this.openPopup(s,t);if(this.eventHandler.emitEvent(eD,zN.Popup,{popupWindow:a},null),await this.monitorPopupForHash(a,t.popupWindowParent).catch((()=>{})),r){const e={apiId:qN,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=$I.getAbsoluteUrl(r,qF());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(aj){throw t.popup?.close(),aj instanceof XE&&(aj.setCorrelationId(this.correlationId),i.cacheFailedRequest(aj)),this.eventHandler.emitEvent(rD,zN.Popup,null,aj),this.eventHandler.emitEvent(iD,zN.Popup),aj}this.eventHandler.emitEvent(iD,zN.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),tF(sO)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(tF(gO));let i="";try{i=e.location.href}catch(aj){}if(!i||"about:blank"===i)return;clearInterval(r);let o="";const s=this.config.auth.OIDCOptions.serverResponseType;e&&(o=s===ZT?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(o)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw tF(pO);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(aj){throw this.logger.error("error opening popup "+aj.message),tF(fO)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:i}=t;const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=r.popupSize?.width,u=r.popupSize?.height,h=r.popupPosition?.top,d=r.popupPosition?.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=oN),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=sN),(!h||h<0||h>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),h=Math.max(0,c/2-sN/2+s)),(!d||d<0||d>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),d=Math.max(0,a/2-oN/2+o)),i.open(e,n,`width=${l}, height=${u}, top=${h}, left=${d}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${aN}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${aN}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class DL extends uL{constructor(e,t,n,r,i,o,s,a,c,l){super(e,t,n,r,i,o,s,c,l),this.nativeStorage=a}async acquireToken(e){const t=await uM(this.initializeAuthorizationRequest.bind(this),sR,this.logger,this.performanceClient,this.correlationId)(e,zN.Redirect);t.platformBroker=mL.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);const n=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(oD,zN.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(kN,r,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===VE?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(aj){throw aj instanceof XE&&aj.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),aj}}async executeCodeFlow(e,t){const n=e.correlationId,r=this.initializeServerTelemetryManager(FN),i=await uM(NL,zR,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o={...e,codeChallenge:i.challenge};this.browserStorage.cacheAuthorizeRequest(o,i.verifier);try{const n=await uM(this.createAuthCodeClient.bind(this),iR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account}),i=await uM(EL,aR,this.logger,this.performanceClient,e.correlationId)(this.config,n.authority,o,this.logger,this.performanceClient);return await this.initiateAuthRequest(i,t)}catch(aj){throw aj instanceof XE&&(aj.setCorrelationId(this.correlationId),r.cacheFailedRequest(aj)),aj}}async executeEarFlow(e){const t=e.correlationId,n=await uM(this.getDiscoveredAuthority.bind(this),MP,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await uM(TF,$R,this.logger,this.performanceClient,t)(),i={...e,earJwk:r};this.browserStorage.cacheAuthorizeRequest(i);(await _L(document,this.config,n,i,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this.initializeServerTelemetryManager(LN);try{const[o,s]=this.getRedirectResponse(e||"");if(!o)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(kN,!0)||IT.EMPTY_STRING,c=$I.removeHashFromUrl(a);if(c===$I.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(a);return await this.handleResponse(o,t,n,i)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(o,t,n,i);if(!BF()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(xN,s,!0);const e={apiId:LN,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let r=!0;if(a&&"null"!==a)this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),r=await this.navigationClient.navigateInternal(a,e);else{const t=function(){const e=new $I(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(kN,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),r=await this.navigationClient.navigateInternal(t,e)}if(!r)return await this.handleResponse(o,t,n,i)}return null}catch(aj){throw aj instanceof XE&&(aj.setCorrelationId(this.correlationId),i.cacheFailedRequest(aj)),aj}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===ZT?window.location.search:window.location.hash);let n=JI(t);if(n){try{vL(n,this.browserCrypto,zN.Redirect)}catch(aj){return aj instanceof XE&&this.logger.error(`Interaction type validation failed due to ${aj.errorCode}: ${aj.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const i=this.browserStorage.getTemporaryCache(xN,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(xN)),i&&(n=JI(i),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,i]):[null,""]}async handleResponse(e,t,n,r){if(!e.state)throw tF(cO);if(e.ear_jwe){const n=await uM(this.getDiscoveredAuthority.bind(this),MP,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return uM(RL,hR,this.logger,this.performanceClient,t.correlationId)(t,e,FN,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}const i=await uM(this.createAuthCodeClient.bind(this),iR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return uM(PL,fR,this.logger,this.performanceClient,t.correlationId)(t,e,n,FN,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:FN,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if("function"===typeof r){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==r(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),tF(sO)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(BN);try{this.eventHandler.emitEvent(tD,zN.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:BN,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=await uM(this.createAuthCodeClient.bind(this),iR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(i.authority.protocolMode===zE)try{i.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(nD,zN.Redirect,t)}const o=i.getLogoutUri(t);if(this.eventHandler.emitEvent(nD,zN.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,AN),void await this.navigationClient.navigateExternal(o,r);if(!1!==e.onRedirectNavigate(o))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,AN),void await this.navigationClient.navigateExternal(o,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(aj){throw aj instanceof XE&&(aj.setCorrelationId(this.correlationId),n.cacheFailedRequest(aj)),this.eventHandler.emitEvent(rD,zN.Redirect,null,aj),this.eventHandler.emitEvent(iD,zN.Redirect),aj}this.eventHandler.emitEvent(iD,zN.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return $I.getAbsoluteUrl(t,qF())}}async function LL(e,t,n,r,i){if(t.addQueueMeasurement(eR,r),!e)throw n.info("Navigate url is empty"),tF(sO);return i?uM(BL,nR,n,t,r)(e,i,t,r):lM(qL,rR,n,t,r)(e)}async function jL(e,t,n,r,i){const o=zL();if(!o.contentDocument)throw"No document associated with iframe!";return(await _L(o.contentDocument,e,t,n,r,i)).submit(),o}async function UL(e,t,n,r,i,o,s){return r.addQueueMeasurement(tR,o),new Promise(((r,o)=>{t<XF&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const a=window.setTimeout((()=>{window.clearInterval(c),o(tF(yO))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(aj){}if(!t||"about:blank"===t)return;let i="";n&&(i=s===ZT?n.location.search:n.location.hash),window.clearTimeout(a),window.clearInterval(c),r(i)}),n)})).finally((()=>{lM(VL,DR,i,r,o)(e)}))}function BL(e,t,n,r){return n.addQueueMeasurement(nR,r),new Promise(((n,r)=>{const i=zL();window.setTimeout((()=>{i?(i.src=e,n(i)):r("Unable to load iframe")}),t)}))}function qL(e){const t=zL();return t.src=e,t}function zL(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function VL(e){document.body===e.parentNode&&document.body.removeChild(e)}class HL extends uL{constructor(e,t,n,r,i,o,s,a,c,l,u){super(e,t,n,r,i,o,a,l,u),this.apiId=s,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(RP,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==XT.NONE&&t.prompt!==XT.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${XT.NONE}`),t.prompt=XT.NONE):t.prompt=XT.NONE;const n=await uM(this.initializeAuthorizationRequest.bind(this),sR,this.logger,this.performanceClient,e.correlationId)(t,zN.Silent);return n.platformBroker=mL.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme),GF(n.authority),this.config.auth.protocolMode===VE?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let t;const n=this.initializeServerTelemetryManager(this.apiId);try{return t=await uM(this.createAuthCodeClient.bind(this),iR,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await uM(this.silentTokenHelper.bind(this),$P,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(aj){if(aj instanceof XE&&(aj.setCorrelationId(this.correlationId),n.cacheFailedRequest(aj)),!t||!(aj instanceof XE)||aj.errorCode!==iN)throw aj;return this.performanceClient.addFields({retryError:aj.errorCode},this.correlationId),await uM(this.silentTokenHelper.bind(this),$P,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,n=await uM(this.getDiscoveredAuthority.bind(this),MP,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await uM(TF,$R,this.logger,this.performanceClient,t)(),i={...e,earJwk:r},o=await uM(jL,eR,this.logger,this.performanceClient,t)(this.config,n,i,this.logger,this.performanceClient),s=this.config.auth.OIDCOptions.serverResponseType,a=await uM(UL,tR,this.logger,this.performanceClient,t)(o,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,s),c=lM(yL,CR,this.logger,this.performanceClient,t)(a,s,this.logger);return uM(RL,hR,this.logger,this.performanceClient,t)(i,c,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}logout(){return Promise.reject(tF(SO))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement($P,n);const r=await uM(NL,zR,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),i={...t,codeChallenge:r.challenge},o=await uM(EL,aR,this.logger,this.performanceClient,n)(this.config,e.authority,i,this.logger,this.performanceClient),s=await uM(LL,eR,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),a=this.config.auth.OIDCOptions.serverResponseType,c=await uM(UL,tR,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),l=lM(yL,CR,this.logger,this.performanceClient,n)(c,a,this.logger);return uM(PL,fR,this.logger,this.performanceClient,n)(t,l,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}}class WL extends YD{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(qP,e.correlationId);const t=X_(),n=await uM(this.executeTokenRequest.bind(this),BP,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[BT],i=new eL(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),uM(i.handleServerTokenResponse.bind(i),wR,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw DI(wI);if(this.performanceClient?.addQueueMeasurement(VP,e.correlationId),!e.account)throw z_(w_);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await uM(this.acquireTokenWithCachedRefreshToken.bind(this),zP,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(aj){const n=aj instanceof CM&&aj.errorCode===pM,r=aj instanceof GD&&aj.errorCode===AE&&aj.subError===kE;if(n||r)return uM(this.acquireTokenWithCachedRefreshToken.bind(this),zP,this.logger,this.performanceClient,e.correlationId)(e,!1);throw aj}return uM(this.acquireTokenWithCachedRefreshToken.bind(this),zP,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(zP,e.correlationId);const n=lM(this.cacheManager.getRefreshToken.bind(this.cacheManager),jR,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw AM(pM);if(n.expiresOn&&J_(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),AM(mM);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||vE.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:lD}};try{return await uM(this.acquireToken.bind(this),qP,this.logger,this.performanceClient,e.correlationId)(r)}catch(aj){if(aj instanceof CM&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),aj.subError===yM)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=Z_(n);this.cacheManager.removeRefreshToken(e)}throw aj}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(BP,e.correlationId);const n=this.createTokenQueryParameters(e),r=$I.appendQueryString(t.tokenEndpoint,n),i=await uM(this.createTokenRequestBody.bind(this),HP,this.logger,this.performanceClient,e.correlationId)(e),o=this.createTokenRequestHeaders(e.ccsCredential),s=kM(this.config.authOptions.clientId,e);return uM(this.executePostToTokenEndpoint.bind(this),jP,this.logger,this.performanceClient,e.correlationId)(r,i,o,s,e.correlationId,jP)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(HP,e.correlationId);const t=new Map;if(AD(t,e.embeddedClientId||e.tokenBodyParameters?.[hD]||this.config.authOptions.clientId),e.redirectUri&&kD(t,e.redirectUri),SD(t,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),LD(t,nE),jD(t),RD(t,this.config.libraryInfo),ND(t,this.config.telemetry.application),HD(t),this.serverTelemetryManager&&!bP(this.config)&&VD(t,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(t,e.refreshToken),this.config.clientCredentials.clientSecret&&FD(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;MD(t,await rL(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),DD(t,n.assertionType)}if(e.authenticationScheme===vE.POP){const n=new ZD(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await uM(n.generateCnf.bind(n),vR,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}qD(t,r)}else if(e.authenticationScheme===vE.SSH){if(!e.sshJwk)throw DI(EI);zD(t,e.sshJwk)}if((!LI.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ID(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case lD:try{ED(t,BI(e.ccsCredential.credential))}catch(aj){this.logger.verbose("Could not parse home account ID for CCS Header: "+aj)}break;case uD:TD(t,e.ccsCredential.credential)}return e.embeddedClientId&&WD(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&BD(t,e.tokenBodyParameters),wD(t,e.correlationId,this.performanceClient),ZI(t)}}class KL extends uL{async acquireToken(e){this.performanceClient.addQueueMeasurement(OP,e.correlationId);const t=await uM(cL,YP,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(UN),i=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return uM(i.acquireTokenByRefreshToken.bind(i),VP,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(tF(SO))}async createRefreshTokenClient(e){const t=await uM(this.getClientConfiguration.bind(this),oR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new WL(t,this.performanceClient)}}class GL{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw tF(IO);const r=e.correlationId||kF(),i=t.id_token?K_(t.id_token,lF):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new dM(dM.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||kF()):void 0,a=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,i,s),c=await this.loadIdToken(t,a.homeAccountId,a.environment,a.realm,r),l=await this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,n,r),u=await this.loadRefreshToken(t,a.homeAccountId,a.environment,r);return this.generateAuthenticationResult(e,{account:a,idToken:c,accessToken:l,refreshToken:u},i,s)}async loadAccount(e,t,n,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=YI.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!i||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),tF(MO);const o=YI.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,r),s=r?.tid,a=tL(this.storage,i,o,lF,r,t,i.hostnameAndPort,s,void 0,void 0,this.logger);return await this.storage.setAccount(a,n),a}async loadIdToken(e,t,n,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=$_(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(o,i),o}async loadAccessToken(e,t,n,r,i,o,s){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const a=t.scope?jI.fromString(t.scope):new jI(e.scopes),c=o.expiresOn||t.expires_in+X_(),l=o.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+X_(),u=eI(n,r,t.access_token,this.config.auth.clientId,i,a.printScopes(),c,l,lF);return await this.storage.setAccessTokenCredential(u,s),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=tI(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,r),i}generateAuthenticationResult(e,t,n,r){let i,o="",s=[],a=null;t?.accessToken&&(o=t.accessToken.secret,s=jI.fromString(t.accessToken.target).asArray(),a=Q_(t.accessToken.expiresOn),i=Q_(t.accessToken.extendedExpiresOn));const c=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:c.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:i,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}class XL extends iL{constructor(e){super(e),this.includeRedirectUri=!1}}class YL extends uL{constructor(e,t,n,r,i,o,s,a,c,l){super(e,t,n,r,i,o,a,c,l),this.apiId=s}async acquireToken(e){if(!e.code)throw tF(LO);const t=await uM(this.initializeAuthorizationRequest.bind(this),sR,this.logger,this.performanceClient,e.correlationId)(e,zN.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},i=await uM(this.getClientConfiguration.bind(this),oR,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),o=new XL(i);this.logger.verbose("Auth code client created");const s=new SL(o,this.browserStorage,r,this.logger,this.performanceClient);return await uM(s.handleCodeResponseFromServer.bind(s),lR,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(aj){throw aj instanceof XE&&(aj.setCorrelationId(this.correlationId),n.cacheFailedRequest(aj)),aj}}logout(){return Promise.reject(tF(SO))}}function QL(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function JL(e,t){try{WF(e)}catch(aj){throw t.end({success:!1},aj),aj}}class ZL{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new aM(this.logger,this.performanceClient):V_,this.eventHandler=new cD(this.logger),this.browserStorage=this.isBrowserEnvironment?new sD(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(aj){throw DI(kI)}return{canonicalAuthority:e.authority?fM(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):((e,t,n,r)=>new sD(e,{cacheLocation:bN,temporaryCacheLocation:bN,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},V_,t,n,r))(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const t={cacheLocation:bN,temporaryCacheLocation:bN,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new sD(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new GL(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new ZL(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(MM);const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowPlatformBroker,r=this.performanceClient.startMeasurement(JP,t);if(this.eventHandler.emitEvent(FM),await uM(this.browserStorage.initialize.bind(this.browserStorage),ZP,this.logger,this.performanceClient,t)(t),n)try{this.nativeExtensionProvider=await mL.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(aj){this.logger.verbose(aj)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await uM(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),LR,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t),this.initialized=!0,this.eventHandler.emitEvent(MM),r.end({allowPlatformBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),HF(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const t=this.browserStorage.getInteractionInProgress()?.type;if(t===AN)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&mL.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e;let o,s;this.eventHandler.emitEvent(ZM,zN.Redirect);try{if(i&&this.nativeExtensionProvider){o=this.performanceClient.startMeasurement(EP,r?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new xL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,LN,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);s=uM(e.handleRedirectPromise.bind(e),FR,this.logger,this.performanceClient,o.event.correlationId)(this.performanceClient,o.event.correlationId)}else{const[t,n]=this.browserStorage.getCachedRequest(),r=t.correlationId;o=this.performanceClient.startMeasurement(EP,r),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const i=this.createRedirectClient(r);s=uM(i.handleRedirectPromise.bind(i),OR,this.logger,this.performanceClient,o.event.correlationId)(e,t,n,o)}}catch(aj){throw this.browserStorage.resetRequestCache(),aj}return s.then((e=>{if(e){this.browserStorage.resetRequestCache();n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(BM,zN.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(VM,zN.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),o.end({success:!0,accountType:QL(e.account)})}else o.event.errorCode?o.end({success:!1}):o.discard();return this.eventHandler.emitEvent($M,zN.Redirect),e})).catch((e=>{this.browserStorage.resetRequestCache();const t=e;throw n.length>0?this.eventHandler.emitEvent(HM,zN.Redirect,null,t):this.eventHandler.emitEvent(qM,zN.Redirect,null,t),this.eventHandler.emitEvent($M,zN.Redirect),o.end({success:!1},t),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(TP,t);n.add({accountType:QL(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const i=this.getAllAccounts().length>0;try{let r;if(KF(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,SN),i?this.eventHandler.emitEvent(zM,zN.Redirect,e):this.eventHandler.emitEvent(UM,zN.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new xL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,FN,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof fL&&pL(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof CM){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(aj){throw this.browserStorage.resetRequestCache(),n.end({success:!1},aj),i?this.eventHandler.emitEvent(HM,zN.Redirect,null,aj):this.eventHandler.emitEvent(qM,zN.Redirect,null,aj),aj}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(xP,t);n.add({scenarioId:e.scenarioId,accountType:QL(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),JL(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,SN)}catch(aj){return Promise.reject(aj)}const r=this.getAllAccounts();let i;r.length>0?this.eventHandler.emitEvent(zM,zN.Popup,e):this.eventHandler.emitEvent(UM,zN.Popup,e);const o=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))i=this.acquireTokenNative({...e,correlationId:t},MN).then((e=>(n.end({success:!0,isNativeBroker:!0,accountType:QL(e.account)}),e))).catch((n=>{if(n instanceof fL&&pL(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e,o)}if(n instanceof CM){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,o)}throw n}));else{i=this.createPopupClient(t).acquireToken(e,o)}return i.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(BM,zN.Popup,e):this.eventHandler.emitEvent(VM,zN.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:QL(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(HM,zN.Popup,null,e):this.eventHandler.emitEvent(qM,zN.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)}))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(FP,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:QL(e.account)}),JL(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(KM,zN.Silent,n),this.canUsePlatformBroker(n))r=this.acquireTokenNative(n,DN).catch((e=>{if(e instanceof fL&&pL(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(GM,zN.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:QL(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(XM,zN.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(CP,t);JL(this.initialized,n),this.eventHandler.emitEvent(YM,zN.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw tF(UO);if(e.code){const r=e.code;let i=this.hybridAuthCodeResponses.get(r);return i?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),i=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(QM,zN.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:QL(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(JM,zN.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,i)),await i}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},jN,e.nativeAccountId).catch((e=>{throw e instanceof fL&&pL(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:QL(r.account),success:!0}),r}throw tF(qO)}throw tF(jO)}catch(aj){throw this.eventHandler.emitEvent(JM,zN.Silent,null,aj),n.end({success:!1},aj),aj}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(NR,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(WP,e.correlationId),t){case KN:case GN:case XN:const t=this.createSilentCacheClient(e.correlationId);return uM(t.acquireToken.bind(t),PP,this.logger,this.performanceClient,e.correlationId)(e);default:throw z_(__)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(SP,e.correlationId),t){case KN:case XN:case YN:case QN:const t=this.createSilentRefreshClient(e.correlationId);return uM(t.acquireToken.bind(t),OP,this.logger,this.performanceClient,e.correlationId)(e);default:throw z_(__)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(XP,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return uM(t.acquireToken.bind(t),RP,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);KF(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,AN);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);WF(this.initialized),this.browserStorage.setInteractionInProgress(!0,AN);return this.createPopupClient(t).logout(e).finally((()=>{this.browserStorage.setInteractionInProgress(!1)}))}catch(aj){return Promise.reject(aj)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=YI.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw tF(HO);return new xL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!mL.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case XT.NONE:case XT.CONSENT:case XT.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new ML(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new DL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new HL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,DN,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new kL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new KL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new YL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,jN,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return VF(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===yN?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===yN?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?kF():IT.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||VN})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||VN})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(AP,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),JL(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw tF(AO);return n.add({accountType:QL(r)}),this.acquireTokenSilentDeduped(e,r,t).then((r=>(n.end({success:!0,fromCache:r.fromCache,isNativeBroker:r.fromNativeBroker,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),{...r,state:e.state,correlationId:t}))).catch((e=>{throw e instanceof XE&&e.setCorrelationId(t),n.end({success:!1},e),e}))}async acquireTokenSilentDeduped(e,t,n){const r=kM(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:n},t.homeAccountId),i=JSON.stringify(r),o=this.activeSilentTokenRequests.get(i);if("undefined"===typeof o){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=uM(this.acquireTokenSilentAsync.bind(this),kP,this.logger,this.performanceClient,n)({...e,correlationId:n},t);return this.activeSilentTokenRequests.set(i,r),r.finally((()=>{this.activeSilentTokenRequests.delete(i)}))}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),o}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(kP,e.correlationId),this.eventHandler.emitEvent(zM,zN.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await uM(lL,QP,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||KN;return this.acquireTokenSilentNoIframe(r,i).catch((async e=>{const t=function(e,t){const n=!(e instanceof CM&&e.subError!==yM),r=e.errorCode===iN||e.errorCode===__,i=n&&r||e.errorCode===pM||e.errorCode===mM,o=ZN.includes(t);return i&&o}(e,i);if(t){if(this.activeIframeRequest){if(i!==JN){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const o=this.performanceClient.startMeasurement(NP,r.correlationId);o.add({awaitIframeCorrelationId:n});const s=await t;if(o.end({success:s}),s)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,i);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),uM(this.acquireTokenBySilentIframe.bind(this),XP,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),uM(this.acquireTokenBySilentIframe.bind(this),XP,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(VM,zN.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(HM,zN.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return mL.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,UN,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof fL&&pL(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,z_(__);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===GN&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),uM(this.acquireTokenFromCache.bind(this),WP,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===GN)throw n;return this.eventHandler.emitEvent(WM,zN.Silent,e),uM(this.acquireTokenByRefreshToken.bind(this),SP,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await uM(NL,zR,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose((t?"Found":"Did not find")+" pre-generated PKCE codes"),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}}class $L{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new JF(e);return await n.initialize(),ZL.createController(n,t)}(e);return new $L(e,t)}constructor(e,t){this.controller=t||new ZL(new JF(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const ej={auth:{clientId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK2Sg8j4EvdRsazXLJtuWD_z1aI5nQGog",REACT_APP_API_URL:"https://expenser-server-829602228195.us-central1.run.app",REACT_APP_APP_ID:"1:829602228195:web:851194b850a6be96ee62d6",REACT_APP_AUTH_DOMAIN:"expenser-2335.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"829602228195",REACT_APP_PROJECT_ID:"expenser-2335",REACT_APP_STORAGE_BUCKET:"expenser-2335.firebasestorage.app"}.REACT_APP_MICROSOFT_CLIENT_ID,authority:"https://login.microsoftonline.com/common",redirectUri:window.location.origin}},tj=new $L(ej);const nj=function(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!1),[o,s]=(0,e.useState)(null),[a,c]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{try{await tj.initialize();const e=tj.getAllAccounts();e.length>0&&(c(!0),await l(e[0].accessToken))}catch(o){console.error("MSAL initialization error:",o),s("Failed to initialize Microsoft authentication")}})()}),[]);const l=async e=>{i(!0),s(null);try{const t=await fetch("https://graph.microsoft.com/v1.0/me/messages?$top=10",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch emails");const r=await t.json();n(r.value)}catch(o){console.error("Error fetching emails:",o),s("Failed to fetch emails")}finally{i(!1)}};return(0,It.jsxs)("div",{className:"page",children:[(0,It.jsx)(Pt,{}),(0,It.jsxs)("div",{className:"page-content",children:[(0,It.jsxs)("div",{className:"header",children:[(0,It.jsx)("h3",{children:"Email Viewer"}),(0,It.jsx)("img",{src:qg,alt:"dots",className:"dots"}),a&&(0,It.jsx)("button",{onClick:async()=>{try{await tj.logoutPopup(),c(!1),n([])}catch(o){console.error("Logout error:",o),s("Failed to logout. Please try again.")}},className:"logout-button",children:"Logout"})]}),(0,It.jsx)("div",{className:"email-viewer",children:a?(0,It.jsxs)("div",{className:"email-list",children:[r&&(0,It.jsx)("div",{className:"loading",children:"Loading emails..."}),o&&(0,It.jsx)("div",{className:"error",children:o}),t.map((e=>(0,It.jsxs)("div",{className:"email-item",children:[(0,It.jsx)("h3",{children:e.subject}),(0,It.jsxs)("p",{children:["From: ",e.from.emailAddress.address]}),(0,It.jsxs)("p",{children:["Received:"," ",new Date(e.receivedDateTime).toLocaleString()]}),(0,It.jsx)("p",{children:e.bodyPreview})]},e.id)))]}):(0,It.jsx)("button",{onClick:async()=>{try{if(tj.getActiveAccount())return;const e={scopes:["Mail.Read","Mail.Send","offline_access"]},t=await tj.loginPopup(e);await Pg(Tp(Mg,"users"),{uid:t.account.username,email:t.account.username,accessToken:t.accessToken,refreshToken:t.refreshToken,createdAt:(new Date).toISOString()});c(!0),await l(t.accessToken)}catch(o){console.error("Login error:",o),s("Failed to login with Microsoft account. Please try again.")}},className:"login-button",children:"Connect Microsoft Account"})})]})]})};class rj extends e.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),console.error("Error caught by boundary:",e,t)}render(){return this.state.hasError?(0,It.jsxs)("div",{className:"error-boundary",children:[(0,It.jsx)("h2",{children:"Something went wrong"}),(0,It.jsx)("p",{children:"We're sorry, but there was an error loading this component."}),(0,It.jsx)("button",{className:"retry-button",onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},children:"Retry"}),!1]}):this.props.children}}const ij=rj;window.addEventListener("error",(e=>{(e=>!(!e.message||!e.message.includes("runtime.lastError")))(e.error)&&e.preventDefault()}));const oj=function(){const[t,n]=(0,e.useState)(!0),[r,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{try{console.log("=== CLIENT: Server Connection ==="),console.log("Attempting to connect to:","https://expenser-server-829602228195.us-central1.run.app");const e=await fetch("https://expenser-server-829602228195.us-central1.run.app/test"),t=await e.json();console.log("=== CLIENT: Server Response ==="),console.log("Status:",e.status),console.log("Data:",t),i("connected")}catch(Lv){console.error("=== CLIENT: Server Connection Error ==="),console.error("Error Type:",Lv.name),console.error("Error Message:",Lv.message),i("error")}finally{n(!1)}})()}),[]),t?(0,It.jsx)(ST,{size:"large",text:"Initializing application..."}):"error"===r?(0,It.jsxs)("div",{className:"server-error",children:[(0,It.jsx)("h2",{children:"Server Connection Error"}),(0,It.jsx)("p",{children:"Unable to connect to the server. Please check if the server is running."}),(0,It.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry Connection"})]}):(0,It.jsx)(ij,{children:(0,It.jsx)(Qe,{children:(0,It.jsxs)(ge,{children:[(0,It.jsx)(fe,{path:"/",element:(0,It.jsx)(Rt,{})}),(0,It.jsx)(fe,{path:"/signin",element:(0,It.jsx)(Dg,{})}),(0,It.jsx)(fe,{path:"/signup",element:(0,It.jsx)(Lg,{})}),(0,It.jsx)(fe,{path:"/moreinfo",element:(0,It.jsx)(jg,{})}),(0,It.jsx)(fe,{path:"/forgotpassword",element:(0,It.jsx)(Ug,{})}),(0,It.jsx)(fe,{path:"/timetracker",element:(0,It.jsx)(zg,{})}),(0,It.jsx)(fe,{path:"/clientmanagement",element:(0,It.jsx)(Vg,{})}),(0,It.jsx)(fe,{path:"/addclient",element:(0,It.jsx)(Wg,{})}),(0,It.jsx)(fe,{path:"/client/:id",element:(0,It.jsx)(Jg,{})}),(0,It.jsx)(fe,{path:"/expensetracker",element:(0,It.jsx)(tm,{})}),(0,It.jsx)(fe,{path:"/revenuetracker",element:(0,It.jsx)(om,{})}),(0,It.jsx)(fe,{path:"/document-drafting",element:(0,It.jsx)(TT,{})}),(0,It.jsx)(fe,{path:"/document-drafting/upload",element:(0,It.jsx)(TT,{})}),(0,It.jsx)(fe,{path:"/document-drafting/templates",element:(0,It.jsx)(ET,{})}),(0,It.jsx)(fe,{path:"/document-drafting/library",element:(0,It.jsx)(_T,{})}),(0,It.jsx)(fe,{path:"/emailviewer",element:(0,It.jsx)(nj,{})}),(0,It.jsx)(fe,{path:"*",element:(0,It.jsxs)("div",{className:"not-found",children:[(0,It.jsx)("h2",{children:"404 - Page Not Found"}),(0,It.jsx)("p",{children:"The page you're looking for doesn't exist."})]})})]})})})},sj=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};t.createRoot(document.getElementById("root")).render((0,It.jsx)(e.StrictMode,{children:(0,It.jsx)(oj,{})})),sj()})()})();
//# sourceMappingURL=main.ed87b0f9.js.map