{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vidu\\\\OneDrive\\\\Desktop\\\\Xenon Innovation\\\\Main\\\\Expenser\\\\client\\\\src\\\\pages\\\\book-keeping\\\\Addclientform.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Navbar from \"../../components/NavBar/NavBar\";\nimport \"../../pages/assets/styles/global.css\";\nimport \"../../pages/assets/styles/book-keeping.css\";\nimport { doc, getDoc, setDoc, collection, query, getDocs, where } from \"firebase/firestore\";\nimport { db } from \"../../config\";\nimport { useNavigate } from \"react-router-dom\";\nimport Modal from \"../../components/Modal/Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Addclientform({\n  closeModal\n}) {\n  _s();\n  let navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    clientName: \"\",\n    emailAddress: \"\",\n    phoneNumber: \"\",\n    companyName: \"\",\n    websiteUrl: \"\",\n    industry: \"\",\n    budget: \"\",\n    source: \"\",\n    caseName: \"\",\n    caseType: \"\",\n    jurisdiction: \"\",\n    caseDesc: \"\",\n    caseNotes: \"\",\n    leadAttorney: \"\",\n    supportingAttornies: {\n      attorneyName: \"\",\n      attorneyContact: \"\"\n    },\n    witnesses: {\n      witnessName: \"\",\n      witnessContact: \"\"\n    },\n    opposingParty: {\n      opposingPartyName: \"\",\n      opposingPartyEmailAddress: \"\"\n    }\n  });\n  const [caseTypes, setCaseTypes] = useState([]);\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showConflictModal, setShowConflictModal] = useState(false);\n  const [pendingSubmission, setPendingSubmission] = useState(null);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const validateForm = () => {\n    let tempErrors = {};\n    let isValid = true;\n\n    // Client Information Validation\n    if (!formData.clientName.trim()) {\n      tempErrors.clientName = \"Client name is required\";\n      isValid = false;\n    }\n    if (!formData.emailAddress.trim()) {\n      tempErrors.emailAddress = \"Email is required\";\n      isValid = false;\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.emailAddress)) {\n      tempErrors.emailAddress = \"Email is invalid\";\n      isValid = false;\n    }\n    if (!formData.phoneNumber.trim()) {\n      tempErrors.phoneNumber = \"Phone number is required\";\n      isValid = false;\n    } else if (!/^\\d{10}$/.test(formData.phoneNumber.replace(/\\D/g, \"\"))) {\n      tempErrors.phoneNumber = \"Phone number must be 10 digits\";\n      isValid = false;\n    }\n\n    // Case Information Validation\n    if (!formData.caseName.trim()) {\n      tempErrors.caseName = \"Case name is required\";\n      isValid = false;\n    }\n    if (!formData.caseType) {\n      tempErrors.caseType = \"Case type is required\";\n      isValid = false;\n    }\n    if (!formData.jurisdiction.trim()) {\n      tempErrors.jurisdiction = \"Jurisdiction is required\";\n      isValid = false;\n    }\n    if (!formData.leadAttorney.trim()) {\n      tempErrors.leadAttorney = \"Lead attorney is required\";\n      isValid = false;\n    }\n\n    // Optional field validations\n    if (formData.websiteUrl && !/^https?:\\/\\/.*/.test(formData.websiteUrl)) {\n      tempErrors.websiteUrl = \"Website URL must start with http:// or https://\";\n      isValid = false;\n    }\n    if (formData.budget && isNaN(formData.budget)) {\n      tempErrors.budget = \"Budget must be a number\";\n      isValid = false;\n    }\n    setErrors(tempErrors);\n    return isValid;\n  };\n  const checkForConflicts = async opposingParty => {\n    console.log(\"Checking conflicts for:\", opposingParty);\n    if (!opposingParty.opposingPartyEmailAddress) {\n      return false;\n    }\n    try {\n      // Check if opposing party exists as a client\n      const clientConflictQuery = query(collection(db, \"clients\"), where(\"emailAddress\", \"==\", opposingParty.opposingPartyEmailAddress));\n      const clientConflictSnapshot = await getDocs(clientConflictQuery);\n\n      // If we found a conflict, we also need to update the existing client's conflict status\n      if (!clientConflictSnapshot.empty) {\n        // Update the existing client's conflict status\n        const existingClientDoc = clientConflictSnapshot.docs[0];\n        await setDoc(doc(db, \"clients\", existingClientDoc.id), {\n          ...existingClientDoc.data(),\n          hasConflict: true\n        });\n      }\n\n      // Check if opposing party is involved in other cases\n      const opposingPartyQuery = query(collection(db, \"opposing\"), where(\"opposingPartyEmailAddress\", \"==\", opposingParty.opposingPartyEmailAddress));\n      const opposingPartySnapshot = await getDocs(opposingPartyQuery);\n      const hasConflict = !clientConflictSnapshot.empty || !opposingPartySnapshot.empty;\n      console.log(\"Has conflict:\", hasConflict);\n      return hasConflict;\n    } catch (error) {\n      console.error(\"Error checking for conflicts:\", error);\n      return false;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    if (!validateForm()) {\n      setIsSubmitting(false);\n      return;\n    }\n    try {\n      // Check for conflicts first\n      const hasConflict = await checkForConflicts(formData.opposingParty);\n      console.log(\"Conflict check result:\", hasConflict);\n      if (hasConflict) {\n        setShowConflictModal(true);\n        setPendingSubmission({\n          hasConflict\n        });\n        setIsSubmitting(false);\n        return;\n      }\n\n      // If no conflict, proceed with submission\n      await submitForm(false);\n    } catch (error) {\n      console.error(\"Error during submission:\", error);\n      setErrors({\n        submit: \"Failed to submit form. Please try again.\"\n      });\n      setIsSubmitting(false);\n    }\n  };\n  const submitForm = async hasConflict => {\n    try {\n      // Create client data object with conflict flag\n      const clientData = {\n        clientName: formData.clientName,\n        emailAddress: formData.emailAddress,\n        phoneNumber: formData.phoneNumber,\n        companyName: formData.companyName || \"\",\n        websiteUrl: formData.websiteUrl || \"\",\n        industry: formData.industry || \"\",\n        budget: formData.budget || \"\",\n        source: formData.source || \"\",\n        hasConflict: hasConflict\n      };\n      console.log(\"Saving client with data:\", clientData);\n\n      // Create the client document\n      const clientRef = doc(db, \"clients\", formData.emailAddress);\n      await setDoc(clientRef, clientData);\n\n      // Create case with reference to opposing party and conflict status\n      const caseRef = doc(collection(db, \"cases\"));\n      const caseData = {\n        name: formData.caseName,\n        type: formData.caseType,\n        jurisdiction: formData.jurisdiction,\n        case_desc: formData.caseDesc || \"\",\n        notes: formData.caseNotes || \"\",\n        status: \"Open\",\n        client_id: formData.emailAddress,\n        lead_attorney: formData.leadAttorney,\n        supportingAttornies: formData.supportingAttornies,\n        witnesses: formData.witnesses,\n        court_assigned_case_number: formData.courtNumber || \"\",\n        created_at: new Date(),\n        has_conflict: hasConflict,\n        opposing_party_id: formData.opposingParty.opposingPartyEmailAddress,\n        conflict_details: hasConflict ? {\n          detected_at: new Date(),\n          type: \"opposing_party_conflict\",\n          opposing_party_email: formData.opposingParty.opposingPartyEmailAddress\n        } : null\n      };\n      await setDoc(caseRef, caseData);\n\n      // Store opposing party with reference to case and conflict status\n      const opposingPartyRef = doc(collection(db, \"opposing\"));\n      const opposingPartyData = {\n        opposingPartyName: formData.opposingParty.opposingPartyName,\n        opposingPartyEmailAddress: formData.opposingParty.opposingPartyEmailAddress,\n        case_id: caseRef.id,\n        client_id: formData.emailAddress,\n        has_conflict: hasConflict\n      };\n      await setDoc(opposingPartyRef, opposingPartyData);\n\n      // Instead of navigating immediately, show success modal\n      setShowSuccessModal(true);\n    } catch (error) {\n      console.error(\"Error during submission:\", error);\n      setErrors({\n        submit: \"Failed to submit form. Please try again.\"\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleConfirmConflict = async () => {\n    setShowConflictModal(false);\n    setIsSubmitting(true);\n    await submitForm(true);\n  };\n  const handleCancelConflict = () => {\n    setShowConflictModal(false);\n    setPendingSubmission(null);\n    setIsSubmitting(false);\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors({\n        ...errors,\n        [name]: null\n      });\n    }\n  };\n  useEffect(() => {\n    const loadCaseTypes = async () => {\n      const querySnapshot = await getDocs(collection(db, \"cases-types\"));\n      const types = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setCaseTypes(types);\n    };\n    loadCaseTypes();\n  }, []);\n  const handleDemo = () => {\n    setFormData({\n      clientName: \"Michael Rodriguez\",\n      emailAddress: \"michael@greenearthcafe.com\",\n      phoneNumber: \"4161234567\",\n      companyName: \"Green Earth Cafe\",\n      websiteUrl: \"https://www.greenearthcafe.com\",\n      industry: \"Food and Beverage\",\n      budget: \"100000\",\n      source: \"Referral\",\n      caseName: \"Michael Rodriguez v. Jane Doe\",\n      caseType: 0,\n      jurisdiction: \"Federal\",\n      caseDesc: \"Michael is suing Jane for a contract breach.\",\n      caseNotes: \"- Get documents from Michael - Prepare opening statement - Contact witness and prepare them\",\n      leadAttorney: \"Melissa Felicity\",\n      courtNumber: \"1234567890\",\n      supportingAttornies: {\n        attorneyName: \"Melissa Stephens\",\n        attorneyContact: \"4161234567\"\n      },\n      witnesses: {\n        witnessName: \"Caleb Smith\",\n        witnessContact: \"5634234567\"\n      },\n      opposingParty: {\n        opposingPartyName: \"Jane Doe\",\n        opposingPartyEmailAddress: \"jane@doe.com\"\n      }\n    });\n  };\n  const handleOpposingDemo = () => {\n    setFormData({\n      clientName: \"Jane Doe\",\n      emailAddress: \"jane@doe.com\",\n      phoneNumber: \"4161234567\",\n      companyName: \"Jane Doe Inc.\",\n      websiteUrl: \"https://www.janedoe.com\",\n      industry: \"Food and Beverage\",\n      budget: \"100000\",\n      source: \"Referral\",\n      caseName: \"Jane Doe v. Michael Rodriguez\",\n      caseType: 0,\n      jurisdiction: \"Ontario\",\n      caseDesc: \"Jane Doe is counter-suing John Doe for $100,000\",\n      caseNotes: \"N/A\",\n      leadAttorney: \"Kelly Smith\",\n      courtNumber: \"3452341234\",\n      supportingAttornies: {\n        attorneyName: \"Kevin Sparks\",\n        attorneyContact: \"6545432345\"\n      },\n      witnesses: {\n        witnessName: \"Anthony Padilla\",\n        witnessContact: \"9879877777\"\n      },\n      opposingParty: {\n        opposingPartyName: \"Michael Rodriguez\",\n        opposingPartyEmailAddress: \"michael@greenearthcafe.com\"\n      }\n    });\n  };\n\n  // Add handler for success modal close\n  const handleSuccessClose = () => {\n    setShowSuccessModal(false);\n    navigate(\"/\");\n    closeModal && closeModal();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"clientSubmit\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Client Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Full Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.clientName ? \"error\" : \"\"}`,\n                type: \"text\",\n                name: \"clientName\",\n                value: formData.clientName,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this), errors.clientName && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.clientName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Email Address:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.emailAddress ? \"error\" : \"\"}`,\n                type: \"email\",\n                name: \"emailAddress\",\n                value: formData.emailAddress,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this), errors.emailAddress && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.emailAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Phone Number:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.phoneNumber ? \"error\" : \"\"}`,\n                type: \"tel\",\n                name: \"phoneNumber\",\n                value: formData.phoneNumber,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), errors.phoneNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.phoneNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Company Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                type: \"text\",\n                name: \"companyName\",\n                value: formData.companyName,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Additional Client Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Website URL:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.websiteUrl ? \"error\" : \"\"}`,\n                type: \"url\",\n                name: \"websiteUrl\",\n                value: formData.websiteUrl,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 17\n              }, this), errors.websiteUrl && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.websiteUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Industry:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                type: \"text\",\n                name: \"industry\",\n                value: formData.industry,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Budget:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.budget ? \"error\" : \"\"}`,\n                type: \"text\",\n                name: \"budget\",\n                value: formData.budget,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this), errors.budget && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.budget\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Client Source:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                type: \"text\",\n                name: \"source\",\n                value: formData.source,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Case Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Case name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.caseName ? \"error\" : \"\"}`,\n                type: \"text\",\n                name: \"caseName\",\n                value: formData.caseName,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 17\n              }, this), errors.caseName && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.caseName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Case type:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                className: `fields ${errors.caseType ? \"error\" : \"\"}`,\n                name: \"caseType\",\n                value: formData.caseType,\n                onChange: handleChange,\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"Select a case type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 19\n                }, this), caseTypes.map(caseType => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: caseType.name,\n                  children: caseType.name\n                }, caseType.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 17\n              }, this), errors.caseType && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.caseType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Jurisdiction:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.jurisdiction ? \"error\" : \"\"}`,\n                type: \"text\",\n                name: \"jurisdiction\",\n                value: formData.jurisdiction,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 17\n              }, this), errors.jurisdiction && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.jurisdiction\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Court assigned case number:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                type: \"text\",\n                name: \"courtNumber\",\n                value: formData.courtNumber,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Case Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Case description:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"fields\",\n                name: \"caseDesc\",\n                value: formData.caseDesc,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Case notes:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"fields\",\n                name: \"caseNotes\",\n                value: formData.caseNotes,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Attorney Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section-content\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Lead Attorney:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.leadAttorney ? \"error\" : \"\"}`,\n                type: \"text\",\n                name: \"leadAttorney\",\n                value: formData.leadAttorney,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 17\n              }, this), errors.leadAttorney && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.leadAttorney\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Supporting Attorneys\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Attorney name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                name: \"attorneyName\",\n                type: \"text\",\n                value: formData.supportingAttornies.attorneyName,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    supportingAttornies: {\n                      ...formData.supportingAttornies,\n                      attorneyName: e.target.value\n                    }\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Attorney contact:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                name: \"attorneyContact\",\n                type: \"text\",\n                value: formData.supportingAttornies.attorneyContact,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    supportingAttornies: {\n                      ...formData.supportingAttornies,\n                      attorneyContact: e.target.value\n                    }\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Witnesses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Witness name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                name: \"witnessName\",\n                type: \"text\",\n                value: formData.witnesses.witnessName,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    witnesses: {\n                      ...formData.witnesses,\n                      witnessName: e.target.value\n                    }\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Witness contact:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                name: \"witnessContact\",\n                type: \"text\",\n                value: formData.witnesses.witnessContact,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    witnesses: {\n                      ...formData.witnesses,\n                      witnessContact: e.target.value\n                    }\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Opposing Party Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Full Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `fields ${errors.opposingPartyName ? \"error\" : \"\"}`,\n                type: \"text\",\n                name: \"opposingPartyName\",\n                value: formData.opposingParty.opposingPartyName || \"\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 17\n              }, this), errors.opposingPartyName && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.opposingPartyName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: [\"Email Address:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"fields\",\n                type: \"text\",\n                name: \"opposingPartyEmailAddress\",\n                value: formData.opposingParty.opposingPartyEmailAddress || \"\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 11\n        }, this), errors.submit && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: errors.submit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"add-expense-button\",\n            disabled: isSubmitting,\n            children: isSubmitting ? \"Submitting...\" : \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"add-expense-button demo\",\n            onClick: () => handleDemo(),\n            children: \"Add Client Demo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"add-expense-button demo\",\n            onClick: () => handleOpposingDemo(),\n            children: \"Add Opposing Party Demo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showSuccessModal,\n      onClose: handleSuccessClose,\n      title: \"Success\",\n      text: \"Client and case have been successfully added!\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"modal-button save\",\n          onClick: handleSuccessClose,\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 762,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 756,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showConflictModal,\n      onClose: handleCancelConflict,\n      title: \"Conflict Warning\",\n      text: \"WARNING: Potential conflict detected! This opposing party is either an existing client or involved in another case. Do you want to proceed anyway?\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"modal-button del\",\n          onClick: handleConfirmConflict,\n          children: \"Proceed Anyway\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-button\",\n          onClick: handleCancelConflict,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 776,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 770,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 379,\n    columnNumber: 5\n  }, this);\n}\n_s(Addclientform, \"lzmrg8DoESvLpASbixiV8Tv562w=\", false, function () {\n  return [useNavigate];\n});\n_c = Addclientform;\nexport default Addclientform;\nvar _c;\n$RefreshReg$(_c, \"Addclientform\");","map":{"version":3,"names":["React","useState","useEffect","Navbar","doc","getDoc","setDoc","collection","query","getDocs","where","db","useNavigate","Modal","jsxDEV","_jsxDEV","Addclientform","closeModal","_s","navigate","formData","setFormData","clientName","emailAddress","phoneNumber","companyName","websiteUrl","industry","budget","source","caseName","caseType","jurisdiction","caseDesc","caseNotes","leadAttorney","supportingAttornies","attorneyName","attorneyContact","witnesses","witnessName","witnessContact","opposingParty","opposingPartyName","opposingPartyEmailAddress","caseTypes","setCaseTypes","errors","setErrors","isSubmitting","setIsSubmitting","showConflictModal","setShowConflictModal","pendingSubmission","setPendingSubmission","showSuccessModal","setShowSuccessModal","validateForm","tempErrors","isValid","trim","test","replace","isNaN","checkForConflicts","console","log","clientConflictQuery","clientConflictSnapshot","empty","existingClientDoc","docs","id","data","hasConflict","opposingPartyQuery","opposingPartySnapshot","error","handleSubmit","e","preventDefault","submitForm","submit","clientData","clientRef","caseRef","caseData","name","type","case_desc","notes","status","client_id","lead_attorney","court_assigned_case_number","courtNumber","created_at","Date","has_conflict","opposing_party_id","conflict_details","detected_at","opposing_party_email","opposingPartyRef","opposingPartyData","case_id","handleConfirmConflict","handleCancelConflict","handleChange","value","target","loadCaseTypes","querySnapshot","types","map","handleDemo","handleOpposingDemo","handleSuccessClose","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","disabled","onClick","isOpen","onClose","title","text","_c","$RefreshReg$"],"sources":["C:/Users/Vidu/OneDrive/Desktop/Xenon Innovation/Main/Expenser/client/src/pages/book-keeping/Addclientform.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Navbar from \"../../components/NavBar/NavBar\";\r\nimport \"../../pages/assets/styles/global.css\";\r\nimport \"../../pages/assets/styles/book-keeping.css\";\r\n\r\nimport {\r\n  doc,\r\n  getDoc,\r\n  setDoc,\r\n  collection,\r\n  query,\r\n  getDocs,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../../config\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Modal from \"../../components/Modal/Modal\";\r\n\r\nfunction Addclientform({ closeModal }) {\r\n  let navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    clientName: \"\",\r\n    emailAddress: \"\",\r\n    phoneNumber: \"\",\r\n    companyName: \"\",\r\n    websiteUrl: \"\",\r\n    industry: \"\",\r\n    budget: \"\",\r\n    source: \"\",\r\n    caseName: \"\",\r\n    caseType: \"\",\r\n    jurisdiction: \"\",\r\n    caseDesc: \"\",\r\n    caseNotes: \"\",\r\n    leadAttorney: \"\",\r\n    supportingAttornies: {\r\n      attorneyName: \"\",\r\n      attorneyContact: \"\",\r\n    },\r\n    witnesses: {\r\n      witnessName: \"\",\r\n      witnessContact: \"\",\r\n    },\r\n    opposingParty: {\r\n      opposingPartyName: \"\",\r\n      opposingPartyEmailAddress: \"\",\r\n    },\r\n  });\r\n  const [caseTypes, setCaseTypes] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showConflictModal, setShowConflictModal] = useState(false);\r\n  const [pendingSubmission, setPendingSubmission] = useState(null);\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n\r\n  const validateForm = () => {\r\n    let tempErrors = {};\r\n    let isValid = true;\r\n\r\n    // Client Information Validation\r\n    if (!formData.clientName.trim()) {\r\n      tempErrors.clientName = \"Client name is required\";\r\n      isValid = false;\r\n    }\r\n\r\n    if (!formData.emailAddress.trim()) {\r\n      tempErrors.emailAddress = \"Email is required\";\r\n      isValid = false;\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.emailAddress)) {\r\n      tempErrors.emailAddress = \"Email is invalid\";\r\n      isValid = false;\r\n    }\r\n\r\n    if (!formData.phoneNumber.trim()) {\r\n      tempErrors.phoneNumber = \"Phone number is required\";\r\n      isValid = false;\r\n    } else if (!/^\\d{10}$/.test(formData.phoneNumber.replace(/\\D/g, \"\"))) {\r\n      tempErrors.phoneNumber = \"Phone number must be 10 digits\";\r\n      isValid = false;\r\n    }\r\n\r\n    // Case Information Validation\r\n    if (!formData.caseName.trim()) {\r\n      tempErrors.caseName = \"Case name is required\";\r\n      isValid = false;\r\n    }\r\n\r\n    if (!formData.caseType) {\r\n      tempErrors.caseType = \"Case type is required\";\r\n      isValid = false;\r\n    }\r\n\r\n    if (!formData.jurisdiction.trim()) {\r\n      tempErrors.jurisdiction = \"Jurisdiction is required\";\r\n      isValid = false;\r\n    }\r\n\r\n    if (!formData.leadAttorney.trim()) {\r\n      tempErrors.leadAttorney = \"Lead attorney is required\";\r\n      isValid = false;\r\n    }\r\n\r\n    // Optional field validations\r\n    if (formData.websiteUrl && !/^https?:\\/\\/.*/.test(formData.websiteUrl)) {\r\n      tempErrors.websiteUrl = \"Website URL must start with http:// or https://\";\r\n      isValid = false;\r\n    }\r\n\r\n    if (formData.budget && isNaN(formData.budget)) {\r\n      tempErrors.budget = \"Budget must be a number\";\r\n      isValid = false;\r\n    }\r\n\r\n    setErrors(tempErrors);\r\n    return isValid;\r\n  };\r\n\r\n  const checkForConflicts = async (opposingParty) => {\r\n    console.log(\"Checking conflicts for:\", opposingParty);\r\n\r\n    if (!opposingParty.opposingPartyEmailAddress) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      // Check if opposing party exists as a client\r\n      const clientConflictQuery = query(\r\n        collection(db, \"clients\"),\r\n        where(\"emailAddress\", \"==\", opposingParty.opposingPartyEmailAddress)\r\n      );\r\n      const clientConflictSnapshot = await getDocs(clientConflictQuery);\r\n\r\n      // If we found a conflict, we also need to update the existing client's conflict status\r\n      if (!clientConflictSnapshot.empty) {\r\n        // Update the existing client's conflict status\r\n        const existingClientDoc = clientConflictSnapshot.docs[0];\r\n        await setDoc(doc(db, \"clients\", existingClientDoc.id), {\r\n          ...existingClientDoc.data(),\r\n          hasConflict: true,\r\n        });\r\n      }\r\n\r\n      // Check if opposing party is involved in other cases\r\n      const opposingPartyQuery = query(\r\n        collection(db, \"opposing\"),\r\n        where(\r\n          \"opposingPartyEmailAddress\",\r\n          \"==\",\r\n          opposingParty.opposingPartyEmailAddress\r\n        )\r\n      );\r\n      const opposingPartySnapshot = await getDocs(opposingPartyQuery);\r\n\r\n      const hasConflict =\r\n        !clientConflictSnapshot.empty || !opposingPartySnapshot.empty;\r\n      console.log(\"Has conflict:\", hasConflict);\r\n\r\n      return hasConflict;\r\n    } catch (error) {\r\n      console.error(\"Error checking for conflicts:\", error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n\r\n    if (!validateForm()) {\r\n      setIsSubmitting(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Check for conflicts first\r\n      const hasConflict = await checkForConflicts(formData.opposingParty);\r\n      console.log(\"Conflict check result:\", hasConflict);\r\n\r\n      if (hasConflict) {\r\n        setShowConflictModal(true);\r\n        setPendingSubmission({ hasConflict });\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // If no conflict, proceed with submission\r\n      await submitForm(false);\r\n    } catch (error) {\r\n      console.error(\"Error during submission:\", error);\r\n      setErrors({\r\n        submit: \"Failed to submit form. Please try again.\",\r\n      });\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const submitForm = async (hasConflict) => {\r\n    try {\r\n      // Create client data object with conflict flag\r\n      const clientData = {\r\n        clientName: formData.clientName,\r\n        emailAddress: formData.emailAddress,\r\n        phoneNumber: formData.phoneNumber,\r\n        companyName: formData.companyName || \"\",\r\n        websiteUrl: formData.websiteUrl || \"\",\r\n        industry: formData.industry || \"\",\r\n        budget: formData.budget || \"\",\r\n        source: formData.source || \"\",\r\n        hasConflict: hasConflict,\r\n      };\r\n\r\n      console.log(\"Saving client with data:\", clientData);\r\n\r\n      // Create the client document\r\n      const clientRef = doc(db, \"clients\", formData.emailAddress);\r\n      await setDoc(clientRef, clientData);\r\n\r\n      // Create case with reference to opposing party and conflict status\r\n      const caseRef = doc(collection(db, \"cases\"));\r\n      const caseData = {\r\n        name: formData.caseName,\r\n        type: formData.caseType,\r\n        jurisdiction: formData.jurisdiction,\r\n        case_desc: formData.caseDesc || \"\",\r\n        notes: formData.caseNotes || \"\",\r\n        status: \"Open\",\r\n        client_id: formData.emailAddress,\r\n        lead_attorney: formData.leadAttorney,\r\n        supportingAttornies: formData.supportingAttornies,\r\n        witnesses: formData.witnesses,\r\n        court_assigned_case_number: formData.courtNumber || \"\",\r\n        created_at: new Date(),\r\n        has_conflict: hasConflict,\r\n        opposing_party_id: formData.opposingParty.opposingPartyEmailAddress,\r\n        conflict_details: hasConflict\r\n          ? {\r\n              detected_at: new Date(),\r\n              type: \"opposing_party_conflict\",\r\n              opposing_party_email:\r\n                formData.opposingParty.opposingPartyEmailAddress,\r\n            }\r\n          : null,\r\n      };\r\n      await setDoc(caseRef, caseData);\r\n\r\n      // Store opposing party with reference to case and conflict status\r\n      const opposingPartyRef = doc(collection(db, \"opposing\"));\r\n      const opposingPartyData = {\r\n        opposingPartyName: formData.opposingParty.opposingPartyName,\r\n        opposingPartyEmailAddress:\r\n          formData.opposingParty.opposingPartyEmailAddress,\r\n        case_id: caseRef.id,\r\n        client_id: formData.emailAddress,\r\n        has_conflict: hasConflict,\r\n      };\r\n      await setDoc(opposingPartyRef, opposingPartyData);\r\n\r\n      // Instead of navigating immediately, show success modal\r\n      setShowSuccessModal(true);\r\n    } catch (error) {\r\n      console.error(\"Error during submission:\", error);\r\n      setErrors({\r\n        submit: \"Failed to submit form. Please try again.\",\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirmConflict = async () => {\r\n    setShowConflictModal(false);\r\n    setIsSubmitting(true);\r\n    await submitForm(true);\r\n  };\r\n\r\n  const handleCancelConflict = () => {\r\n    setShowConflictModal(false);\r\n    setPendingSubmission(null);\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    // Clear error when user starts typing\r\n    if (errors[name]) {\r\n      setErrors({\r\n        ...errors,\r\n        [name]: null,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadCaseTypes = async () => {\r\n      const querySnapshot = await getDocs(collection(db, \"cases-types\"));\r\n      const types = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setCaseTypes(types);\r\n    };\r\n    loadCaseTypes();\r\n  }, []);\r\n\r\n  const handleDemo = () => {\r\n    setFormData({\r\n      clientName: \"Michael Rodriguez\",\r\n      emailAddress: \"michael@greenearthcafe.com\",\r\n      phoneNumber: \"4161234567\",\r\n      companyName: \"Green Earth Cafe\",\r\n      websiteUrl: \"https://www.greenearthcafe.com\",\r\n      industry: \"Food and Beverage\",\r\n      budget: \"100000\",\r\n      source: \"Referral\",\r\n      caseName: \"Michael Rodriguez v. Jane Doe\",\r\n      caseType: 0,\r\n      jurisdiction: \"Federal\",\r\n      caseDesc: \"Michael is suing Jane for a contract breach.\",\r\n      caseNotes:\r\n        \"- Get documents from Michael - Prepare opening statement - Contact witness and prepare them\",\r\n      leadAttorney: \"Melissa Felicity\",\r\n      courtNumber: \"1234567890\",\r\n      supportingAttornies: {\r\n        attorneyName: \"Melissa Stephens\",\r\n        attorneyContact: \"4161234567\",\r\n      },\r\n      witnesses: {\r\n        witnessName: \"Caleb Smith\",\r\n        witnessContact: \"5634234567\",\r\n      },\r\n      opposingParty: {\r\n        opposingPartyName: \"Jane Doe\",\r\n        opposingPartyEmailAddress: \"jane@doe.com\",\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleOpposingDemo = () => {\r\n    setFormData({\r\n      clientName: \"Jane Doe\",\r\n      emailAddress: \"jane@doe.com\",\r\n      phoneNumber: \"4161234567\",\r\n      companyName: \"Jane Doe Inc.\",\r\n      websiteUrl: \"https://www.janedoe.com\",\r\n      industry: \"Food and Beverage\",\r\n      budget: \"100000\",\r\n      source: \"Referral\",\r\n      caseName: \"Jane Doe v. Michael Rodriguez\",\r\n      caseType: 0,\r\n      jurisdiction: \"Ontario\",\r\n      caseDesc: \"Jane Doe is counter-suing John Doe for $100,000\",\r\n      caseNotes: \"N/A\",\r\n      leadAttorney: \"Kelly Smith\",\r\n      courtNumber: \"3452341234\",\r\n      supportingAttornies: {\r\n        attorneyName: \"Kevin Sparks\",\r\n        attorneyContact: \"6545432345\",\r\n      },\r\n      witnesses: {\r\n        witnessName: \"Anthony Padilla\",\r\n        witnessContact: \"9879877777\",\r\n      },\r\n      opposingParty: {\r\n        opposingPartyName: \"Michael Rodriguez\",\r\n        opposingPartyEmailAddress: \"michael@greenearthcafe.com\",\r\n      },\r\n    });\r\n  };\r\n\r\n  // Add handler for success modal close\r\n  const handleSuccessClose = () => {\r\n    setShowSuccessModal(false);\r\n    navigate(\"/\");\r\n    closeModal && closeModal();\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Navbar />\r\n      <div className=\"page-content\">\r\n        <form onSubmit={handleSubmit} className=\"clientSubmit\">\r\n          {/* Client Basic Information Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Client Information</h3>\r\n            <div className=\"form-section-content\">\r\n              <label className=\"label\">\r\n                Full Name:\r\n                <input\r\n                  className={`fields ${errors.clientName ? \"error\" : \"\"}`}\r\n                  type=\"text\"\r\n                  name=\"clientName\"\r\n                  value={formData.clientName}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                {errors.clientName && (\r\n                  <span className=\"error-message\">{errors.clientName}</span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Email Address:\r\n                <input\r\n                  className={`fields ${errors.emailAddress ? \"error\" : \"\"}`}\r\n                  type=\"email\"\r\n                  name=\"emailAddress\"\r\n                  value={formData.emailAddress}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                {errors.emailAddress && (\r\n                  <span className=\"error-message\">{errors.emailAddress}</span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Phone Number:\r\n                <input\r\n                  className={`fields ${errors.phoneNumber ? \"error\" : \"\"}`}\r\n                  type=\"tel\"\r\n                  name=\"phoneNumber\"\r\n                  value={formData.phoneNumber}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                {errors.phoneNumber && (\r\n                  <span className=\"error-message\">{errors.phoneNumber}</span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Company Name:\r\n                <input\r\n                  className=\"fields\"\r\n                  type=\"text\"\r\n                  name=\"companyName\"\r\n                  value={formData.companyName}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Client Additional Information Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Additional Client Information</h3>\r\n            <div className=\"form-section-content\">\r\n              <label className=\"label\">\r\n                Website URL:\r\n                <input\r\n                  className={`fields ${errors.websiteUrl ? \"error\" : \"\"}`}\r\n                  type=\"url\"\r\n                  name=\"websiteUrl\"\r\n                  value={formData.websiteUrl}\r\n                  onChange={handleChange}\r\n                />\r\n                {errors.websiteUrl && (\r\n                  <span className=\"error-message\">{errors.websiteUrl}</span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Industry:\r\n                <input\r\n                  className=\"fields\"\r\n                  type=\"text\"\r\n                  name=\"industry\"\r\n                  value={formData.industry}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n              <label className=\"label\">\r\n                Budget:\r\n                <input\r\n                  className={`fields ${errors.budget ? \"error\" : \"\"}`}\r\n                  type=\"text\"\r\n                  name=\"budget\"\r\n                  value={formData.budget}\r\n                  onChange={handleChange}\r\n                />\r\n                {errors.budget && (\r\n                  <span className=\"error-message\">{errors.budget}</span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Client Source:\r\n                <input\r\n                  className=\"fields\"\r\n                  type=\"text\"\r\n                  name=\"source\"\r\n                  value={formData.source}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Case Basic Information Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Case Details</h3>\r\n            <div className=\"form-section-content\">\r\n              <label className=\"label\">\r\n                Case name:\r\n                <input\r\n                  className={`fields ${errors.caseName ? \"error\" : \"\"}`}\r\n                  type=\"text\"\r\n                  name=\"caseName\"\r\n                  value={formData.caseName}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                {errors.caseName && (\r\n                  <span className=\"error-message\">{errors.caseName}</span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Case type:\r\n                <select\r\n                  className={`fields ${errors.caseType ? \"error\" : \"\"}`}\r\n                  name=\"caseType\"\r\n                  value={formData.caseType}\r\n                  onChange={handleChange}\r\n                  required\r\n                >\r\n                  <option value=\"\" disabled>\r\n                    Select a case type\r\n                  </option>\r\n                  {caseTypes.map((caseType) => (\r\n                    <option key={caseType.id} value={caseType.name}>\r\n                      {caseType.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {errors.caseType && (\r\n                  <span className=\"error-message\">{errors.caseType}</span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Jurisdiction:\r\n                <input\r\n                  className={`fields ${errors.jurisdiction ? \"error\" : \"\"}`}\r\n                  type=\"text\"\r\n                  name=\"jurisdiction\"\r\n                  value={formData.jurisdiction}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                {errors.jurisdiction && (\r\n                  <span className=\"error-message\">{errors.jurisdiction}</span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Court assigned case number:\r\n                <input\r\n                  className=\"fields\"\r\n                  type=\"text\"\r\n                  name=\"courtNumber\"\r\n                  value={formData.courtNumber}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Case Description Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Case Description</h3>\r\n            <div className=\"form-section-content\">\r\n              <label className=\"label\">\r\n                Case description:\r\n                <textarea\r\n                  className=\"fields\"\r\n                  name=\"caseDesc\"\r\n                  value={formData.caseDesc}\r\n                  onChange={handleChange}\r\n                ></textarea>\r\n              </label>\r\n              <label className=\"label\">\r\n                Case notes:\r\n                <textarea\r\n                  className=\"fields\"\r\n                  name=\"caseNotes\"\r\n                  value={formData.caseNotes}\r\n                  onChange={handleChange}\r\n                ></textarea>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Attorney Information Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Attorney Information</h3>\r\n            <div className=\"form-section-content\">\r\n              <label className=\"label\">\r\n                Lead Attorney:\r\n                <input\r\n                  className={`fields ${errors.leadAttorney ? \"error\" : \"\"}`}\r\n                  type=\"text\"\r\n                  name=\"leadAttorney\"\r\n                  value={formData.leadAttorney}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                {errors.leadAttorney && (\r\n                  <span className=\"error-message\">{errors.leadAttorney}</span>\r\n                )}\r\n              </label>\r\n            </div>\r\n\r\n            <h4>Supporting Attorneys</h4>\r\n            <div className=\"form-section-content\">\r\n              <label className=\"label\">\r\n                Attorney name:\r\n                <input\r\n                  className=\"fields\"\r\n                  name=\"attorneyName\"\r\n                  type=\"text\"\r\n                  value={formData.supportingAttornies.attorneyName}\r\n                  onChange={(e) => {\r\n                    setFormData({\r\n                      ...formData,\r\n                      supportingAttornies: {\r\n                        ...formData.supportingAttornies,\r\n                        attorneyName: e.target.value,\r\n                      },\r\n                    });\r\n                  }}\r\n                />\r\n              </label>\r\n              <label className=\"label\">\r\n                Attorney contact:\r\n                <input\r\n                  className=\"fields\"\r\n                  name=\"attorneyContact\"\r\n                  type=\"text\"\r\n                  value={formData.supportingAttornies.attorneyContact}\r\n                  onChange={(e) => {\r\n                    setFormData({\r\n                      ...formData,\r\n                      supportingAttornies: {\r\n                        ...formData.supportingAttornies,\r\n                        attorneyContact: e.target.value,\r\n                      },\r\n                    });\r\n                  }}\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Witnesses Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Witnesses</h3>\r\n            <div className=\"form-section-content\">\r\n              <label className=\"label\">\r\n                Witness name:\r\n                <input\r\n                  className=\"fields\"\r\n                  name=\"witnessName\"\r\n                  type=\"text\"\r\n                  value={formData.witnesses.witnessName}\r\n                  onChange={(e) => {\r\n                    setFormData({\r\n                      ...formData,\r\n                      witnesses: {\r\n                        ...formData.witnesses,\r\n                        witnessName: e.target.value,\r\n                      },\r\n                    });\r\n                  }}\r\n                />\r\n              </label>\r\n              <label className=\"label\">\r\n                Witness contact:\r\n                <input\r\n                  className=\"fields\"\r\n                  name=\"witnessContact\"\r\n                  type=\"text\"\r\n                  value={formData.witnesses.witnessContact}\r\n                  onChange={(e) => {\r\n                    setFormData({\r\n                      ...formData,\r\n                      witnesses: {\r\n                        ...formData.witnesses,\r\n                        witnessContact: e.target.value,\r\n                      },\r\n                    });\r\n                  }}\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Opposing Party Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Opposing Party Information</h3>\r\n            <div className=\"form-section-content\">\r\n              <label className=\"label\">\r\n                Full Name:\r\n                <input\r\n                  className={`fields ${\r\n                    errors.opposingPartyName ? \"error\" : \"\"\r\n                  }`}\r\n                  type=\"text\"\r\n                  name=\"opposingPartyName\"\r\n                  value={formData.opposingParty.opposingPartyName || \"\"}\r\n                  onChange={handleChange}\r\n                />\r\n                {errors.opposingPartyName && (\r\n                  <span className=\"error-message\">\r\n                    {errors.opposingPartyName}\r\n                  </span>\r\n                )}\r\n              </label>\r\n              <label className=\"label\">\r\n                Email Address:\r\n                <input\r\n                  className=\"fields\"\r\n                  type=\"text\"\r\n                  name=\"opposingPartyEmailAddress\"\r\n                  value={formData.opposingParty.opposingPartyEmailAddress || \"\"}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {errors.submit && (\r\n            <div className=\"error-message\">{errors.submit}</div>\r\n          )}\r\n\r\n          <div className=\"button-container\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"add-expense-button\"\r\n              disabled={isSubmitting}\r\n            >\r\n              {isSubmitting ? \"Submitting...\" : \"Submit\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"add-expense-button demo\"\r\n              onClick={() => handleDemo()}\r\n            >\r\n              Add Client Demo\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"add-expense-button demo\"\r\n              onClick={() => handleOpposingDemo()}\r\n            >\r\n              Add Opposing Party Demo\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Add success modal */}\r\n      <Modal\r\n        isOpen={showSuccessModal}\r\n        onClose={handleSuccessClose}\r\n        title=\"Success\"\r\n        text=\"Client and case have been successfully added!\"\r\n      >\r\n        <div className=\"button-group\">\r\n          <button className=\"modal-button save\" onClick={handleSuccessClose}>\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* Existing conflict modal */}\r\n      <Modal\r\n        isOpen={showConflictModal}\r\n        onClose={handleCancelConflict}\r\n        title=\"Conflict Warning\"\r\n        text=\"WARNING: Potential conflict detected! This opposing party is either an existing client or involved in another case. Do you want to proceed anyway?\"\r\n      >\r\n        <div className=\"button-group\">\r\n          <button className=\"modal-button del\" onClick={handleConfirmConflict}>\r\n            Proceed Anyway\r\n          </button>\r\n          <button className=\"cancel-button\" onClick={handleCancelConflict}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Addclientform;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}